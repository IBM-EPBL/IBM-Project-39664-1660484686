function ZAlertDialog(){}var ZDOMUtil=function(t){var e=void 0;return{init:function(t){e={div:document.createElement("div")}},clone:function(t){return e[t].cloneNode()}}}(window),ZComponents=function(t){function e(){var t=document.createElement("div"),e=!1;return t.addEventListener("DOMAttrModified",function(){e=!0},!1),t.setAttribute("class","zcomponents"),e}var i=!0,s=navigator.userAgent.toLowerCase(),o=document.createElement("div"),n=document.createTextNode(" ");return{version:"v3_2_47",isRTL:!1,selector:"data-ctype",userAgent:s,DOMUtil:t,locale:navigator.language,zIndex:1e3,$document:t(document),$window:t(window),hasHandlebars:!!window.Handlebars,keys:{},localeInfo:{"en-US":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],firstDayOfWeek:0,dateFormat:{short:"M/d/yyyy",medium:"MMM d, yyyy",long:"MMMM d, yyyy",full:"dddd, MMMM d, yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"hh:mm:ss tt"},dateTimeFormat:{short:"MMM d, yyyy, hh:mm:ss tt",medium:"MMM d, yyyy, hh:mm:ss tt",long:"dddd, MMMM d, yyyy 'at' h:mm tt",full:"dddd, MMMM d, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$"}}},keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38,ALT:18},initDeferredComponents:function(e,i,s){var o=this;setTimeout(function(){t.each(e,function(e,i){t(i).each(function(i,s){o._initComponent(t(s),e)})}),s&&s(e)},i?i:1e4)},init:function(e,s,o,n){i&&this._init(),n=n||{},e=t(e?e:"body");var a=o?o:this.selector,r="["+a+"]",l=n.nodeArray||(document.querySelectorAll?e[0].querySelectorAll(r):t(r,e));if((e[0].attributes[a]||e[0].dataset&&e[0].dataset[a])&&(l=t(e).add(l)),l.length){var h=this;this.eachAsync(l,{delay:n.delay||20,chunkSize:n.chunkSize||500,loop:function(t,e){h._initComponent(e,void 0,o)},end:function(){h._end(e,l,s)}})}else this._end(e,l,s)},destroy:function(e,i,s,o){e=t(e?e:"body"),s=s?s:this.selector;var n="["+s+"]",a=t(n,e);if(e.is(n)&&(a=t(e).add(a)),a.length){var r=this;this.eachAsync(a,{delay:20,loop:function(e,i){t(i)[i.getAttribute(s)]("destroy")},end:function(){r._end(e,a,i,!0)}})}else this._end(e,a,i,!0)},eachAsync:function(t,e){var i=0,s=t.length,o=e.loop||function(){};e=e||{},e.test=function(){return i<s},e.loop=function(){var e=t[i];return o.call(e,i++,e)},this.whileAsync(e)},whileAsync:function(t){var e=Math.abs(t.delay)||10,i=t.chunkSize?t.chunkSize:isNaN(t.bulk)?500:Math.abs(t.bulk),s=t.test||function(){return!0},o=t.loop||function(){},n=t.end||function(){};!function t(){for(var a=!1,r=new Date;(a=s())&&(o(),!(0===i||new Date-r>i)););a?setTimeout(t,e):n()}()},_initComponent:function(e,i,s){s=s?s:this.selector,e=t(e),e[i?i:e.attr(s)]()},_end:function(t,e,i,s){this.$document.trigger(s?"zcomponentdestroyed":"zcomponentinitialized",t),i&&i(e)},clearMetadata:function(e){e&&t(e).removeData("metadata")},_getDataAttributes:function(t,e){for(var i=t.attributes,s=i.length,o=0;o<s;o++){var n=i[o].nodeName,a=""===i[o].nodeValue?"true":i[o].nodeValue;"data"!==n&&(n=n.match(/^data-/)?n.replace(/^data-/,""):n,n=n.replace(/-([a-zA-Z])/g,this._stringReplace.bind(this)),n=n.replace(/(Html|Svg|Hsv|Hsl|Rgb)/gi,this._toUpperCase),e[n]="true"===a||"false"===a?"true"===a:a.indexOf("{")!==-1?ZComponents._getObject(a):a)}return e},_stringReplace:function(t){return t[1].toUpperCase()},_toUpperCase:function(t){return t.toUpperCase()},_getDataSet:function(t,e){var i,s=t.dataset;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o=o.replace(/(Html|Svg|Hsv|Hsl|Rgb)/gi,this._toUpperCase),e[o]="true"===i||"false"===i?"true"===i:i.indexOf("{")!==-1?ZComponents._getObject(i):i);return e},_getOptions:void 0,getMetadata:function(t){return this.getOptions(t)},getOptions:function(e){e=e instanceof t?e[0]:e;var i=t.data(e,"metadata");if(!i&&e.attributes){var s=e.getAttribute("data");s&&(i=ZComponents._getObject(void 0,e)),i=this._getOptions(e,i?i:{}),t.data(e,"metadata",i)}return i?i:{}},getTemplate:function(t){var e;return this.hasHandlebars&&Handlebars.templates&&(e=Handlebars.templates[t]),e},_getObject:function(e,i){if("object"==typeof e)return e;e=e||i.getAttribute("data"),e=e.indexOf("{")<0?"{"+e+"}":e;try{e=JSON.parse(e.replace(/'/g,'"'))}catch(e){return t.metadata?t(i).metadata():{}}return e},_extend:function(e,i){e.prototype=t.extend({},i.prototype,e.prototype),t.each(e.prototype,function(s,o){"function"===t.type(o)&&(e.prototype[s]=function(){var t=function(){return i.prototype[s].apply(this,arguments)};return function(){return this._super=t,o.apply(this,arguments)}}())})},OS:{isLinux:function(){return navigator.appVersion.indexOf("Linux")!=-1}},Browser:{isMobile:function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())},isIE:function(){return s.indexOf("msie")!==-1||s.indexOf(".net")!==-1},isSafari:function(){return s.indexOf("safari")!==-1&&s.indexOf("chrome")===-1},isChrome:function(){return window.chrome},isFirefox:function(){return s.indexOf("firefox")>-1},isMac:function(){return!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)},isWindows:function(){return navigator.platform.indexOf("Win")!==-1},getIEVersion:function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}return t}},AJAX:{transport:function(e,i,s){var o=t.ajax({url:e.sourceURL,data:e.data,type:e.type,dataType:e.dataType,success:function(t){i(t)},fail:function(t,e){s(t,e)},error:function(t,e){s(t,e)}});return o}},setI18NKeys:function(e,i,s){if("object"==typeof e)for(var o in e)this.keys[o]=t.extend({},this.keys[o],e[o]);else this.keys[e]=s?i:t.extend({},this.keys[e],i)},getI18NText:function(t,e,i){var s=void 0;4===arguments.length&&(s=i,i=arguments[3]);var o=ZComponents.keys[t]||{},n=o[e]||"";if(""===n&&s&&(n=s[e]),i)for(var a=0;a<i.length;a++)n=n.replace("{"+a+"}",i[a]);return n},create:function(t){var e=t.ctype.replace(t.ctype.charAt(0),""),i="create"+e.charAt(0).toUpperCase()+e.substring(1);return this[i](t)},setProperties:function(){var t=document.documentElement||{},e=document.body||{};ZComponents.documentObject={height:Math.max(t.clientHeight,t.scrollHeight,t.offsetHeight,e.offsetHeight,e.scrollHeight),width:Math.max(t.clientWidth,t.scrollHeight,t.offsetHeight,e.offsetWidth,e.scrollWidth)},ZComponents.windowObject={height:window.innerHeight,width:window.innerWidth}},createSVGElement:function(t,e,i){var s=document.createElementNS("http://www.w3.org/2000/svg",t);for(var o in e)s.setAttribute(o,e[o]);if(i)for(var n=0;n<i.length;n++)for(var a in i[n]){var r=document.createElementNS("http://www.w3.org/2000/svg",a),l=i[n][a];if(l.nodes)r=this.createSVGElement(a,l.props,l.nodes);else for(var h in l)r.setAttribute(h,l[h]);s.appendChild(r)}return s},createIcon:function(e,i,s,o,n){if(i=s?s.indexOf("#")===-1?"#"+s:s:o?o:i)if(i.indexOf("#")===-1)e.addClass(" "+i);else{var s=i.split(" ")[0],a=i.slice(s.length).trim()+" "+(n?n+"__svg":"");e.empty().append(t("<svg class='"+a+"'><use xlink:href='"+s+"'></use></svg>"))}return e},_handleIcon:function(e,i,s,o,n,a,r,l,h){r&&e.removeClass(l);var d=!1;if(void 0!==a||void 0!==o||void 0!==n)if(a&&0===a.indexOf("#")||void 0!==n){var c=n||a;if(c){var p=c.split(" ");n=p[0],o=p[1]||"",d=!0}}else o=o||a;else if(void 0!==s&&void 0!==i){var c=this._svgSprite.querySelector("#"+s);if(!c){var u=i.props||{};u.id=s;var m=this.createSVGElement("symbol",u,i.nodes);m.removeAttribute("class"),this._svgSprite.appendChild(m)}n="#"+s,o=i.props&&i.props.class?i.props.class:s,d=!0}return d?(n=n.indexOf("#")!==-1?n:"#"+n,e.empty().append(t("<svg class='"+o+"'><use xlink:href='"+n+"'></use></svg>"))):e.addClass(o),e},encodeHTML:function(t){return n.nodeValue=t,o.innerHTML},_init:function(s){ZDOMUtil.init();var a=ZComponents;return!!i&&(i=!1,a._getOptions=ZDOMUtil.clone("div").dataset?a._getDataSet:a._getDataAttributes,a.isDOMAttrModifiedSupported=e(),o.appendChild(n),a.Browser.isIE()&&a.isDOMAttrModifiedSupported&&(a.core._attachObserver=function(t){var e=this;this.observer=function(t){e.attributeList.indexOf(t.attrName)!==-1&&e._handleObserver(t.attrName,t.newValue)},t.addEventListener("DOMAttrModified",this.observer,!1)},a.core.destroy=function(){this.element[0].removeEventListener("DOMAttrModified",this.observer)}),a.setProperties(),a._svgSprite=a.createSVGElement("svg",{id:"zcomponents__svg"}),void t(a._svgSprite).appendTo("body").hide())},registerComponent:function(e,s,o){o||(o=s,s=this.core),o.componentName=e,t[e]=function(t,e,i){arguments.length&&this._init(t,e,i)};var n=new s;n.options=t.extend(!0,{},n.options),t[e].prototype=t.extend(!0,{},n,o),this[e]||(this[e]={DEFAULTS:{}}),this[e]._DEFAULTS=t[e].prototype.options,t.fn[e]=function(s){i&&ZComponents._init();var o=this,n=this.length;if(s&&"object"!=typeof s){if("string"!=typeof s||s.indexOf("_")!==-1)return!1;for(var a=Array.prototype.slice.call(arguments,1),r=0;r<n;r++){var l=t(this[r]).data(e);l&&("option"===s?s=a&&2===a.length?"setAttribute":"getAttribute":"options"===s&&(s=a&&0===a.length?"getAttributes":"setAttributes"),o=l[s].apply(l,a))}}else{s=s?s:{};for(var r=0;r<n;r++){var l=t(this[r]).data(e);if(l)return o;var h=ZComponents.getOptions(this[r],{});if(h.override){var d={};for(var c in h)if(0===c.indexOf(e)){var p=c.replace(e,""),u=p[0].toLowerCase()+p.substring(1);d[u]=h[c]}h=d}var m=t.extend(!0,{},ZComponents[e]._DEFAULTS,ZComponents[e].DEFAULTS,h,s);t(this[r]).data(e,new t[e](m,this[r],s)),t(this[r]).data("componentName",e)}}return o},this._extend(t[e],s)}}}(jQuery);!function(t){var e=t.DOMUtil;t.core=function(t,e){arguments.length&&this._init(t,e)},t.core.prototype={_init:function(t,i,s){this.element=e(i),this.options=t,this._create(e(i),t,s)},_create:function(){},_trigger:function(t,e,i,s,o){return this._dispatchEvent(t,e,i,s,o)},_dispatchEvent:function(t,i,s,o,n){var a=this._EVENTS[t]||t;o=o?o:this.element;var r,l,h,d=this.options[a];s=s||{},s.fromUI=n,s.fromui=n,s.element=o,s.options=s.options||this.options;var i=e.Event(i);if(i.type=(this.componentName?this.componentName+a:""+a).toLowerCase(),i.originalTarget=i.target||i.originalEvent&&i.originalEvent.target,i.target=o,l=i.originalEvent)for(r in l)r in i||(i[r]=l[r]);return o.trigger(i,s),s=[i].concat(s),h=d&&"string"==typeof d?this._triggerFunction(d,o[0],s):e.isFunction(d)?d.apply(o,s):void 0,void 0!==h?h:!i.isDefaultPrevented()},_handleIcon:function(e,i,s,o,n,a,r,l,h,d){return d=d||this.componentName+"__"+s,t._handleIcon(e,i,d,o,n,a,r,l,h)},_triggerFunction:function(t,e,i){for(var s=t.split("."),o=window,n=0;n<s.length&&o;n++)o=o[s[n]];return o&&o.apply(e,i)},_handleObserver:function(t,e){var i=t.replace(/^data-/,"");i=i.replace(/-([a-zA-Z])/g,function(t){return t[1].toUpperCase()}),this.setAttribute(i,e)},_attachObserver:function(t){var e=this;this.observer=new MutationObserver(function(t){var i=t[0].attributeName,s=t[0].target.getAttribute(i);e._handleObserver(i,s)}),this.observer.observe(t,{attributes:!0,attributeFilter:this.attributeList})},getData:function(e){return t.getOptions(e?e:this.element[0])},_setAttribute:function(){return!0},setAttribute:function(t,e){if("string"!=typeof this.options[t]||this.options[t]!==e){var i=this._setAttribute(t,e);"disable"===t&&(this._handleDisable(e),i=!0),i&&(this.options[t]=e)}},setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e])},getAttribute:function(t){return this.options[t]},getAttributes:function(){return e.extend(!0,{},this.options)},_localize:function(t,e,i){var s=this.options.labels||this.options.messages,o=i?this.options[i][t]:void 0;return o||this._getI18N(this.componentName,t,s,e)},_getI18N:function(e,i,s,o){var n=t.keys[e]||{},a=n[i]||"";if(""===a&&s&&(a=s[i]),o)for(var r=0;r<o.length;r++)a=a.replace("{"+r+"}",o[r]);return a},enable:function(){this._handleDisable(!0)},disable:function(){this._handleDisable(!1)},_handleDisable:function(t){var i=e(this.container||this.element);t?i.removeClass("is-disabled").removeAttr("aria-disabled disabled"):i.addClass("is-disabled").attr({"aria-disabled":!0,disabled:!0}),this.setAttribute("disabled",!t)},getElement:function(){return this.container||this.element},_destroy:function(){},destroy:function(){this.element.off("."+this.eventPrefix),this.element.removeData(this.componentName).removeData("metadata"),this._destroy();var t=this.container;t&&t[0]!==this.element[0]&&t.remove()}};var i=[],s=[],o=function(t){return s[i.indexOf(t)]},n=function(t,i){var s=o(i[0]);if(s){if(t.closest(s.contextElements).length)return!1;for(var a=0;a<s.contextElements.length;a++){var r=e(s.contextElements[a]);if(r[0]!==i[0]&&n(t,r)===!1)return!1}}};t.bindDocumentEvents=function(a){var r=".zclosehandler-"+Math.floor(1e6*Math.random()),l=a.ctype,h=e(a.element),d=e(a.container||a.element),c=e(a.forElement),p=a.closeMethodName,u=l+(a.closeEvent||p),m={},_=o(h[0]);_&&c.is(_.forElement)||(t.unBindDocumentEvents(h),i.forEach(function(t){var e=o(t);c.closest(e.container).length?e.contextElements=e.contextElements.add(c).add(d):e.contextElements=e.contextElements.not(h)}),i.push(h[0]),m.contextElements=d.add(c),m.uniqueNamespace=r,m.forElement=c,m.container=d,m.ctype=l,m.closeFn=p,s.push(m),h.on(u+".zclosehandler",function(){t.unBindDocumentEvents(h)}),m.timer=setTimeout(function(){t.$document.on("mousedown"+r,function(i){var s=o(h[0]);if(!s||!e.contains(document.documentElement,h[0]))return void t.unBindDocumentEvents(h);if(s.uniqueNamespace===m.uniqueNamespace){var a=e(i.target);if(n(a,e(h))!==!1){var r=e.Event("zclosehandlerbeforehide",{originalEvent:i});h.trigger(r),r.isDefaultPrevented()||h[l](p)}}})},10))},t.unBindDocumentEvents=function(o,n){var a=i.indexOf(o[0]);if(a!==-1){var r=s[a];clearTimeout(r.timer);var l=r.contextElements.not(o);l.each(function(i,s){t.unBindDocumentEvents(e(s),!0)}),o.off(".zclosehandler"),t.$document.off(r.uniqueNamespace),a=i.indexOf(o[0]),i.splice(a,1),s.splice(a,1),n&&o[r.ctype](r.closeFn)}}}(ZComponents),document.addEventListener("DOMContentLoaded",ZComponents._init),window.addEventListener("resize",ZComponents.setProperties),function(t){var e=t.DOMUtil,i={_EVENTS:{START:"start",END:"end",DRAG:"drag"},options:{addClasses:!0,axis:!1,ignore:"input,textarea,button,select,option",container:!1,containerOffset:{left:0,top:0},cursor:void 0,disabled:!1,handle:!1,opacity:"auto",zIndex:!1,revert:!1},_create:function(){this._handle=this.options.handle?this.element.find(this.options.handle):this.element,this.options.addClasses&&this._handle.addClass("zdraggable"),this.options.disabled?this._handle.addClass("is-disabled"):0!==this._handle.length&&(this._preserveValues(),this._bindEvents())},_preserveValues:function(){this._prevOpacity=this.options.opacity?this.element.css("opacity"):1,this._prevPosition=this.options.revert?this.element.offset():{},this._prevCursor=this.element.css("cursor"),this._prevZindex=!!this.options.zIndex&&this.element.css("zIndex")},_bindHandleEvents:function(){var t=this,i=this.componentName;this._handle.on("mousedown."+i,function(i){e(i.target).closest(t.options.ignore).length||t.options.disabled||(t._mouseDown=!0,t._mousex=i.pageX,t._mousey=i.pageY,t._dispatchEvent("START",i,{offset:t.element.offset(),position:t.element.position()}))}).on("mouseup."+i+" contextmenu."+i,function(e){t._mouseDown&&!t.options.disabled&&t._resetValues(e)})},_bindEvents:function(){var i=this,s=i.element,o=this.componentName;this._bindHandleEvents(),t.$document.on("mousemove."+o,function(o){if(i._mouseDown&&!i.options.disabled){var n,a=s.offset();i.options.container&&("string"==typeof i.options.container?"window"===i.options.container?n=[e(window).scrollLeft(),e(window).scrollTop(),e(window).scrollLeft()+e(window).width(),e(window).scrollTop()+e(window).height()]:"document"===i.options.container?n=t.$document:"parent"===i.options.container&&(n=s.parent().is("body")?t.$document:s.parent(),s.parent().is("body")||(a=s.position())):"object"===e.type(i.options.container)?(n=i.options.container,a=s.position()):n=i.options.container);var r=!(o.pageY-i._mousey>=0),l=o.pageX-i._mousex>=0,h=a.top+o.pageY-i._mousey,d=a.left+o.pageX-i._mousex;if(h=h<0?-i.options.containerOffset.top:h,d=d<0?-i.options.containerOffset.left:d,n&&"array"===e.type(n)){var c=n;h=h<c[1]?c[1]:h,d=d<c[0]?c[0]:d,i._windowWidth=c[2],i._windowHeight=c[3]}else i._windowWidth=n&&n.outerWidth()||t.$document.width(),i._windowHeight=n&&n.outerHeight()||t.$document.height();h+s.outerHeight()>i._windowHeight+i.options.containerOffset.top&&(h=i._windowHeight+i.options.containerOffset.top-(s.outerHeight()+parseInt(s.css("border")))),d+s.outerWidth()>i._windowWidth+i.options.containerOffset.left&&(d=i._windowWidth+i.options.containerOffset.left-(s.outerWidth()+parseInt(s.css("border"))));var p="parent"===n||"object"===e.type(n)?"css":"offset";"x"===i.options.axis?s[p]({left:d}):"y"===i.options.axis?s[p]({top:h}):s[p]({top:h,left:d}),s.css({cursor:i.options.cursor,opacity:i.options.opacity,zIndex:i.options.zIndex}),i._dispatchEvent("DRAG",o,{position:i.element.position(),offset:i.element.offset(),isUp:r,isRight:l}),i._mousex=o.pageX,i._mousey=o.pageY,o.preventDefault()}}).on("mouseup."+o+" contextmenu."+o,function(t){i._mouseDown&&!i.options.disabled&&i._resetValues(t)})},_resetValues:function(t){this._mouseDown=!1,this.options.opacity&&this.element.css("opacity",this._prevOpacity),this.options.cursor&&this.element.css("cursor",this._prevCursor),this.options.revert&&this.element.css({left:this._prevPosition.left,top:this._prevPosition.top}),this.options.zIndex&&this.element.css("zIndex",this._prevZindex),t&&this._dispatchEvent("END",t,{offset:this.element.offset(),position:this.element.position()})},destroy:function(e){var i=this.componentName;this._handle.off("."+i).removeClass("zdraggable"),t.$document.off("."+i),this.element.removeData("zdraggable")},setAttribute:function(t,e){"addClasses"===t&&e!==this.options.addClasses?this._handle[e?"addClass":"removeClass"]("zdraggable"):"handle"===t&&this.options.handle!==e?(this._handle.off("."+this.componentName).removeClass("zdraggable"),this._resetValues(),this._handle=this.element.find(e),this._preserveValues(),this._handle.addClass("zdraggable"),this._bindHandleEvents()):"disabled"===t&&e!==this.options.disabled&&(this._handle[e?"addClass":"removeClass"]("is-disabled"),this._handle[e?"removeClass":"addClass"]("zdraggable")),this.options[t]=e}};t.registerComponent("zdraggable",i)}(ZComponents),jQuery(function(t){function e(){var e=t("<div>").css({width:"100px",height:"100px",overflow:"scroll"}).appendTo("body"),i=e.width()-e[0].scrollWidth;e.remove(),t.ZContextMenu.scrollWidth=i}function i(t){return!t.fromDataBinding}function s(e,s){if(s||(s={}),!e.button||0==e.button){var o=h(e);if(!o.is("input[type=file]")){i(s)&&r(o);var n=p(e,"data-menu-id");if(!n)return n;var n=p(e,"data-popover-id");return n&&(n=p(e,"toolbar"))?t.ZContextMenu.colorpaletteRegistered?p(e,"colorpalette"):p(e,"data-colorpicker-id"):n}}}function o(e,i){return e.data=i,i&&i.target&&(e.target=i.target),t(".zmenu").length&&t(".zmenu").zmenu("hide"),p(e,"data-context",void 0,!0)}function n(t){return t.parent().is("button")?t.parent():t}function a(e,i){var s=!1;return t.each(e,function(t,e){if(e==i[0])return s=!0,!1}),s}function r(t,e,i){setTimeout(function(){l(t,e,i)},10)}function l(e,i,s){var o=!i;i=i?i:{};var n="data-association",l="["+n+"]";if(e=e.is(l)?e:t(e.parents(l).get(0)),!(!e.length||i&&void 0==i.disabled||e.is(":disabled"))){if(s){if(a(s,e))return}else s=[];s.push(e[0]);var h=e.attr(n),d=t(h);d.each(function(n,l){if(l!=e[0]&&!a(s,t(l))){l=t(l);var h={fromDataBinding:!0};if(void 0!==typeof i.visible)if(l.is("input, button")&&l.zbutton("getElement").hasClass("zbutton"))l=l.parent().hasClass("zbutton--split")?l.parent():l.zbutton("getElement"),l[i.visible?"show":"hide"]();else{var d=l.closest(".zmenu");d.length?d.zmenu("updateMenuItems",["#"+l.attr("id")],"hidden",!!i.visible):l[i.visible?"show":"hide"]()}if(void 0!==typeof i.disabled)if(l.is("input, button")&&l.zbutton("getElement").hasClass("zbutton"))l.zbutton("option","disabled",!!i.disabled);else{var d=l.closest(".zmenu");d.length?d.zmenu("updateMenuItems",["#"+l.attr("id")],"disabled",!!i.disabled):l[i.disabled?"disable":"enable"](!1,!0,h)}if(void 0!==typeof i.checked){if(e.is("[checked]")||e.is("input[type=checkbox]")||e.is("input[type=radio]")){var c=e.is(":checked");if(l.is(".zmenu__item")){l.data("checked",c);var d=l.closest(".zmenu");d.zmenu("updateMenuItems",[l],"checked",c)}else l.attr("checked",c)}l.is("input, button")&&(l.data("zbuttonset")?(l.buttonset("destroy"),l.buttonset()):l.data("zbutton")&&(l.button("destroy"),l.button()))}o&&l.trigger("click",h),r(l,i,s)}})}}function h(e){var i=e.data&&e.data.target?e.data.target:e.srcElement;if(i){var s=i.correspondingElement;s&&(i=t(s))}else i=t(e.target);return t(i)}function d(t){t.stopPropagation(),t.preventDefault()}function c(t){return t.is("input,button,textarea,select")?t.is(":disabled"):t.hasClass("is-disabled")}function p(e,i,s,o){var a=t.ZContextMenu.currentMenu,r=t.ZContextMenu.currentPopover;if(!t.ZContextMenu.hideMenu(e))return!1;var l=h(e);l=n(t(l));var p=u(l,i);t.ZContextMenu.colorpaletteRegistered&&"colorpalette"!=i&&t.ZContextMenu.colorpalette.zcolorpalette("hide");var m=p.attr;if(l=p.element,c(l))return!0;if(m&&"colorpalette"===i)return void(l.length&&t.ZContextMenu.displayColorPalette(l,!0));if(m&&"data-colorpicker-id"===i)return void(l.length&&t.ZContextMenu.toggleColorPicker(l));if(t.ZContextMenu.closePopover(e),m){var _=t("#"+m);if("toolbar"===i&&!_.length){var f=t(l.parent().metadata().relatedTabPane);f.hasClass("ui-ztoolbar-panel")&&(_=f.ztoolbar("getToolbarAsMenu"),_.attr("relativeto","parent"),t(l).attr("data-menu-id",t(l).attr("toolbar")).removeAttr("toolbar"))}if(a&&a[0]==_[0]&&this._lastVisitedMenu[0]===l[0]&&_.data("toggle"))return d(e),!1;if(this._lastVisitedMenu=l,"data-popover-id"==i){if(_.off("zpopoverclose.zeventhandler").on("zpopoverclose.zeventhandler",function(e){var i;e=e.originalEvent,e&&(i=e.target)&&i!==t.ZContextMenu._lastVisitedPopover[0]&&(t.ZContextMenu._lastVisitedPopover=void 0)}),r&&r[0]==_[0]&&t.ZContextMenu._lastVisitedPopover&&t.ZContextMenu._lastVisitedPopover[0]===l[0])return t.ZContextMenu._lastVisitedPopover=void 0,d(e),!1;options=t.extend({},ZComponents.getOptions(_)),t.ZContextMenu._lastVisitedPopover&&t("#"+t.ZContextMenu._lastVisitedPopover.attr("data-popover-id")).is(":visible")&&t("#"+t.ZContextMenu._lastVisitedPopover.attr("data-popover-id")).zpopover("close"),(void 0===t.ZContextMenu._lastVisitedPopover||t.ZContextMenu._lastVisitedPopover&&t.ZContextMenu._lastVisitedPopover[0]!==l[0])&&(_.data("zpopover")||(""!==options.forElement&&void 0!==options.forElement||(options.forElement=l),options.content=_,options.popOn="none",_.zpopover(options)),_.zpopover("setAttribute","forElement",l),_.zpopover("open",void 0,e),t.ZContextMenu.currentPopover=_,t.ZContextMenu._lastVisitedPopover=l)}else t.ZContextMenu.showMenu(_,l,s,e,o),t.ZContextMenu._lastVisitedPopover=void 0;return d(e),!1}return!0}function u(e,i){var s="["+i+"]";return e=e.is(s)?e:t(e.parents(s).get(0)),{element:e,attr:e.attr(i)}}_lastVisitedMenu=void 0,_lastVisitedPopover=void 0,t.ZContextMenu=function(i){bindEvents(t(i)),e()};var m={zcolorpicker:{events:"zcolorpickercolorpanmouseover zcolorpickercolorpanmouseout zcolorpickerbeforeopen zcolorpickeropen zcolorpickerbeforeclose zcolorpickerbeforeotherusedcoloradd zcolorpickerotherusedcoloradd zcolorpickerbeforefocus zcolorpickerfocus zcolorpickerblur zcolorpickerclose zcolorpickerpick",selectEvent:"zcolorpickerchange"}};t.ZContextMenu.hidingMenu=!0,bindEvents=function(e){e.on("click.zcontextmenu",function(e,i){var o=t(e.target);o.closest(".zmenu").length||o.closest(".zpopover__content").length||(t.ZContextMenu.isColorpaletteShowing=!1,t.ZContextMenu.hidingMenu=!0,setTarget(e),s(e,i))}),e.on("contextmenu.zcontextmenu",function(t,e){setTarget(t),o(t,e)}),t(".zdialog").on("zdialogdragstart.zcontextmenu",function(t){s(t)}),ZComponents.$document.on("zbuttonsetselectionchange",function(e,s){i(s)&&r(t(e.target),s)}).on("zmenuitemclick",function(t,e){i(e)&&r(e.menuitem)}).on("tabselect",function(t,e){i(e)&&r(e.tab)}).on("zselectboxitemclick",function(t,e){i(e)&&r(e.menuitem)})},setTarget=function(t){t.target.correspondingElement&&(t.target=t.target.correspondingElement)},t.ZContextMenu.highlightItem=function(t,e){var i=ZComponents.getOptions(t);if(!t.is(".zcolorchooser")&&i.highlightOnMenuShow!==!1){var s=e?"removeClass":"addClass",o=i.activeClass?i.activeClass:"ui-state-highlight",n="ui-state-open";t[s](o);var a=t.parent();a&&(a[s](n),a.is(".zbutton--split")&&a[s](o))}},t.ZContextMenu.showMenu=function(e,i,s,o,n){if(!e||!e.length||t(i).data("zmenubutton"))return!1;var a={},r=ZComponents.getOptions(e);return r&&(a=r),n?a.direction="after-pointer":(e.one("zmenushow.zcontext",function(e,i){i.skipHighlightTarget||t.ZContextMenu.highlightItem(t(i.forElement))}),e.one("zmenuhide.zcontext",function(e,i){i.skipHighlightTarget||t.ZContextMenu.highlightItem(t(i.forElement),!0)})),e.zmenu(a),t.ZContextMenu.currentMenu=e,e.zmenu("show",{currentTarget:o.target,forElement:i,event:o,isRightClick:n}),t.ZContextMenu._isMenuShowing=!0,t.ZContextMenu.hidingMenu=!1,e.one("zmenuhide.zcontext",function(e,i){var s=t(i.currentTarget).closest(".zbutton").length?t(i.currentTarget).closest(".zbutton"):t(i.forElement);t.ZContextMenu.highlightItem(s,!0),t.ZContextMenu.currentMenu=void 0,t.ZContextMenu._isMenuShowing=!1}),!0},t.ZContextMenu.hideMenu=function(e){return!((t.ZContextMenu.currentMenu&&t.ZContextMenu._isMenuShowing||t.ZContextMenu.colorpalette&&t.ZContextMenu.colorpalette.is(":visible")||t.ZContextMenu.colorpicker&&t.ZContextMenu.colorpicker.is(":visible"))&&(t.ZContextMenu.currentMenu&&t.ZContextMenu.currentMenu.hasClass("zmenu")?t.ZContextMenu.currentMenu.zmenu("hide"):t.ZContextMenu.isColorpaletteShowing=!0,t.ZContextMenu._isMenuShowing=!1,t.ZContextMenu.currentMenu=void 0,e&&t.ZContextMenu.consumeEventOnMenuHide))||(e.stopPropagation(),e.preventDefault(),!1)},t.ZContextMenu.currentMenu=void 0,t.ZContextMenu._colorpaletteHoveredMenuItem=void 0,t.ZContextMenu._isMenuShowing=!1,t.ZContextMenu.colorpalette=void 0,t.ZContextMenu.colorpicker=void 0,t.ZContextMenu.windowElement=t(window),t.ZContextMenu._documentElement=t(document),t.ZContextMenu.windowWidth=t.ZContextMenu.windowElement.width(),t.ZContextMenu.windowHeight=t.ZContextMenu.windowElement.height(),t.ZContextMenu.colorpaletteRegistered=!1,t.ZContextMenu.displayMenuComponents=function(e,i){t.ZContextMenu._colorpaletteHoveredMenuItem&&(t.ZContextMenu.displayColorPalette(void 0,void 0,!1),t.ZContextMenu._colorpaletteHoveredMenuItem=void 0);var s=i.menuitem.metadata();if(s.colorpalette){var o=t(i.menuitem),n=t(s.relatedButton);n=n.data("menuButton")?n.data("menuButton"):n,o.addClass("on-hover");var a=s.colorpaletteOptions?s.colorpaletteOptions:{},r=t.data(t(n)[0],"selectedColor");r=!(!r||"transparent"==r)&&r;var l=t.ZContextMenu.colorpalette;a.relativeto?l.attr("relativeto",a.relativeto):l.removeAttr("relativeto"),options=t.extend({},a,{relativeToEle:n,selectedColor:r}),t.ZContextMenu.colorpalette.one("colorpaletteshow",function(e,i){var s=t.ZContextMenu.adjustElementPosition({bufferWidth:o.width()+l.width(),bufferHeight:l.height()-o.outerHeight(),top:o.offset().top,left:o.offset().left+o.width(),width:l.width(),height:l.height()});t.ZContextMenu.colorpalette.addClass("ui-zcolorpalette-menu-popover"),t.ZContextMenu.colorpalette.css({top:s.top,left:s.left})}),t.ZContextMenu._colorpaletteHoveredMenuItem=o,t.ZContextMenu.colorpalette.one("mouseenter",function(e,i){t.ZContextMenu._colorpaletteHoveredMenuItem&&t.ZContextMenu._colorpaletteHoveredMenuItem.addClass("ui-state-hover")}),o.one("mouseleave",function(e,i){l.is(":visible")&&t.ZContextMenu._colorpaletteHoveredMenuItem&&t.ZContextMenu._colorpaletteHoveredMenuItem.addClass("ui-state-hover")}),l.zcolorpalette("show",n,options)}},t.ZContextMenu.adjustElementPosition=function(e){return t.ZContextMenu.windowWidth-(e.left+e.width+t.ZContextMenu.scrollWidth)<5&&(e.left=e.left-e.bufferWidth),t.ZContextMenu.windowHeight-(e.top+e.height+t.ZContextMenu.scrollWidth)<5&&(e.top=e.top-e.bufferHeight,e.top<0&&(e.top=t.ZContextMenu.windowHeight-e.height-5)),e},t.ZContextMenu.toggleColorPicker=function(e,i,s){var i=t("#"+e.attr("data-colorpicker-id")),o=m.zcolorpicker.events.replace(/  +/g," ").split(" ").join(".zcolorfield ");o+=".zcolorfield";var n=m.zcolorpicker.selectEvent+".zcolorfield";i.off(".zcolorfield"),i.is(":visible")&&e.is(t.ZContextMenu.lastPickerTarget)?i.zcolorpicker("close"):(e=t(e),s=ZComponents.getOptions(e).colorpickerOptions||{},t.ZContextMenu.lastPickerTarget=s.forElement=e,s.value=e.data("selectedColor")||t.zcolorpicker.prototype.options.defaultValue,i.zcolorpicker("setAttributes",s),i.zcolorpicker("open"),i.on(n,function(t,i){e.trigger(t.type,i),e.data("selectedColor",i.color)}).on(o,function(t,i){e.trigger(t.type,i)}).on("zcolorpickerclose.zcolorfield",function(){i.off(".zcolorfield")}))},t.ZContextMenu.registerColorpalette=function(e){t.ZContextMenu.colorpalette||(e=e||{},e.closeOnBodyClick=!1,t.ZContextMenu.colorpalette=t("<div>").css("display","none").appendTo("body").zcolorpalette(e).on("zcolorpalettecolorselected",function(e,i){t.ZContextMenu.lastPaletteTarget.trigger("zcolorpalettecolorselected",i).data("selectedColor",i.color)}).on("zcolorpalettehover zcolorpaletteshow",function(e,i){t.ZContextMenu.lastPaletteTarget.trigger(e.type,i)}).on("zcolorpalettehide",function(e,i){t.ZContextMenu.lastPaletteTarget.trigger(e.type,i),e.originalEvent&&t(e.originalEvent.currentTarget).closest(t.ZContextMenu.colorpalette).length&&t.ZContextMenu.lastPaletteTarget&&t.ZContextMenu.lastPaletteTarget.focus()}),t.ZContextMenu.defaultPaletteOptions=t.ZContextMenu.colorpalette.zcolorpalette("options"),t.ZContextMenu.colorpaletteRegistered=!0)},t.ZContextMenu.destroyColorPalette=function(){t.ZContextMenu.colorpalette&&(t.ZContextMenu.colorpalette.zcolorpalette("destroy"),t.ZContextMenu.colorpalette=t.ZContextMenu.colorpaletteRegistered=null)},t.ZContextMenu.hideColorPalette=function(){clearTimeout(t.ZContextMenu.colorpaletteHideTimer),t.ZContextMenu.colorpalette&&t.ZContextMenu.colorpalette.zcolorpalette("hide",!0)},t.ZContextMenu.displayColorPalette=function(e,i){clearTimeout(t.ZContextMenu.colorpaletteHideTimer),e=t(e);var s=t.ZContextMenu.colorpalette;if(s&&e.length){var o=e.hasClass("ui-zcolorchooser")?e.prev():e;t.ZContextMenu.lastPaletteTarget=e;var i=ZComponents.getOptions(t(o));i=i.colorpaletteOptions||{};var n=e.data("selectedColor");i.selectedColor=!("transparent"===n||!n)&&n,i.relativeToEle=t(e);var a=!0;t.ZContextMenu.isColorpaletteShowing&&this._lastVisited&&this._lastVisited[0]===e[0]&&(a=!1),this._lastVisited=e,s.zcolorpalette(a?"show":"hide",t(e),i)}},t.ZContextMenu.closePopover=function(e){var i=t(e.target);if(t.ZContextMenu.currentPopover&&0===i.closest(".zpopover").length){var s=t.ZContextMenu.currentPopover.data().zpopover,o=s.options.closeOnBodyClick,n=s._forElement;(o||i.closest(n).length)&&(t.ZContextMenu.currentPopover.zpopover("close"),0===i.closest(t.ZContextMenu._lastVisitedPopover).length&&(t.ZContextMenu.currentPopover=t.ZContextMenu._lastVisitedPopover=void 0))}},t.fn.zcontextmenu=function(){t.ZContextMenu(this),ZComponents.$window.on("resize.zcontextmenu",function(e){window.setTimeout(function(){t.ZContextMenu.hideMenu(),t.ZContextMenu.closePopover(e)},300)})},t(document).zcontextmenu();});var ZFocusHandler=function(t){return{init:function(t,e){this._setInitialFocus(t,e),this._bindEvents(t,e)},_setInitialFocus:function(e,i){var s=e.find("input[tabindex]:not([tabindex=-1]):not([disabled]):not("+i+"),textarea[tabindex]:not([tabindex=-1]):not([disabled]):not("+i+"), button[tabindex]:not([tabindex=-1]):not([disabled]):not("+i+"), .zselectbox[tabindex]:not([tabindex=-1]):not([tabindex=0]):not("+i+"), li[tabindex]:not([tabindex=-1]):not([disabled]):not("+i+") ,a[tabindex]:not([tabindex=-1]):not([disabled]):not("+i+")").filter(":visible");if(!s.length&&(s=e.find("input:not([tabindex=-1]):not([disabled]):not("+i+"),label[tabindex]:not([tabindex=-1]):not([disabled]):not("+i+"),textarea:not([tabindex=-1]):not([disabled]):not("+i+"), button:not([tabindex=-1]):not([disabled]):not("+i+"), li:not([tabindex=-1]):not([disabled]):not("+i+"), .zselectbox:not([tabindex=-1]):not([disabled]):not("+i+"), a:not([tabindex=-1]):not([disabled]):not("+i+")").filter(":visible"),!s.length))return void e.focus();var o=t(s.get(s.length-1)),n=o.prop("tabindex");return s.each(function(e,i){t(i).prop("tabindex")<n&&(o=t(i),n=t(i).prop("tabindex"))}),o.focus()},_getNextTabElement:function(e,i,s,o,n){var a=t(o.toArray()),r=a.eq((a.index(e)+i)%a.length);r.hasClass("zselectbox")&&(r.hasClass("zselectbox")?r.prev().zcombobox("setFocus"):r.prev().zselectbox("setFocus")),r.is("[disabled],:hidden")?this._getNextTabElement(e,n.shiftKey?i-1:i+1,s,o,n):r.focus()},_bindEvents:function(e,i){var s=this,o=e.find("input:not([tabindex=-1]):not("+i+"),label[tabindex]:not([tabindex=-1]):not("+i+"), textarea:not([tabindex=-1]):not("+i+"), li:not([tabindex=-1]):not("+i+"), button:not([tabindex=-1]):not("+i+"), .zselectbox:not([tabindex=-1]):not("+i+"), a:not([tabindex=-1]):not("+i+")");o.on("keydown.zfocushandler",function(i){if(i.which===ZComponents.keyCode.TAB)if(i.target===o.last())o.get(0).focus();else{var n=i.shiftKey?-1:1;s._getNextTabElement(t(this),n,e,o,i)}}),e.off("keydown.zfocushandler").on("keydown.zfocushandler",function(e){t(e.target).is(".zdialog")&&e.which===ZComponents.keyCode.TAB&&o.get(0).focus()})},_unbindEvents:function(t){var e=t.find("input:not([tabindex=-1]), textarea:not([tabindex=-1]), button:not([tabindex=-1]), .zselectbox:not([tabindex=-1]), a:not([tabindex=-1])");e.off("keydown.zfocushandler")},destroy:function(t){this._unbindEvents(t)},refresh:function(t,e,i){this._unbindEvents(t),this._bindEvents(t,e),i&&this._setInitialFocus(t,e)}}}(jQuery),ZToastnotification=function(t){_isInit=!1;var e={widgetEventPrefix:"toastnotification",_EVENTS:{},_userInfo:{},options:{},_defaults:{keys:{"close.label":"Close","owner.label":"Owner","coowner.label":"Co-Owner","user.label":"user","guest.label":"Guest"}},_create:function(e){this._lastMsg=void 0,this._countTimeout,this._lastSeconds=this._lastCount=this._totalCount=0,this.options=t.extend({},this.options,e),this.options.keys&&(this._defaults.keys=t.extend({},this._defaults.keys,this.options.keys)),this._toastNotify()},toastMessage:function(t,e){this._toastMessage(t,e.message,e.count,e)},_toastMessage:function(t,e,i,s){var o,n=(new Date).getTime(),a=this;1===i?0===this._lastSeconds||n<=this._lastSeconds+2e3?(o={uid:s.uid,message:s.message,name:s.name,image:s.image,color:s.color},void 0===this._lastmsg||e===this._lastMsg?(this._totalCount++,this._lastSeconds=n,this._lastMsg=e,o={uid:s.uid,message:s.message,name:s.name,image:s.image,color:s.color},this._user=o,clearTimeout(this._countTimeout),this._countTimeout=setTimeout(function(){a._totalCount>0&&(a._showMessage(o,t,a._totalCount),a._resetToast())},1e3)):(this._totalCount>0&&this._showMessage(this._user,t,this._totalCount),o={uid:s.uid,message:s.message,name:s.name,image:s.image,color:s.color},this._showMessage(o,t,this._totalCount),this._resetToast())):(this._totalCount>0&&this._showMessage(this._user,t,i),o={uid:s.uid,message:s.message,name:s.name,image:s.image,color:s.color},this._showMessage(o,t,i),this._resetToast()):(this._totalCount>0&&this._showMessage(this._user,t,this._totalCount),o={message:s.message},this._showMessage(o,t,i),this._resetToast())},_showMessage:function(t,e,i){this._top=e.top;var s=this;this._toastNotification.promise().done(function(){1===i?(s._toastMessages.text("").text(t.name+" "+t.message),s._toastImage.children().attr("src",t.image),s._toastNotification.css("background",t.color)):i>1&&(s._toastImage.children().attr("src","../images/group.png"),s._toastMessages.text("").text(i+" "+t.message),s._toastNotification.css("background","#333")),"top"===e.direction?e.ele.append(s._toastNotification.css({top:e.top,width:e.width}).show().animate({top:"-="+e.incr+"px"},500).delay(1e3).animate({top:"+="+e.incr+"px"},1e3).hide(0)):"bottom"===e.direction?e.ele.append(s._toastNotification.css({top:"auto",width:e.width}).show().animate({bottom:"+="+e.incr+"px"},500).delay(1e3).animate({bottom:"-="+e.incr+"px"},1e3).hide(0)):"left"===e.direction?e.ele.append(s._toastNotification.css({top:e.top,width:e.width}).show().animate({left:"-="+e.incr+"px"},500).delay(1e3).animate({left:"+="+e.incr+"px"},1e3).hide(0)):"right"===e.direction&&e.ele.append(s._toastNotification.css({top:e.top,width:e.width}).show().animate({right:"+="+e.incr+"px"},500).delay(1e3).animate({right:"-="+e.incr+"px"},1e3).hide(0))})},_resetToast:function(){this._lastMsg=void 0,this._lastSeconds=0,this._lastCount=0,this._totalCount=0},_toastNotifyClose:function(){this._toastNotification.hide(),this._toastNotification.css("top",this._top),"auto"===this._top&&this._toastNotification.attr("bottom","0px")},_toastNotify:function(){var e=this;this._toastNotification=t('<div class="ui-ztoast">').appendTo(t("body")),this._toastImage=t('<span class="ui-ztoast-pic">').append(t("<img>").attr("src","../images/guest.8130e25cea53a31faaa111867bb25ea6.png").css("background","none")).appendTo(this._toastNotification),this._toastMessages=t('<div class="ui-ztoast-message">').appendTo(this._toastNotification);var i=t("<a>").attr({title:this._getString("close.label"),class:"ui-ztoast-close"}).appendTo(this._toastNotification);t("<span>").attr("class","ui-zfc-icon zfc-icon-close").appendTo(i);i.on("dblclick."+this.widgetName,function(t){t.stopPropagation()}).on("click."+this.widgetName,function(t){e._toastNotifyClose()})},_getString:function(t,e,i){return ZComponents.getI18NText("ztoastnotification",t,this._defaults.keys,[])}};return{init:function(t){_isInit||(_isInit=!0,e._create(t))},toastMessage:function(t,i){e.toastMessage(t,i)}}}(window.jQuery),ZPosition=function(t,e,i){function s(){var e=t("body");if(W)return W;if(W={left:0,top:0},/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var i=t("<span>").css({position:"absolute",height:"20px",width:"20px",top:"0px",left:"0px"}).appendTo(e);W=i.offset(),W.left=W.left-parseFloat(e.css("margin-left"))-parseFloat(e.css("border-left-width")),W.top=W.top-parseFloat(e.css("margin-top"))-parseFloat(e.css("border-top-width")),i.remove()}return W}function o(e){if(e.preventDefault)return{width:0,height:0,offset:{left:e.pageX,top:e.pageY}};var e=t(e);if(9===e.nodeType)return{width:e.width(),height:e.height(),offset:{left:0,top:0}};if(t.isWindow(e))return{width:e.width(),height:e.height(),offset:{left:e.scrollLeft(),top:e.scrollTop()}};var i={width:z(e[0],"outerWidth"),height:z(e[0],"outerHeight"),offset:n(e)};return i}function n(t){var e=t.offset(),i=s();return e.left-=i.left,e.top-=i.top,e}function a(t){var e=t.split("-");if(/^(top|bottom)$/.test(e[0])||/^corner$/.test(e[2])){V&&V.callback.call(this,V.element,Z[e[0]]);var i=O+(V?V.width?V.width:V.element.outerWidth():0),s=L+(V?V.height?V.height:V.element.outerHeight():0),o=j.top(t,s);if(t=o.direction,o.overTop>0&&Y.flipall.test(I.positionAlterable)){var n=j.left("right",i);n.overLeft<=0&&(t=n.direction)}}if(e=t.split("-"),/^(left|right)$/.test(e[0])||/^corner$/.test(e[2])){V&&V.callback.call(this,V.element,Z[e[0]]);var i=O+(V?V.width?V.width:V.element.outerWidth():0),s=L+(V?V.height?V.height:V.element.outerHeight():0),o=j.left(t,i);if(t=o.direction,o.overLeft>0&&Y.flipall.test(I.positionAlterable)){var n=j.top("bottom",s);t=n.direction}}return t}function r(t){var e=t.split("-"),i=0,s=0;if(E.preventDefault&&V&&(i=2*V.width+V.width/2,s=2*V.height+V.height/2),/^(left|right)$/.test(e[1])){var o=j.left(e[1],O-("corner"===e[0]?0:D)-s);t=t.replace(e[1],o.direction)}else if(/^(top|bottom)$/.test(e[1])){var o=j.top(e[1],L-x-i);t=t.replace(e[1],o.direction)}return t}function l(e){if(I.arrow&&I.arrow.element){var i={},s=I.arrow.element;if(("string"==typeof s||s.jquery||s.nodeType)&&(s=t(s),s.length&&(i.element=s)),i.element&&"static"!==i.element.css("position"))return i.centeredToTarget=!(!/^(center|undefined)$/.test(I.arrow.direction)||E.preventDefault),i.callback=t.isFunction(I.arrow.callback)?I.arrow.callback:t.isFunction(I.arrowCallback)?I.arrowCallback:t.noop,i.direction=Z[e],i.callback.call(this,i.element,i.direction.split("-")[0]),i.height="number"==typeof I.arrow.height?I.arrow.height:0,i.width="number"==typeof I.arrow.height?I.arrow.width:0,i.minSpace=I.arrow.minSpace,i.margin=I.arrow.margin||{left:0,top:0},i;I.arrow=void 0}}function h(t){return L>_(I.direction)?_(I.direction):L}function d(){return O>f(I.direction)?f(I.direction):O}function c(t,e){var i,s=t.direction.split("-"),o=s[1],n=0,a=d(),r=h();/^(left|right)$/.test(s[1])?i=a-t.width:/^(top|bottom)$/.test(s[1])?i=r-t.height:/^(top|bottom)$/.test(s[0])?(i=a-t.width,o="left"):/^(left|right)$/.test(s[0])&&(i=r-t.height,o="top"),e[o]>i&&(e[o]=i),e[o]<n&&(e[o]=n)}function p(t,e){t.element.css({left:"auto",top:"auto",right:"auto",bottom:"auto"});var i={},s=t.direction.split("-");if(/^(top|bottom)$/.test(s[0])?(i[s[0]]=-t.height,s[1]||(i.left=O/2-t.width/2-e.left)):/^(left|right)$/.test(s[0])&&(i[s[0]]=-t.width,s[1]||(i.top=L/2-t.height/2-e.top)),/^(left|right)$/.test(s[1])){var o=e.left;"left"===s[1]&&(o=-o),D&&O>D?i[s[1]]=D/2-t.width/2+o:i.left=O/2-t.width/2}else if(/^(top|bottom)$/.test(s[1])){var o=e.top;"top"===s[1]&&(o=-o),x&&L>x?i[s[1]]=x/2-t.height/2+o:i.top=L/2-t.height/2}var n="none"!==M.css("box-shadow");return"top"===t.direction.split("-")[0]?i.top=i.top+(parseFloat(M.css("border-top-width"))||n?1:0):"bottom"===t.direction.split("-")[0]?i.bottom=i.bottom+(parseFloat(M.css("border-bottom-width"))||n?1:0):"right"===t.direction.split("-")[0]?i.right=i.right+(parseFloat(M.css("border-right-width"))||n?1:0):"left"===t.direction.split("-")[0]&&(i.left=i.left+(parseFloat(M.css("border-left-width"))||n?1:0)),i}function u(e){var i=t.extend({},e),s=I.direction,o=(O+V?V.width:0,L+V?V.height:0,s.split("-"));o[1]=void 0===o[1]?/^(top|bottom)$/.test(o[0])?"left":"top":o[1];N.isWindow?{left:F.scrollLeft,top:F.scrollTop}:N.offset;if(/^(top|bottom)$/.test(o[1])||E.preventDefault){var n=N.scrollTop-i.top;n>0&&(i.top+=n);var a=i.top+L-(N.scrollTop+_().complete);a>0&&(i.top-=a)}if(/^(left|right)$/.test(o[1])||E.preventDefault){var r=N.scrollLeft-i.left;r>0&&(i.left+=r);var l=i.left+O-(N.scrollLeft+f().complete)+1;l>0&&(i.left-=l)}return i}function m(e){var i,s;I.direction=e,/corner/.test(I.direction)||(V=l(I.direction)),Y.flip.test(I.positionAlterable)&&!R&&(I.direction=a(I.direction)),V&&(V.direction=Z[I.direction],V.callback.call(this,V.element,V.direction.split("-")[0]),V.height||(V.height=V.element.outerHeight()),V.width||(V.width=V.element.outerWidth())),Y.flipside.test(I.positionAlterable)&&(I.direction=r(I.direction)),s=v(I.direction),i=t.extend({},s),Y.fit.test(I.positionAlterable)&&(i=u(s)),i.top<N.scrollTop&&(i.top=N.scrollTop),i.left<N.scrollLeft&&(i.left=N.scrollLeft);var o;if(V&&Y.flipall.test(I.positionAlterable)&&!R&&!E.preventDefault){var n=V.minSpace;if(void 0!==n){var _,f,g,b,C=I.direction.split("-"),S=d(),T=h();_=A.left-S+V.width,f=A.top-T+V.height,g=A.left+D-V.width,b=A.top+x-V.height,/^(top|bottom)$/.test(C[0])?(i.left<_&&(o="left"),i.left>g&&(o="right")):/^(left|right)$/.test(C[0])&&(i.top<f&&(o="top"),i.top>b&&(o="bottom"))}}if(!o||R){var z=y(i,M);if(V){V.direction=Z[I.direction];var w={left:i.left-s.left,top:i.top-s.top};V.position=p(V,w),c(V,V.position)}}else R=!0,z=m(o);return z}function _(t){if(!H)if(N.isWindow||N.isDocument)H={top:A.top-N.scrollTop,bottom:N.height-(A.top+x-N.scrollTop),complete:N.height};else{H={},N.offset.top<F.scrollTop?H.top=A.top-F.scrollTop:H.top=A.top-N.scrollTop,H.bottom=N.offset.top+N.height-(A.top+x);var e=F.height+F.scrollTop-(N.offset.top+N.height);e<0&&(H.bottom+=e),H.complete=H.top+H.bottom+x}return t?(t=t.split("-")[0],"top"===t?H.top:"bottom"===t?H.bottom:H.complete):H}function f(t){if(!P)if(N.isWindow||N.isDocument)P={left:A.left-N.scrollLeft,right:N.width-(A.left+D-N.scrollLeft),complete:N.width};else{P={},N.offset.left<F.scrollLeft?P.left=A.left-F.scrollLeft:P.left=A.left-N.scrollLeft,P.right=N.offset.left+N.width-(A.left+D);var e=F.width+F.scrollLeft-(N.offset.left+N.width);e<0&&(P.right+=e),P.complete=P.left+P.right+D}if(!t)return P;var i=t.split("-"),s="corner"===i[2]?i[1]:i[0];return"left"===s?P.left:"right"===s?P.right:P.complete}function v(e){e=e||I.direction,Y.relDirections.test(e)||(I.direction=e="top-left");var i=e.split("-"),s=t.extend({},A);return"top"===i[0]?s.top-=L+(V?V.height:0):"bottom"===i[0]?s.top+=x+(V?V.height:0):"left"===i[0]?s.left-=O+(V?V.width:0):"right"===i[0]&&(s.left+=D+(V?V.width:0)),void 0===i[1]?i[0].match(/^left|right$/)?s.top=s.top-L/2+x/2:s.left=s.left-O/2+D/2:"top"===i[1]?s.top=s.top+x-L:"left"===i[1]?s.left=s.left-O+("corner"===i[2]?0:D):"right"===i[1]&&"corner"===i[2]&&(s.left=s.left+D),s}function g(e){if(e=t(e),e.is(":hidden"))for(var i=1,s=e;i&&s&&!s.is("body");)"none"===s.css("display")&&(U.push(s),G.push(s.attr("style")||""),s.css({display:"block",position:"absolute",opacity:1,visibility:"hidden"}),i=s.is(":hidden")),s=s.parent()}function b(){U&&U.length&&(U.forEach(function(t,e){t.attr("style",G[e])}),U=[],G=[])}function y(e,i){var s=t.extend({},e),o=i.css("position"),n=t("<span>").css({position:o,height:"20px",width:"20px",top:"0px",left:"0px",transform:"none",margin:"0px",display:"",visibility:"hidden"}).appendTo(i.parent()),a=n.offset(),r=parseFloat(n.css("top")),l=parseFloat(n.css("left"));if(/^(absolute|fixed)$/.test(o)&&(isNaN(r)||isNaN(l))){var h=n.position();r=h.top,l=h.left}else r=r||0,l=l||0;return n.remove(),s.top=s.top-(a.top-parseFloat(r)),s.left=s.left-(a.left-parseFloat(l)),s}function C(){var e=document.createElement("div"),i="width:100px;height:100px;overflow:scroll;";document.querySelector("body").appendChild(e),e.style.cssText=i;var s=t(e).width()-e.scrollWidth;return document.querySelector("body").removeChild(e),s||0}function S(i){i=i.length?i:e;var s,o,a,r=t.isWindow(i[0]),l=!!i[0]&&9===i[0].nodeType,h=r||l?{left:0,top:0}:n(i)||{left:0,top:0},d=r||l?F.scrollLeft:h.left<F.scrollLeft?F.scrollLeft:h.left,c=r||l?F.scrollTop:h.top<F.scrollTop?F.scrollTop:h.top;if(r){var p=document.documentElement,u=window;s=u.innerWidth||p.clientWidth,o=u.innerHeight||p.clientHeight,a=t("body")}else l?(s=document.documentElement.scrollWidth,o=document.documentElement.scrollHeight):(s=i.outerWidth(),o=i.outerHeight(),a=i);if(a){var m,_=a.css("overflow-x"),f=a.css("overflow-y"),v="scroll"===_||("auto"===_||a.is("body")&&"visible"===_)&&s<a[0].scrollWidth,g="scroll"===f||("auto"===f||a.is("body")&&"visible"===f)&&o<a[0].scrollHeight;v&&(o-=void 0===m?C():m),g&&(s-=m=C())}return{element:i,isWindow:r,isDocument:l,offset:h,scrollLeft:d,scrollTop:c,width:s,height:o}}function T(t){return"top-left"===t?t="top-right":"bottom-left"===t?t="bottom-right":"top-right"===t?t="top-left":"bottom-right"===t&&(t="bottom-left"),t}function z(e,i){var s,o=e.getBoundingClientRect&&e.getBoundingClientRect();if(o)switch(i){case"outerWidth":s=o.width;break;case"outerHeight":s=o.height}return!isNaN(s)&&s||(s=t(e)[i]()),s}function w(i,s,n){if(I=t.extend(!0,{},K,n),E=i,M=s,I.showWithinTarget)return k();var a,r,l,h=I.direction;F={scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),height:document.documentElement.clientHeight,width:document.documentElement.clientWidth},r=o(M),a=n.customDimensions?E:o(E),N=S(t(I.within)),n.callbacks&&"function"==typeof n.callbacks.dimensionModifier&&n.callbacks.dimensionModifier(a,r,N),O=r.width,L=r.height,B=r.offset,D=a.width,x=a.height,A=a.offset,Y.relDirections.test(I.direction)?I.direction=T(I.direction):I.direction="top-right",l=m(I.direction);var d={elementPosition:l||{left:0,top:0},oldDirection:h,direction:T(I.direction),arrowPosition:V?V.position:{left:0,top:0},arrowDirection:Z[I.direction]&&Z[I.direction].split("-")[0]},c=I.direction.split("-");return/^(top|bottom)$/.test(c[0])?(d.availableHeight=_(c[0])-(V?V.height:0),d.availableWidth=f(c[0])):/^(left|right)$/.test(c[0])&&(d.availableHeight=_(c[0]),d.availableWidth=f(c[0])-(V?V.width:0)),d}function k(){E=t(E);var e,i={},s={};E.length&&E[0]!==window&&9!==E[0].nodeType||(E=t(window),e=!0),Y.withinDirections.test(I.direction)||(I.direction="top-left");var s={width:E.outerWidth()-(e?0:parseFloat(E.css("border-right-width"))+parseFloat(E.css("border-left-width"))),height:E.outerHeight()-(e?0:parseFloat(E.css("border-top-width"))-parseFloat(E.css("border-bottom-width")))};s.offset=e?{left:window.scrollX,top:window.scrollY}:n(E)||{left:0,top:0};var o={width:M.outerWidth(),height:M.outerHeight()},a=["center","left","right","top","bottom"],r={left:"width",top:"height"};for(var l in r){var h="left"===l?"right":"bottom",d=r[l];I.direction.indexOf(l)!==-1?i[l]=s.offset[l]:I.direction.indexOf(h)!==-1?i[l]=s.offset[l]+s[d]-o[d]:a.indexOf(I.direction)!==-1&&(i[l]=s.offset[l]+s[d]/2-o[d]/2)}return i=y(i,M),{elementPosition:i}}var E,M,x,D,A,I,N,O,L,B,H,P,F,M,V,R,U,G,W,K={direction:"top-left",showWithinTarget:!1,within:e,arrow:{minSpace:0,margin:{left:0,top:0},callback:void 0},callbacks:{dimensionModifier:t.noop,directionModifier:t.noop},customDimensions:!1,positionAlterable:"flipallfit"},Z={"top-left":"bottom-right","top-right":"bottom-left","bottom-left":"top-right","bottom-right":"top-left",top:"bottom",bottom:"top",left:"right",right:"left","left-top":"right-bottom","left-bottom":"right-top","right-top":"left-bottom","right-bottom":"left-top"},Y={relDirections:/^(top|top-right|top-left|bottom|bottom-right|bottom-left|left|left-top|left-bottom|right|right-top|right-bottom|top-left-corner|top-right-corner|bottom-left-corner|bottom-right-corner)$/,withinDirections:/^(top|bottom|left|right|top-left|top-right|bottom-left|bottom-right|center)$/,fit:/^(fit|flipfit|flipallfit|flipsidefit|flipsideallfit|true)$/,flip:/^(flip|flipfit|flipall|flipallfit|flipside|flipsidefit|flipsideall|flipsideallfit|true)$/,flipside:/^(flipside|flipsidefit|flipsideall|flipsideallfit|true)$/,flipall:/^(flipall|flipallfit|flipsideall|flipsideallfit|true)$/},j={top:function(t,e){var i=t.split("-")[0],s={direction:t},o=_(t);if(s.overTop=e-o,s.overTop>0){var n="top"===i?"bottom":"top",a=_(t.replace(i,n));a>o&&(s.direction=t.replace(i,n),s.overTop=e-a)}return s},left:function(t,e){var i,s,o=t.split("-"),n={direction:t},a=f(t);if(n.overLeft=e-a,n.overLeft>0){i=o[0],"corner"===o[2]&&(i=o[1]),s="left"===i?"right":"left";var r=f(t.replace(i,s));r>a&&(n.direction=t.replace(i,s),n.overLeft=e-r)}return n}};return{get:function(e,i,s){if(e&&t(i).length&&(e instanceof jQuery&&(e=e[0]),i instanceof jQuery&&(i=i[0]),1===i.nodeType&&(1===e.nodeType||s.showWithinTarget&&(e===window||e===document)||e.preventDefault||s.customDimensions))){U=[],G=[],g(e),g(i),s=s||{};var o=w(e,t(i),s);return b(),E=M=R=x=D=V=A=I=N=O=L=B=H=P=F=W=U=G=void 0,o}}}}(jQuery,jQuery(window),jQuery(document));!function(t){function e(){var t=document.createElement("div");return r._iconDiv=t.cloneNode(),r._iconDiv.className="zmenu__iconcontainer",r._icon=document.createElement("i"),document.querySelector("body").appendChild(t),t.style.cssText="width:50px;height:50px;overflow:scroll;",a._scrollWidth=i(t).width()-t.scrollWidth,i(t).remove(),r._text=document.createElement("span"),r._hint=r._text.cloneNode(),r._key=r._text.cloneNode(),r._text.className="zmenu__text",r._hint.className="zmenu__hint",r._key.className="zmenu__shortcut",a._scrollWidth}var i=t.DOMUtil,s=t.getTemplate("zmenu.hbs"),o=t.getTemplate("zmenujson.hbs"),n=!1;!t.Browser.isIE()&&s&&o&&(Handlebars.partials=Handlebars.templates,n=!0);var a={options:{displayType:"box",direction:"auto",type:"list",toggle:!0,contentType:"text",renderInPlace:!1,columnCount:void 0,columns:3,search:!1,forElement:void 0,width:void 0,height:void 0,menuClass:"",className:"",animation:void 0,pointer:!1,checkedRadioItemIconClassName:void 0,checkedRadioItemSVGIconId:void 0,checkedCheckboxItemIconClassName:void 0,checkedCheckboxItemSVGIconId:void 0,isCustomHTMLEncoded:!0,htmlSafe:!0,offset:void 0,scroll:"slider",constructMenu:!0,EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},minWidth:200,handleAccessKeyNavigation:!0},ANIMATION_EVENTS:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend webkitTransitionEnd msTransitionEnd oTransitionEnd transitionEnd transitionend",ARIA_ROLES:{default:"menuitem",custom:"menuitem",radio:"menuitemradio",checkbox:"menuitemcheckbox",itemgroup:"group",separator:"separator"},EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},_MENU_CONTENT_TYPES:{text:"",icon:"zmenu--icononly","icon-text":"zmenu--iconwithtext"},_MENU_ITEM_TYPES:{default:"zmenu__item",separator:"zmenu__separator",splitmenu:"zmenu__item zmenu--split",itemgroup:"zmenu__title"},_DIRECTIONS:{menu:"bottom-left",submenu:"right-bottom",pointer:"bottom"},_attrNames:["id","name","data-item-type","disabled","checked","hidden","data-fixed","data-is-footer","data-item-value","data-label","data-icon","data-icon-class-name","data-svg-icon-id","data-text-as-icon","data-shortcutkey","data-shortcut-key","data-hint","data-description","data-menu-id"],_EVENTS:{ONBEFORESHOW:"beforeshow",ONBEFOREHIDE:"beforehide",ONSHOW:"show",ONHIDE:"hide",ONSUBMENUMENUITEMCLICKED:"submenuitemclick",BEFORESUBMENUMENUITEMCLICKED:"beforesubmenuitemclick",ONBEFORESUBMENUSHOW:"beforesubmenushow",ONSUBMENUSHOW:"submenushow",ONBEFORESUBMENUHIDE:"beforesubmenuhide",ONSUBMENUHIDE:"submenuhide",ONMENUITEMHOVERED:"itemhover",BEFOREMENUITEMCLICKED:"beforeitemclick",ONMENUITEMCLICKED:"itemclick",ONBEFOREFOCUS:"beforefocus",ONKEYDOWN:"keydown"},_lastOverlayedMenuItem:void 0,_lastOverlayedMenu:void 0,_create:function(s,o){this.scrollWidth=void 0===a._scrollWidth?e():a._scrollWidth,this.options.appendTo=void 0!==o.appendTo&&o.appendTo.length?i(o.appendTo):void 0,o.usingJSON||this._buildMenu(s),"DIV"===this.element[0].tagName&&s.find("ul:first").addClass("zmenu__list"),s[0].setAttribute("role","menu"),this._initEvents(),this._menuTextArray=[],o.search&&this._createSearchContainer(s),o.renderInPlace?(this._resetMenuTextArray(s),this.show()):s[0].style.display="none",s.data("toggle",o.toggle),s[0].setAttribute("tabindex",0),s[0].style.outline=0,o.height&&s.data("height",o.height),o.width&&s.data("width",o.width),t.isRTL&&(this._DIRECTIONS.submenu="left-bottom")},_buildMenu:function(t){var e=t[0].querySelectorAll("li");if(this.options.constructMenu){for(var s=0;s<e.length;s++)this._buildMenuItem(i(e[s]),t);t[0].className+=" zmenu "+("grid"===this.options.type?"zmenu--thumbnail":this._MENU_CONTENT_TYPES[this.options.contentType])+" "+(this.options.menuClass?this.options.menuClass:"")+" "+(this.options.className?this.options.className:"")}else for(var s=0;s<e.length;s++)this._handleCheckedandDisabled(i(e[s]),this.getData(e[s])),this._addEventsForMenuItems(i(e[s]))},_createSearchContainer:function(e){var s=i("<div class='zmenu__header'></div>"),o=i("<input type='text' class='zmenu__textbox' placeholder='Search' />"),n=i("<i class='zmenu__icon'></i>"),a=t.createSVGElement("svg",{class:"zmenu__search",viewBox:"0 0 16 16",width:"100%",height:"100%"},[{path:{d:"M15.6,15.6c-0.6,0.6-1.5,0.6-2.1,0l-2.7-2.7C9.7,13.6,8.4,14,7,14c-3.9,0-7-3.1-7-7s3.1-7,7-7c3.9,0,7,3.1,7,7c0,1.4-0.4,2.7-1.1,3.8l2.7,2.7C16.1,14,16.1,15,15.6,15.6z M7,2C4.2,2,2,4.2,2,7s2.2,5,5,5c2.8,0,5-2.2,5-5C12,4.2,9.8,2,7,2z"}}]);n[0].appendChild(a),s.append(o,n),this.element.prepend(s),e.data("_styleElement",i("<style id='zmenu-search-filter' type='text/css'>").appendTo("head")),o.on("keydown."+this.componentName,function(e){e.keyCode===t.keyCode.TAB&&e.preventDefault()})},_buildMenuItem:function(e,o){var a=this.getData(e),l=a.menuId||!(!e[0].firstElementChild||"object"!=typeof e[0].firstElementChild||!e[0].firstElementChild.tagName)&&"UL"===e[0].firstElementChild.tagName,h=a.className?a.className:a.itemCssClass?a.itemCssClass:"";if(a.isGrid="grid"===this.options.type,e[0].className+=" "+(this._MENU_ITEM_TYPES[a.itemType]?this._MENU_ITEM_TYPES[a.itemType]:"zmenu__item")+" "+h,a.parentMenu=e.parent(),a.disabled=void 0!==a.disabled?a.disabled:null!=e[0].getAttribute("disabled"),a.hidden=void 0!==a.hidden?a.hidden:null!=e[0].getAttribute("hidden"),a.checked=void 0!==a.checked?a.checked:null!=e[0].getAttribute("checked"),l&&(a.hasSubmenu=!0,this._buildSubmenu(e,a)),e[0].setAttribute("role",this.ARIA_ROLES[a.itemType?a.itemType:"default"]),"separator"===a.itemType)return void this._handleCheckedandDisabled(e,a);if("custom"===a.itemType||a.custom){if(e[0].className+=" zmenu__custom",a.innerHTML){var d=a.innerHTML.content,c=a.innerHTML.replaceArray;if(d&&c){for(var p=0;p<c.length;p++)d=d.replace("{"+p+"}",t.encodeHTML(c[p]));e.html(d)}else this.options.isCustomHTMLEncoded||this.options.htmlSafe?e.html(a.innerHTML):e.html(t.encodeHTML(a.innerHTML))}return a.hasSubmenu&&this._createArrowIcon(e),(a.fixed||a.isFooter)&&this._addFixedItem(e,o,a),this._handleCheckedandDisabled(e,a),this._addEventsForMenuItems(e)}a.label=a.label?a.label:e.text().trim(),a.label=a.ellipsis?a.label+"...":a.label;var u=a.shortcutkey||a.shortcutKey;a.shortcutkey=window.ZShortCut?ZShortCut.getInfo(a.actionName,e,!0):u,e[0].innerHTML="";var m=e;if(a.action&&"string"==typeof a.action&&a.action.indexOf("URL:")!==-1&&(a.target=a.target?a.target:"_blank",e.addClass("zmenu--withlink").append("<a class='zmenu__link' href='"+a.action.replace("URL:","")+"' target='"+a.target+"'>"),m=e.find(".zmenu__link")),n)a.icon=a.SVGIconId?"#"+a.SVGIconId:a.iconClassName?a.iconClassName:a.icon,a.icon&&a.icon.indexOf("#")!==-1&&(a.svgId=a.icon.split(" ")[0],a.svgClass=a.icon.slice(a.svgId.length).trim()),"itemgroup"!==a.itemType&&(a["icon"===this.options.contentType?"icon-only":this.options.contentType]=this.options.contentType),m.append(s(a));else{if("text"!==this.options.contentType)if("itemgroup"!==a.itemType){var _=a.isGrid,f=_?void 0:r._iconDiv.cloneNode(),v=r._icon.cloneNode();v.className=_?"zmenu__image ":"zmenu__icon ",this._handleIcon(i(v),void 0,void 0,a.iconClassName,a.SVGIconId,a.icon),!_&&f.appendChild(v),m[0].appendChild(_?v:f)}else"icon"===this.options.contentType&&this._domUpdate(r._text,a.label,m);"icon"!==this.options.contentType&&(this._domUpdate(r._text,a.label,m),a.hint||a.description?this._domUpdate(r._hint,a.hint?a.hint:a.description,m):a.shortcutkey&&this._domUpdate(r._key,a.shortcutkey,m)),a.hasSubmenu&&this._createArrowIcon(m)}a.icon&&0===a.icon.indexOf("text:")&&"text"!==this.options.contentType&&e.find("i:first").removeClass(a.icon).text(a.icon.replace("text:","")),(a.fixed||a.isFooter)&&this._addFixedItem(e,o,a),e[0].setAttribute("data-item-type",a.itemType),"icon"!==this.options.contentType&&e[0].setAttribute("data-label",a.label),this._handleCheckedandDisabled(e,a),this._addEventsForMenuItems(e,a)},_domUpdate:function(t,e,i){var s=t.cloneNode();i[0].appendChild(s),s.textContent=e},_createArrowIcon:function(t){var e=i("<i class='zmenu__icon h-alignright'/>"),s={props:{class:"zmenu__arrow",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{polygon:{points:"6.5,12.5 5.5,11.5 9,8 5.5,4.5 6.5,3.5 11,8"}}]};return this._handleIcon(e,s,"arrow",this.options.arrowIconClassName,this.options.arrowSVGIconId),t.append(e),e},_addFixedItem:function(t,e,s){if(s.label&&"icon"===this.options.contentType&&"grid"===this.options.type&&!t.find(".zmenu__text").length&&t.append(i("<span class='zmenu__text'>"+s.label+"</span>")),e.find(".zmenu__footer").length)e.find(".zmenu__footer ul").append(t);else{var o=i("<div class='zmenu__footer'><ul class='zmenu__list'></ul></div>");e.append(o),o.find("ul").append(t.addClass("is-fixed")),e.data("fixedArea",o.find("ul"))}},_buildSubmenu:function(t,e){var s=this.getSubmenu(t);s&&(t.addClass(e.splitmenu||"splitmenu"===e.itemType?"zmenu--split":"zmenu--submenu"),t.data("submenu",s),e.menuId||(i("body").append(t.find(s)),this.getData(t).menuId=s.attr("id"),s.zmenu()))},getSubmenu:function(t){if(t.data("submenu"))return t.data("submenu");var e=this.getData(t).menuId;if(e){if(e=i("#"+e),!e.length)return;return e.data("zmenu")||e.zmenu(),e.data("isExternalSubmenu",!0),e}return t.children("ul:first")},_handleCheckedandDisabled:function(t,e,i){var s=void 0!==i;(s?"hidden"===i:void 0!==e.hidden)&&this._hideMenuItem(t,!e.hidden),(s?"disabled"===i:void 0!==e.disabled)&&(t[e.disabled?"addClass":"removeClass"]("is-disabled"),t.attr("aria-disabled",e.disabled),e.disabled?t.attr("disabled",!0):t.removeAttr("disabled"));var o=!s||"checked"===i;!o||"text"===this.options.contentType||void 0===e.checked||"checkbox"!==e.itemType&&"radio"!==e.itemType||this._checkMenuItem(t,e.checked,e)},_initEvents:function(t){var e=this,s=this.componentName;t=i(t?t:this.element),t.data("initialized")&&!t||t.data("isExternalSubmenu")||(t.data("initialized",!0),t.on("mouseup."+s,function(s){(3!==s.which||i(s.target).closest(".zmenu--withlink").length)&&e._handleMenuItemClick(s,t)}).on("contextmenu."+s,function(t){var e=i(t.target).closest(".zmenu__item");e.length&&e.hasClass("zmenu--withlink")&&t.stopPropagation()}).on("click."+s,function(t){var s=i(t.target).closest(".zmenu__item");if(s.length&&s.hasClass("zmenu--withlink")){var o=s.closest(".zmenu");e._triggerEvent(void 0!==o.data("parent")?"ONSUBMENUMENUITEMCLICKED":"ONMENUITEMCLICKED",t,o,s,{})}}))},_handleMenuItemClick:function(t,e){e=e||this.element;var s=i(t.target);if(s.is("li")||(s=s.closest("li")),s&&0!==s.length&&!s.hasClass("separator")&&!s.hasClass("zmenu__title")){var o=this.getData(s),n=!(!s.data("submenu")||!s.data("submenu").length||s.hasClass("zmenu--split"));if(!o.disabled&&this._triggerEvent(void 0!==e.data("parent")?"BEFORESUBMENUMENUITEMCLICKED":"BEFOREMENUITEMCLICKED",t,e,s,{})){if(n&&"click"===o.openOn){var a=this.getSubmenu(s),r=this;a.is(":visible")?this.hide(a,function(){a.data("forElement")[0]!==s[0]&&r._showSubmenu(s,{event:t},!1,t)}):(this._checkAndHideAllOpenedSubMenus(e,!0),this._showSubmenu(s,{event:t},!0,t)),t.preventDefault(),t.stopPropagation()}var l=o.action;void 0!==l&&("function"!=typeof l&&"string"==typeof l&&l.indexOf("URL:")===-1?this._triggerFunction(l,s,[t,{menuitem:s,options:o}]):"function"==typeof l&&l.call(s,t,{menuitem:s,options:o})),this._triggerEvent("beforeitemchecked",t,e,s,{})&&("checkbox"!==o.itemType&&"radio"!==o.itemType||this._checkMenuItem(s,"checkbox"!==o.itemType||!s.prop("checked"),o));var h=this.getData(e);this._triggerEvent(void 0!==e.data("parent")?"ONSUBMENUMENUITEMCLICKED":"ONMENUITEMCLICKED",t,e,s,{})&&(h.renderInPlace||(!n&&this.hide(void 0,void 0,t),s&&(!s.is(".zmenu--withlink")&&t&&t.preventDefault?(t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation()):s.find(".zmenu__link").length&&s.find(".zmenu__link")[0].click())))}}},show:function(e,s){e=e?e:{};var o=i(this.options.appendTo),n=e.isSubMenu=!!s,s=s?s:this.element,a=i(e.forElement?e.forElement:this.options.forElement),r=this._isGridMenu(s),l=e.offset?e.offset:this.options.offset?this.options.offset:void 0;if(this._uninitSliders(s),n||(this.options.forElement=e.forElement=a),s.is(":visible")&&!e.mustBeShown)return void(this.options.toggle&&!n&&this.hide());n?s.data({forElement:a,parent:a}):(this.options.handleAccessKeyNavigation&&this._initRuntimeEvents(),this.element.data("forElement",a));var h=n?this.getData(s):this.options;if(h.renderInPlace&&!n||e.mustBeShown||(void 0!==o&&o.length?o.append(s):i("body").append(s)),e.within=this.options.viewport&&i(this.options.viewport).length?i(this.options.viewport):o,this.updateLastMenuChain(s),s.data("modified")&&(s.find("#noresultFound").remove(),s.data("_styleElement").empty()),r||h.renderInPlace||s.addClass("zmenu__width"),h.renderInPlace)s.css({width:"inherit",height:"inherit",position:"relative"}),this._openWithAnimation(s,e,d);else{t.bindDocumentEvents&&t.bindDocumentEvents({element:s,forElement:e.isRightClick?void 0:a,ctype:this.componentName,closeMethodName:"hide",closeEvent:"hide"});var d=e.event?e.event:{};if(e.isRightClick=e.isRightClick?e.isRightClick:e.direction?"after-pointer"===e.direction||"at-cursor"===e.direction:"after-pointer"===this.options.direction||"at-cursor"===this.options.direction,!this._triggerEvent(n?"ONBEFORESUBMENUSHOW":"ONBEFORESHOW",d,s,void 0,{currentTarget:e.isRightClick?d.target:a}))return;var c=this;if(s.css({display:"block",opacity:"0"}),this._setFocus(),s.data("width")){var p=parseInt(s.outerWidth(!0)),u=parseInt(s.data("width"));if(p>u){var m=s.find("li").map(function(t,e){return i(e).find(".zmenu__shortcut").length?parseInt(i(e).find(".zmenu__shortcut").outerWidth(!0)):0});m=Math.max.apply(null,m),m&&s.find("li:not(li.zmenu__title) .zmenu__text").css("width","calc(100% - "+m+"px)")}s.removeClass("zmenu__width"),s.width(u)}else s.outerWidth()<parseInt(this.options.minWidth)&&"icon"!==s.data("zmenu").options.contentType&&(s.removeClass("zmenu__width"),"border-box"===s.css("box-sizing")?s.width(parseInt(this.options.minWidth)-parseInt(s.css("border-left-width"))-parseInt(s.css("border-right-width"))-1):s.width(parseInt(this.options.minWidth)-1));var _=!1;if(r&&this._fixFloatingMenuWidth(s),s.css("height","auto"),s.find("ul").length&&s.find("ul").css("height","auto"),s.data("height")<=s.outerHeight()&&(s.outerHeight(parseInt(s.data("height"))),_=!0),s.removeClass("zmenu__width"),!r){var f=s.innerWidth()+1+(_?this.scrollWidth:0);s.width(f)}if(this.refresh(s),e&&!e.position){if(e.direction=e.direction?"auto"===e.direction||e.isRightClick?this.options.pointer||"callout"===this.options.displayType?this._DIRECTIONS.pointer:this._DIRECTIONS.menu:e.direction:n?this._DIRECTIONS.submenu:"auto"===this.options.direction||e.isRightClick?this.options.pointer||"callout"===this.options.displayType?this._DIRECTIONS.pointer:this._DIRECTIONS.menu:this.options.direction,e.eventObj=e.event,e.positionAlterable=e.positionAlterable||this.options.positionAlterable,e.positionAlterable=void 0!==e.positionAlterable?e.positionAlterable:n?"flipfit":"auto"===this.options.direction||"after-pointer"===this.options.direction||"at-cursor"===this.options.direction,e.positionAlterable="after-pointer"!==this.options.direction&&"at-cursor"!==this.options.direction&&!e.isRightClick||n?e.positionAlterable:"fit","object"!=typeof e.position){if((this.options.pointer||"callout"===this.options.displayType)&&!n){this._createPointerElement();var c=this;e.arrowCallback=function(t,e){c._arrowDirection=e,t.removeClass("h-top h-bottom h-right h-left").addClass("h-"+e)}}s.data("isRightClick",e.isRightClick),e.withinPadding=8;var v=ZPosition.get(e.isRightClick&&!n?e.event:a,s,i.extend({},{arrow:{element:n?null:this._pointerElement,callback:e.arrowCallback}},e),this._pointerElement?this._pointerElement:void 0);if(e.availableHeight=v.availableHeight,e.position=v.elementPosition,e.position.direction=v.direction,s.data("direction",v.direction),this._pointerElement&&!n)l&&(v.arrowDirection.match(/^top|bottom$/)?v.arrowPosition.left=v.arrowPosition.left-l.left:v.arrowPosition.top=v.arrowPosition.top-l.top),this._pointerElement.css(v.arrowPosition);else if(!this._pointerElement&&!l)if(s.removeClass("zmenu--bottomleft zmenu--bottomright zmenu--topleft zmenu--topright zmenu--top zmenu--bottom zmenu--left zmenu--right"),n)"right-top"===v.direction?(s.addClass("zmenu--bottomleft"),e.position.left=e.position.left-1):"right-bottom"===v.direction?(s.addClass("zmenu--topleft"),e.position.left=e.position.left-1):"left-top"===v.direction?(s.addClass("zmenu--bottomright"),e.position.left=e.position.left+1):"left-bottom"===v.direction&&(s.addClass("zmenu--topright"),e.position.left=e.position.left+1);else{var g=a.length?parseInt(a.css("border-top-left-radius")):0,b=a.length?parseInt(a.css("border-top-right-radius")):0,y=a.length?parseInt(a.css("border-bottom-left-radius")):0,C=a.length?parseInt(a.css("border-bottom-right-radius")):0;g<=5&&b<=5&&y<=5&&C<=5?e.isRightClick?s.removeClass("zmenu--bottomleft zmenu--bottomright zmenu--topleft zmenu--topright zmenu--top zmenu--bottom zmenu--left zmenu--right"):0===v.direction.indexOf("bottom")?("bottom-right"===v.direction?a.outerWidth(!0)<s.width()?(s.addClass("zmenu--topright"),a.css({"border-bottom-left-radius":"0px","border-bottom-right-radius":"0px"})):(s.addClass("zmenu--top"),a.css({"border-bottom-right-radius":"0px"})):"bottom-left"===v.direction&&(a.outerWidth(!0)<s.width()?(s.addClass("zmenu--topleft"),a.css({"border-bottom-left-radius":"0px","border-bottom-right-radius":"0px"})):(s.addClass("zmenu--top"),a.css({"border-bottom-left-radius":"0px"}))),e.position.top=e.position.top-1):0===v.direction.indexOf("top")?("top-right"===v.direction?a.outerWidth(!0)<s.width()?(s.addClass("zmenu--bottomright"),a.css({"border-top-left-radius":"0px","border-top-right-radius":"0px"})):(s.addClass("zmenu--bottom"),a.css({"border-top-right-radius":"0px"})):"top-left"===v.direction&&(a.outerWidth(!0)<s.width()?(s.addClass("zmenu--bottomleft"),a.css({"border-top-left-radius":"0px","border-top-right-radius":"0px"})):(s.addClass("zmenu--bottom"),a.css({"border-top-left-radius":"0px"}))),e.position.top=e.position.top+1):0===v.direction.indexOf("left")?(s.addClass("zmenu--right"),a.css({"border-top-left-radius":"0px","border-bottom-left-radius":"0px"})):0===v.direction.indexOf("right")&&(s.addClass("zmenu--left"),a.css({"border-top-right-radius":"0px","border-bottom-right-radius":"0px"})):e.position.top=e.position.top+2}}if(s.find(".zmenu__textbox").length){s.data("initialDirection",e.position.direction);var S=s.find(".zmenu__search").parent();if(e.position.top<i(a).position().top){s.append(S.addClass("zmenu__footer").removeClass("zmenu__header"));var v=ZPosition.get(e.isRightClick&&!n?e.event:a,s,e,this._pointerElement?this._pointerElement:void 0);e.position=v.elementPosition,e.position.top=e.position.top+1}else s.prepend(S.addClass("zmenu__header").removeClass("zmenu__footer"))}l&&(e.position.top=e.position.top+(parseInt(l.top)||0),e.position.left=e.position.left+(parseInt(l.left)||0))}e.position&&(e.isRightClick&&(e.position.top=e.position.top+2,e.position.left=e.position.left+2),s.css(e.position)),this._fixMenuUI(s,e,n),0===s.find("ul:first .zmenu__item").length&&s.find(".zmenu__footer").length&&s.find(".zmenu__footer").css("border-top","0px"),s.hide().css({opacity:""}),this._pointerElement&&this._pointerElement.hide(),this._openWithAnimation(s,e,d)}n||(t.currentMenu&&t.currentMenu.get(0)!=s.get(0)&&(t.prevMenu=t.currentMenu),t.currentMenu=s)},_openWithAnimation:function(t,e,i){var s=this.options.animation;if(e.isSubMenu&&(s=t.data("zmenu").options.animation),s||e&&e.animation){var o=this,n=s?s.open:e.animation.open,a=n.className,r=n.name,l=n.duration?n.duration:0,h=function(){o._handleMenuOpen(t,e,i)};a?(this._pointerElement&&this._pointerElement.show().addClass(a),t.show().addClass(a).on(this.ANIMATION_EVENTS,function(){t.removeClass(a),h&&h(),h=void 0,t.off(o.ANIMATION_EVENTS)})):"object"==typeof r?(this._pointerElement&&this._pointerElement.show().animate(r,l,h),t.show().animate(r,l,h)):this.options.EFFECTS[r]&&(this._pointerElement&&this._pointerElement[this.options.EFFECTS[r].open](l,h),t[this.options.EFFECTS[r].open](l,h))}else t.show(),this._pointerElement&&this._pointerElement.show(),this._handleMenuOpen(t,e,i)},_handleMenuOpen:function(t,e,i){this._resetMenuTextArray(t);var s=e.isSubMenu,o=s?this.getData(t):this.options;!o.renderInPlace&&this._triggerEvent(s?"ONSUBMENUSHOW":"ONSHOW",i,t,void 0,{forElement:e.forElement})},_createPointerElement:function(){return this._pointerElement?this._pointerElement.removeAttr("class").addClass("zmenu__pointer"):(this._pointerElement=i("<div class='zmenu__pointer' />"),void this.element.prepend(this._pointerElement))},_isGridMenu:function(t,e){var i=e?t.closest(".zmenu"):t?t:this.element;if(i.length){var s=this.getMenuType(i);return this._isTypeFloating(s,i)}},_addEventsForMenuItems:function(t){var e=this,i=this.getData(e.element);t.hover(function(s,o){s.data=o;var n=e._isDirectEvent(s),a=function(){e._handleMouseOverOnMenuItems(t,s,void 0,!0)};e._clearMouseHoverTimeout(),n&&e._isToBeDelayed(s)?i.mouseOverTimeout=setTimeout(a,300):a()},function(s,o){s.data=o;var n=e._isDirectEvent(s),a=function(){e._handleMouseOutOnMenuItems(t,s)};n&&(t.data("submenu")||i.mouseOverTimeout)?i.mouseOutTimeout=setTimeout(a,300):a()})},hide:function(t,e,s){var o=!!(t&&t.length||this.element.data("parent")&&i(this.element.data("parent")).is(".zmenu__item")&&!s),t=t?i(t):this.element,n=o?this.getData(t):this.options;if(!n.renderInPlace&&!t.is(":hidden")){var a=this._triggerEvent(o?"ONBEFORESUBMENUHIDE":"ONBEFOREHIDE",s,t);a&&(o||(this._hideAllSubMenus(t),this._destroyRuntimeEvents()),i("li.on-hover",t).each(function(t,e){i(e).is(".zmenu--split")&&i(e).find(".zmenu__icon.h-alignright").removeClass("on-hover"),i(e).removeClass("on-hover")}),t.get(0)!==this.element.get(0)?this.updateLastMenuChain(t.data("parent").parent()):this._lastOverlayedMenuItem=void 0,this._uninitSliders(t),this._closeWithAnimation(t,o,e,s))}},_closeWithAnimation:function(t,e,i,s){var o=this.options.animation;if(e&&(o=t.data("zmenu").options.animation),o&&o.close){o=o.close;var n=this,a=o.className,r=o.name,l=o.duration?o.duration:0,h=function(){n._handleMenuClose(t,e,i,s)};if(a)t.addClass(a).on(this.ANIMATION_EVENTS,function(){t.removeClass(a),t.hide(),h&&h(),h=void 0,t.off(n.ANIMATION_EVENTS)});else if("object"==typeof r){var n=this;t.animate(r,l,h)}else this.options.EFFECTS[r]&&t[this.options.EFFECTS[r].close](l,h);e&&t.data("parent").closest(".zmenu").data("waitingTime",l)}else{var n=this;t.data("waitingTime")>0?window.setTimeout(function(){t.hide(),n._handleMenuClose(t,e,i,s),t.data("waitingTime",0)},t.data("waitingTime")):(t.hide(),n._handleMenuClose(t,e,i,s))}},_handleMenuClose:function(t,e,s,o){if(e){var n=i(t.data("parent")).closest(".zmenu");this._resetMenuTextArray(n)}else this._resetMenuTextArray(t);t.css({top:"",left:"",height:"",width:""}),t.removeClass("zmenu--bottomleft zmenu--bottomright zmenu--topright zmenu--topleft zmenu--bottom zmenu--top zmenu--left zmenu--right"),i(t.data("forElement")).css({"border-radius":""}),void 0!==t.data("_styleElement")&&t.data("_styleElement").empty(),this._triggerEvent(e?"ONSUBMENUHIDE":"ONHIDE",o,t),s&&s()},_clearMouseHoverTimeout:function(){var t=this.getData(this.element);if(clearTimeout(t.mouseOverTimeout),clearTimeout(t.mouseOutTimeout),void 0!==this.element.data("parent")){var e=this.getData(this.element.data("parent").closest(".zmenu"));clearTimeout(e.mouseOverTimeout),clearTimeout(e.mouseOutTimeout),e.constantLoc=void 0}},_isElementInMenu:function(t,e){return e||(e=this.element),t=i(t)[0],1===e.has(t).length},_isToBeDelayed:function(t){var e=this.getData(this.element);if(void 0!==e.constantLoc){var i={x:t.pageX,y:t.pageY},s=this._slope(i,this.decreasingCorner),o=this._slope(i,this.increasingCorner);if(s<this.prevDecreasingSlope&&o>this.prevIncreasingSlope)return!0}return!1},_scrollToView:function(t){var e=t.closest("ul"),i=t.offset().top-e.offset().top,s=e[0].scrollTop;i<0?s+=i:s<i+s+t.outerHeight(!0)-e.outerHeight()&&(s+=i),e.scrollTop(s)},_handleMouseOverOnMenuItems:function(t,e,i,s,o){if(t.is(".is-disabled")||t.is(".zmenu__title"))return void(this._lastOverlayedMenuItem&&this._lastOverlayedMenuItem.removeClass("on-hover"));if(i&&this._scrollToView(t,t.closest(".zmenu").is("ul")?t.closest(".zmenu"):t.closest(".zmenu").find("ul:first")),t.is(".on-hover")&&this._isMenuOfMenuItemShown(t))return void this._setLastOverlayedMenuItem(t);if(o||s&&this._triggerEvent("ONMENUITEMHOVERED",e,t.closest(".zmenu"),t)){this._checkAndHideAllOpenedSubMenus(t.closest(".zmenu")),this._setLastOverlayedMenuItem(t),this._clearMenuTimeout(),t.addClass("on-hover");var n=!!e&&this._isDirectEvent(e),a=this,r=function(){"click"!==this.getData(t).openOn&&t.data("submenu")&&n?(this._checkAndHideAllOpenedSubMenus(t.closest(".zmenu"),!0),this._showSubmenu(t,{event:e},!1,e)):this.getData(this.element).constantLoc=void 0};t.is(".zmenu--split")?window.setTimeout(function(){t.hasClass("on-hover")&&(t.find(".zmenu__icon.h-alignright").addClass("on-hover"),r.bind(a)())},150):r.bind(this)()}},_showSubmenu:function(t,e,i,s){var o=this;e.forElement||(e.forElement=t);var n=function(){if(t.is(":visible")){var i=o.getSubmenu(t);e.direction=i.data("zmenu").options.submenuDirection?i.data("zmenu").options.submenuDirection:o._DIRECTIONS.submenu,o.show(e,i,!1),o._saveMenuPoints(s,t)}};i?n():o._menuTimeout=setTimeout(n,100)},_clearMenuTimeout:function(){this._menuTimeout&&(clearTimeout(this._menuTimeout),this._menuTimeout=void 0)},_handleMouseOutOnMenuItems:function(t,e){var s=this._isDirectEvent(e);if(s){if(!t.parent().has(e.relatedTarget).length){if(t.data("submenu")&&this._isMenuOfMenuItemShown(t))return;this._setLastOverlayedMenuItem(void 0)}}else{var o=e.data;if((!this._isMenuOfMenuItemShown(t)||!this._isElementInMenu(o,i(this.getSubmenu(t))))&&(this._clearMenuTimeout(),t.removeClass("on-hover"),t.is(".zmenu--split")&&t.find(".zmenu__icon.h-alignright").removeClass("on-hover"),t.data("submenu"))){var n=this.getSubmenu(t);if(!n||"click"===this.getData(t).openOn)return;!this._isElementInMenu(o,i(n))&&i(n).data("parent")&&i(n).data("parent")[0]===t[0]&&this.hide(n)}}},_isMenuOfMenuItemShown:function(t){return t.data("submenu")&&i(this.getSubmenu(t)).is(":visible")},_isDirectEvent:function(t){return!!t.originalEvent},_hideMenuItem:function(t,e){var t="string"==typeof t?i("#"+t,this.element):i(t);t.length&&(t[e?"show":"hide"](),t.attr({hidden:!e,"aria-hidden":!e}))},_checkMenuItem:function(t,e,i){"radio"===i.itemType?this._handleRadioChecked(t,e,i):"checkbox"===i.itemType&&this._handleCheckboxChecked(t,e,i)},_checkAndHideAllOpenedSubMenus:function(t,e,s){for(var o=t.find("li"),n=0;n<o.length;n++){var a=i(o[n]),r=this.getSubmenu(a),l=r&&"click"==this.getData(a).openOn;r&&r.is(":visible")&&(!l||e)&&(this._checkAndHideAllOpenedSubMenus(r,e,s),r.data("parent")&&"click"===this.getData(r.data("parent")).openOn?t.zmenu("hide",r,s):a.trigger("mouseleave"))}},_setLastOverlayedMenuItem:function(t,e){if(!this._lastOverlayedMenuItem||!t||this._lastOverlayedMenuItem.get(0)!==t.get(0)){if(this._lastOverlayedMenuItem&&t&&t.length&&!this._lastOverlayedMenu.has(t.get(0)).length){var i=t.data("submenu");if(!i||i[0]!==this._lastOverlayedMenu[0]){var s=this._lastOverlayedMenu.data("parent");s&&s.parent().has(t[0]).length&&s.trigger("mouseleave",t)}}if(this._lastOverlayedMenuItem&&!e&&this._lastOverlayedMenuItem.trigger("mouseleave",t),this._lastOverlayedMenuItem=t,t&&t.length){var o=t.closest(".zmenu"),n=this.element;for(this.updateLastMenuChain(o),this.getData(n)._lastOverlayedMenuItem=t;n.data("isSubMenu");){var s=this.getData(n).parent;n=s.closest(".zmenu")}this.getData(n)._lastOverlayedMenuItem=t}}},_fixFloatingMenuWidth:function(t){var e=t.data("zmenu").options,s=(e.type,e.columnCount||e.columns);if(!s||s===-1){var o=t.closest(".zmenu");if(s=o.data("isExternalSubmenu")?this.getData(o).columns?this.getData(o).columns:this.getData(o).columnCount:this.options.columns,!s||s===-1)return}for(var n=this._getAllMenuItems(t,!1,!1,!0),a=(i(n[0]).outerWidth(!0),0),r=0;r<s;r++)a+=i(n[r]).outerWidth(!0);t.width(a),(t.data("height")<=t.outerHeight()||t.hasClass("h-scroll_y")||t.find(".h-scroll_y").length)&&(a+=this.scrollWidth,t.width(a)),t.data("width",a),this.getData(t).search&&t.data("container").width(a).find("input").width(a)},getItemCount:function(){return i(this.element).children(".zmenu__item").length},removeMenuItems:function(t){var e,s=this;if(t)for(var o=0;o<t.length;o++)e=i(t[o],this.element),e.length&&s.removeMenuItem(e);else this.element.empty(),this.element.is("div")&&(this._pointerElement&&this.element.append(this._pointerElement),this.element.append(i("<ul class='zmenu__list'>")))},removeMenuItem:function(t){if(t=i(t,this.element),t.length){var e=t.attr("name");t.remove();var s=e?this.element.find("#"+e+".zmenu__title"):void 0;if(s&&s.length){var o=this.element.find("li[name="+e+"]:not(.zmenu__title)");o.length||s.remove()}this.element.find(".zmenu__footer")&&!this.element.find(".zmenu__footer li").length&&this.element.find(".zmenu__footer").remove(),this._fixMenuUI(this.element),this._resetMenuTextArray(this.element)}},getMenuItemAt:function(t,e,i){return e=e?e:this.element,i?this._getMenuItemAsObject(e.find(".zmenu__item:eq("+t+")")):e.find(".zmenu__item:eq("+t+")")},_getMenuItemAsObject:function(t){var e={},s=this.getData(t),o=this;i(this._attrNames).each(function(i,o){var n=t.attr(o)||s[o];void 0!==n&&(e[o]=n)});for(var n in s)i.inArray(n,o._attrNames)===-1&&"menuItems"!==n&&void 0!==s[n]&&(e[n]=s[n]);if("custom"==e.itemType||e.custom?e.innerHTML=t[0].innerHTML:void 0===e.label&&(e.label=t.find(".zmenu__text").length&&t.find(".zmenu__text").text()),e.text=void 0,t.data("submenu")){var a=this.getSubmenu(t);a&&(e.menuItems=this._getMenuAsObject(a))}return e},_getMenuAsObject:function(t){t=t?t:this.element;var e=this,s=[],o=t.find("li");return o.each(function(t,o){s.push(e._getMenuItemAsObject(i(o)))}),s},addMenuItems:function(t,e,i){for(var s=[],o=this,n=Object.create(t),a=void 0,r=n.length,l=0;l<r;l++)a=o.addMenuItem(n[l],e,!0,i),s.push(a);return i&&this.element.find("ul.zmenu__list:first").append(s),(this.element.is(":visible")||this.options.renderInPlace)&&(this._fixMenuUI(this.element),this._resetMenuTextArray(this.element)),s},addMenuItem:function(e,s,o,a){var r=void 0,l=i(this.element);"object"==typeof e&&(e=Object.create(e)),e.menu&&e.menu.length&&"object"==typeof e.menu&&(l="UL"===!i(e.menu)[0].tagName?i(e.menu).children("ul"):e.menu);var h="UL"!==l[0].tagName;if(r=n?this._menuItemUsingTemplate(l,e,s):i(this._menuItemUsingElementCreation(l,e,s)),!a){var d=l[0].querySelectorAll("li");if("undefined"!=typeof e.index&&d.length){var c=!1;e.index>=d.length&&(e.index=d.length-1,c=!0),e.index<0&&(e.index=0),r[c?"insertAfter":"insertBefore"](i(d[e.index]))}else h?l[0].querySelector("ul").appendChild(r[0]):l[0].appendChild(r[0])}"object"!=typeof e.menuItems&&s&&"separator"!==e.mtype&&s(r,e);var p=void 0;for(var u in this._attrNames)p=this._attrNames[u],e[p]&&r[0].setAttribute(p,e[p]+"");var m=this.getData(r);for(var u in e)i.inArray(u,this._attrNames)===-1&&"menuItems"!==u&&"action"!==u&&e[u]&&(m[u]=e[u]);if(e.action&&"string"==typeof e.action&&e.action.indexOf("URL:")!==-1&&(m.action=e.action),e.checked&&(r.data("checked",e.checked),r.attr({"data-checked":e.checked,"aria-checked":e.checked})),e.hidden&&r.attr({"data-hidden":e.hidden,"aria-hidden":e.hidden}),e.disabled&&r.attr({"data-disabled":e.disabled,"aria-disabled":e.disabled}),e.customAttributes){if(e.customAttributes.data){var _=e.customAttributes.data;"string"==typeof _&&(_=JSON.parse(_)),_.appData&&(this.getData(r).appData=_.appData)}r.attr(e.customAttributes)}if(e.internal||n){if(r.attr("role",this.ARIA_ROLES[e.itemType?e.itemType:"default"]),e.innerHTML){var f=e.innerHTML.content,v=e.innerHTML.replaceArray;if(f&&v){for(var u=0;u<v.length;u++)f=f.replace("{"+u+"}",t.encodeHTML(v[u]));r.html(f)}else this.options.isCustomHTMLEncoded||this.options.htmlSafe?r.append(m.innerHTML):r.html(t.encodeHTML(m.innerHTML));e.hasSubmenu&&this._createArrowIcon(r)}this._handleCheckedandDisabled(r,e)}else this._buildMenuItem(r,l);var g=e.itemValue;g&&r.data("itemValue",g);var b=e.splitButtonData;b&&r.data("relatedButton",b),this.getData(r).action=e.action,(e.fixed||e.isFooter)&&this._addFixedItem(r,l,m),o||this._fixMenuUI(l);var y=e.className?e.className:e.itemCssClass?e.itemCssClass:"";return e.isFooter?null:r.addClass(y)},_menuItemUsingTemplate:function(t,e,s){if(e.listClass="itemgroup"===e.itemType?"zmenu__title":"zmenu__item",e.icon=e.SVGIconId?e.SVGIconId:e.iconClassName?e.iconClassName:e.icon,e.icon&&e.icon.indexOf("#")!==-1&&(e.svgId=e.icon.split(" ")[0],e.svgClass=e.icon.slice(e.svgId.length).trim()),e.isGrid=this._isGridMenu(t),e.isSeparator="separator"===e.itemType,e.isCustom=!("custom"!==e.itemType&&!e.custom),"splitmenu"===e.itemType&&(e.listClass+=" zmenu--split"),"string"==typeof e.menuId)e.hasSubmenu=!0,e.submenuId=e.menuId.substr(1);else if(e.menuItems&&e.menuItems.length){e.submenuId=e.id+"submenu",e.submenu=i("<ul>").attr("id",e.submenuId),e.hasSubmenu=!0,e.contentType=e.contentType?e.contentType:"text",this.getData(e.submenu).contentType=e.contentType;var n=this;i(e.menuItems).each(function(t,i){i.menu=e.submenu,i.internal=!0,n.addMenuItem(i,s,void 0)}),e.submenu.addClass("zmenu "+this._MENU_CONTENT_TYPES[e.contentType?e.contentType:"text"]).zmenu({usingJSON:!0}),i("body").append(e.submenu)}var a=t.data("zmenu")?t.data("zmenu").options.contentType:this.getData(t).contentType;e["icon"===a?"icon-only":a]=a;var r=i(o(e));if(e.isGroup?r.append(e.submenu):e.menuItems&&e.menuItems.length&&(r.attr("data-menu-id",e.submenuId),e.submenu.data("parent",r)),e.label&&r.attr("data-label",e.label),e.disabled&&r.attr("data-disabled",e.disabled),e.hidden&&r.attr("data-hidden",e.hidden),this.getData(r).parentMenu=t,e.icon&&0===e.icon.indexOf("text:")&&"text"!==this.options.contentType&&r.find("i:first").removeClass(e.icon).text(e.icon.replace("text:","")),r.is(".zmenu__separator")||r.is(".zmenu__title")||this._addEventsForMenuItems(r),e.action&&"string"==typeof e.action&&e.action.indexOf("URL:")!==-1){var l=r.html();e.target=e.target?e.target:"_blank",r.empty().addClass("zmenu--withlink").append(i("<a class='zmenu__link' href='"+e.action.replace("URL:","")+"' target='"+e.target+"'></a>")),r.find(".zmenu__link").append(l)}return e.hasSubmenu&&r.data("submenu",e.submenu?e.submenu:i(e.submenuId)),r},_menuItemUsingElementCreation:function(t,e,s){var o=document.createElement("li");if(e.itemType&&o.setAttribute("data-item-type",e.itemType),e.name&&o.setAttribute("name",e.name),"object"==typeof e.menuItems){var n=e.className?e.className:e.menuClass?e.menuClass:"",a=i("<ul>").attr({id:e.id+"submenu",class:n}),r=this;o.appendChild(a[0]),a.data("usingJSON",!0),this.getData(a).contentType=e.contentType?e.contentType:this.getData(t).contentType,i(e.menuItems).each(function(t,e){e.menu=a,r.addMenuItem(e,s,void 0)})}return o},destroy:function(t){var t=t?t:this.element;if(this._clearMenuTimeout(),this._uninitSliders(t),this.hide(),t.data("usingJSON")||this.options.usingJSON){for(var e=t.find(".zmenu--submenu"),s=0;s<e.length;s++)i(e[s]).data("submenu").zmenu("destroy"),i(e[s]).data("submenu").remove();t.empty()}var o=this.componentName;t.off("mouseup."+o+" keydown.run."+o).removeClass("zmenu zmenu--thumbnail "+this._MENU_CONTENT_TYPES[this.options.contentType]+" "+this.options.menuClass+" "+this.options.className).removeData("zmenu").data("initialized",!1),t.find(".h-scroll_y").removeClass("h-scroll_y"),t.find(".zmenu__pointer").length&&(t.find(".zmenu__pointer").remove(),this._pointerElement=void 0);for(var n=t.find("li"),s=0;s<n.length;s++){var a=n[s],r=this.getData(n[s]),l=i(a).find(".zmenu__text").text()||r.label,h=i(a).is(".is-fixed");i(a).removeData("metadata").empty().removeClass("zmenu__item zmenu__title zmenu__custom zmenu__separator is-disabled is-fixed is-selected").empty().removeAttr("data-label").off("mouseenter mouseleave"),i(a).text(l),h&&i(a).appendTo(t.find("ul:first"))}t.find(".zmenu__header,.zmenu__footer").remove(),t.removeData("fixedArea width height"),this._menuTextArray=[]},updateLastMenuChain:function(t,e){if(this._lastOverlayedMenu=t,!e&&t[0]!==this.element[0]){var i=this._traverseAndFindBaseMenu();i.zmenu("updateLastMenuChain",t,!0)}},_traverseAndFindBaseMenu:function(t){var e=t;if(t=t?t:this.element,t.data("parent"))for(var i=t.data("parent");i;){var e=i.closest(".zmenu");e.is(":visible")?(t=e,i=t.data("parent")):i=!1}return t.closest(".zmenu")},selectHoveredMenuItem:function(){var t=this._lastOverlayedMenuItem;return t&&i(t).trigger("mouseup"),!!t&&t},hoverMenuItem:function(t){return t=i(t),t.length?void this._handleMouseOverOnMenuItems(i(t),{},!0,!1,!0):(this._lastOverlayedMenuItem&&this._lastOverlayedMenuItem.removeClass("on-hover"),void(this._lastOverlayedMenuItem=void 0))},_getAllMenuItems:function(t,e,i,s,o){return t&&t.length||(t=this.element),t.find(".zmenu__item:not([itemType=group], .zc-splitmenu-list-rht"+(o?", .zmenu__separator":"")+(e?", .zmenu--thumbnail":"")+(i?", li ul[mtype=submenu] li":"")+")"+(s?":visible":""))},_handleCheckboxChecked:function(t,e,i){if(this._isGridMenu(t,!0))t[e?"addClass":"removeClass"]("is-selected");else if((i.icon||i.iconClassName||i.SVGIconId)&&"text"!==this.options.contentType)t[e?"addClass":"removeClass"]("is-selected");else{var s=t.find("i:first");if(s.length)if(this.options.checkedCheckboxItemIconClassName&&s.removeClass(this.options.checkedCheckboxItemIconClassName),e){var o={props:{class:"zmenu__tick",viewBox:"-2 -2 20 20",width:"100%",height:"100%"},nodes:[{polygon:{points:"14.6,2.4 4.9,12.1 1.2,8.5 0.4,9.3 4.9,13.8 15.4,3.2"}}]};this._handleIcon(s,o,"checkedcheckbox",this.options.checkedCheckboxItemIconClassName,this.options.checkedCheckboxItemSVGIconId)}else s.find("svg").remove()}t.prop("checked",e).attr({checked:e,"aria-checked":e})},_handleRadioChecked:function(t,e,s){var o=i(t).attr("name"),n=t.closest("ul"),a=this,r=void 0,l=n.find("li[role=menuitemradio][name="+o+"]");e&&(l=l.filter(function(){return i(this).prop("checked")}),l.each(function(t,e){e=i(e),r=a.getData(e),a._fixRadioIcon(e,!1,r)})),a._fixRadioIcon(t,e,s)},_fixRadioIcon:function(t,e,i){var s=this._isGridMenu(t,!0);if(s)t[e?"addClass":"removeClass"]("is-selected");else if(i.icon||i.iconClassName||i.SVGIconId)t[e?"addClass":"removeClass"]("is-selected");else{var o=t.find("i:first");if(o.length)if(this.options.checkedRadioItemIconClassName&&o.removeClass(this.options.checkedRadioItemIconClassName),e){var n={props:{class:"zmenu__radio",viewBox:"-7 -7 64 64",width:"100%",height:"100%"},nodes:[{circle:{cx:"24.5",cy:"24.5",r:"15.5"}}]};this._handleIcon(o,n,"checkedradio",this.options.checkedRadioItemIconClassName,this.options.checkedRadioItemSVGIconId)}else o.find("svg").remove()}t.prop("checked",e).attr({checked:e,"aria-checked":e})},_initRuntimeEvents:function(){var e=this,s=this.componentName;this.element.off("keydown.run."+s).on("keydown.run."+s,function(s){e.handleKeyCode(s.keyCode,s,void 0),(i(s.target).closest(".zmenu__header").length||s.ctrlKey||s.metaKey||s.shiftKey||s.altKey)&&s.keyCode!==t.keyCode.UP&&s.keyCode!==t.keyCode.DOWN&&s.keyCode!==t.keyCode.LEFT&&s.keyCode!==t.keyCode.RIGHT||(s.preventDefault(),s.stopPropagation())})},handleKeyCode:function(e,s,o){var n=this._isGridMenu();switch(s=s?s:{},e){case t.keyCode.UP:if(s.altKey||s.ctrlKey||s.metaKey){var a=this._lastOverlayedMenu.find("li:visible:not('.zmenu__title,.is-disabled'):first");this.hoverMenuItem(a,!0)}else{var r=this._getNextMenuItem(!0);r.length&&(this._scrollToView(r,r.closest(".zmenu").is("ul")?r.closest(".zmenu"):r.closest(".zmenu").find("ul:first")),r.trigger("mouseover"))}break;case t.keyCode.DOWN:if(s.altKey||s.ctrlKey||s.metaKey){var a=this._lastOverlayedMenu.find("li:visible:not('.zmenu__title,.is-disabled'):last");this.hoverMenuItem(a,!0)}else{var r=this._getNextMenuItem();r.length&&(this._scrollToView(r,r.closest(".zmenu").is("ul")?r.closest(".zmenu"):r.closest(".zmenu").find("ul:first")),r.trigger("mouseover"))}break;case t.keyCode.RIGHT:if(void 0!==this._lastOverlayedMenuItem){var l=this.getSubmenu(this._lastOverlayedMenuItem),h=this._lastOverlayedMenuItem.closest(".zmenu");if((n||!l.length&&h.hasClass("zmenu--thumbnail"))&&!o){var d=void 0,a=this._getNextMenuItem(d,d,d,e);this._scrollToView(a,a.closest(".zmenu").is("ul")?a.closest(".zmenu"):a.closest(".zmenu").find("ul:first")),a.trigger("mouseover");break}if(this._lastOverlayedMenuItem.is(".is-disabled"))return;if(l&&l.length){var h=this.getSubmenu(this._lastOverlayedMenuItem);if(!h)return;this.show({forElement:this._lastOverlayedMenuItem,event:s},h),this._lastOverlayedMenuItem=void 0,this._getNextMenuItem(!1,!0).trigger("mouseover")}}else n&&this._lastOverlayedMenu.find("li:not('.zmenu__title,.is-disabled'):not(':hidden'):first").trigger("mouseover");break;case t.keyCode.LEFT:if(void 0!==this._lastOverlayedMenuItem){h=this._lastOverlayedMenuItem.closest(".zmenu");var c=this._lastOverlayedMenu.data("parent"),p=c&&this._isMenuOfMenuItemShown(c),u=h.find(":visible.zmenu__item").not(".zmenu__separator,.is-disabled,.zmenu__title").filter(":first"),m=u[0]==this._lastOverlayedMenuItem[0],_=this._isGridMenu(h);if(_&&!m&&(!p||!m)){var a=this._getNextMenuItem(!0,void 0,void 0,e);this._scrollToView(a,a.closest(".zmenu").is("ul")?a.closest(".zmenu"):a.closest(".zmenu").find("ul:first")),a.trigger("mouseover");break}this._isMenuMainMenu(this._lastOverlayedMenu)||this._hideLastShownMenu()}else n&&this._lastOverlayedMenu.find("li:not('.zmenu__title,.is-disabled'):not(':hidden'):last").trigger("mouseover");break;case t.keyCode.ESCAPE:this.options.renderInPlace||(this._isMenuMainMenu(this._lastOverlayedMenu)?this.hide():this._hideLastShownMenu());break;case t.keyCode.ENTER:case t.keyCode.SPACE:this._lastOverlayedMenuItem&&this._lastOverlayedMenuItem.data("submenu")&&!this._lastOverlayedMenuItem.hasClass("zmenu--split")?this.handleKeyCode(t.keyCode.RIGHT,s,!0):this._lastOverlayedMenuItem?this._lastOverlayedMenuItem.is(".zmenu--withlink")?i(this._lastOverlayedMenuItem).find(".zmenu__link")[0].click():(s.target=i(this._lastOverlayedMenuItem),this._handleMenuItemClick(s,this._lastOverlayedMenuItem.closest(".zmenu"))):this.hide();break;case t.keyCode.PAGE_UP:var a=this._lastOverlayedMenu.find("li:not('.zmenu__title,.is-disabled'):first");this.hoverMenuItem(a,!0);break;case t.keyCode.PAGE_DOWN:var a=this._lastOverlayedMenu.find("li:not('.zmenu__title,.is-disabled'):last");this.hoverMenuItem(a,!0);break;default:var f=String.fromCharCode(e);this._menuTextArray.length&&this.options.handleAccessKeyNavigation&&this._callMenuitemSearch(f,(new Date).getTime())}var v=this.element.find(".on-hover"),g=!!v.length&&(v.data("submenu")&&v.data("submenu").length);s&&"keydown"===s.type&&!g&&this._triggerEvent("KEYDOWN",s,this.element)},_isDisabled:function(t){var e=!!t.attr("disabled")&&t.attr("disabled");return e},_isMenuMainMenu:function(t){return i(t).get(0)===this.element.get(0)},_getNextFloatingMenuItem:function(t,e,s,o,n){var a=void 0,r=o?"top":"left",l=e.length;return i.each(e,function(s,o){o=e[n?l-s-1:s];var h=i(o).position();return h[r]===t[r]?(a=i(o),!1):"top"===r?(a=i(o),!1):void 0}),a},_hideLastShownMenu:function(){var t=this._lastOverlayedMenu.data("parent");this._lastOverlayedMenuItem=t,this.hide(this._lastOverlayedMenu);var e=t.closest(".zmenu");this.updateLastMenuChain(e),this.getData(this.element)._lastOverlayedMenuItem=t},_resetMenuTextArray:function(t){this._menuTextArray=[],this._prevSearchKey="",this._prevKeydownTime="",this._prevSearchIndex="",this._prevSearchTimer=void 0;var e=".zmenu__item:visible:not(.zmenu__title,.is-disabled,.zmenu__separator)";this.options.renderInPlace&&(e=".zmenu__item:not(.zmenu__title,.is-disabled,.zmenu__separator)");for(var s=t.find(e),o=0;o<s.length;o++)this._menuTextArray[this._menuTextArray.length]={text:i(s[o]).find(".zmenu__text").text()||"",menuitem:i(s[o])}},_callMenuitemSearch:function(t,e){var i=!1;""!==this._prevKeydownTime&&e-this._prevKeydownTime>700?(i=this._prevSearchKey==t,this._prevSearchKey=t):this._prevSearchKey=this._prevSearchKey+t,this._prevKeydownTime=e,this._menuitemSearch(i)},_menuitemSearch:function(t){var e=new RegExp("^"+this._prevSearchKey.replace(/[|()\[{.+*?$\\]/g,"\\$0"),"i"),s=t&&this._prevSearchIndex<this._menuTextArray.length?this._prevSearchIndex+1:0;s=s>0&&s<this._menuTextArray.length?s:0;for(var o=s;o<this._menuTextArray.length;o++)if(this._menuTextArray[o].text.match(e)){this._prevSearchIndex=o;for(var n=!1,a=o+1;a<this._menuTextArray.length;a++)this._menuTextArray[a].text.match(e)&&(n=!0);return n||(this._prevSearchIndex=-1),void this._handleMouseOverOnMenuItems(i(this._menuTextArray[o].menuitem),{},!0,!0)}},_getNextMenuItem:function(e,s,o,n){var a=this._lastOverlayedMenu&&0!==this._lastOverlayedMenu.length?this._lastOverlayedMenu:this.element,r=this._isGridMenu(a),l=void 0,h=a.is("ul")?a:a.find("ul:first");if(o=void 0!==o?o:this._lastOverlayedMenuItem,o&&o.length){if(l=o[e?"prevAll":"nextAll"](".zmenu__item:visible").not(".zmenu__separator,.is-disabled,.zmenu__title"),r){var d=o.position(),c=n===t.keyCode.LEFT||n===t.keyCode.RIGHT;l=this._getNextFloatingMenuItem(d,l,e,c),l||a.find(".zmenu__footer").length&&c||(l=o[e?"nextAll":"prevAll"](".zmenu__item:not(.zmenu__separator,.is-disabled,.zmenu__title):visible"),d[c?"left":"top"]=0,l=this._getNextFloatingMenuItem(d,l,e,c,!0))}else l=i(l[0]);l&&l.length||(a.find(".zmenu__footer").length?o.closest(".zmenu__footer").length?o[0]===a.find(".zmenu__footer").find(".zmenu__item:visible").first()[0]?(o.removeClass("on-hover"),l=this._getNextMenuItem(e,s,!1)):l=this._getNextMenuItem(e,s,!1):l=a.find(".zmenu__footer").find(".zmenu__item:visible")[e?"last":"first"]():l=this._getNextMenuItem(e,s,!1))}else l=a.find(".zmenu__footer").length&&!this._lastOverlayedMenuItem?a.find(".zmenu__item:visible:not(.zmenu__title,.is-disabled,.zmenu__separator):"+(e?"last":"first")):h.find(".zmenu__item:visible:not(.zmenu__title,.is-disabled,.zmenu__separator):"+(e?"last":"first"));return this._setLastOverlayedMenuItem(l,s),this._lastOverlayedMenuItem},_setFocus:function(){var t=this,e=function(){t.element.data("parent")&&t.element.data("parent").is(".zmenu__item")||(t.element.focus(),t.element.find(".zmenu__textbox").length&&t.element.find(".zmenu__textbox").focus())};this._triggerEvent("ONBEFOREFOCUS",{},this.element)&&setTimeout(e,100)},refresh:function(t){t=t?t:this.element,this._fixMenuItemsWidth(t)},_fixMenuItemsWidth:function(t,e,i){if(t)return e=e?e:this.getMenuType(t),this._isTypeFloating(e)?this._fixFloatingMenuWidth(t):void 0},getMenuType:function(t){if(t&&t.data("isExternalSubmenu"))return t.zmenu("getMenuType");t=t?t:this.element;var e=this._getMenuTypeFromData(t);return e||(e=this.options.type),e},_getMenuTypeFromData:function(t){var e=this.getData(t);return e.componentOptions?e.componentOptions.type:e.type},_isTypeFloating:function(t,e){return!!(t&&"grid"===t||e&&e.hasClass("zmenu--thumbnail"))},_fixMenuUI:function(t,e,i){t.is(":visible")&&this._fixMenuHeight(t,e||{})},_fixMenuHeight:function(e,s){var o="auto",n=e.is("ul")?void 0:e.find("ul:first");e.height(o),n&&n.height(o),e.removeClass("h-scroll_y");var a="auto"===this.options.direction||"after-pointer"===this.options.direction||"at-cursor"===this.options.direction,r=e.outerHeight(),l=1*e.css("top").split("px")[0]-i(window).scrollTop(),h=t.windowObject?t.windowObject.height:i(window).height(),d=e.data("direction"),c=(d&&0===d.indexOf("bottom")||d&&0===d.indexOf("top"))&&s&&!s.isRightClick?s.availableHeight:h,p=c-r,l=l?l:0;s&&s.isRightClick&&(l=parseInt(l)+2),(l+r>=c&&p<0||!a)&&(o=s&&s.availableHeight&&!s.isRightClick?s.availableHeight:h-l),e.data("height")?o=s&&s.availableHeight&&parseInt(e.data("height"))>=s.availableHeight?s.availableHeight:parseInt(e.data("height")):p>0&&a&&(o=r);this.scrollWidth,this.getData(e);if(r>o)if(e.outerHeight(o),n){var u=e.find(".zmenu__header").length?parseInt(e.find(".zmenu__header").outerHeight(!0))+parseInt(e.find(".zmenu__header").css("margin-top"))+parseInt(e.find(".zmenu__header").css("margin-bottom"))+parseInt(e.css("padding-top")):parseInt(e.css("padding-top")),m=e.find(".zmenu__footer").length?parseInt(e.find(".zmenu__footer").outerHeight(!0))+parseInt(e.find(".zmenu__footer").css("margin-top"))+parseInt(e.find(".zmenu__footer").css("margin-bottom")):parseInt(e.css("padding-bottom")),_=e.find(".zmenu__pointer").length?parseInt(e.find(".zmenu__pointer").outerHeight(!0)):0,f=u+(e.find(".zmenu__footer").length>1?e.find(".zmenu__footer").length*m:m)+_;n.innerHeight(o-f),"slider"===this.options.scroll?(this._initSliders(e),n.addClass("h-overflowhidden")):n.addClass("h-scroll_y"),"slider"===this.options.scroll&&this._initSliders(e),0!==f&&e.outerHeight(o)}else"slider"===this.options.scroll?(this._uninitSliders(e),this._initSliders(e),e.addClass("h-overflowhidden")):(this._uninitSliders(e),e.addClass("h-scroll_y"));else e.removeClass("h-scroll_y")},_findScrollWidth:function(){var t=document.createElement("div"),e="width:100px;height:100px;overflow:scroll;";document.querySelector("body").appendChild(t),t.style.cssText=e;var s=i(t).width()-t.scrollWidth;return document.querySelector("body").removeChild(t),s},_initSliders:function(t){this._createSlider(t),this._createSlider(t,!0)},_uninitSliders:function(t){t=t.is("div")?t.find("ul:first"):t;var e=this.getData(t);e&&e.sliders&&(e.sliders.top&&e.sliders.top.remove(),e.sliders.down&&e.sliders.down.remove(),e.sliders=null),t.off("mousewheel")},_createSlider:function(t,e){t=t.is("div")?t.find("ul:first"):t;var s=e?"top":"down",o=this.getData(t),n=this;o.sliders||(o.sliders={});var a=o.sliders[s];a&&a.remove(),a=i("<div>").addClass("zmenu--scroller zmenu--scroller"+s),o.sliders[s]=a;var n=this;a.hover(function(i){n._startScrolling(t,e)},function(e){n._stopScrolling(t)}).hide(),a.click(function(i){var s=t.scrollTop();return n._stopScrolling(t),t.scrollTop(s+(e?-1:1)),n._startScrolling(t,e),!1});var r=this.componentName;t.off("mousewheel."+r+" DOMMouseScroll."+r+"  MozMousePixelScroll."+r).on("mousewheel."+r+" DOMMouseScroll."+r+"  MozMousePixelScroll."+r,function(e){var i=t.scrollTop(),s=0!==e.originalEvent.detail?e.originalEvent.detail>0:e.originalEvent.wheelDelta<0;s?t.scrollTop(i+6):t.scrollTop(i-6),n._displayScrollElements(t),e.stopPropagation(),e.preventDefault()});var l=t.width();a.css({width:l}),e||a.show();var h=i('<i class="zmenu__icon"></i>'),d=void 0;if(d="top"===s?{props:{viewBox:"-3 -3 22 22",width:"100%",height:"100%"},nodes:[{path:{d:"M0,12l8-8l8,8H0z"}}]}:{props:{viewBox:"-3 -3 22 22",width:"100%",height:"100%"},nodes:[{path:{d:"M16,4l-8,8L0,4H16z"}}]},this._handleIcon(h,d,e?"topscroller":"bottomscroller",e?this.options.scrollUpArrowIconClassName:this.options.scrollDownArrowIconClassName,e?this.options.scrollUpArrowSVGIconId:this.options.scrollDownArrowSVGIconId),i(h).appendTo(a),t.hasClass("zmenu__list")){a.appendTo(t.parent());var c=t.height()-a.outerHeight(!0)+parseInt(t.parent().css("padding-top"));t.parent().find(".zmenu__footer").length?c+=parseInt(t.parent().find(".zmenu__footer").css("margin-top")):c=this._pointerElement?c+Math.ceil(this._pointerElement.outerHeight(!0)/2)+parseInt(t.parent().css("border-bottom-width")):c-parseInt(t.parent().css("border-bottom-width"))-parseInt(t.parent().css("border-top-width")),a.css({left:"0px",top:e?"0px":c})}else{a.insertAfter(t);var p=t.position(),u=e?1:t.outerHeight()-a.outerHeight(!0)-1;a.css({top:p.top+u,left:p.left+1})}return a},_displayScrollElements:function(t){var e=(!t.hasClass("zmenu"),this.getData(t).sliders),i=t.scrollTop();e.top[0===i?"hide":"show"](),e.down[t[0].scrollHeight-i<=t.outerHeight()?"hide":"show"]()},_startScrolling:function(t,e){var i=e?0:t[0].scrollHeight-t.innerHeight(),s=this,o=t.scrollTop()-i,n=Math.abs(1e3*o/50);t.animate({scrollTop:i},{duration:n,easing:"linear",complete:function(){s._displayScrollElements(t)}})},_stopScrolling:function(t){t.stop(),this._displayScrollElements(t)},_hideAllSubMenus:function(t,e){var t=this._traverseAndFindBaseMenu(t);t[0]!=this.element[0]?t.zmenu("hide",void 0,e):this._checkAndHideAllOpenedSubMenus(t,!0,e)},_destroyRuntimeEvents:function(){i(this.element).off(".run."+this.componentName)},_triggerEvent:function(t,e,s,o,n){e=e?e:{},o=o?o:i(e.target).closest(".zmenu__item");var a=!s||s.get(0)==this.element.get(0),r={originalEvent:e,target:s.data("forElement"),forElement:s.data("forElement"),offset:s.offset(),menu:s,isBaseMenu:a,menuitem:o,data:o.length?this._getMenuItemAsObject(o):void 0,itemValue:o.length&&o.data("itemValue")};if(n&&(r=i.extend({},r,n)),s.data("parent")&&t.indexOf("SUBMENU")!==-1){s.zmenu("triggerEvent",t.replace("SUBMENU",""),e,r);var l=s.data("parent").closest(".zmenu");return l.zmenu("triggerEvent",t,e,r)}return this._dispatchEvent(t,e,r,s)},triggerEvent:function(t,e,i){return this._dispatchEvent(t,e,i)},_slope:function(t,e){return(e.y-t.y)/(e.x-t.x)},_saveMenuPoints:function(t,e){var i=this.getData(this.element),s=this._lastOverlayedMenu,o=this.element.offset(),n=s.offset();if(i.constantLoc={x:o.left,y:o.top+e.position().top},o.left>=n.left){var a={x:n.left+s.outerWidth(),y:n.top},r={x:n.left+s.outerWidth(),y:n.top+s.outerHeight()};this.increasingCorner=a,this.decreasingCorner=r}else{var l={x:n.left,y:n.top},h={x:n.left,y:n.top+s.outerHeight()};this.decreasingCorner=l,this.increasingCorner=h}this.prevDecreasingSlope=this._slope(i.constantLoc,this.decreasingCorner),this.prevIncreasingSlope=this._slope(i.constantLoc,this.increasingCorner)},setAttribute:function(t,e){if("height"===t&&this.options.height!==e)this.options.height=parseInt(e),this.element.data("height",parseInt(e)),this._fixMenuHeight(this.element,{});else if("width"===t&&this.options.width!==e)this.options.width=parseInt(e),this.element.data("width",parseInt(e)).width(this.options.width);else if("contentType"===t&&this.options.contentType!==e){"grid"!==this.options.type&&this.element.removeClass(this._MENU_CONTENT_TYPES[this.options.contentType]).addClass(this._MENU_CONTENT_TYPES[e]),this.options.contentType=e;var s=this._getMenuAsObject(this.element);this.element.is("ul")?this.element.empty():this.element.find("ul").empty(),this.addMenuItems(s)}else if("type"===t&&this.options.type!==e)this.element.zmenu("destroy"),this.options.type=e,this.element.zmenu(this.options);else if("search"===t&&this.options.search!==e){if(e)this._createSearchContainer(this.element);else{var o=this.element.find(".zmenu__textbox").parent().attr("class");this.element.find("."+o).remove()}this._fixMenuHeight(this.element,{})}else if("pointer"!==t&&"displayType"!==t||this.options.pointer===e)if("renderInPlace"===t&&this.options.renderInPlace!==e)e||this.element.css({position:"absolute",width:"auto",height:"auto"});else if("menuClass"!==t&&"className"!==t||this.options.menuClass===e&&this.options.className===e){if("handleAccessKeyNavigation"===t&&this.options.handleAccessKeyNavigation!==e)e?this._initRuntimeEvents():this._destroyRuntimeEvents();else if("appendTo"===t)void 0!==e&&i(e).length?this.element.appendTo(i(e)):i("body").append(this.element);else if("checkedCheckboxItemSVGIconId"===t||"checkedCheckboxItemIconClassName"===t||"checkedRadioItemSVGIconId"===t||"checkedRadioItemIconClassName"===t){this.options[t]=e;for(var n,a=this.element.find("li"),r=a.length,l=0;l<r;l++)n=i(a[l]),this._checkMenuItem(n,n.prop("checked"),this.getData(n))}}else this.element.removeClass(this.options.menuClass).addClass(e),this.element.removeClass(this.options.className).addClass(e);else e&&"box"!==e?this._createPointerElement():(this._pointerElement.remove(),this._pointerElement=void 0);this.options[t]=e},checkMenuItems:function(t){t=t?t:this.element.find("[role=menuitemcheckbox],[role=menuitemradio]"),this.setMenuItemsAttribute(t,"checked",!0)},uncheckMenuItems:function(t){t=t?t:this.element.find("[role=menuitemcheckbox],[role=menuitemradio]"),this.setMenuItemsAttribute(t,"checked",!1)},hideMenuItems:function(t){t=t?t:this.element.find("li").filter(function(){return"none"!==i(this).css("display")}),this.setMenuItemsAttribute(t,"hidden",!0)},showMenuItems:function(t){t=t?t:this.element.find("li:not(li[data-hidden=true])"),this.setMenuItemsAttribute(t,"hidden",!1)},setMenuItemsAttribute:function(t,e,s){var o=this;i.each(t,function(t,n){if(n=i(n,o.element),n.length){var a=o.getData(n);if("itemgroup"===a.itemType){var r=i("[name="+n.attr("name")+"]:not(.zmenu__title)",o.element);r.length&&o.setMenuItemsAttribute(r,e,s)}if("icon"!==e&&"iconClassName"!==e&&"SVGIconId"!==e||a[e]===s)"label"===e&&a.label!==s?(a.ellipsis&&(s+="..."),n.find(".zmenu__text").text(s)):"shortcutkey"!==e&&"shortcutKey"!==e||a.shortcutkey===s&&a.shortcutKey===s?"hint"===e||"description"===e&&(a.hint!==s||a.description!==s)?a.hint||a.description?n.find(".zmenu__hint").text(s):n.append(i("<span class='zmenu__hint'/>").text(s)):"disabled"===e||"checked"===e||"hidden"===e?(a[e]=s,o._handleCheckedandDisabled(n,a,e)):"menuId"===e&&a.menuId!==s?(a[e]=s,s?(n.removeData("submenu"),o._buildSubmenu(n,a),o._createArrowIcon(n)):(n.find(".zmenu__icon.h-alignright").remove(),n.removeData("submenu"),n.off("mouseup.submenuitem.zmenu"))):"innerHTML"===e&&"custom"===a.itemType?n.empty().html(s):"itemType"===e&&a.itemType!==s&&("separator"===s?n.removeClass("zmenu__item").addClass("zmenu__separator").empty():"default"===s?n.removeClass("zmenu__title zmenu__custom zmenu__separator").addClass("zmenu__item"):"custom"===s?n.addClass("zmenu__item zmenu__custom"):"itemgroup"===s?n.removeClass("zmenu__item zmenu__custom zmenu__separator").addClass("zmenu__title"):"splitmenu"===s&&(n.removeClass("zmenu__title zmenu__custom zmenu__separator").addClass("zmenu--split"),o._createArrowIcon(n),n.find(".zmenu__shortcut").remove()),n.attr("role",o.ARIA_ROLES[s?s:"default"]),n.attr("data-item-type",s),n[0].setAttribute("role",this.ARIA_ROLES[s?s:"default"])):a.shortcutKey||a.shortcutkey?n.find(".zmenu__shortcut").text(s):(s=window.ZShortCut?ZShortCut.getInfo(void 0,s):s,o.getData(n).shortcutkey=o.getData(n).shortcutKey=s,n.append(i("<span class='zmenu__shortcut'/>").text(s)));else{(a.icon||a.iconClass||a.SVGIconId||n.find(".zmenu__iconcontainer:first").length)&&n.find(".zmenu__iconcontainer:first").remove();var l=i("<i class='zmenu__icon'/>");0===s.indexOf("text:")?(n.prepend(i("<div class='zmenu__iconcontainer'>").append(l)),n.find(".zmenu__icon:first").text(s.replace("text:",""))):(a[e]=s,n.prepend(i("<div class='zmenu__iconcontainer'>").append(o._handleIcon(l,void 0,void 0,a.iconClassName,a.SVGIconId,a.icon))))}a[e]=s}})}};a.updateMenuItems=a.setMenuItemsAttribute,t.registerComponent("zmenu",a),t.createMenu=function(e,s,o){if("object"==typeof e&&(s=e.items,o=e,e=e.id),i("#"+e).data("zmenu"))return i("#"+e);var n=void 0;document.getElementById(e)?(n=i(document.getElementById(e)),"DIV"===n[0].tagName&&n[0].appendChild(document.createElement("ul"))):n=i("<div><ul></ul></div>").attr("id",e);var r=o?o.appendTo:void 0;n[0].className+=" zmenu "+a._MENU_CONTENT_TYPES[o.contentType?o.contentType:"text"]+" "+(o.menuClass?o.menuClass:"")+" "+(o.className?o.className:""),o.type&&o.type.indexOf("grid")!==-1&&(n[0].className+=" zmenu--thumbnail"),o.usingJSON=!0;var l=document.querySelector("body");return void 0!==r&&r.length&&(l=i(r)[0]),l.appendChild(n[0]),t.getOptions(n).type=o.type,n.zmenu(o),s.length?n.zmenu("addMenuItems",s,o?o.addItemCallback:void 0):"",n};var r={}}(ZComponents);var ZShortCut=function(t,e){function i(e,i){if(g&&a(e)){var o=e.keyCode,n="";e.ctrlKey&&(n="ctrl+"),u.isMac()&&e.metaKey&&(n+="cmd+"),e.shiftKey&&(n+="shift+"),e.altKey&&(n+="alt+");var r=String.fromCharCode(o);o>=65&&o<=90&&(o=r.charCodeAt());var l=n;n+=o;var h=f[n];if(!h)for(var d in C)if(C[d]===o.toString()&&(n=l+d.toLowerCase(),h=f[n]))break;if(h){var c=h.keyInfo||{},p=h.element||"",m=h.handleOn,_=h.isDirectInit;if(p=t(p),((i&&"keyup"!==m)===!0||(!i&&"keyup"===m)==!0)&&(_&&c.disabled!==!0||p.length)){if(_){var v=c.elementIds;p=t("#"+(v&&v[0]))}var b=p.length&&S.indexOf(p[0].tagName)!==-1;if(_&&!p.length||!p.is(":disabled")&&b||!b&&!p.is("[disabled]")){var y={ele:p,shortcutKey:h.shortcutKey,fromShortCut:!0};_?s(c.action,p,e,c.params):p.is(":checkbox")&&"click"===h.event?p.each(function(){y.ele=t(this),t(this).triggerHandler(h.event,y)}):p.trigger(h.event,y)}e.stopPropagation(),e.preventDefault()}}}}function s(e,i,s,n){var a=void 0;if(e&&"string"==typeof e){var r=o(e);a=r.callable(n)}else a=t.isFunction(e)?e.apply(i,n):void 0;return void 0!==a?a:!s.isDefaultPrevented()}function o(e){if(e){var i,s=e.split("."),o=window,n="";return t(s).each(function(t,e){i=e.indexOf("()"),o=i>0?o[e.substring(0,i)]():o[e],t==s.length-2&&(n=o)}),{fn:o,base:n,callable:function(){o&&o.call(n,arguments[0])}}}}function n(i,s){s=s||e.getOptions(i);var o=s.shortcutkey||s.shortcutKey||s.key;if(o){_&&s.macShortcut?o=s.macShortcut.key:s.windowsShortcut&&(o=s.windowsShortcut.key);for(var n="object"==typeof o&&t.isArray(o)?o:[o],a=0;a<n.length;a++){var r=n[a];if("object"==typeof n[a]&&(r=_&&n[a].macKey?n[a].macKey:n[a].key,!n[a].key&&!_))return!1;r&&!r.macKey&&_&&(r=r.replace(/ctrl/i,s.skipShortcutFormat?"Cmd":"cmd")),s.skipShortcutFormat||(r=r.toString().toLowerCase()),n[a]=r}return n}}function a(e){if(ZShortCut.discardInputElement){var i=t(e.srcElement);if(0===i.length&&(i=t(e.target)),i.is("input")||i.is("textarea"))return!1}return!0}function r(e){var i,s=e.split("+"),o="";e="";for(var n=0;n<m.length;n++)for(var a=0;a<s.length;a++)i=s[a].trim(),m[n]===i?o+=i+"+":t.inArray(i,m)===-1&&(e=i),""===i&&(e="+");return C[e.toUpperCase()]||(e=e.toUpperCase().charCodeAt(0)),o+=e}function l(t,e,i,s,o,n){var a=r(e);if(a){var l={element:t,event:i,handleOn:s};o&&(l.isDirectInit=!0,l.keyInfo=n),f[a]=l}}function h(t,e){for(var i=t.split("+"),s="",o=[],n=0;n<i.length;n++)i[n].charAt(0)==i[n].charAt(0).toUpperCase()?i[n]=i[n].toUpperCase():_&&b?"cmd"==i[n]?i[n]=e?"command":"":"alt"==i[n]?i[n]=e?"option":"":"shift"==i[n]?i[n]=e?"shift":"":i[n]=i[n].charAt(0).toUpperCase()+i[n].substring(1,i[n].length):i[n]=i[n].charAt(0).toUpperCase()+i[n].substring(1,i[n].length),o.push(i[n]);return s=_&&b?e?o.join(" + "):o.join(""):o.join("+")}function d(){y=!0,e.$document.on("keyup.shortcut",function(t){i(t,!1)})}function c(t){var e=r(t);e&&delete f[e]}function p(t,e,i,s){var o=t.eventName||"click",a=t.handleOn,r=n(null,t);if(_&&t.macShortcut?a=t.macShortcut.handleOn||a:t.windowsShortcut&&(a=t.windowsShortcut.handleOn||a),y||"keyup"!==a||d(),r)for(var c=t.skipshortcutregister||t.skipRegistration,p=0;p<r.length;p++)c||l(e,r[p],o,a,i,t),t.skipShortcutFormat||(r[p]=h(r[p],s));return!!r&&r}var u=e.Browser,m=["ctrl","cmd","shift","alt"],_=u.isMac(),f=(u.isWindows(),{}),v={},g=!0,b=!1,y=!1,C={"<F1>":"112","<F2>":"113","<F3>":"114","<F4>":"115","<F5>":"116","<F6>":"117","<F7>":"118","<F8>":"119","<F9>":"120","<F10>":"121","<F11>":"122","<F12>":"123",PRINTSCREEN:"44",NUMLOCK:"144",PAUSE:"19",INSERT:"45",HOME:"36",PAGEUP:"33",PAGEDOWN:"34",DELETE:"46",END:"35",TAB:"9",CAPSLOCK:"20",WINDOWS:"91",ARROW_UP:"38",ARROW_DOWN:"40",ARROW_LEFT:"37",ARROW_RIGHT:"39",ENTER:"13",BACKSPACE:"8",SPACE:"32",ESCAPE:"27",DOT:"190",".":"190","":"226",91:"219",92:"220",93:"221",61:"187",45:"189",96:"192",44:"188",47:"191",39:"222",59:"186",123:"219",124:"220",125:"221",43:"187",95:"189",126:"192",60:"188",62:"190",63:"191",34:"222",58:"186",33:"49",64:"50",35:"51",36:"52",37:"53",94:"54",38:"55",42:"56",40:"57",41:"48"},S=["BUTTON","INPUT","TEXTAREA","OPTION","SELECT","TEXTAREA","OPTGROUP","FIELDSET"];return e.$document.on("keydown.shortcut",function(t){i(t,!0)}),{discardInputElement:!0,disableAction:function(t){var e=v[t];e&&(e.disabled=!0)},enableAction:function(t){var e=v[t];e&&(e.disabled=!1)},addShortcuts:function(t,e){e=e||{},b=e.shownSymbol;for(var i,t=t instanceof Array?t:[t],s=0;s<t.length;s++){i=t[s];var o=jQuery.extend({},i),n=p(i,i.elements,!0);v[i.actionName]=i,v[i.actionName].shortcutKey=n[0];var n=p(o,o.elements,!0,!0);v[i.actionName].toolTip=n[0]}},register:function(t){var i=e.getOptions(t),s=i.shortcutkey||i.shortcutKey;return i.eventName=s&&s.event?s.event:"click",p(i,t)},getShortcutKey:function(t,e){var i=n(t);if(i){for(var s=0;s<i.length;s++)i[s]=h(i[s],e);return i}return!1},getInfo:function(t,e,i,s){if(t){var o=v[t]||{};return(s?o.toolTip:o.shortcutKey)||o.key||""}return i!==!1&&e?this.register(e):e?this.getShortcutKey(e,s):void 0},isShortcutSymbolEnabled:function(){return _&&b},enable:function(){g=!0},disable:function(){g=!1},deregister:function(t){for(var e=n(t),i=0;i<e.length;i++)c(e[i])}}}(jQuery,ZComponents);!function(t){function e(t,e){return"MODIFY"==e.mode?t*=parseFloat(e.value):"OFFSET"==e.mode?t+=parseFloat(e.value):"ABSOLUTE"==e.mode&&(t=parseFloat(e.value)),t}window.zoho={color:{darken:function(t,e){e=zoho.math.limit(e,0,1);var i=[{mode:"MODIFY",value:1-e}];return this.hsl(t,{luminance:i})},lighten:function(t,e){e=zoho.math.limit(e,0,1);var i=[{mode:"MODIFY",value:1-e},{mode:"OFFSET",value:e}];return this.hsl(t,{luminance:i})},shade:function(t,e){e=zoho.math.limit(e,0,1);var i=[{mode:"MODIFY",value:1-e}];return this.rgb(t,{red:i,green:i,blue:i})},tint:function(t,e){e=zoho.math.limit(e,0,1);var i=[{mode:"MODIFY",value:1-e},{mode:"OFFSET",value:e}];return this.rgb(t,{red:i,green:i,blue:i})},blue:2,green:1,red:0,rgb:function(t,e){return this.modify(t,e,"linearRGB")},luminance:2,saturation:1,hue:0,modify:function(i,s,o){var n=this["to"+o].call(this,i),a=this;return t.each(s,function(i,s){var o=a[i];t.each(s,function(t,i){n[o]=e(n[o],i),n[o]=zoho.math.limit(n[o],0,1)})}),this[o+"toRGB"].call(this,n)},hsl:function(t,e){return this.modify(t,e,"HSL")},tweak:function(e,i){if(!t.isArray(e)){var s=e;e=[s[0],s[1],s[2]]}e=zoho.array.toNum(e);var s=this;return t.each(i,function(t,i){s[t]&&(e=s[t].call(s,e,i))}),e},tolinearRGB:function(e){return e=t.map(e,function(t,e){if(t/=255,t<0)return 0;if(t<=.0405)return t/12.92;if(t<=1){var i=(t+.055)/1.055;return Math.pow(i,2.4)}return 1})},linearRGBtoRGB:function(e){return e=t.map(e,function(t,e){if(t<0)t=0;else if(t<=.0031308)t*=12.92;else if(t<=1){var i=1/2.4;t=1.055*Math.pow(t,i)-.055}else t=1;return Math.round(t*=255)})},toHSL:function(t){var e=t[0],i=t[1],s=t[2],o=Math.max(e,i,s),n=Math.min(e,i,s),a=0;if(o==n)a=0;else if(o==e){var r=(i-s)/(o-n);a=(60*r+360)%360}else if(o==i){var r=(s-e)/(o-n);a=60*r+120}else{var r=(e-i)/(o-n);a=60*r+240}a/=360;var l=(o+n)/510,h=0;return h=o==n?0:l<=.5?(o-n)/(2*l):(o-n)/(2-2*l),h/=255,[a,h,l]},HSLtoRGB:function(e){var i,s=e[0],o=e[1],n=e[2];i=n<.5?n*(1+o):n+o-n*o;var a=2*n-i,r=s,l=r+1/3,h=r,d=r-1/3,c=[l,h,d];return c=t.map(c,function(t,e){t<0?t+=1:t>1&&(t-=1),t%=1,t=t<1/6?a+6*(i-a)*t:t>=1/6&&t<.5?i:t>=.5&&t<2/3?a+6*(i-a)*(2/3-t):a;var s=Math.round(255*t);return s=zoho.math.limit(s,0,255)})},CMYKToRGB:function(t){var e=255*(1-t[0])*(1-t[3]),i=255*(1-t[1])*(1-t[3]),s=255*(1-t[2])*(1-t[3]);return[e,i,s]},RGBToCMYK:function(t){var e=1-t[0]/255,i=1-t[1]/255,s=1-t[2]/255;return min_cmy=Math.min(e,i,s),e=(e-min_cmy)/(1-min_cmy),i=(i-min_cmy)/(1-min_cmy),s=(s-min_cmy)/(1-min_cmy),k=min_cmy,e=isNaN(e)?0:e,i=isNaN(i)?0:i,s=isNaN(s)?0:s,[e,i,s,k]},isDark:function(t){return this.brightness(t)<127.5},rgbToHex:function(e){if("object"!=typeof e){var i=/rgb|rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)/;if(null!=e.match(i)){var s=/\d{1,3}/g;e=e.match(s)}}var o="#";return e?t.each(e,function(t,e){var i=zoho.color.numToHex(e);isNaN(zoho.color.hexToNum(i))&&(i="00"),o+=i}):o="#ffffff",o},RGBToHSV:function(t){var e=t[0]/255,i=t[1]/255,o=t[2]/255,n=Math.min(e,i,o),a=Math.max(e,i,o),r=100*a,l=s=0,h=a-n;if(0==a)return s=l=0,[l,s,r];s=h/a*100;var d=0;h&&(d=e==a?(i-o)/h:i==a?2+(o-e)/h:4+(e-i)/h),l=60*d,l<0&&(l+=360);var c=Math.round;return l=c(100*l)/100,s=c(100*s)/100,r=c(100*r)/100,[l,s,r]},HSVToRGB:function(t){var e=t[0],i=t[1],s=t[2],o=i/100,n=s/100,a=g=b=0,r=function(t,e,i){var s=Math.round;a=s(255*t),g=s(255*e),b=s(255*i)};if(0==o)return r(n,n,n),[a,g,b];360==e&&(e=0);var l=e/60,h=Math.floor(l),d=l-h,c=n*(1-o),p=n*(1-o*d),u=n*(1-o*(1-d));switch(h){case 0:r(n,u,c);break;case 1:r(p,n,c);break;case 2:r(c,n,u);break;case 3:r(c,p,n);break;case 4:r(u,c,n);break;default:r(n,c,p)}return[a,g,b]},hexToRgb:function(e,i){if(e=e.replace("#",""),3==e.length&&(e+=e),6!=e.length){if(!i)return"rgb(0, 0, 0)";e=i}var s="rgb(",o="";return t.each(e.split(""),function(t,e){o=!t%2?e:o+e,t%2&&(_v=zoho.color.hexToNum(o),isNaN(_v)&&(_v=0),s+=_v,t<=4&&(s+=","),o="")}),s+=")"},numToHex:function(t){var e=parseInt(t).toString(16);return 1==e.length?"0"+e:e},hexToNum:function(t){return parseInt(t,16)},brightness:function(t){var e=t[0],i=t[1],s=t[2],o=.299*e+.587*i+.114*s;return o}},math:{limit:function(t,e,i){var s=Math.min(t,i);return Math.max(s,e)},maxLimit:function(t,e){return Math.min(t,e)},minLimit:function(t,e){return Math.max(t,e)},toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},getRotatedValue:function(t,e,i,s,o){var n={},a=zoho.math.toRadians(t);n.a=Math.cos(a),n.c=-1*Math.sin(a),n.b=Math.sin(a),n.d=Math.cos(a),n.e=o*n.b-s*n.d+s,n.f=o-s*n.b-o*n.d;var r=e*n.a+i*n.c+n.e,l=e*n.b+i*n.d+n.f;return{x:r,y:l}},getAngle:function(t,e,i,s,o,n){var a=2*Math.PI;o=o?o:i,n=n?n:s;var r=(e-n)*i,l=(t-o)*s,h=Math.atan2(r,l);return h+=a,h%=a},bezierPoint:function(t,e,i,s,o){var n=Math.pow(1-o,3)*t+3*Math.pow(1-o,2)*o*e+3*(1-o)*Math.pow(o,2)*i+Math.pow(o,3)*s;return n},length:function(t,e,i,s){return Math.sqrt(Math.pow(i-t,2)+Math.pow(s-e,2))},getPointAtDistance:function(t,e){var i=t.start,s=t.end,o=zoho.math.length(i.x,i.y,s.x,s.y);return{x:i.x+e/o*(s.x-i.x),y:i.y+e/o*(s.y-i.y)}},distanceOf:function(t,e,i,s,o){var n=e.y-t.y;o&&(n*=-1);var a=t.x-e.x;o&&(a*=-1);var r=-1*a*t.y-n*t.x,l=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),h=l?(n*i+a*s+r)/l:0;return h},toCubicControlPoints:function(t,e,i,s,o,n){var a=2/3,r=1/3,l=a*i+r*t,h=a*s+r*e,d=a*i+r*o,c=a*s+r*n;return[l,h,d,c]},ifElse:function(t,e,i){return t>0?e:i},cosTan:function(t,e,i){return t*Math.cos(Math.atan2(i,e))},sinTan:function(t,e,i){return t*Math.sin(Math.atan2(i,e))},roundDecimal:function(t,e){var i=Math.pow(10,e),s=Math.round(t*i)/i;return s},modulo:function(t,e){t=parseFloat(t),e=parseFloat(e);var i=zoho.math._getFloatingPointLength,s=Math.pow(10,Math.max(i(t),i(e)));return t*s%(e*s)/s},_getFloatingPointLength:function(t){var e=t.toString().split(".")[1];return e?e.length:0},midPoint:function(t,e){return{x:.5*(t.x+e.x),y:.5*(t.y+e.y)}},getDiff:function(t,e,i){return i||(i=1),{x:(t.x-e.x)*i,y:(t.y-e.y)*i}},gcd:function(t,e){return 0==e?t:this.gcd(e,t%e)}},array:{toNum:function(e){return t.map(e,function(t,e){return 1*t})},sort:function(t,e){return t.sort(zoho.array.sortnum),e&&t.reverse(),t},sortnum:function(t,e){return t-e},compareXY:function(t,e){return t.small?t.small-e.small:t.big?t.big-e.big:void 0},compareZindex:function(t,e){return t.zindex-e.zindex},diff:function(t,e){for(var i=[],s=0;t.length>s;s++)e.indexOf(t[s])==-1&&i.push(t[s]);return i},unique:function(e){var i,s=[],o=e.length;for(i=0;i<o;i++)t.inArray(e[i],s)<0&&s.push(e[i]);return s},clear:function(t){t.splice(0,t.length)}},string:{removeSpace:function(t){return t.replace(/\s+/g,"")}},customMerge:function(){var e,i,s,o,n,a,r=arguments[0]||{},l=1,h=arguments.length,d=!1;if(("boolean"==typeof r||t.isObject(r)&&(r.deep||r.overwrite))&&(d=r.deep?r.deep:r,n=r.overwrite?r.overwrite:[],a=r,r=arguments[1]||{},l=2),"object"==typeof r||t.isFunction(r)||(r={}),h===l)return r;for(;l<h;l++)if(null!=(e=arguments[l]))for(i in e)if(s=r[i],o=e[i],r!==o)if(d&&o&&(t.isPlainObject(o)||t.isArray(o))){var c=s&&(t.isPlainObject(s)||t.isArray(s))?s:t.isArray(o)?[]:{},p=!(!s||!a.skip||t.inArray(i,a.skip)==-1);if(p)continue;t.inArray(i,n)==-1?r[i]=zoho.customMerge(a,c,o):r[i]=t.extend(d,t.isArray(o)?[]:{},o)}else void 0!==o&&(r[i]=o);return r}},zoho.zcolor=function(t){return this.init(t),this},zoho.zcolor.prototype={init:function(t){this.initialColor=t;var t=a(t);t?(this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this.format=t.format,this.initialColor=t.initialColor,this._valid=!0):this._valid=!1},isValid:function(){return this._valid},colorCodeMapping:{hue:"decimal",saturation:"percent",brightness:"percent",lightness:"percent",rgb:"decimal",cmyk:"percent",opacity:"decimal"},getObject:function(e,i){i=i?t.extend({},this.colorCodeMapping,i):this.colorCodeMapping;var s=[this._r,this._g,this._b],o=Math.round,n=function(t){return o(100*t)/100},a=function(t,e){return"percent"===t?n(100*e)+"%":o(360*e)},r=function(t,e){return"percent"===t?n(100*e)+"%":o(255*e)},l=function(t,e){return"decimal"===t?n(e):o(100*e)+"%"};if(/(hsv)/.test(e)){var h=[];return/(hsv)/.test(this.format)?(h[0]=this.initialColor.h,h[1]=this.initialColor.s,h[2]=this.initialColor.v):(h=zoho.color.RGBToHSV(s),/(hsl)/.test(this.format)&&(h[0]=360*this.initialColor.h)),{h:a(i.hue,h[0]/360),s:l(i.saturation,h[1]/100),v:l(i.brightness,h[2]/100),a:l(i.opacity,this._a)}}if(/(hsl)/.test(e))return/(hsl)/.test(this.format)?(hsl[0]=this.initialColor.h,hsl[1]=this.initialColor.s,hsl[2]=this.initialColor.l):(hsl=zoho.color.toHSL(s),/(hsv)/.test(this.format)&&(hsl[0]=this.initialColor.h/360)),{h:a(i.hue,hsl[0]),s:l(i.saturation,hsl[1]),l:l(i.lightness,hsl[2]),a:l(i.opacity,this._a)};if(/(cmyk)/.test(e)){var d=[];return/(cmyk)/.test(this.format)?(d[0]=this.initialColor.c,d[1]=this.initialColor.m,d[2]=this.initialColor.y,d[3]=this.initialColor.k):d=zoho.color.RGBToCMYK(s),{c:l(i.cmyk,d[0]),m:l(i.cmyk,d[1]),y:l(i.cmyk,d[2]),k:l(i.cmyk,d[3])}}return/(hex)/.test(e)?{hex:zoho.color.rgbToHex(s).replace(/#/,""),a:l(i.opacity,this._a)}:{r:r(i.rgb,s[0]/255),g:r(i.rgb,s[1]/255),b:r(i.rgb,s[2]/255),a:l(i.opacity,this._a)}},getPercentageObject:function(t){var e=this.getObject(t);return/(hsv|hsl)/.test(t)?(e.h=e.h/360*100+"%",e.a=100*e.a+"%"):/(rgb)/.test(t)&&(e.r=e.r/255*100+"%",e.g=e.g/255*100+"%",e.b=e.b/255*100+"%",e.a=100*e.a+"%"),e},getColor:function(t,e,i){var s=this.getObject(t,e);if(s){var o=1!==this._a;return i=void 0===i||i,/^(hsv)/.test(t)?(t=i?o?"hsva":"hsv":t,/^(hsva)/.test(t)?"hsva("+s.h+", "+s.s+", "+s.v+", "+s.a+")":"hsv("+s.h+", "+s.s+", "+s.v+")"):/^(hsl)/.test(t)?(t=i?o?"hsla":"hsl":t,/^(hsla)/.test(t)?"hsla("+s.h+", "+s.s+", "+s.l+", "+s.a+")":"hsl("+s.h+", "+s.s+", "+s.l+")"):/^(cmyk)$/.test(t)?"cmyk("+s.c+","+s.m+","+s.y+","+s.k+")":/^(hex)/.test(t)?(t=i?o?"hex8":"hex":t,/^(hex8)/.test(t)?"#"+s.hex+zoho.color.numToHex(255*this._a):"#"+s.hex):(t=i||!/(rgb)/.test(t)?o?"rgba":"rgb":t,/^(rgba)/.test(t)?"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")":"rgb("+s.r+", "+s.g+", "+s.b+")")}},setAlpha:function(t){this._a=n("a",t)},getAlpha:function(){return this._a},setColor:function(t){this.init(t)}};var i=zoho.color.colornames={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},o=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",s="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",o="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{value:new RegExp(i),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+o),cmyk:new RegExp("cmyk"+o),hex3:/^#?([0-9a-f]{1})([0-9a-f]{1})([0-9a-f]{1})$/,hex6:/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/,hex8:/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/}}(),n=function(t,e){var i=/%/.test(e);return e=i?parseFloat(e)/100:parseFloat(e),"h"===t?Math.round(zoho.math.limit(i?360*e:e,0,360)):/(s|v|l)/.test(t)?Math.round(zoho.math.limit(100*e,0,100)):/(c|m|y|k)/.test(t)?Math.round(100*zoho.math.limit(e,0,1))/100:/(r|g|b)/.test(t)?Math.round(zoho.math.limit(i?255*e:e,0,255)):"a"===t?void 0===e||isNaN(e)||e<0||e>1?1:e:void 0},a=function(t){if(t=r(t),"object"==typeof t){var e,i=t.format;if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(i=i||"hsva",t.h=n("h",t.h),t.s=n("s",t.s),t.v=n("v",t.v),e=zoho.color.HSVToRGB([t.h,t.s,t.v])):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")?(i=i||"hsla",t.h=n("h",t.h)/360,t.s=n("s",t.s)/100,t.l=n("l",t.l)/100,e=zoho.color.HSLtoRGB([t.h,t.s,t.l])):t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(i=i||"rgba",t.r=n("r",t.r),t.g=n("g",t.g),t.b=n("b",t.b),e=[t.r,t.g,t.b]):t.hasOwnProperty("c")&&t.hasOwnProperty("m")&&t.hasOwnProperty("y")&&t.hasOwnProperty("k")&&(i=i||"cmyk",t.c=n("c",t.c),t.m=n("m",t.m),t.y=n("y",t.y),t.k=n("k",t.k),e=zoho.color.CMYKToRGB([t.c,t.m,t.y,t.k])),e)return{r:e[0],g:e[1],b:e[2],a:n("a",t.a),format:i,initialColor:t}}},r=function(e){if("string"!=typeof e&&"number"!=typeof e)return Array.isArray(e)?{r:e[0],g:e[1],b:e[2],a:e[3],format:"rgba"}:t.extend({},e);e=e.trim().toLowerCase();var s=!1;if(i[e])e=i[e],s=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0};var n;return(n=o.rgb.exec(e))?{r:n[1],g:n[2],b:n[3],format:"rgb"}:(n=o.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4],format:"rgba"}:(n=o.hsl.exec(e))?{h:n[1],s:n[2],l:n[3],format:"hsl"}:(n=o.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4],format:"hsla"}:(n=o.hsv.exec(e))?{h:n[1],s:n[2],v:n[3],format:"hsv"}:(n=o.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4],format:"hsva"}:(n=o.cmyk.exec(e))?{c:n[1],m:n[2],y:n[3],k:n[4],format:"cmyk"}:(n=o.hex8.exec(e))?{r:zoho.color.hexToNum(n[1]),g:zoho.color.hexToNum(n[2]),b:zoho.color.hexToNum(n[3]),a:Math.round(zoho.color.hexToNum(n[4])/255*100)/100,format:"hex8"}:(n=o.hex6.exec(e))?{r:zoho.color.hexToNum(n[1]),g:zoho.color.hexToNum(n[2]),b:zoho.color.hexToNum(n[3]),format:s?"rgba":"hex"}:(n=o.hex3.exec(e))?{r:zoho.color.hexToNum(n[1]+n[1]),g:zoho.color.hexToNum(n[2]+n[2]),b:zoho.color.hexToNum(n[3]+n[3]),format:"hex"}:void 0};ZComponents.COLORPALETTE={},ZComponents.COLORPALETTE.preset={colors:[{color:"#ffffff",tones:[{function:"shade",percent:10},{function:"shade",percent:20},{function:"shade",percent:40},{function:"shade",percent:60},{function:"shade",percent:80},{function:"shade",percent:90},{function:"shade",percent:100}]},"#ef1616","#ef8216","#efb116","#5dc35a","#38d7bb","#16d0ef","#398ef3","#c516ef","ef166f"],tones:[{function:"tint",percent:90},{function:"tint",percent:80},{function:"tint",percent:60},{function:"tint",percent:40},{function:"tint",percent:20},{function:"shade",percent:30},{function:"shade",percent:70}]},ZComponents.COLORPALETTE.vga={colors:[{color:"000000"},{color:"0000aa"},{color:"00aa00"},{color:"00aaaa"},{color:"aa0000"},{color:"aa00aa"},{color:"aa5500"},{color:"aaaaaa"},{color:"555555"},{color:"5555ff"},{color:"55ff55"},{color:"#55ffff"},{color:"#ff5555"},{color:"#ff55ff"},{color:"#ffff55"},{color:"#ffffff"}]},ZComponents.COLORPALETTE["ms-office"]={colors:[[192,0,0],[255,0,0],[255,192,0],[255,255,0],[146,208,80],[0,176,80],[0,176,240],[0,112,192],[0,32,96],[112,48,160]]}}(jQuery),function(t){function e(){r._text=document.createElement("span"),r._label=document.createElement("label"),r._arrow=document.createElement("i"),r._text.className="zbutton__text",r._arrow.className="zbutton__icon h-floatright"}function i(t){var e=t.tagName?t.tagName:"button",i=document.createElement(e);return i.setAttribute("id",t.id),t.customAttributes&&s(i).attr(t.customAttributes),t.appendTo&&s(t.appendTo)[0].appendChild(i),s(i)[t.componentName](t)}var s=t.DOMUtil,o={options:{appearance:"normal",text:void 0,icon:void 0,iconClassName:void 0,SVGIconId:void 0,size:"medium",disabled:!1,checked:!1,actionInProgress:!1,progressIndicator:{type:"circular",position:"left",direction:"left-to-right",loadingText:"",value:5,iconClassName:void 0,SVGIconId:void 0},constructButton:!0,className:""},attributeList:["data-appearance","data-icon","data-text","data-size","data-disabled","disabled","data-action-in-progress","data-progress-indicator"],_EVENTS:{CLICK:"click",CHANGE:"change",STATECHANGE:"statechange"},_CIRCLEX:{medium:"8px",large:"10.5px",small:"7.5px",mini:"7px"},_CIRCLEY:{medium:"8px",large:"10.5px",small:"7.5px",mini:"7px"},_CIRCLER:{medium:"7",large:"9.5px",small:"6.5px",mini:"6px"},_create:function(){void 0===r._text&&e(),this.options.icon=this.options.icons&&this.options.icons.primary||this.options.icon,this.options.disabled=this.element[0].disabled,this.options.checked=this.element[0].checked,this.element[0].setAttribute("role","button"),this.container="INPUT"===this.element[0].tagName?this._getLabelElement(this.element):this.element,this.options.constructButton&&this._construct(),!this.element.attr("type")&&this.element.attr("type","button"),this._checkAndDisable(),this._bindEvents()},_construct:function(){if(this.options.text=this.options.text?this.options.text:this.options.label?this.options.label:this.element.text().trim(),this.options.text&&""!==this.options.text){var t=r._text.cloneNode();t.textContent=this.options.text,this.container[0].innerHTML="",this.container[0].appendChild(t)}(this.options.icon||this.options.iconClassName||this.options.SVGIconId)&&this._setIcons(),this.container[0].className+=" zbutton "+("normal"!==this.options.appearance?"zbutton--"+this.options.appearance:"")+" zbutton--"+this.options.size+" "+this.options.className,this.container[0].setAttribute("aria-label",this.options.text?this.options.text:this.element.attr("title"))},_setIcons:function(){if(!this.options.actionInProgress||!this.container.find(".zeffects--rotate").length){this.container.find(".zbutton__mainicon").remove();var t=s("<i class='zbutton__icon zbutton__mainicon '></i>"),e=this._handleIcon(t,void 0,void 0,this.options.iconClassName,this.options.SVGIconId,this.options.icon);this.container.prepend(e),(this.options.icon||this.options.iconClassName||this.options.SVGIconId)&&""===this.options.text&&(this.container[0].className+=" zbutton--icononly")}},_bindEvents:function(){var e=this,i=this.componentName;if(this.container.on("click."+i,function(i){e.container.hasClass("is-disabled")||(t.Browser.isFirefox()&&e.container.focus(),e.options.actionInProgress&&e.showProgressIndicator(),e.container.is("label")&&e._check(!0,i),e._dispatchEvent("CLICK",i,{button:e.element}))}),this._input){var e=this;this.container.off("keydown."+i).on("keydown."+i,function(i){if(i.keyCode===t.keyCode.ENTER||i.keyCode===t.keyCode.SPACE)e.container.trigger("click"),i.preventDefault();else if(i.keyCode===t.keyCode.LEFT||i.keyCode===t.keyCode.DOWN){var o=e._input.attr("name"),n=e._input.prevAll("input[type=radio][name="+o+"]")[0];n||(n=e._input.nextAll("input[type=radio][name="+o+"]:last")),s("label[for='"+s(n).attr("id")+"']").trigger("click").trigger("focus")}else if(i.keyCode===t.keyCode.RIGHT||i.keyCode===t.keyCode.UP){var o=e._input.attr("name");n=e._input.nextAll("input[type=radio][name="+o+"]")[0],n||(n=e._input.prevAll("input[type=radio][name="+o+"]:last")),s("label[for='"+s(n).attr("id")+"']").trigger("click").trigger("focus")}})}window.ZShortCut&&ZShortCut.register(this.element)},_checkAndDisable:function(){var t=this.options.disabled;this.element[0].disabled=t,t?(this.container.addClass("is-disabled").attr({"aria-disabled":!0}),this.container.attr("disabled")||this.container[0].setAttribute("disabled",!0)):(this.container.removeClass("is-disabled").removeAttr("aria-disabled"),this.container.attr("disabled")&&this.container.removeAttr("disabled")),this._dispatchEvent("STATECHANGE",{},{button:this.element,disabled:this.options.disabled}),this.options.checked?(this.container.addClass("is-selected").prop("checked",!0).attr("aria-checked",!0),this._input.prop("checked",!0)):(this.container.removeClass("is-selected").removeAttr("checked aria-checked").prop("checked",!1),this._input&&this._input.prop("checked",!1))},_check:function(e,i){if(!this.container.hasClass("is-disabled")){var o=this._input.attr("name"),n=s("input[type=radio][name="+o+"]");e&&"radio"==this._input.attr("type")&&n.each(function(t,e){s(e).prop("checked",!1).next("label").prop("checked",!1),s(e).next(".zbutton").removeClass("is-selected"),s(e).data("zbutton").options.checked=!1}),i&&t.Browser.isFirefox()&&this.container.focus(),"radio"===this._input.attr("type")?this.options.checked=e:this.container.prop("checked")||!e?this.options.checked=!1:e&&(this.options.checked=e),this._checkAndDisable(),i&&this._dispatchEvent("CHANGE",i,{button:this.element})}},_getLabelElement:function(t){var e=t.next("label");return e.length||(e=s("<label>").text(this.options.text).insertAfter(t),this._labelCreated=!0),e.attr({for:t.attr("id"),tabindex:0,class:t.attr("class"),title:t.attr("title")?t.attr("title"):t.attr("data-title"),role:t.attr("type")}),this._input=t.addClass("h-dnone"),e},_createLoaderElement:function(e){var i=s("<i class='zbutton__icon "+("right"!==e||this.container.is(".zbutton--icononly")?"":"h-floatright")+"'></i>"),o=this.options.progressIndicator,n=o.SVGIconId,a=o.iconClassName;if(n||a)this._handleIcon(i,void 0,void 0,a,n);else{var r=t.createSVGElement("svg",{class:"zbutton__svg zbutton__loader zeffects--rotate"},[{circle:{class:"circle__track",cx:this._CIRCLEX[this.options.size],cy:this._CIRCLEY[this.options.size],r:this._CIRCLER[this.options.size]}},{circle:{class:"circle__load",cx:this._CIRCLEX[this.options.size],cy:this._CIRCLEY[this.options.size],r:this._CIRCLER[this.options.size]}}]);i[0].appendChild(r)}return i},setProgressValue:function(t){this._progressElement&&(t>100&&(t=100),this._progressElement.css("width",parseInt(t)+"%"),this.options.progressIndicator.value=t)},getProgressValue:function(){return this._progressElement?100*parseFloat(this._progressElement.outerWidth(!0)/(this.element.outerWidth(!0)-2*parseInt(this.element.css("border")))):0},showProgressIndicator:function(t){var t=t||{},e=this.options.progressIndicator,i=t.type||e.type,o=t.position||e.position,n=t.direction||e.direction,a=t.loadingText||e.loadingText,r=t.value||e.value;this.container.find(".zbutton__loader").length||("circular"===i?((this.options.icon||this.options.iconClassName||this.options.SVGIconId)&&("left"===o||this.container.is(".zbutton--icononly"))&&this.container.find("i:first").remove(),this.container.prepend(this._createLoaderElement(o))):"linear-bar"===i?(this._progressElement=s("<span class='"+("top"===o?"zbutton__topline":"zbutton__bottomline")+"'/>"),this.setProgressValue(r)):"linear-fill"===i&&(this._progressElement=s("<span class='"+("right-to-left"===n?"zbutton__bgprogress--fromright":"zbutton__bgprogress")+"'/>"),this.setProgressValue(r)),""!==a&&this.container.find(".zbutton__text").text(a),this.container.append(this._progressElement).addClass("is-disabled zbutton--loading h-transition"),this.options.actionInProgress=!0)},hideProgressIndicator:function(){this._progressElement&&(this._progressElement.remove(),this._progressElement=void 0),this.options.icon||this.options.iconClassName||this.options.SVGIconId?(this.container.find(".zbutton__icon").remove(),this.container.find(".zbutton__icon").length||this._setIcons()):this.container.find(".zbutton__icon").remove(),this.container.removeClass("zbutton--loading h-transition"),this.options.disabled||this.container.removeAttr("disabled").removeClass("is-disabled"),this.options.text?this.container.find(".zbutton__text").text(this.options.text):(this.container.find(".zbutton__text").remove(),(this.options.icon||this.options.iconClassName||this.options.SVGIconId)&&this.container.addClass("zbutton--icononly"))},destroy:function(){return this._super(),this.container.off("."+this.componentName).empty().removeClass("zbutton zbutton--icononly is-disabled is-selected"),this.container.off("."+this.componentName),this._input&&(this._input.removeClass("h-dnone").removeData("zbutton"),this._input=void 0,this._labelCreated&&this.container.remove()),this.element.text(this.options.text).removeData("zbutton")},setAttribute:function(t,e){if("appearance"===t&&e!==this.options.appearance)this.container.removeClass("zbutton--"+this.options.appearance).addClass("zbutton--"+e);else if("text"!==t&&"label"!==t&&"data-text"!==t||e===this.options.text)if("size"!==t&&"data-size"!==t||e===this.options.size)if("disabled"===t&&this.options.disabled!==e)"string"==typeof e&&(e="true"===e||"disabled"===e),this.options.disabled=e,this._checkAndDisable();else if("icon"!==t&&"data-icon"!==t&&"iconClassName"!==t&&"SVGIconId"!==t||e===this.options[t]){if("checked"===t&&e!==this.options.checked)this._input&&this._check(e,void 0);else if("actionInProgress"===t&&e!==this.options.actionInProgress)this.options[t]=e,e?this.showProgressIndicator():this.hideProgressIndicator();else if("progressIndicator"===t&&this.options.actionInProgress){var i=this.options;i.progressIndicator=s.extend({},i.progressIndicator,e),this.destroy(),this.element.zbutton(i),this.showProgressIndicator()}}else(this.options.icon||this.options.iconClassName||this.options.SVGIconId)&&this.container.find("i:first").remove(),this.options[t]=e,e&&this._setIcons();else this.options.size&&this.container.removeClass("zbutton--"+this.options.size),this.container.addClass("zbutton--"+e),this.options.actionInProgress&&(e=""===e.trim()||"default"===e?"medium":e,this.container.find(".zbutton__loader circle").attr({cx:this._CIRCLEX[e],cy:this._CIRCLEY[e],r:this._CIRCLER[e]}));else if(this.options.text&&""!==this.options.text)this.options.actionInProgress||(e&&""!==e?this.container.find(".zbutton__text").text(e):(this.container.find(".zbutton__text").remove(),this.container.find("i").length&&(this.options.icon||this.options.iconClassName||this.options.SVGIconId)&&this.container.addClass("zbutton--icononly")));else{var o=s("<span class='zbutton__text'>"+e+"</span>");this.options.actionInProgress||(this.container.find("i").length&&(this.options.icon||this.options.iconClassName||this.options.SVGIconId)?o.insertAfter(this.container.find(".zbutton__icon:first")):o[this.container.find("i").length?"prependTo":"appendTo"](this.container),this.container.removeClass("zbutton--icononly"))}this.options[t]=e}},n={options:{menuId:void 0,delay:0,showArrowIcon:!0,arrowIconClassName:void 0,arrowSVGIconId:void 0,activeClass:"is-selected"},_construct:function(){this._super(),this.element[0].className+=" zbutton--menu",this.element[0].setAttribute("aria-haspopup",!0);var t=r._arrow.cloneNode();if(this.options.showArrowIcon){var e=this.options.splitbutton?"zbutton__svg zbutton__splitarrow":"zbutton__svg zbutton__menuarrow",i={props:{class:e,viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{polygon:{points:"3.5,6.5 4.5,5.5 8,9 11.5,5.5 12.5,6.5 8,11"}}]};this._handleIcon(s(t),i,"arrow",this.options.arrowIconClassName,this.options.arrowSVGIconId),this.element[0].appendChild(t)}},destroy:function(){this._super(),this.element.off("."+this.componentName).removeClass("zbutton--menu").removeData("zmenubutton").removeAttr("aria-haspopup")},_bindEvents:function(){var e=this,i=this.componentName,o=t.keyCode;this.element.on("mousedown."+i,function(t){e.element.hasClass("is-disabled")||e.options.menuId&&s.fn.zmenu&&(e.options.delay?window.setTimeout(function(){e._showHideMenu()},e.options.delay):e._showHideMenu())}).on("click."+i,function(t){e._dispatchEvent("CLICK",t,{button:e.element})}).on("keydown."+i,function(t){var i=!1;if(t.keyCode===o.DOWN||t.keyCode===o.UP||t.keyCode===o.LEFT||t.keyCode===o.RIGHT){var n=s("#"+e.options.menuId);i=!0,n.is(":visible")?n.zmenu("handleKeyCode",t.keyCode,t):t.keyCode!==o.UP&&t.keyCode!==o.DOWN||e._showHideMenu()}else(t.keyCode===o.ENTER||t.keyCode===o.SPACE)&&e.options.menuId&&s.fn.zmenu?(i=!0,e._showHideMenu()):t.keyCode!==o.ESCAPE&&t.keyCode!==o.TAB||s("#"+e.options.menuId).zmenu("hide");i&&(t.preventDefault(),t.stopPropagation())}),window.ZShortCut&&ZShortCut.register(this.element)},_showHideMenu:function(){var e=this,i=s("#"+this.options.menuId);!i.is(":visible")||e.options.splitbutton&&i.data("forElement")&&i.data("forElement")[0]!==e.element.closest(".zbutton--split").get(0)||!e.options.splitbutton&&i.data("forElement")&&i.data("forElement")[0]!==e.element.get(0)?(i.zmenu("hide"),i.on("zmenuhide",function(t,i){!e.options.splitbutton&&t.originalEvent&&("mouseup"===t.originalEvent.type?(i&&i.menuitem&&i.menuitem.is(".is-fixed")||e.element.focus(),e.element.removeClass("has-focus")):i&&i.menuitem&&i.menuitem.is(".is-fixed")&&e.element.removeClass("has-focus")),e.element.removeClass(e.options.activeClass)}).on("zmenubeforefocus",function(t){return!1}),i.zmenu(),i.zmenu("show",{forElement:e.options.splitbutton?e.element.closest(".zbutton--split"):e.element}),e.element.addClass(e.options.activeClass),t.$window.on("resize."+this.componentName,function(){i.zmenu("hide")})):(e.element.removeClass(e.options.activeClass),i.zmenu("hide"))}},a={_initialShow:!0,attributeList:["data-appearance","data-icon","data-text","data-size","data-disabled","disabled","data-menu-id"],options:{size:"medium",disabled:!1,updateButtonOnMenuItemClick:!0},_create:function(t,e){var i=t.attr("id"),o=void 0,n=t.next(),a=document.createElement("div");this.splitPair=a,a.setAttribute("class","zbutton--split "+e.className),a.setAttribute("role","splitbutton"),"primary"!==e.appearance&&(a.className+=" zbutton--splitnormal"),i&&(a.setAttribute("id",i+"Container"),o=i+"DropDown"),t[0].parentNode.insertBefore(a,t[0]),!e.menuId&&n.length&&"BUTTON"===n[0].tagName?n=n[0]:(n=document.createElement("button"),n.setAttribute("id",o)),this.menuButton=s(n),n.setAttribute("class","zbutton--icononly");var r={appearance:e.appearance,size:e.size,disabled:void 0!==e.disabled&&e.disabled,delay:e.delay,splitbutton:!0,showArrowIcon:e.showArrowIcon,arrowIconClassName:e.arrowIconClassName,arrowSVGIconId:e.arrowSVGIconId};a.appendChild(t[0]),a.appendChild(n),e.menuId&&n.setAttribute("data-menu-id",e.menuId),t.disabled&&n.setAttribute("disabled",!0),e.splitbuttonAttributes&&s(n).attr(e.splitbuttonAttributes),e.appData&&(r.appData=e.appData),t.removeAttr("data-menu-id"),e.className="",t.attr("title")&&a.setAttribute("title",t.attr("title")),t.removeAttr("title"),t.zbutton(e),this.element=t,s(n).zmenubutton(r),this.options=e,this._bindEvents(),this.container=s(this.splitPair)},_bindEvents:function(){var t=this,e=s("#"+this.options.menuId);this.element.off("click.zbutton"),s(this.splitPair).off("click.zbutton").on("click."+this.componentName,function(i){var o=s(i.target).closest(".zbutton"),n={dropdownButton:t.menuButton};o.hasClass("zbutton--menu")?n.isMenuButton=!0:(t.element.focus(),s.fn.zmenu&&e.zmenu("hide")),t._dispatchEvent("CLICK",i,n)}),window.ZShortCut&&(ZShortCut.register(this.element),ZShortCut.register(this.menuButton)),e.on("zmenubeforeshow",function(e,i){t.options.updateButtonOnMenuItemClick&&t._initialShow?t._hideMenuItem(t.options.menuId,!0):s.noop}).on("zmenushow",function(i,s){if(e.data("forElement")[0]==t.splitPair){var o=s.menu.attr("class");o.match("top")?(t.element.css("border-bottom-left-radius",window.getComputedStyle(t.splitPair,null).borderBottomLeftRadius),t.menuButton.css("border-bottom-right-radius",window.getComputedStyle(t.splitPair,null).borderBottomRightRadius)):o.match("bottom")&&(t.element.css("border-top-left-radius",window.getComputedStyle(t.splitPair,null).borderTopLeftRadius),t.menuButton.css("border-top-right-radius",window.getComputedStyle(t.splitPair,null).borderTopRightRadius)),t._initialShow=!1}}).on("zmenuhide",function(){t.element.css({"border-bottom-left-radius":"","border-top-left-radius":"","border-bottom-right-radius":"","border-top-right-radius":""}),t.menuButton.css({"border-bottom-right-radius":"","border-top-right-radius":"","border-top-left-radius":"","border-bottom-left-radius":""})}),this.options.updateButtonOnMenuItemClick&&e.on("zmenuitemclick",function(i,s){var o=s.menu.data("zmenu").options,n=o.contentType,a=(t.options.icon||t.options.iconClassName||t.options.SVGIconId)&&t.element.data("zbutton").options.text?"icon-text":t.options.icon||t.options.iconClassName||t.options.SVGIconId?"icon":"text";n===a&&(t._hideMenuItem(t.options.menuId,!1),e.zmenu("hideMenuItems",[s.menuitem]),(t.options.icon||t.options.iconClassName||t.options.SVGIconId)&&t.setAttribute("icon",s.data.icon),t.element.data("zbutton").options.text&&t.setAttribute("text",s.data.label),t._dispatchEvent("CHANGE",i,s))})},_hideMenuItem:function(t,e){for(var i=s("#"+t),o=this.element.data("zbutton").options.text,n=this.options.icon||this.options.iconClassName||this.options.SVGIconId,a=i.find("li"),r=0;r<a.length;r++){var l=this.getData(a[r]),h=!l.icon||!n||0===l.icon.indexOf(n),d=!l.label||!o||l.label===o;h&&d&&i.zmenu(e?"hideMenuItems":"showMenuItems",[a[r]])}},getElement:function(){return s(this.splitPair)},setAttribute:function(t,e){return("disabled"===t||"menuId"===t||"data-menu-id"===t||"size"===t||"data-size"===t||"appearance"===t||"data-appearance"===t&&this.options[t]!==e)&&(s(this.menuButton).zmenubutton("setAttribute",t,e),"appearance"===t&&s(this.splitPair)["primary"===e?"removeClass":"addClass"]("zbutton--splitnormal")),this.options[t]=e,this.element.zbutton("object"==typeof t?"setAttributes":"setAttribute",t,e)},destroy:function(){this._super(),s(this.menuButton).remove(),this.element.unwrap().zbutton("destroy").removeData("zsplitbutton")}},r={};t.createButton=function(t){return t.componentName="zbutton",i(t)},t.createSplitbutton=t.createSplitButton=function(t){return t.componentName="zsplitbutton",i(t)},t.createMenubutton=t.createMenuButton=function(t){return t.componentName="zmenubutton",i(t)},t.createUploadbutton=t.createUploadButton=function(t){return t.componentName="zuploadbutton",t.tagName="input",t.customAttributes=t.customAttributes?t.customAttributes:{},t.customAttributes.type="file",i(t)},t.registerComponent("zbutton",o),t.registerComponent("zmenubutton",s.zbutton,n),t.registerComponent("zsplitbutton",s.zbutton,a)}(ZComponents),function(t){var e=t.DOMUtil,i={options:{appearance:"normal",disabled:!1,size:void 0,selectors:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, div",nospriteIcon:!1,spriteIconClassName:"",label:"",labelPosition:"",constructButtonSet:!0},attributeList:["data-appearance","data-disabled","disabled","data-size","data-sprite-icon-class-name"],_EVENTS:{SELECTIONCHANGE:"change"},_create:function(t,e){this._initItems(),this._bindEvents(),this.options.disabled&&this._disable(!0)},_initItems:function(){var t=this;if("bottom"!==this.options.labelPosition&&this.options.label){var i=e("<button>").attr({disabled:"true",class:"zbutton--group__label"}).text(this.options.label);"right"===this.options.labelPosition?i.insertAfter(this.element.children(":last")):i.insertBefore(this.element.children(":first"))}this._items=this.element[0].querySelectorAll(this.options.selectors+":not([ctype])"),this.element[0].className+=" zbutton--group "+this.options.className,this.element[0].setAttribute("role","buttongroup"),this.element.data("zbuttongroup",!0),this.element.data("componentName",this.componentName);for(var s in this._items)if(this._items.hasOwnProperty(s)&&"length"!==s){var o=e(this._items[s]),n=t.getData(o);if(n.constructButton=t.options.constructButtonSet,!t.options.nospriteIcon&&!n.nospriteIcon&&n.icon&&t.options.spriteIconClassName&&(n.icon=t.options.spriteIconClassName+" "+n.icon),"zbuttonset"===n.ctype)t.element.data("mainButtonset",!0),o.data("innerButtonset",!0).addClass("zbutton--group__inner"),o.append(e("<span>").attr("class","ui-components-icon zc-btn-group-separator ui-icon-dot-separator")),o.zbuttonset(n);else{n.appearance=t.options.appearance,n.size=t.options.size;var a=o[0].tagName;"INPUT"!==a&&"BUTTON"!==a&&"A"!==a&&"DIV"!==a||("INPUT"===a&&o.attr("data-ignoretrack","true"),"zmenubutton"===n.ctype?o.zmenubutton(n):"zsplitbutton"===n.ctype?o.zsplitbutton(n):o.zbutton(n))}}},_bindEvents:function(){var t=this;this.element.on("zbuttonchange."+this.componentName,function(e,i){t._dispatchEvent("SELECTIONCHANGE",e,i)})},destroy:function(){var t=this;e.each(this._items,function(i,s){var o=t.getData(e(s));o.buttonset?e(s).zbuttonset("destroy"):e(s).zbutton("destroy")}),this.element.removeAttr("role aria-disabled").removeClass("zbutton--group").off(".zbuttonset").removeData("zbuttonset")},_disable:function(t){this.element[t?"addClass":"removeClass"]("is-disabled").attr("aria-disabled",t),this.setButtonsAttribute(this._items,"disabled",t)},_changeAppearance:function(t){this.setButtonsAttribute(this._items,"appearance",t)},_changeSizes:function(t){this.setButtonsAttribute(this._items,"size",t)},setButtonsAttribute:function(t,i,s){var o="string"==typeof t?t.split(","):t;e.each(o,function(t,o){e(o).length&&e(o).zbutton("option",i,s)})},setAttribute:function(t,i){if("disabled"===t&&i!==this.options.disabled)this._disable(i);else if("appearance"===t&&i!==this.options.appearance)this._changeAppearance(i);else if("size"===t&&i!==this.options.size)this._changeSizes(i);else if("spriteIconClassName"!==t&&"data-no-sprite-icon"!==t||i===this.options.spriteIconClassName){if("selectors"===t&&this.options.selectors!==i)this.destroy(),this.options.selectors=i,this.element.zbuttonSet(this.options);else if("labelPosition"===t&&this.options.labelPosition!==i)if(""===this.options.labelPosition){var s=e("<button>").attr({disabled:"true",class:"zbutton--group__label"}).text(this.options.label);"right"===this.options.labelPosition?s.insertAfter(this.element.children(":last")):s.insertBefore(this.element.children(":first"))}else this.element.find(".zbutton--group__label")["right"===i?"append":"prepend"](this.element)}else{var o=this;e.each(this._items,function(t,s){var n=o.getData(e(s)),a=e(s).is("input")?e(s).next("label.zbutton"):e(s).zbutton("getElement");n.nospriteIcon||a.find(".zbutton__icon").removeClass(o.options.spriteIconClassName+" "+n.icon).addClass(i+" "+n.icon)})}this.options[t]=i}};t.createButtonset=t.createButtonSet=function(t){var i,s=document.createElement("div");s.setAttribute("id",t.id),t.customAttributes&&e(s).attr(t.customAttributes),t.appendTo&&e(t.appendTo)[0].appendChild(s);for(var o=0;o<t.buttons.length;o++)tagName=t.buttons[o].tagName?t.buttons[o].tagName:"button",i=document.createElement(tagName),i.setAttribute("id",t.buttons[o].id),t.buttons[o].customAttributes&&e(i).attr(t.buttons[o].customAttributes),e(i).data("metadata",t.buttons[o]),s.appendChild(i);return e(s).zbuttonset(t)},t.registerComponent("zbuttonset",i)}(ZComponents),function(t){var e=t.DOMUtil,i={options:{directory:!1,accept:"",maxAllowedSize:void 0,maxAllowedFiles:void 0,multiple:!1,labels:{exceedsAllowedSize:"Maximum File Size Exceeded",exceedsAllowedFiles:"Number of Files Exceeded"},errorMessage:{exceedsAllowedSize:void 0,exceedsAllowedFiles:void 0}},attributeList:["data-appearance","data-disabled","disabled","data-size","data-icon","data-text","data-multiple","multiple","data-directory","directory","accept","data-accept","data-sprite-icon-class-name","data-error-message","data-max-allowed-size","data-max-allowed-files"],_construct:function(){this._super(),this.container.attr("role","uploadbutton");var t=this;if(!this.container.is("label")){this._input=e("<input type='file' class='h-dnone'/>"),e(["accept","disabled","multiple","type","directory"]).each(function(e,i){t.element.attr(i)&&t._input.attr(i,t.element.attr(i))});var i=this.container.outerWidth();this.container.append(this._input.css("width",i)).css("position","relative")}this.options.multiple&&this._input.attr("multiple",!0),this.options.directory&&this._input.attr({webkitdirectory:"",directory:"",mozdirectory:"",odirectory:"",msdirectory:""}),""!==this.options.accept&&this._setAcceptAttribute()},_setAcceptAttribute:function(){var t=this.options.accept.split(","),e="";if(""!==this.options.accept)for(var i=0;i<t.length;i++)e=e+t[i]+",";this._input.attr("accept",e)},_bindEvents:function(){var i=this,s=this.componentName;this._input.on("change."+s,function(t){var s=i._input.prop("files"),o={},n=(parseInt(i.options.maxAllowedSize),0);return i.options.maxAllowedFiles&&s.length>parseInt(i.options.maxAllowedFiles)?(i.value="",void(ZAlertDialog?(ZAlertDialog.close(),ZAlertDialog.open({type:"error",primaryMessage:i.options.errorMessage.exceedsAllowedFiles||i._localize("exceedsAllowedFiles")})):alert(i.options.errorMessage.exceedsAllowedFiles||i._localize("exceedsAllowedFiles")))):(i.options.maxAllowedSize&&e.each(s,function(t,e){return n+=parseFloat(e.size),i._checkMaximumAllowedSize(n)?void(ZAlertDialog?(ZAlertDialog.close(),ZAlertDialog.open({type:"error",primaryMessage:i.options.errorMessage.exceedsAllowedSize||i._localize("exceedsAllowedSize")})):alert(i.options.errorMessage.exceedsAllowedSize||i._localize("exceedsAllowedSize"))):(o[t]=s[t],void(o.length=t+1))}),void((o.length||void 0==i.options.maxAllowedSize)&&i._dispatchEvent("change",t,{input:i._input,value:i._input.val(),files:o.length<s.length?o:s},i._input)))}),this.container.off("keydown."+s).on("keydown."+s,function(e){e.keyCode!==t.keyCode.ENTER&&e.keyCode!==t.keyCode.SPACE||i.container.trigger("click")}),window.ZShortCut&&ZShortCut.register(this.element)},_checkMaximumAllowedSize:function(t){var e=this.options.maxAllowedSize,i=e,s=i.indexOf("kb"),o=i.indexOf("mb"),n=i.indexOf("gb"),a=i.indexOf("tb");return e=s!==-1?1024*parseInt(i.split("kb")[0]):e,e=o!==-1?1024*parseInt(i.split("mb")[0])*1024:e,e=n!==-1?1024*parseInt(i.split("gb")[0])*1024*1024:e,e=a!==-1?1024*parseInt(i.split("tb")[0])*1024*1024*1024:parseInt(e),Math.ceil(t)>Math.ceil(e)},setAttribute:function(t,e){if("directory"===t||"data-directory"===t&&this.options.directory!==e)e?this._input.attr({webkitdirectory:"",directory:"",mozdirectory:"",odirectory:"",msdirectory:""}):this._input.removeAttr("webkitdirectory directory mozdirectory odirectory msdirectory");else if("accept"===t||"data-accept"===t&&this.options.accept!==e)this.options.accept=e,this._setAcceptAttribute();else if("multiple"===t||"data-multiple"===t&&this._input.attr("multiple")!==e)this._input[e?"attr":"removeAttr"]("multiple","");else{if("disabled"!==t||this.options.disabled===e)return this._super(t,e);this._super(t,e),this._input[e?"attr":"removeAttr"]("disabled","")}}};t.registerComponent("zuploadbutton",e.zbutton,i)}(ZComponents),function(t){var e=t.DOMUtil,i={options:{dataSource:{dataType:"json",type:"GET"},searchIcon:!1,dataMapping:void 0,cacheServerResponse:!0,searchKeywordSubsetsInCache:!1,isResponseFiltered:!1,isResponsePaginated:!1,search:{minKeywordLength:0,maxKeywordLength:50,by:void 0,criteria:"contains",delay:100},autoComplete:!1,placeholder:!1,isImageSourceSprited:!1,dropdownList:{contentType:"text",progressIndicatorSVGIconId:void 0,progressIndicatorIconClassName:void 0,height:350,width:void 0,moreResultsAction:!1,appendTo:void 0,sortResults:!0,position:"auto",maxDisplayResults:void 0,animation:void 0,focusFirstItem:!0,highlightKeyword:!1,menuClassName:void 0,showNoResultsMessage:!1},showDropDownListOnFocus:!1,lazyLoadData:!0,className:void 0,disabled:!1,messages:{noResults:"No results found.",moreAction:"See more results",serverError:"Server request failed. Please try again later"}},_EVENTS:{ITEMSELECT:"listitemselect",FOCUS:"focus",ITEMFOCUS:"listitemfocus",MENUBEFOREOPEN:"dropdownlistbeforeopen",MENUAFTEROPEN:"dropdownlistopen",MENUBEFORECLOSE:"dropdownlistbeforeclose",MENUAFTERCLOSE:"dropdownlistclose",CHANGE:"change",BEFORESEARCH:"beforesearch",SEARCHSUCCESS:"searchsuccess",SEARCHERROR:"searcherror",MOREACTIONSELECT:"moreactionclick"},_CONSTANTS:{minKeywordLength:20,maxResults:10},_create:function(t,e){this._constructContainer(),this._initialize(t,e),this._bindEvents(),this._bindMenuEvents(),this._initSource(),this._cachedData={},this.options.isResponsePaginated&&(this._params={pages:void 0})},_constructContainer:function(){this.options.dropdownList.forElement=this.element,this._element=this.element,this._element.addClass("zsuggestfield-element"),this._input=this.element,this._elementId=(this.element.attr("id")?this.element.attr("id"):Math.floor(1e6*Math.random()))+this.componentName,this._input.attr({"aria-haspopup":"true","aria-expanded":"false","aria-owns":this._elementId+"-menu",role:"search"}),this.options.className&&this._element.addClass(this.options.className)},_initialize:function(){this._dataMapping=this.options.dataMapping;var i=this.options.dropdownList,s=this.options.isImageSourceSprited;switch(this.options.placeholder&&this.element.attr("placeholder",this.options.placeholder),i.contentType){case"image-text-desc":case"image-text":this._type="icon-text";break;case"text":case"text-desc":this._type="checkbox"===i.itemType?"icon-text":"text"}this.options.dataSource instanceof Array&&"string"==typeof this.options.dataSource[0]&&(this._type="text");var o=(this.element.attr("id")||Math.floor(1e6*Math.random()))+"-"+this.componentName+"-menu",n=e("#"+o);n.length&&(n.data("zmenu")&&n.zmenu("destroy"),n.remove()),this._menu=t.createMenu(o,{},{forElement:i.forElement,scroll:"default",contentType:this._type,direction:"after-cursor"!==i.position?i.position:"auto"}),"icon-text"!==this._type||"text"===i.contentType||"text-desc"===i.contentType||s||(this._menu.addClass("zsuggestfield"),"image-text-desc"===i.contentType&&this._menu.addClass("zmenu--withhint")),"image-text"===i.contentType&&"checkbox"===i.itemType&&s&&this._menu.addClass("zsuggestfield--withicon"),"image-text-desc"===i.contentType&&"checkbox"===i.itemType&&s&&this._menu.addClass("zsuggestfield zsuggestfield--withiconandhint"),this._dataMapping&&this._dataMapping.groupLabel&&(this.options.lazyLoadData=!1),this.options.search.minKeywordLength>this._CONSTANTS.minKeywordLength&&(this.options.search.minKeywordLength=this._CONSTANTS.minKeywordLength),void 0===i.maxDisplayResults&&this.options.lazyLoadData&&(i.maxDisplayResults=this._CONSTANTS.maxResults),i.appendTo&&this._menu.zmenu("option","appendTo",i.appendTo),i.menuClassName&&this._menu.addClass(i.menuClassName),void 0!==i.height&&this._menu.zmenu("option","height",i.height),void 0!==i.width&&this._menu.zmenu("option","width",i.width)},_bindEvents:function(){var e=this.componentName;this._element.on("keydown."+e,this._keydowHandler.bind(this)).on("keyup."+e,this._keyupHandler.bind(this)).on("mousedown."+e,this._mousedownHandler.bind(this)).on("paste."+e,this._pasteHandler.bind(this)),t.$document.on("mousedown."+e,this._docClickHandler.bind(this))},_docClickHandler:function(t){var i=e(t.target),s=this._element.val(),o=e(document.activeElement);if(i.closest(".zsuggestfield-element")[0]!==this._element[0]&&o!==this._element[0]&&i.closest(".zmenu").attr("id")!==this._menu.attr("id")&&s!==this._oldVal){var n=this._currentData?{}:void 0;n=this._getData(this._currentData),this._dispatchEvent("CHANGE",{value:s,data:n},t),this._oldVal=this._element.val()}},_pasteHandler:function(t){setTimeout(this._searchTimeout.bind(this,this._element.val(),this._element,t),200)},_mousedownHandler:function(t){var e=this._element.val();e=e.substring(0,this._element[0].selectionStart),this._searchTimeout(e,this._element,t)},_keydowHandler:function(e){var i=t.keyCode;if(void 0!==this._menu&&!this._menu.is(":visible"))return e.keyCode!==i.DOWN||this._ajaxSource||this._search("",this._element,e),e.keyCode===i.ENTER&&t.$document.trigger("click"),!0;switch(e.keyCode){case i.UP:case i.DOWN:case i.TAB:case i.ESCAPE:e.preventDefault(),!this._isLoaderInited&&this._menu.zmenu("handleKeyCode",e.keyCode);break;case i.ENTER:e.preventDefault(),!this._isLoaderInited&&this._menu.zmenu("handleKeyCode",e.keyCode),t.$document.trigger("click")}},_keyupHandler:function(e){var i=this._element.val(),s=t.keyCode;(e.keyCode>=186&&e.keyCode<=192||e.keyCode>=219&&e.keyCode<=222||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=65&&e.keyCode<=90||e.keyCode===s.SPACE||e.keyCode===s.BACKSPACE||e.keyCode===s.DELETE)&&this._searchTimeout(i,this._element,e),e.keyCode===s.TAB&&this._menu.is(":visible")&&this._menu.zmenu("selectHoveredMenuItem")},_bindMenuEvents:function(){this._menu.off("zmenuitemclick").on("zmenuitemclick",this._handleItemClick.bind(this)).off("zmenubeforefocus").on("zmenubeforefocus",function(t,e){return!1}).off("zmenuitemhover").on("zmenuitemhover",this._handleItemHover.bind(this)).off("zmenubeforeshow").on("zmenubeforeshow",this._handleMenuBeforeShow.bind(this)).off("zmenushow").on("zmenushow",this._handleMenShow.bind(this)).off("zmenubeforehide").on("zmenubeforehide",this._handleMenuHide.bind(this)).off("zmenuhide").on("zmenuhide",this._handleMenuHide.bind(this))},_handleMenuBeforeHide:function(t,e){this._dispatchEvent("MENUBEFORECLOSE",{value:e},t)},_handleMenuHide:function(t,e){this._input&&this._input.attr("aria-expanded","false"),this._dispatchEvent("MENUAFTERCLOSE",{value:e},t),t.stopImmediatePropagation()},_handleMenShow:function(t,e){this._input&&this._input.attr("aria-expanded","true"),this._dispatchEvent("MENUAFTEROPEN",{value:e},t)},_handleMenuBeforeShow:function(t,e){!this.options.isImageSourceSprited||"checkbox"!==this.options.dropdownList.itemType||"image-text"!==this.options.dropdownList.contentType&&"image-text-desc"!==this.options.dropdownList.contentType?this.options.isImageSourceSprited||"image-text"!==this.options.dropdownList.contentType&&"image-text-desc"!==this.options.dropdownList.contentType||this._menu.removeClass("zmenu--iconwithtext"):this._menu.removeClass("zmenu--iconwithtext"),this._dispatchEvent("MENUBEFOREOPEN",{value:e},t)},_handleItemHover:function(t,e){var i=this._elementId;return e.menuitem.attr("id")!==i+"noresults"&&e.menuitem.attr("id")!==i+"loaderror"&&e.menuitem.attr("id")!==i+"loader"&&(this.options.autoComplete&&this._handleHover(t,e),void this._dispatchEvent("ITEMFOCUS",{value:e.menuitem},t))},_handleItemClick:function(t,e){this._handleSelection(t,e)},_mapJSONToData:function(t,e){if(void 0!==e&&void 0!==t){for(var e=e.split("."),i=0;i<e.length;i++)t=t[e[i]];return t}},_getData:function(t){var e={};if(t)for(var i in t)this._dataMapping[i]&&(e[this._dataMapping[i]]=this._mapJSONToData(t,i));return e},_handleHover:function(t,e){var i=this._elementId;e.menuitem.attr("id")===i+"noresults"||e.menuitem.hasClass("zmenu__title")||e.menuitem.attr("id")===i+"moreaction"||(this._isJSONSource?this._element.val(e.menuitem.data().itemValue.text):this._element.val(e.menuitem.data().metadata.label))},_initSource:function(){var t=this.options.dataSource;if(e.isArray(t)?(this._isJSONSource="object"==typeof t[0],this._responseData=this.options.dataSource):"object"==typeof t&&t.URL&&(this._ajaxSource=!0,this._isJSONSource=!0),!this._isJSONSource){var i=this.options;this._initialContentType=this.options.dropdownList.contentType,i.isImageSourceSprited=i.isResponsePaginated=i.isResponseFiltered=!1,i.dropdownList.contentType="text"}},_searchTimeout:function(t,e,i){this._newQuery=!0,clearTimeout(this._searchTimer),this.options.search.delay&&(this._searchTimer=setTimeout(this._search.bind(this,t,e,i),this.options.search.delay))},_addLoaderIcon:function(i){var s=this.options.dropdownList;if(s.progressIndicatorIconClassName||s.progressIndicatorSVGIconId)if(s.progressIndicatorIconClassName)i.addClass(s.progressIndicatorIconClassName);else{var o=s.progressIndicatorSVGIconId,n=o.split(" ")[0],a=o.slice(n.length).trim();i.append(e("<svg class='"+a+"'><use xlink:href='"+n+"'></use></svg>"))}else{var r=t.createSVGElement("svg",{class:"zmenu__svg zmenu__loader zeffects--rotate"}),l=t.createSVGElement("circle",{class:"circle__track"}),h=t.createSVGElement("circle",{class:"circle__load"});r.appendChild(l),r.appendChild(h),i[0].appendChild(r)}return i},_initLoader:function(t,i){this._isLoaderInited=!0;var s=e("<i class='zmenu__icon h-loading'>");s=this._addLoaderIcon(s),this._loader=this._menu.zmenu("addMenuItem",{id:this._elementId+"loader",fixed:!0,innerHTML:s,itemType:"custom",itemCssClass:"zsuggestfield__nonselectable"}),this._loader.closest(".zmenu__footer").removeClass("zmenu__footer").addClass("zmenu--loading"),this._menu.zmenu("show",{mustBeShown:!0,preventHover:!0}),this._makeAjaxRequest(t,i)},_search:function(t,i,s){this._filteredResult=[];var o=e.Deferred();this._currentData=void 0,this._request&&(this._request.abort(),this._removeLoader(),this.options.isResponsePaginated&&this._params&&(this._params.pages=void 0)),this.options.lazyLoadData&&(this._pageIndex=0,this.options.isResponsePaginated&&this._params&&(this._params.pages=void 0));var n=this.options.dataSource;if(this._params=e.extend(!0,{},this._params,{query:t}),void 0!==t&&t.length>=this.options.search.minKeywordLength&&t.length<this.options.search.maxKeywordLength){var a=this._dispatchEvent("BEFORESEARCH",{data:this._params},s);if(this._ajaxSource)if(a)if(t in this._cachedData)this._responseData=this._cachedData[t],this.options.isResponseFiltered?this._filteredResult=this._responseData:this._filterSuggestions(t),this._renderSuggestions(i,s);else if(n.queryParam&&n.searchKeywordSubsetsInCache&&this.options.cacheServerResponse&&!this.options.isResponsePaginated){for(var r=!1,l=this._params.query.length-1;l>=1;l--){var t=this._params.query.slice(0,l);if(t in this._cachedData){this._responseData=this._cachedData[t],r=!0;break}}r?(this._filterSuggestions(this._params.query),this._cachedData[this._params.query]=this._filteredResult,this._renderSuggestions(i,s)):(this._menu.zmenu("removeMenuItems"),this._callLoader(i,s))}else this._menu.zmenu("removeMenuItems"),n.queryParam?this._callLoader(i,s):this._requestInitialized?(this._filterSuggestions(t),this._renderSuggestions(i,s)):(this._callLoader(i,s),this._requestInitialized=!0);else this._menu.is(":visible")&&this._hideSuggestions();else this._responseData=this.options.dataSource,this._filterSuggestions(t),this._renderSuggestions(i,s)}else"string"==typeof t&&0===t.length&&0===this.options.search.minKeywordLength?this._ajaxSource?this.options.showDropDownListOnFocus?(this._menu.zmenu("removeMenuItems"),n.queryParam?this._callLoader(i,s):this._requestInitialized?(this._filteredResult=this._responseData,this._renderSuggestions(i,s)):(this._callLoader(i,s),this._requestInitialized=!0)):(this._removeLoader(),this._menu.is(":visible")&&this._hideSuggestions()):(this._params={query:t},this._filteredResult=this.options.dataSource.slice(),this._sortResults(),this._renderSuggestions(i,s)):(this._removeLoader(),this._menu.is(":visible")&&this._hideSuggestions());return this._newQuery=!1,o.promise()},_callLoader:function(t,e){this._initLoader(t,e),this._menu.css("height","70px"),this._menu.find(".zmenu--loading").find("ul").css("height","100%")},_handleSelection:function(t,i){if(this._oldVal=this.element.val(),i.menuitem.attr("id")===this._elementId+"noresults"||i.menuitem.hasClass("zmenu__title")||i.menuitem.hasClass("zsuggestfield__nonselectable"))this._element.focus();else if(i.menuitem.attr("id")===this._elementId+"moreaction"){var s=this.options.dropdownList.moreResultsAction;this._dispatchEvent("MOREACTIONSELECT",{value:i.menuitem,query:this._params.query}),s&&e.isFunction(s)&&s()}else{if(this._isJSONSource){var o=i.menuitem.data().metadata,n=void 0!==o.itemValue?o.itemValue.text:this._mapJSONToData(o,this._dataMapping.text);this._currentData=o.itemValue,this._element.val(n)}else this._element.val(i.menuitem.data().metadata.label);var a={};a=this._getData(this._currentData),this._dispatchEvent("ITEMSELECT",{value:i.menuitem,data:a}),this._element.focus()}},_makeAjaxRequest:function(t,e){var i=this.options.dataSource;i.sourceURL="function"==typeof i.URL?i.URL.call(this.element,this._params):i.URL,i.data="function"==typeof i.queryParam?i.queryParam.call(this.element,this._params):i.queryParam,this._requestData(t,e)},_successCallback:function(t,e,i){var s=this.options.dataSource;if(this._filteredResult=[],this._request=void 0,this._isLoaderInited=!1,this._response=s.success(i,this._params),this._responseData=this._response.results,this._isJSONSource="object"==typeof this._responseData[0],this._dispatchEvent("SEARCHSUCCESS",this._responseData,e),this._response.more&&void 0!==this._params.pages&&this.options.lazyLoadData){this._cacheResponse(this._responseData),this._filteredResult=this._responseData,this._totalResponse=this._filteredResult,this._spliceResults(),this._pageIndex=0;var o=this._menu.find("ul").scrollTop();this._removeLoader(),this._renderMenu(t),this._menu.find("ul").scrollTop(o)}else{if(void 0!==this._params.pages)return void this._removeLoader();this._cacheResponse(this._responseData),this.options.isResponseFiltered?this._filteredResult=this._responseData:this._filterSuggestions(this._params.query),this._renderSuggestions(t,e)}},_spliceResults:function(){var t=this.options.dropdownList.maxDisplayResults;t&&(this._totalPages=Math.ceil(this._filteredResult.length/t),this._filteredResult=this._filteredResult.slice(0,t))},_cacheResponse:function(t){var e=this._cachedData[this._params.query];this.options.cacheServerResponse&&(this._cachedData[this._params.query]=e&&e.length?e.concat(t):t)},_removeLoader:function(){this._loader&&(this._menu.find(".zmenu--loading").remove(),this._loader=null),this._menu.removeData("fixedArea")},_failureCallback:function(t,i,s){if("abort"!==i.statusText){var o=this.options.dataSource;this._isLoaderInited=!1,this._removeLoader(),this._menu.zmenu("removeMenuItems"),this._menu.zmenu("addMenuItem",{label:this._localize("serverError"),index:0,id:this._elementId+"loaderror",itemCssClass:"zsuggestfield__nonselectable"}),this._menu.zmenu("show",{mustBeShown:!0,preventHover:!0,positionAlterable:!0}),o.fail&&e.isFunction(o.fail)&&o.fail(i,s),this._dispatchEvent("SEARCHERROR",{jqXHR:i,exception:s},t)}},_requestData:function(e,i){this._request=t.AJAX.transport(this.options.dataSource,this._successCallback.bind(this,e,i),this._failureCallback.bind(this,i))},_checkIfItemExists:function(t){var e=!1,i=this._filteredResult;if(i.length){for(var s=0;s<i.length;s++){var o=this._mapJSONToData(i[s],this._dataMapping.value),n=this._mapJSONToData(t,this._dataMapping.value);if(o===n){e=!1;break}e=!0}e&&i.push(t)}else i.push(t)},_filterSuggestions:function(t){var e;switch(this._isJSONSource&&"string"==typeof this.options.search.by&&(e=this.options.search.by.split(",")),this.options.search.criteria){case"contains":if(this._isJSONSource&&e)for(var i=0;i<this._responseData.length;i++)for(var s=0;s<e.length;s++){var o=this._mapJSONToData(this._responseData[i],e[s]);void 0!==o&&(o=o.toString(),o.toLowerCase().indexOf(t.toLowerCase())>-1&&this._checkIfItemExists(this._responseData[i]))}else this._filteredResult=this._responseData.filter(function(e){return(void 0!==e&&e.toLowerCase().indexOf(t.toLowerCase()))>-1});break;case"startsWith":this._getFilteredResult(new RegExp("^"+t,"gi"));break;case"endsWith":this._getFilteredResult(new RegExp(t+"$","gi"));break;case"equals":if(this._isJSONSource)for(var i=0;i<this._responseData.length;i++)for(var s=0;s<e.length;s++){var o=this._mapJSONToData(this._responseData[i],e[s]).toString().toLowerCase();void 0!==o&&o===t.toLowerCase()&&this._checkIfItemExists(this._responseData[i])}else this._filteredResult=this._responseData.filter(function(e){return void 0!==e&&e.toString().toLowerCase()===t.toString().toLowerCase()})}this._sortResults()},_getFilteredResult:function(t){var e;if(this._isJSONSource&&"string"==typeof this.options.search.by&&(e=this.options.search.by.split(",")),this._isJSONSource&&e)for(var i=0;i<this._responseData.length;i++)for(var s=0;s<e.length;s++){var o=this._mapJSONToData(this._responseData[i],e[s]).toString().toLowerCase();void 0!==o&&o.match(t)&&o.match(t).length&&this._checkIfItemExists(this._responseData[i])}else this._filteredResult=this._responseData.filter(function(e){var i=e.toString().toLowerCase();return void 0!==i&&i.match(t)&&i.match(t).length})},_sortResults:function(){if(this.options.dropdownList.sortResults){var t=this;this._isJSONSource?this._filteredResult.sort(function(e,i){var s=t._mapJSONToData(e,t.options.dataMapping.text).toLowerCase(),o=t._mapJSONToData(i,t.options.dataMapping.text).toLowerCase();return s>o?1:s<o?-1:0}):this._filteredResult.sort()}},_removeSpecialChar:function(t){if(t)return t.toString().replace(/[^a-zA-Z0-9]/g,"")},_lazyLoadContent:function(t,e){if(this._totalPages>1){var i=this;this._menu.find("ul").on("scroll."+this.componentName,function(e){if(!i._request&&i._menu.find("ul").scrollTop()>=i._menu.find("ul")[0].scrollHeight-i._menu.find("ul").outerHeight()){var s=i._menu.find("ul").scrollTop();++i._pageIndex,i._pageIndex>=i._totalPages?i.options.isResponsePaginated&&i._response&&i._response.more!==!1&&(i._params.pages++,i._initLoader(t,e),i._menu.find(".zmenu--loading").find("ul").css("height","100%")):(i._filteredResult=i._totalResponse.slice(i._pageIndex*i.options.dropdownList.maxDisplayResults,i._pageIndex*i.options.dropdownList.maxDisplayResults+i.options.dropdownList.maxDisplayResults),i._renderMenu(t)),i._menu.find("ul").scrollTop(s)}})}},_renderSuggestions:function(t,e){if(this._focusSet=!1,this.options.isResponsePaginated&&(this._params.pages=1),this._menu.zmenu("removeMenuItems"),this.options.allowDuplicateValues||"none"!==this.options.dropdownList.itemType||this._removeAddedItem&&this._removeAddedItem(),this._isJSONSource&&this._dataMapping&&this._dataMapping.groupLabel&&this._filteredResult.length){this._groupedResult={};for(var i=0;i<this._filteredResult.length;i++){var s=this._mapJSONToData(this._filteredResult[i],this._dataMapping.groupLabel);s in this._groupedResult?this._groupedResult[s].push(this._filteredResult[i]):(this._groupedResult[s]=[],this._groupedResult[s].push(this._filteredResult[i]))}}this._totalResponse=this._filteredResult,this._spliceResults(),this.options.lazyLoadData&&this._lazyLoadContent(t),this._renderMenu(t,e).done(this._handleEnterPressed&&this._handleEnterPressed(e))},_getItemJSON:function(t){var e=this._mapJSONToData(t,this._dataMapping.image),i=this._mapJSONToData(t,this._dataMapping.text),s=this._mapJSONToData(t,this._dataMapping.value),o=this._mapJSONToData(t,this._dataMapping.informativeText),n=this._mapJSONToData(t,this._dataMapping.itemIdentifier),a=this._mapJSONToData(t,this._dataMapping.titleText),r=this._mapJSONToData(t,this._dataMapping.customValues);return{icon:e,name:i,key:s,description:o,identifier:n,customValues:r,title:a}},_renderMenu:function(i){this._lastSelectedMenuItem=null;var s,o=e.Deferred(),n=[],a=0;if((this.options.isImageSourceSprited&&("image-text"===this.options.dropdownList.contentType||"image-text-desc"===this.options.dropdownList.contentType)||this.options.isImageSourceSprited&&"checkbox"===this.options.dropdownList.itemType||!this.options.isImageSourceSprited&&"text"===this.options.dropdownList.contentType&&"checkbox"===this.options.dropdownList.itemType)&&(this._menu.hasClass("zmenu--iconwithtext")||this._menu.addClass("zmenu--iconwithtext")),this._filteredResult&&this._filteredResult.length){if(this._isJSONSource){var r=this.options.dropdownList.template;if("custom"===this.options.dropdownList.contentType&&r){for(var n=[],l=0;l<this._filteredResult.length;l++){var h,d,c=this._filteredResult[l],p=this._getItemJSON(c);h=r(c),d={itemType:"custom",innerHTML:h,id:t.encodeHTML(this._elementId+this._removeSpecialChar(p.key)),isCustomHTMLEncoded:!1,itemValue:{text:p.name,image:p.icon,informativeText:p.description,value:p.key,itemIdentifier:p.identifier,customValues:p.customValues,titleText:p.title}},n.push(d)}this._menu.zmenu("addMenuItems",n)}else if("text"!==this.options.dropdownList.contentType)if(this._isJSONSource&&this._dataMapping&&this._dataMapping.groupLabel){for(var u in this._groupedResult){a++;var m={label:u,itemType:"itemgroup",id:this._elementId+a};n.push(m);for(var l=0;l<this._groupedResult[u].length;l++){var d={},_=this._getItemJSON(this._groupedResult[u][l]),f="checkbox"===this.options.dropdownList.itemType,v=this.options.dropdownList.contentType;"text-desc"===this.options.dropdownList.contentType?s="<div class='zmenu__content'><span class='zmenu__text'>{0}</span><span class='zmenu__hint'>{1}</span></div>":(s=this.options.isImageSourceSprited?"<div class='zmenu__iconcontainer'><i class='zmenu__icon "+_.icon+"'></i></div>":"<img src='"+_.icon+"' class='zsuggestfield__avatar'>",s="image-text"===v?s+"<div class='zmenu__content'><span class='zmenu__text'>{0}</span></div>":s+"<div class='zmenu__content'><span class='zmenu__text'>{0}</span><span class='zmenu__hint'>{1}</span></div>"),s=f?"<div class='zmenu__iconcontainer'><i class='zmenu__icon'></i></div>"+s:s,d={itemType:f?"checkbox":"custom",custom:!0,innerHTML:{content:s,replaceArray:[_.name,_.description]},isCustomHTMLEncoded:!1,id:t.encodeHTML(this._elementId+this._removeSpecialChar(_.key)),name:m.id,itemValue:{text:_.name,image:_.icon,informativeText:_.description,value:_.key,itemIdentifier:_.identifier,customValues:_.customValues,titleText:_.title}},n.push(d)}}this._menu.zmenu("addMenuItems",n)}else for(var c={},l=0;l<this._filteredResult.length;l++){var _=this._getItemJSON(this._filteredResult[l]),f="checkbox"===this.options.dropdownList.itemType,v=this.options.dropdownList.contentType;"text-desc"===this.options.dropdownList.contentType?s="<div class='zmenu__content'><span class='zmenu__text'>{0}</span><span class='zmenu__hint'>{1}</span></div>":(s=this.options.isImageSourceSprited?"<div class='zmenu__iconcontainer'><i class='zmenu__icon "+_.icon+"'></i></div>":"<img src='"+_.icon+"' class='zsuggestfield__avatar'>",s="image-text"===v?s+"<div class='zmenu__content'><span class='zmenu__text'>{0}</span></div>":s+"<div class='zmenu__content'><span class='zmenu__text'>{0}</span><span class='zmenu__hint'>{1}</span></div>"),s=f?"<div class='zmenu__iconcontainer'><i class='zmenu__icon'></i></div>"+s:s,c={itemType:f?"checkbox":"custom",custom:!0,innerHTML:{content:s,replaceArray:[_.name,_.description]},id:t.encodeHTML(this._elementId+this._removeSpecialChar(_.key)),isCustomHTMLEncoded:!1,itemValue:{text:_.name,image:_.icon,informativeText:_.description,value:_.key,itemIdentifier:_.identifier,customValues:_.customValues,titleText:_.title}},this._menu.zmenu("addMenuItem",c)}else if(this._isJSONSource&&this._dataMapping&&this._dataMapping.groupLabel){for(var u in this._groupedResult){a++;var m={label:u,itemType:"itemgroup",id:this._elementId+a};n.push(m);for(var l=0;l<this._groupedResult[u].length;l++){var d={},_=this._getItemJSON(this._groupedResult[u][l]);d={label:t.encodeHTML(_.name),itemValue:{text:_.name,image:_.icon,informativeText:_.description,value:_.key,itemIdentifier:_.identifier,customValues:_.customValues,titleText:_.title},name:m.id,itemType:"checkbox"===this.options.dropdownList.itemType?"checkbox":"text",id:t.encodeHTML(this._elementId+this._removeSpecialChar(_.key))},n.push(d)}}this._menu.zmenu("addMenuItems",n)}else for(var d={},l=0;l<this._filteredResult.length;l++){var _=this._getItemJSON(this._filteredResult[l]);d={label:t.encodeHTML(_.name),itemValue:{text:_.name,image:_.icon,informativeText:_.description,value:_.key,itemIdentifier:_.identifier,customValues:_.customValues,titleText:_.title},itemType:"checkbox"===this.options.dropdownList.itemType?"checkbox":"text",id:t.encodeHTML(this._elementId+this._removeSpecialChar(_.key))},this._menu.zmenu("addMenuItem",d)}}else for(var l=0;l<this._filteredResult.length;l++){var g={id:this._filteredResult[l],label:this._filteredResult[l]};this._menu.zmenu("addMenuItem",g)}var b,y=this.options.dropdownList.moreResultsAction;if(y&&!this.options.lazyLoadData){var C=this._localize("moreAction");if(C=t.encodeHTML(C),"string"==typeof C){C.match(/#query#/g)?(b=C.replace(/#query#/g,this._params.query),C=C.replace(/#query#/g,"<b class='h-bold'>"+this._params.query+"</b>")):b=C;var i=e("<span class='zmenu__text'>").html(C)}var S=this._menu.zmenu("addMenuItem",{id:this._elementId+"moreaction",label:t.encodeHTML(b),fixed:!0,innerHTML:i,itemType:"custom"});S.css("min-height","inherit")}if(this._menu.zmenu("show",{mustBeShown:!0,preventHover:!0,positionAlterable:!0}),(!this.options.isImageSourceSprited||"image-text-desc"!==this.options.dropdownList.contentType||"none"!==this.options.dropdownList.itemType)&&"text-desc"!==this.options.dropdownList.contentType){var T=0;if(!this.options.isImageSourceSprited){var z=e(this._menu.find("li")[this._dataMapping&&this._isJSONSource&&this._dataMapping.groupLabel?1:0]).find(".zsuggestfield__avatar");z.length&&(T=z.outerWidth(!0))}var w=e(this._menu.find("li")[this._dataMapping&&this._isJSONSource&&this._dataMapping.groupLabel?1:0]).find(".zmenu__iconcontainer");if(w.length)for(var l=0;l<w.length;l++)T+=e(w[l]).outerWidth(!0);T=T&&T.toString(),"icon-text"===this._type&&"checkbox"===this.options.dropdownList.itemType&&this.options.isImageSourceSprited&&"image-text-desc"===!this.options.dropdownList.contentType||T&&this._menu.find(".zmenu__content").css("width","calc(100% - "+T+"px)")}if("after-cursor"===this.options.dropdownList.position){var k=this._positionMenuAtCursorPosition(i);this._menu.css({top:k.top+15,left:k.left})}this.options.dropdownList.highlightKeyword&&this._highlightSearchQuery();var E,M;this._lastSelectedMenuItem&&(E=this._lastSelectedMenuItem.attr("id")),this._lastSelectedMenuItem&&(M=e("#"+E)),M&&M.length?(this._menu.zmenu("hoverMenuItem",M),this._lastSelectedMenuItem=null):this.options.dropdownList.focusFirstItem&&!this.options.autoComplete&&(this._focusSet||(this._focusSet=!0,this._menu.zmenu("hoverMenuItem",this._menu.find("li").eq(this._isJSONSource&&this._dataMapping&&this._dataMapping.groupLabel?1:0)))),this._removeLoader()}else if(this._removeLoader(),this.options.dropdownList.showNoResultsMessage){var x=this._localize("noResults");if(x=t.encodeHTML(x),"string"==typeof x&&x.match(/#query#/g)&&(x=x.replace(/#query#/g,"<b class='h-bold'>"+this._params.query+"</b>")),this._displayNoresults(x),"after-cursor"===this.options.dropdownList.position){var k=this._positionMenuAtCursorPosition(i);this._menu.css({top:k.top+15,left:k.left})}}else this._menu.is(":visible")&&this._hideSuggestions();return this._newQuery=!1,o},_highlightSearchQuery:function(){var i,s,o,n,a,r=this._elementId;if(this._isJSONSource&&("string"==typeof this.options.search.by&&(i=this.options.search.by.split(",")),o=this._dataMapping.informativeText,n=this._dataMapping.text,a=this._dataMapping.groupLabel),this._isJSONSource&&i?i.indexOf(a)>-1&&i.indexOf(n)>-1&&i.indexOf(o)===-1?s=this._menu.find(".zmenu__text:not('#"+r+"moreaction')"):i.indexOf(a)>-1&&i.indexOf(n)===-1?s=this._menu.find(".zmenu__title").find(".zmenu__text"):i.indexOf(a)===-1&&i.indexOf(n)>-1&&i.indexOf(o)>-1?s=this._menu.find(".zmenu__item:not('#"+r+"moreaction')").find(".zmenu__text,.zmenu__hint"):i.indexOf(a)>-1&&i.indexOf(n)>-1&&i.indexOf(o)>-1?s=this._menu.find(".zmenu__text,.zmenu__hint:not('#"+r+"moreaction')"):i.indexOf(a)>-1&&i.indexOf(n)===-1&&i.indexOf(o)>-1?s=this._menu.find(".zmenu__hint, .zmenu__title > .zmenu__text"):i.indexOf(n)===-1&&i.indexOf(o)>-1?s=this._menu.find(".zmenu__hint"):i.indexOf(n)>-1&&i.indexOf(o)===-1&&i.indexOf(a)===-1&&(s=this._menu.find(".zmenu__item:not('#"+r+"moreaction')").find(".zmenu__text")):s=this._menu.find(".zmenu__item:not('#"+r+"moreaction')").find(".zmenu__text"),s)for(var l=0;l<s.length;l++){var n=e(s[l]).text();switch(n=t.encodeHTML(n),this.options.search.criteria){case"contains":e(s[l]).html(n.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+this._params.query+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b class='h-bold'>$1</b>"));break;case"startsWith":e(s[l]).html(n.replace(new RegExp("(^"+this._params.query+")","gi"),"<b class='h-bold'>$1</b>"));break;case"endsWith":e(s[l]).html(n.replace(new RegExp("("+this._params.query+"$)","gi"),"<b class='h-bold'>$1</b>"))}}},_positionInputElement:function(t){var e,i;return e=t.offset(),i=this._getPositon(t),e={left:e.left+i.left-t.scrollLeft(),top:e.top+i.top-t.scrollTop(),height:i.height}},_removeSpecialCharacters:function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},_duplicateElement:function(t){var i;this._duplicateDiv=e("<div>");var s=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"];i={position:"absolute",left:-9999,top:0,zIndex:-2e4};for(var o=0;o<s.length;o++)i[s[o]]=t.css(s[o]);return this._duplicateDiv.css(i),this._duplicateDiv},_getPositon:function(t){var e,i,s,o,n=t[0].selectionStart,a=t.val().slice(0,n),r=t.val().slice(n);return e="<span style='position: relative; display: inline;'>"+this._removeSpecialCharacters(a)+"</span>",e+="<span id='caret' style='position: relative; display: inline;'>|</span>",e+="<span style='position: relative; display: inline;'>"+this._removeSpecialCharacters(r)+"</span>",this._duplicateElement(t),this._duplicateDiv.html(e),t.after(this._duplicateDiv),s=this._duplicateDiv.find("#caret"),i=s.position(),o={left:i.left,top:i.top,height:s.height()},this._duplicateDiv.remove()&&(this._duplicateDiv=null),o},_positionEditableDiv:function(e){var i,s,o,n=window.getSelection(),a=n.getRangeAt(0);return n&&(a.endOffset>-1&&a.endContainer!=e[0]&&(i=a.cloneRange(),i.setStart(a.endContainer,a.endOffset-1),i.setEnd(a.endContainer,a.endOffset),s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top},i.detach()),o&&(o.top+=t.$window.scrollTop(),o.left+=t.$window.scrollLeft())),o},_positionMenuAtCursorPosition:function(t){var e;return e=t.is("input")?this._positionInputElement(t):this._positionEditableDiv(t)},_hideSuggestions:function(){void 0!==this._menu&&this._menu.zmenu("hide")},_displayNoresults:function(t){if(0!==this.options.search.minKeywordLength||0!==this._params.query.length){var i=e("<span class='zmenu__text'>").html(t);this._menu.zmenu("removeMenuItem",this._elementId+"moreaction"),this._menu.zmenu("addMenuItem",{label:this._params.query,index:0,innerHTML:i,itemType:"custom",id:this._elementId+"noresults",itemCssClass:"zsuggestfield__nonselectable"}),this._menu.zmenu("show",{mustBeShown:!0,preventHover:!0,positionAlterable:!0}),this._menu.hasClass("zmenu--iconwithtext")&&this._menu.removeClass("zmenu--iconwithtext")}else this._menu.is(":visible")&&this._hideSuggestions()},_dispatchEvent:function(t,e,i){var s={value:e},o=this._super(t,i,s);return void 0!==s.value.modified?s.value:o},openDropdownList:function(){this._menu.zmenu("show",{mustBeShown:!0,preventHover:!0,positionAlterable:!0}),this._input.attr("aria-expanded","true")},closeDropdownList:function(){this._hideSuggestions()},getValue:function(){var t=this._currentData?{}:void 0;return t=this._getData(this._currentData)},search:function(t){this._searchTimeout(t,this._element)},clearCache:function(){this._cachedData={}},setAttribute:function(t,i){"object"!=typeof i||i instanceof Array||(i=e.extend(!0,{},this.options[t],i));var s=this.options[t];if(this.options[t]=i,"className"===t)s&&this.element.removeClass(s),this.element.addClass(i);else if("dataSource"===t){if("object"==typeof i||i instanceof Array){this._cachedData={};var o=this._isJSONSource;i instanceof Array&&"object"==typeof s?(this._isJSONSource="object"==typeof i[0],this._ajaxSource=!1):("object"==typeof i&&s instanceof Array||"object"==typeof i)&&(this._ajaxSource=this._isJSONSource=!0,this._requestInitialized=!1),this._isJSONSource&&!o&&(this.options.dropdownList.contentType=this._initialContentType)}}else if("autoComplete"===t)if(i){var n=this;this._menu.on("zmenuitemhover",function(t,e){n._handleHover(t,e),n._dispatchEvent("ITEMFOCUS",{value:e.menuitem})})}else this._menu.off("zmenuitemhover");else if("search"===t)"object"==typeof i&&(i.minKeywordLength&&i.minKeywordLength<20?this.options.search.minKeywordLength=i.minKeywordLength:this.options.search.minKeywordLength=s.minKeywordLength);else if("placeholder"===t)i?this.element.attr("placeholder",i):this.element.removeAttr("placeholder");else if("dropdownList"===t||"isImageSourceSprited"===t){if("dropdownList"===t&&void 0!==i.contentType||"checkbox"===i.itemType||"isImageSourceSprited"===t){switch(this._menu.removeClass("zsuggestfield zmenu--withhint zmenu--withicon zmenu--withiconandhint zmenu--iconwithtext"),this.options.dropdownList.contentType){case"image-text-desc":case"image-desc":this._type="icon-text";break;case"text":case"text-desc":"checkbox"===this.options.dropdownList.itemType?(this._type="icon-text",this._menu.addClass("zmenu--iconwithtext")):this._type="text"}this._menu.zmenu("option","contentType",this._type),"icon-text"!==this._type||"text"===this.options.dropdownList.contentType||"text-desc"===this.options.dropdownList.contentType||this.options.isImageSourceSprited||(this._menu.addClass("zsuggestfield"),"image-text-desc"===this.options.dropdownList.contentType&&this._menu.addClass("zmenu--withhint")),"checkbox"===this.options.dropdownList.itemType&&this.options.isImageSourceSprited&&("image-text"===this.options.dropdownList.contentType&&this._menu.addClass("zmenu--withicon"),"image-text-desc"===this.options.dropdownList.contentType&&this._menu.addClass("zsuggestfield zmenu--withiconandhint"))}void 0!==i.appendTo&&this._menu.zmenu("option","appendTo",i.appendTo),void 0!==i.position&&"after-cursor"!==i.position&&this._menu.zmenu("option","direction",i.position),void 0!==i.height&&this._menu.zmenu("option","height",i.height),void 0!==i.width&&this._menu.zmenu("option","width",i.width)}else"disabled"===t?(this.element.attr("disabled",i),this.element[i?"addClass":"removeClass"]("is-disabled"),this.element.focus()):"dataMapping"===t?this._dataMapping=i:"lazyLoadData"===t&&void 0===this.options.dropdownList.maxDisplayResults&&this.options.lazyLoadData&&(this.options.dropdownList.maxDisplayResults=this._CONSTANTS.maxResults)},updateDataSource:function(t){if(this.options.dataSource instanceof Array&&t instanceof Array)for(var e=this.options.dataSource.length,i=e,s=0;i<e+t.length;i++)this.options.dataSource[i]=t[s++]},destroy:function(){var t=this.componentName;this._element.val(""),this._oldVal="",this._currentData={},this.element.removeClass("zsuggestfield-element"),this._isLoaderInited=!1,this.element.removeData(t),this._element.off("."+t),this._menu.zmenu("destroy"),this._menu.remove(),this.element.show()}};t.registerComponent("zsuggestfield",i)}(ZComponents),function(t){var e=t.DOMUtil,i={_create:function(t,e){this._initialize(t,e),this._constructComponent()},options:{sortableItems:"> *",disabled:!1,sortAxis:!1,zIndex:1e3,scrollSensitivity:20,scrollSpeed:20,cancel:"input,textarea,button,select,option",leave:null},_EVENTS:{DRAGSTART:"dragstart",MOUSEDRAG:"drag",DRAGSTOP:"dragstop"},_initialize:function(t,i){this.document=e(this.element[0].ownerDocument),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)},_constructComponent:function(){this.saveContainerData={},this.element.addClass("zc-sortable"),this.refresh(),this._offsetPos=this.element.offset(),this._bindMouseEvents(),this._setHandleClassName(),this.ready=!0},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this._refreshPositions(),this},_handleMouseDown:function(t){var i=this.componentName;this._dispatchEvent("DRAGSTART",t.target,t),this._isMouseMoved=!1,this._mouseStarted&&this._handleMouseUp(t),this._mouseDownEvent=t;var s=this,o=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length,a="string"==typeof this.options.leave&&!!e(t.target).hasClass(this.options.leave),r=!this.options.sortWith||e(t.target).closest(this.options.sortWith).length;if(!r||!o||n||a||!this._captureMouseAction(t))return!0;!0===e.data(t.target,i+".preventClickEvent")&&e.removeData(t.target,i+".preventClickEvent");var s=this;return this.document.on("mousemove."+i,function(t){s._handleMouseMove(t)}).on("mouseup."+i,function(t){s._handleMouseUp(t)}),t.preventDefault(),!0},_handleMouseMove:function(e){return this._dispatchEvent("MOUSEDRAG",e.target,e),this._isMouseMoved&&t.Browser.isIE()&&(!document.documentMode||document.documentMode<9)&&!e.button?this._handleMouseUp(e):((e.which||e.button)&&(this._isMouseMoved=!0),this._mouseStarted?(this._onMouseDrag(e),e.preventDefault()):(t.$document.on("keydown."+this.componentName,this._keydownHandler.bind(this,e)),this._mouseStarted=this._handleMouseMoveStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._onMouseDrag(e):this._handleMouseUp(e),!this._mouseStarted))},_keydownHandler:function(e,i){i.keyCode===t.keyCode.ESCAPE&&this._handleMouseUp(this._mouseDownEvent,!0),t.$document.off("keydown."+this.componentName)},_dispatchEvent:function(t,e,i){var s={value:e};return this._super(t,i,s)},_handleMouseMoveStart:function(t){this.currentContainer=this,this._refreshPositions(),this._draggableElement=this._createDraggableElement(),this._saveDraggableElementSize(),this._saveMargins(),this._scrollParent=this._getScrollParent(this._draggableElement),this._offsetPos=this._selectedItem.offset(),this._offsetPos={top:this._offsetPos.top-this._margins.top,left:this._offsetPos.left-this._margins.left};var i=this;return e.extend(this._offsetPos,{click:{left:t.pageX-i._offsetPos.left,top:t.pageY-i._offsetPos.top},parent:i._getParentOffset(),relative:i._getRelativeOffset()}),this._draggableElement.css("position","absolute"),this._cssPosition=this._draggableElement.css("position"),this._elementPosition=this._fixPosition(t),this._eventPageX=t.pageX,this._eventPageY=t.pageY,this._formerDomElements={prev:this._selectedItem.prev()[0],parent:this._selectedItem.parent()[0]},this._createPlaceHolder(),this.options.containment&&this._setContainment(),this.options.zIndex&&(this._draggableElement.css("zIndex")&&(this._savedZIndex=this._draggableElement.css("zIndex")),this._draggableElement.css("zIndex",this.options.zIndex)),this._preserveDraggableElementSize||this._saveDraggableElementSize(),this._draggableElement.addClass("zc-sortable-helper"),this._onMouseDrag(t),!0},_setContainment:function(){"parent"===this.options.containment&&(this.options.containment=this._draggableElement[0].parentNode);var t=e(this.options.containment)[0],i=e(this.options.containment).offset(),s="hidden"!==e(t).css("overflow");this._containment=[i.left+parseInt(e(t).css("borderLeftWidth"))+parseInt(e(t).css("paddingLeft"))-this._margins.left,i.top+parseInt(e(t).css("borderTopWidth"))+parseInt(e(t).css("paddingTop"))-this._margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-parseInt(e(t).css("borderLeftWidth"))-parseInt(e(t).css("paddingRight"))-this._draggableElementSize.width-this._margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-parseInt(e(t).css("borderTopWidth"))-parseInt(e(t).css("paddingBottom"))-this._draggableElementSize.height-this._margins.top]},_onMouseDrag:function(t){var i,s,o,n=!1;this._position=this._fixPosition(t),this._changeToAbsolute=this._changePosition("absolute"),this._lastAbsolutePos||(this._lastAbsolutePos=this._changeToAbsolute),t.pageY-this.document.scrollTop()<this.options.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-this.options.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<this.options.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+this.options.scrollSpeed)),t.pageX-this.document.scrollLeft()<this.options.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-this.options.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<this.options.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+this.options.scrollSpeed)),this._changeToAbsolute=this._changePosition("absolute"),this.options.axis&&"y"===this.options.axis||(this._draggableElement[0].style.left=this._position.left+"px"),this.options.axis&&"x"===this.options.axis||(this._draggableElement[0].style.top=this._position.top+"px");for(var a=this.items.length-1;a>=0;a--)if(i=this.items[a],o=i.item[0],s=this._intersectsWithPointer(i),s&&o!==this._selectedItem[0]&&this._placeHolder[1===s?"next":"prev"]()[0]!==o&&!e.contains(this._placeHolder[0],o)){if(this._direction=1===s?"down":"up",!this._intersectsWithSides(i)||"INPUT"===i.item[0].nodeName)break;this._reArrangeItems(t,i);break}return this._lastAbsolutePos=this._changeToAbsolute,!1},_reArrangeItems:function(t,e,i,s){if(i)i[0].appendChild(this._placeHolder[0]);else{var o;o="down"===this._direction?e.item[0]:e.item[0].nextSibling,e.item[0].parentNode.insertBefore(this._placeHolder[0],o)}this._counter=this._counter?++this._counter:1;var n=(this._counter,this);setTimeout(function(){n._refreshPositions(!s)},0)},_intersectsWithSides:function(t){var e=this._isOverAxis(this._changeToAbsolute.top+this._offsetPos.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this._changeToAbsolute.left+this._offsetPos.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection(),n=!1;if(!o&&!s)return!1;if(!this.floating||!o){this._containment&&(n=this._changeToAbsolute.top<=this._containment[1]||this._changeToAbsolute.top>=this._containment[3]);var a=n||s&&("down"==s&&e||"up"==s&&!e);return a}this._containment&&(n=this._changeToAbsolute.left<=this._containment[0]||this._changeToAbsolute.left>=this._containment[2]);var a=n||"right"==o&&i||"left"==o&&!i},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this._changeToAbsolute.top+this._offsetPos.click.top,t.top,t.height,"x"),i="y"===this.options.axis||this._isOverAxis(this._changeToAbsolute.left+this._offsetPos.click.left,t.left,t.width,"y"),s=e&&i,o=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return!!s&&(this.floating?n&&"right"===n||"down"===o?2:1:o&&("down"===o?2:1))},_isOverAxis:function(t,e,i,s){var o="x"===s?this._selectedItem.height():0;return t+o>=e&&t<e+i},_getDragVerticalDirection:function(){var t=this._changeToAbsolute.top-this._lastAbsolutePos.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this._changeToAbsolute.top-this._lastAbsolutePos.top;return 0!==t&&(t>0?"right":"left")},_changePosition:function(t){var i,s="absolute"===t?1:-1,o="absolute"!==this._cssPosition||this._scrollParent[0]!==this.document[0]&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent;return"html"!==o[0].tagName.toLowerCase()&&"body"!==o[0].tagName.toLowerCase()||(i=!0),{top:this._position.top+this._offsetPos.relative.top*s+this._offsetPos.parent.top*s-("fixed"===this._cssPosition?-this._scrollParent.scrollTop():i?0:o.scrollTop())*s,left:this._position.left+this._offsetPos.relative.left*s+this._offsetPos.parent.left*s-("fixed"===this._cssPosition?-this._scrollParent.scrollLeft():i?0:o.scrollLeft())*s}},_createPlaceHolder:function(){var t=this._selectedItem[0].nodeName.toLowerCase();this._placeHolder=e("<"+t+">",this.document[0]).addClass(this._selectedItem[0].className+" zc-sortable-placeholder"),this._placeHolder.css("visibility","hidden"),this._selectedItem.after(this._placeHolder),this._placeHolder.width()||this._placeHolder.width(this._selectedItem.innerWidth()-parseInt(this._selectedItem.css("paddingLeft")||0,10)-parseInt(this._selectedItem.css("paddingRight")||0,10)),this._placeHolder.height()||this._placeHolder.height(this._selectedItem.height())},_fixPosition:function(t){var i,s=t.pageX,o=t.pageY,n="absolute"!==this._cssPosition||this._scrollParent[0]!==this.document[0]&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent;return this._containment&&(t.pageX-this._offsetPos.click.left<this._containment[0]&&(s=this._containment[0]+this._offsetPos.click.left),t.pageY-this._offsetPos.click.top<this._containment[1]&&(o=this._containment[1]+this._offsetPos.click.top),t.pageX-this._offsetPos.click.left>this._containment[2]&&(s=this._containment[2]+this._offsetPos.click.left),t.pageY-this._offsetPos.click.top>this._containment[3]&&(o=this._containment[3]+this._offsetPos.click.top)),"html"!==n[0].tagName.toLowerCase()&&"body"!==n[0].tagName.toLowerCase()||(i=!0),{top:o-this._offsetPos.click.top-this._offsetPos.relative.top-this._offsetPos.parent.top+("fixed"===this._cssPosition?-this._scrollParent.scrollTop():i?0:n.scrollTop()),left:s-this._offsetPos.click.left-this._offsetPos.relative.left-this._offsetPos.parent.left+("fixed"===this._cssPosition?-this._scrollParent.scrollLeft():i?0:n.scrollTop())}},_getScrollParent:function(t,i){var s=t.css("position"),o="absolute"===s,n=i?/(auto|scroll|hidden)/:/(auto|scroll)/,a=t.parents().filter(function(){var t=e(this);return(!o||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==s&&a.length?a:e(t[0].ownerDocument||document)},_getParentOffset:function(){this._offsetParent=this._draggableElement.offsetParent();var i=this._offsetParent.offset();return"absolute"===this.cssPosition&&this._scrollParent[0]!==this.document[0]&&e.contains(this._scrollParent[0],this._offsetParent[0])&&(i.left+=this._scrollParent.scrollLeft(),i.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]===this.document[0].body||this._offsetParent[0].tagName&&"html"===this._offsetParent[0].tagName.toLowerCase()&&t.Browser.isIE())&&(i={top:0,left:0}),{top:i.top+(parseInt(this._offsetParent.css("borderTopWidth"),10)||0),left:i.left+(parseInt(this._offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this._selectedItem.position();return{top:t.top-(parseInt(this._draggableElement.css("top"),10)||0)+this._scrollParent.scrollTop(),left:t.left-(parseInt(this._draggableElement.css("left"),10)||0)+this._scrollParent.scrollLeft()}}return{top:0,left:0}},_saveMargins:function(){this._margins={left:parseInt(this._selectedItem.css("marginLeft"),10)||0,top:parseInt(this._selectedItem.css("marginTop"),10)||0}},_createDraggableElement:function(t){var e=this._selectedItem;return this._savedCSS={width:this._selectedItem[0].style.width,height:this._selectedItem[0].style.height,position:this._selectedItem.css("position"),top:this._selectedItem.css("top"),left:this._selectedItem.css("left")},e.width(this._selectedItem.width()).height(this._selectedItem.height()),e},_saveDraggableElementSize:function(){this._draggableElementSize={width:this._draggableElement.outerWidth(),height:this._draggableElement.outerHeight()}},_captureMouseAction:function(t){var i=null,s=this;return this._isPrev=!1,!this.reverting&&(!this.options.disabled&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,s.componentName+"-item")===s)return i=e(this),!1}),e.data(t.target,this.componentName+"-item")===s&&(i=e(t.target)),!!i&&(this._selectedItem=i,this._selectedItem.prev().length?(this._adjacentElement=this._selectedItem.prev(),this._isPrev=!0):this._adjacentElement=this._selectedItem.next(),!0)))},_handleMouseUp:function(t,i){var s=this.componentName;return this.document.off("mousemove."+s),this.document.off("mouseup."+s),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,s+".preventClickEvent",!0),this._dropDraggedElement(t,i)),!1},_dropDraggedElement:function(t,e){t&&this._placeElement(t,e)},_placeElement:function(t,e){var i;if(this.reverting=!1,e?this._isPrev?this._selectedItem.insertAfter(this._adjacentElement):this._selectedItem.insertBefore(this._adjacentElement):!this._noFinalSort&&this._selectedItem.parent().length&&this._placeHolder.before(this._selectedItem),this._noFinalSort=null,this._draggableElement[0]===this._selectedItem[0]){for(i in this._savedCSS)"auto"!==this._savedCSS[i]&&"static"!==this._savedCSS[i]||(this._savedCSS[i]="");this._selectedItem.css(this._savedCSS).removeClass("zc-sortable-helper")}else this._selectedItem.show();return this._savedZIndex&&this._draggableElement.css("zIndex","auto"===this._savedZIndex?"":this._savedZIndex),this.dragging=!1,this._placeHolder[0].parentNode.removeChild(this._placeHolder[0]),this.fromOutside=!1,this._dispatchEvent("DRAGSTOP",t.target,t),!this.cancelHelperRemoval},_bindMouseEvents:function(){var t=this,i=this.componentName;this.element.on("mousedown."+i,function(e){return t._handleMouseDown(e)}),this.element.on("click."+i,function(t){if(e.data(t.target,i+".preventClickEvent")===!0)return e.removeData(t.target,i+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_refreshItems:function(t){this.items=[],this.containers=[this];for(var i,s,o,n=[[e(this.options.sortableItems,this.element),this]],a=n.length-1;a>=0;a--){i=n[a][1],o=n[a][0];for(var r=0;r<o.length;r++)s=e(o[r]),s.data(this.componentName+"-item",i),this.items.push({item:s,width:0,height:0,left:0,top:0})}},_setHandleClassName:function(){this.element.find(".zc-sortable-handle").removeClass("zc-sortable-handle");for(var t=0;t<this.items.length;t++){var e=this.options.cancel.split(","),i=e.indexOf(this.items[t].item[0].nodeName.toLowerCase());i==-1&&this.items[t].item.addClass("zc-sortable-handle")}},_refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.sortAxis||this._isFloating(this.items[0].item));for(var e,i,s,o=this.items.length-1;o>=0;o--)e=this.items[o],i=e.item,t||(e.width=i.outerWidth(),e.height=i.outerHeight()),s=i.offset(),e.left=s.left,e.top=s.top;for(var o=this.containers.length-1;o>=0;o--)s=this.containers[o].element.offset(),this.containers[o].saveContainerData.left=s.left,this.containers[o].saveContainerData.top=s.top,this.containers[o].saveContainerData.width=this.containers[o].element.outerWidth(),this.containers[o].saveContainerData.height=this.containers[o].element.outerHeight();return this},_isFloating:function(t){return"left"===t.css("float").toLowerCase()||"right"===t.css("float").toLowerCase()||"table-cell"===t.css("display").toLowerCase()||"inline"===t.css("display").toLowerCase()},destroy:function(){var t=this.componentName;this.element.removeData(t),this.element.off("mousedown."+t).off("click."+t),this.document.off("mousemove."+t).off("mouseup."+t)},disable:function(){var t=this.componentName;this.element.off("mousedown."+t).off("click."+t),this.document.off("mousemove."+t).off("mouseup."+t)},enable:function(){this._bindMouseEvents()}};t.registerComponent("zsortable",i)}(ZComponents),function(t){function e(t){!function(e,i){var s=t.data("zscroll");s&&(clearTimeout(s._resizeTimeout),s._resizeTimeout=setTimeout(function(){t&&t.is(":visible")&&s._reinitialize()},0))}(jQuery,window)}var i=t.DOMUtil,s={options:{dynamicDimensions:!1,top:0,left:0,autoReinit:!1,scrollIncrement:55,showScrollBarOnHover:!1,showScrollBarAlways:!1,disappearDelay:1200,animateHide:!1,forceRefresh:!0,reinitDelay:500,showScrollBarOnTrackHover:!1},_EVENTS:{SCROLL:"scroll",SCROLLXEND:"scrollxend",SCROLLYEND:"scrollyend",SCROLLEND:"scrollend"},_create:function(t,e){ZComponents.specialMouseWheelHandler(),this._initialize(),this.options.dynamicDimensions&&ZComponents.scrollBindings.push(this.element)},_initialize:function(){this._minScrollBarSize=35,this._isUL&&this.element.removeClass("zoverflow__visible"),void 0===this._pane?(this._padding={top:this.element.css("paddingTop"),left:this.element.css("paddingLeft"),bottom:this.element.css("paddingBottom"),right:this.element.css("paddingRight")},this._originalPadding=this.element.css("paddingTop")+" "+this.element.css("paddingRight")+" "+this.element.css("paddingBottom")+" "+this.element.css("paddingLeft")):this.element.removeClass("zscroll");var t=this._reinitialized&&this._isUL?this._parentElement:this.element;if(this._elementWidth=t.width(),this._elementHeight=t.height(),this._paneWidth=t.innerWidth(),this._paneHeight=this.element.innerHeight(),"UL"!==this.element[0].tagName){if(this.element.addClass("zscroll"),void 0!==this._pane){var e=this.element.css("max-height");if(e&&"none"!==e&&e.indexOf("%")===-1){var s=this.element.find(".zscroll__content"),o=parseInt(e);isNaN(o)||(this._paneHeight=s.innerHeight()||this._paneHeight,this._paneHeight>o&&(this._paneHeight=o)),this._paneWidth=s.innerWidth()||this._paneWidth}}}else this._isUL=!0,this.element.addClass("zoverflow__visible");if(void 0===this._pane&&(this._outerPane=i('<div class="zscroll__container"/>'),this._isUL&&(this._parentElement=i("<div>"),elementParent=this.element.parent(),this.element.appendTo(this._parentElement),this._parentElement.appendTo(elementParent).addClass("zscroll")),this._pane=i('<div class="zscroll__content" />').css("padding",this._originalPadding).append(this._isUL?this._parentElement.children():this.element.children()).appendTo(this._outerPane),this._outerPane.appendTo(this._isUL?this._parentElement:this.element),(ZComponents.Browser.isFirefox()||ZComponents.Browser.isIE())&&this._pane.css("padding-bottom","0px")),this._createStyle(),this._outerPane.css({width:this._paneWidth,height:this._paneHeight}),this._pane.width(this._elementWidth),this._pane.css("overflow","auto"),this._contentWidth=this._pane[0].scrollWidth,this._contentHeight=this._pane[0].scrollHeight,this._isUL&&(this._contentHeight!==this.element[0].scrollHeight&&(this._contentHeight=this.element[0].scrollHeight),this._contentWidth!==this.element[0].scrollWidth&&(this._contentWidth=this.element[0].scrollWidth)),this._pane.css("overflow",""),this._percentInViewX=this._contentWidth/this._paneWidth,this._percentInViewY=this._contentHeight/this._paneHeight,this._horizontal=this._percentInViewX>1,this._vertical=this._percentInViewY>1,this._handleScrollYTrack(),this._handleScrollXTrack(),this._reinitialized||this._bindEvents(),this._maxScrollY=this._contentHeight-this._paneHeight,this._maxScrollX=this._contentWidth-this._paneWidth,this._vertical&&this._finalVerValue){var n,a=-this._pane.position().top,n=a/this._maxScrollY;this._scrollPosY(void 0,n*this._maxDragY)}if(this._horizontal&&this._finalHorValue){var n,a=-this._pane.position().left,n=a/this._maxScrollX;this._scrollPosX(void 0,n*this._maxDragX)}this._reinitialized||(window.clearInterval(this._clearAutoreinit),this.options.autoReinit&&(this._clearAutoreinit=window.setInterval(this._reinitialize.bind(this),this.options.reinitDelay))),this._vertical&&this._reflectOptionValueInElement("top"),this._horizontal&&this._reflectOptionValueInElement("left"),this._reinitialized=!1},_createStyle:function(t){if(this._style=document.getElementById("zcomponentsstyle"),this._style||(this._style=document.createElement("style"),this._style.setAttribute("id","zcomponentsstyle"),i(document.body).prepend(this._style)),!t){i(this._textNode).remove(),this._currentClass=Math.floor(1e6*Math.random())+this.componentName,this._props=" { width: "+this._paneWidth+"px; height: "+this._paneHeight+"px; } ";var e=" ."+this._currentClass+" "+this._props;this._textNode=document.createTextNode(e),this._style.appendChild(this._textNode)}this[this._isUL?"_parentElement":"element"].addClass(this._currentClass)},_reflectOptionValueInElement:function(t){var e=this;Object.defineProperty(this.element[0],"scroll"+(t[0].toUpperCase()+t.substring(1)),{set:function(i){this._addedByComponent||e.setAttribute(t,i),delete this._addedByComponent},get:function(){return-e.options.top},configurable:!0})},_handleScrollYTrack:function(){this._vertical?(void 0===this._verticalTrack&&(this._verticalTrack=i("<div class='zscroll__track--v'>"),this._verticalBar=i("<div class='zscroll__thumb zscroll__thumb--v'>").appendTo(this._verticalTrack),this._verticalTrack.appendTo(this._outerPane),this.options.className&&this._verticalTrack.addClass(this.options.className),this._bindVerticalTrackEvents()),this._setVerticalScrollSize()):void 0!==this._verticalTrack&&(this._verticalTrack.remove(),this._verticalBar.remove(),this._verticalTrack=this._verticalBar=this._finalVerValue=void 0,this._pane.css("top","0px"))},_handleScrollXTrack:function(){this._horizontal?(void 0===this._horizontalTrack&&(this._horizontalTrack=i("<div class='zscroll__track--h'>"),this._horizontalBar=i("<div class='zscroll__thumb zscroll__thumb--h'>").appendTo(this._horizontalTrack),this._horizontalTrack.appendTo(this._outerPane),this.options.className&&this._horizontalTrack.addClass(this.options.className),this._bindHorizontalTrackEvents()),this._setHorScrollSize()):void 0!==this._horizontalTrack&&(this._horizontalTrack.remove(),this._horizontalBar.remove(),this._horizontalTrack=this._horizontalBar=this._finalHorValue=void 0,this._pane.css("left","0px"))},_setVerticalScrollSize:function(){this._verticalTrack&&(this._verticalBarHeight=Math.ceil(1/this._percentInViewY*this._paneHeight),this._verticalBarHeight<this._minScrollBarSize&&(this._verticalBarHeight=this._minScrollBarSize),this._verticalTrack.css("height",this._paneHeight),this._maxDragY=this._paneHeight-this._verticalBarHeight,this._verticalBar.css("height",this._verticalBarHeight),this.options.showScrollBarAlways&&this._showVerticalScroll())},_setHorScrollSize:function(){this._horizontalTrack&&(this._horizontalBarWidth=Math.ceil(1/this._percentInViewX*this._paneWidth),this._horizontalBarWidth<this._minScrollBarSize&&(this._horizontalBarWidth=this._minScrollBarSize),this._horizontalTrack.css("width",this._paneWidth),this._maxDragX=this._paneWidth-this._horizontalBarWidth,this._horizontalBar.css("width",this._horizontalBarWidth),this.options.showScrollBarAlways&&this._showHorizontalScroll())},_getScrollbarWidth:function(){if(!this._defaultScrollbarWidth){var t=i("<div>").css({width:"100px",height:"100px",overflow:"scroll"}).appendTo("body");this._defaultScrollbarWidth=t.width()-t[0].scrollWidth,t.remove()}return this._defaultScrollbarWidth},_bindEvents:function(){var t=this,e=this.componentName;this._scrollX=!1,this._scrollY=!1,ZComponents.Browser.isMobile()?(this._outerPane[0].addEventListener("custommousewheel",this._mouseWheelHandler.bind(this)),this._outerPane.on("mousewheel."+e,i.noop)):this._outerPane.on("mousewheel."+e,this._mouseWheelHandler.bind(this)),this.options.showOne&&this._outerPane.on("mouseout."+e,function(e){var s;e.relatedTarget&&(s=i(e.relatedTarget).closest(".zscroll")),ZComponents._activeContainer=s;var o=t._isUL?t._parentElement[0]:t.element[0];ZComponents._activeContainer&&ZComponents._activeContainer[0]!==o&&(t._hideVerticalScroll(),t._hideHorizontalScroll())}),this._outerPane.on("mouseenter."+e,function(e){(t.options.forceRefresh||!t._mouseEnter)&&t._refresh(),t._mouseEnter=!0,ZComponents._activeContainer=t._isUL?t._parentElement:t.element,i("body").addClass("h-overflowhidden"),t._mouseLeave=!1,t.options.showScrollBarOnHover&&(t._showVerticalScroll(),t._showHorizontalScroll())}).on("mouseleave."+e,function(e){i("body").removeClass("h-overflowhidden"),t._mouseLeave=!0,t.options.showScrollBarOnHover&&(t._removeVerticalTrackSettings(),t._removeHorizontalTrackSettings())}),this._bindVerticalTrackEvents(),this._bindHorizontalTrackEvents()},_bindVerticalTrackEvents:function(){var t=this.componentName,e=this;this._verticalBar&&this._verticalBar.on("mousedown."+t,function(i){i.preventDefault(),i.stopPropagation(),e._startY=i.pageY-e._verticalBar.position().top,e._mousedown=!0,ZComponents.$document.on("mousemove."+t,function(t){t.preventDefault(),e._animate=!1,e._scrollPosY(t,t.pageY-e._startY)}).on("mouseup."+t,function(i){i.preventDefault(),e._mousedown=!1,ZComponents.$document.off("mouseup."+t+" mousemove."+t+" mousedown."+t)})}),this._verticalTrack&&this._verticalTrack.on("mousedown."+t,function(t){if(e._verticalBar.is(":visible")||e._defaultScrollbarWidth>0){var i,s=e._verticalTrack.offset(),o=t.pageY-s.top-e._finalVerValue;i=t.pageY-s.top-e._verticalBarHeight/2;var n=o>0?e._finalVerValue+e.options.scrollIncrement:e._finalVerValue-e.options.scrollIncrement;e._animate=!0,o>0?n<i?e._scrollPosY(t,n):e._scrollPosY(t,i):n>i?e._scrollPosY(t,n):e._scrollPosY(t,i)}}).on("mouseenter."+t,function(t){e._addVerticalTrackSettings()}).on("mouseleave."+t,function(t){e._removeVerticalTrackSettings()})},_bindHorizontalTrackEvents:function(){var t=this.componentName,e=this;this._horizontalBar&&this._horizontalBar.off("mousedown."+t).on("mousedown."+t,function(i){i.preventDefault(),e._startX=i.pageX-e._horizontalBar.position().left,e._mousedown=!0,ZComponents.$document.on("mousemove."+t,function(t){t.preventDefault(),e._animate=!1,e._scrollPosX(t,t.pageX-e._startX)}).on("mouseup."+t,function(i){i.preventDefault(),e._mousedown=!1,ZComponents.$document.off("mouseup."+t+" mousemove."+t+" mousedown."+t)})}),this._horizontalTrack&&this._horizontalTrack.on("mousedown."+t,function(t){if(e._horizontalBar.is(":visible")||e._defaultScrollbarWidth>0){var i,s=e._horizontalTrack.offset(),o=t.pageX-s.left-e._finalHorValue;i=t.pageX-s.left-e._horizontalBarWidth/2;var n=o>0?e._finalHorValue+e.options.scrollIncrement:e._finalHorValue-e.options.scrollIncrement;e._animate=!0,o>0?n<i?e._scrollPosX(t,n):e._scrollPosX(t,i):n>i?e._scrollPosX(t,n):e._scrollPosX(t,i)}}).on("mouseenter."+t,function(t){e._addHorizontalTrackSettings()}).on("mouseleave."+t,function(t){e._removeHorizontalTrackSettings()})},_mouseWheelHandler:function(t,e,i,s){var e,i,s,o=this;ZComponents.Browser.isMobile()&&(e=t.detail[1],i=t.detail[2],s=t.detail[3],t=t.detail[0]);var n=this._isUL?this._parentElement[0]:this.element[0];!o._vertical||0===this._oldDeltaY&&this._oldDeltaY===-0&&0===s||0!==this._oldDeltaX&&this._oldDeltaX!==-0&&void 0!==this._oldDeltaX||(this._oldDeltaY=s,o.options.showScrollBarAlways||(!o.options.showOne||o.options.showOne&&ZComponents._activeContainer&&ZComponents._activeContainer[0]===n?(o._showVerticalScroll(),!o.options.showScrollBarOnHover&&o._hideHorizontalScroll()):o.options.showOne&&ZComponents._activeContainer&&ZComponents._activeContainer[0]!==n&&o._hideVerticalScroll()),o._scrollY=!0,o._scrollX=!1),!o._horizontal||0===this._oldDeltaX&&this._oldDeltaX===-0&&0===i||0!==this._oldDeltaY&&this._oldDeltaY!==-0&&void 0!==this._oldDeltaY||(this._oldDeltaX=i,o.options.showScrollBarAlways||(!o.options.showOne||o.options.showOne&&ZComponents._activeContainer&&ZComponents._activeContainer[0]===n?(o._showHorizontalScroll(),!o.options.showScrollBarOnHover&&o._hideVerticalScroll()):o.options.showOne&&ZComponents._activeContainer&&ZComponents._activeContainer[0]!==n&&o._hideHorizontalScroll()),o._scrollX=!0,o._scrollY=!1);var a=this.options.scrollSensivity||t.deltaFactor;o._prevHorPosition||(o._prevHorPosition=0),o._prevVerPosition||(o._prevVerPosition=0);var r=o._prevHorPosition,l=o._prevVerPosition;return o._scrollContent(t,i*a,-s*a),r===o._prevHorPosition&&l===o._prevVerPosition},_hideVerticalScroll:function(){this._vertical&&this._verticalBar&&this._verticalTrack&&(this._verticalBar.hide(),this._verticalTrack.removeClass("zscroll__handler--hover zscroll__handler--hoverv"))},_hideHorizontalScroll:function(){this._horizontal&&this._horizontalBar&&this._horizontalTrack&&(this._horizontalBar.hide(),this._horizontalTrack.removeClass("zscroll__handler--hover zscroll__handler--hoverh"))},_removeHorizontalTrackSettings:function(){var t=this;clearTimeout(this._removeHTimeout),this._removeHTimeout=setTimeout(function(){!t._mousedown&&t._horizontal&&(t._horizontalBar&&t._horizontalBar.is(":visible")||t._horizontalTrack&&t._horizontalTrack.is(":visible"))&&(t._horizontalTrack&&t._horizontalTrack.removeClass("zscroll__handler--hover zscroll__handler--hoverh"),t._horizontalBar&&(t._horizontalBar.removeClass("zscroll__thumb--hoverh h-scrollhorheight"),!t.options.showScrollBarAlways&&!t.options.showScrollBarOnHover&&(t.options.animateHide?t._horizontalBar.fadeOut():t._horizontalBar.hide()),(t.options.showScrollBarOnHover&&t._mouseLeave||t.options.showScrollBarOnTrackHover)&&(t.options.animateHide?t._horizontalBar.fadeOut():t._horizontalBar.hide())))},this.options.disappearDelay)},_removeVerticalTrackSettings:function(){var t=this;clearTimeout(this._removeVTimeout),this._removeVTimeout=setTimeout(function(){!t._mousedown&&t._vertical&&(t._verticalBar&&t._verticalBar.is(":visible")||t._verticalTrack&&t._verticalTrack.is(":visible"))&&(t._verticalTrack&&t._verticalTrack.removeClass("zscroll__handler--hover zscroll__handler--hoverv"),t._verticalBar&&(t._verticalBar.removeClass("zscroll__thumb--hoverv h-scrollverheight"),!t.options.showScrollBarAlways&&!t.options.showScrollBarOnHover&&(t.options.animateHide?t._verticalBar.fadeOut():t._verticalBar.hide()),(t.options.showScrollBarOnHover&&t._mouseLeave||t.options.showScrollBarOnTrackHover)&&(t.options.animateHide?t._verticalBar.fadeOut():t._verticalBar.hide())))},this.options.disappearDelay)},_addVerticalTrackSettings:function(){clearTimeout(this._removeVTimeout),this.options.showScrollBarOnTrackHover&&this._showVerticalScroll(),this._vertical&&this._verticalBar&&(this._verticalBar.is(":visible")||this.options.showScrollBarOnTrackHover)&&(this._verticalTrack.addClass("zscroll__handler--hover zscroll__handler--hoverv"),this._verticalBar.addClass("zscroll__thumb--hoverv h-scrollverheight"))},_showVerticalScroll:function(){this._verticalBar&&this._verticalTrack&&this.element.is(":visible")&&(this._verticalBar.show(),this._verticalTrack.show())},_showHorizontalScroll:function(){this._horizontalBar&&this._horizontalTrack&&this.element.is(":visible")&&(this._horizontalBar.show(),this._horizontalTrack.show())},_addHorizontalTrackSettings:function(){clearTimeout(this._removeHTimeout),this.options.showScrollBarOnTrackHover&&this._showHorizontalScroll(),this._horizontal&&this._horizontalBar&&(this._horizontalBar.is(":visible")||this.options.showScrollBarOnTrackHover)&&(this._horizontalTrack.addClass("zscroll__handler--hover zscroll__handler--hoverh"),this._horizontalBar.addClass("zscroll__thumb--hoverh h-scrollhorheight"))},_scrollContent:function(t,e,i){this._horizontal&&this._scrollHorContent(t,e),this._vertical&&this._scrollVerContent(t,i)},_scrollHorContent:function(t,e){if(this._scrollY===!0)return!1;var i,s=-this._pane.position().left+Math[e<0?"floor":"ceil"](e);i=s/this._maxScrollX,this._scrollPosX(t,i*this._maxDragX)},_scrollPosX:function(t,e,i){this._horizontalBar&&(e<0?(e=0,ZComponents.Browser.isMobile()||t&&t.preventDefault()):e>this._maxDragX?(e=this._maxDragX,ZComponents.Browser.isMobile()||t&&t.preventDefault()):t&&t.stopPropagation(),this._animate?this._horizontalBar.animate({left:e},100,"swing"):(i=i||this.options.animation,i?this._horizontalBar.animate({left:e},i.duration,i.name):this._horizontalBar.css("left",e)),this.options.left=e,this._removeHorizontalTrackSettings(),this._finalHorValue=e,this._positionX(t,e,i))},_positionX:function(t,e,i){this._prevHorPosition=e||0;var s=e/this._maxDragX,o=-s*this._maxScrollX;i?this._pane.animate({left:o},i.duration,i.name):this._pane.css("left",o),Object.defineProperty(this.element[0],"scrollLeft",{value:-o,configurable:!0}),this._dispatchEvent("SCROLL",t,{scrollBarPos:e,scrollLeft:-o}),this._positionXEnded=e===this._maxDragX&&this._positionXEnded,e!==this._maxDragX||this._positionXEnded||(this._dispatchEvent("SCROLLEND",t,{scrollBarPos:e,scrollLeft:-o}),this._positionXEnded=!0,this._dispatchEvent("SCROLLXEND",t,{scrollBarPos:e,scrollLeft:-o}))},_scrollVerContent:function(t,e){if(this._animate=!1,this._scrollX===!0)return!1;var i,s;i=-this._pane.position().top+Math[e<0?"floor":"ceil"](e),s=i/this._maxScrollY,this._scrollPosY(t,s*this._maxDragY)},_scrollPosY:function(t,e,s){if(s=s||this.options.animation,t){var o=i(t.target).closest("[allowscroll]");if(o.length)return}if(this._verticalBar){this._finalVerValue=e,e<0?(e=0,ZComponents.Browser.isMobile()||t&&t.preventDefault()):e>this._maxDragY?(e=this._maxDragY,ZComponents.Browser.isMobile()||t&&t.preventDefault()):t&&t.stopPropagation(),this._finalVerValue=e,this._prevVerPosition=e||0;var n,a=e/this._maxDragY,r=-a*this._maxScrollY;n=this._dispatchEvent("SCROLL",t,{scrollBarPos:e,scrollTop:-r,scroll:"vertical",maxScrollValue:this._maxDragY}),n&&(this.options.top=r,this._animate?this._verticalBar.animate({top:e},100,"swing"):s?this._verticalBar.animate({top:e},s.duration,s.name):this._verticalBar.css("top",e),s?this._pane.animate({top:r},s.duration,s.name):this._pane.css("top",r),this.element[0]._addedByComponent=!0,this.element[0].scrollTop=-r,this._removeVerticalTrackSettings()),this._positionYEnded=e===this._maxDragY&&this._positionYEnded,e!==this._maxDragY||this._positionYEnded||(this._dispatchEvent("SCROLLEND",t,{scrollBarPos:e,scrollTop:-r,scroll:"vertical"}),this._positionYEnded=!0,this._dispatchEvent("SCROLLYEND",t,{scrollBarPos:e,scrollTop:-r,scroll:"vertical"}))}},_refresh:function(){var t=this[this._isUL?"_parentElement":"element"];this._isUL&&this.element.removeClass("zoverflow__visible"),this._currentClass&&t.removeClass(this._currentClass),this._getScrollbarWidth(),this._elementWidth=this.element.width(),this._paneWidth=this.element.innerWidth(),this._paneHeight=this.element.innerHeight(),this._currentClass&&t.addClass(this._currentClass),this._isUL&&this.element.addClass("zoverflow__visible"),this._outerPane.css({width:this._paneWidth,height:this._paneHeight}),this._pane.width(this._paneWidth),this._checkScrollChanges()},_checkScrollChanges:function(){var t,e=this._contentHeight,i=this._contentWidth;if(this._contentWidth=this._pane[0].scrollWidth,this._contentHeight=this._pane[0].scrollHeight,this._isUL&&(this._contentHeight!==this.element[0].scrollHeight&&(this._contentHeight=this.element[0].scrollHeight),this._contentWidth!==this.element[0].scrollWidth&&(this._contentWidth=this.element[0].scrollWidth)),e===this._contentHeight&&i===this._contentWidth||(t=!0),t){if(this._percentInViewX=this._contentWidth/this._paneWidth,this._percentInViewY=this._contentHeight/this._paneHeight,this._horizontal=this._percentInViewX>1,this._vertical=this._percentInViewY>1,this._handleScrollYTrack(),this._handleScrollXTrack(),this._maxScrollY=this._contentHeight-this._paneHeight,this._maxScrollX=this._contentWidth-this._paneWidth,this._finalVerValue&&this._vertical){var s,o=-this._pane.position().top,s=o/this._maxScrollY;this._scrollPosY(void 0,s*this._maxDragY)}else this._finalVerValue&&!this._vertical&&(this._verticalBar.hide(),this._finalVerValue=void 0);if(this._horizontal&&this._finalHorValue){var s,o=-this._pane.position().left,s=o/this._maxScrollX;this._scrollPosX(void 0,s*this._maxDragX)}else this._finalHorValue&&!this._horizontal&&(this._horizontalBar.hide(),this._finalHorValue=void 0)}},_reinitialize:function(){if(this.element.is(":visible")){var t="UL"===this.element[0].tagName?this._parentElement:this.element;t.removeClass(this._currentClass);var e=this.element.innerHeight(),i=t.innerWidth();this._hasDimensionsChanged=e!==this._paneHeight||i!==this._paneWidth,this._hasDimensionsChanged?(this._reinitialized=!0,this._initialize()):(this._createStyle(!0),this._checkScrollChanges())}},_resetScrollPosition:function(){this._pane.css({top:"0px",left:"0px"}),this._horizontal&&this._horizontalBar.css("left","0px"),this._vertical&&this._verticalBar.css("top","0px")},_dispatchEvent:function(t,e,i){var s={value:i};return this._super(t,e,s)},reinitialize:function(){this._reinitialize()},refresh:function(){this._refresh()},resetScrollPosition:function(){this._resetScrollPosition()},setAttribute:function(t,e,i){this.options[t]=e,"top"===t?this._getTopValue(e,i):"left"===t&&this._getLeftValue(e,i)},_getTopValue:function(t,e){var i=t/this._maxScrollY;this._scrollPosY(void 0,i*this._maxDragY,e)},_getLeftValue:function(t,e){var i=t/this._maxScrollX;this._scrollPosX(void 0,i*this._maxDragX,e)},destroy:function(){var t=this.componentName;this.element.removeData(t);var e=this._isUL?this._parentElement:this.element;e.find(".zscroll__content").children().unwrap(),e.find(".zscroll__container").children().unwrap(),this._isUL?(this._parentElement.children().unwrap(),this.element.removeClass("zoverflow__visible")):this.element.removeClass("zscroll"),this._currentClass&&(this[this._isUL?"_parentElement":"element"].removeClass(this._currentClass),i(this._textNode).remove(),this._textNode=void 0);var s=ZComponents.scrollBindings.indexOf(this.element);ZComponents.scrollBindings.splice(s,1),this.element.css({padding:this._originalPadding,overflow:"",width:"",height:""}),this.element.off("."+t),ZComponents.$document.off("."+t),this._clearAutoreinit&&window.clearInterval(this._clearAutoreinit),this._pane.remove(),this._outerPane.remove(),this._outerPane=this._pane=void 0,this._removeHTimeout&&clearTimeout(this._removeHTimeout),this._removeVTimeout&&clearTimeout(this._removeVTimeout),this._horizontal&&(this._horizontalBar.remove(),this._horizontalTrack.remove(),this._horizontalTrack=this._horizontalBar=void 0),this._vertical&&(this._verticalBar.remove(),this._verticalTrack.remove(),this._verticalTrack=this._verticalBar=void 0)}};ZComponents.registerComponent("zscroll",s),ZComponents.scrollBindings=[],ZComponents.nullLowestDeltaTimeout=void 0,ZComponents.lowestDelta=void 0,ZComponents.detectPassiveEventSupport=function(){var t,e=!1;try{t=Object.defineProperty({},"passive",{get:function(){e=!0}}),window.addEventListener("passiveListenerSupportTest",i.noop(),t),window.removeEventListener("passiveListenerSupportTest",i.noop(),t),this.passiveListenerSupport=e}catch(t){this.passiveListenerSupport=!1}},ZComponents.specialMouseWheelHandler=function(){this.detectPassiveEventSupport();var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(i.event.fixHooks)for(var s=t.length;s>=0;s--)i.event.fixHooks[t[s]]=i.event.mouseHooks;ZComponents.mouseSpecial=i.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=e.length;t>=0;t--)this.addEventListener(e[t],ZComponents.mouseWheelHandler,!(!ZComponents.passiveListenerSupport||!ZComponents.Browser.isMobile())&&{passive:!0});else this.onmousewheel=ZComponents.mouseWheelHandler;i.data(this,"mousewheel-line-height",ZComponents.mouseSpecial.getLineHeight(this)),i.data(this,"mousewheel-elem-height",ZComponents.mouseSpecial.getElementHeight(this))},getElementHeight:function(t){return i(t).height()},getLineHeight:function(t){var t=i(t),e=t["offsetParent"in i.fn?"offsetParent":"parent"]();return e.length||(e=i("body")),parseInt(e.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},teardown:function(){if(this.removeEventListener)for(var t=e.length;t>=0;t--)this.removeEventListener(e[t],ZComponents.mouseWheelHandler,!1);else this.onmousewheel=null;i.removeData(this,"mousewheel-line-height"),i.removeData(this,"mousewheel-elem-height")},settings:{adjustOldDeltas:!0,normalizeOffset:!0}}},ZComponents.shouldAdjustOldDeltas=function(t,e){return ZComponents.mouseSpecial.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0},ZComponents.mouseWheelHandler=function(t){var e=t||window.event,s=Array.prototype.slice.call(arguments,1),o=0,n=0,a=0,r=0,l=0,h=0;if(t=i.event.fix(e),t.type="mousewheel","detail"in e&&(a=e.detail*-1),"wheelDelta"in e&&(a=e.wheelDelta),"wheelDeltaY"in e&&(a=e.wheelDeltaY),"wheelDeltaX"in e&&(n=e.wheelDeltaX*-1),o=0===a?n:a,"deltaY"in e&&(a=e.deltaY*-1,o=a),"deltaX"in e&&(n=e.deltaX,0===a&&(o=n*-1)),0!==a||0!==n){if(1===e.deltaMode){var d=i.data(this,"mousewheel-line-height");o*=d,a*=d,n*=d}else if(2===e.deltaMode){var c=i.data(this,"mousewheel-elem-height");o*=c,a*=c,n*=c}if(r=Math.max(Math.abs(a),Math.abs(n)),(!ZComponents.lowestDelta||r<ZComponents.lowestDelta)&&(ZComponents.lowestDelta=r,ZComponents.shouldAdjustOldDeltas(e,r)&&(ZComponents.lowestDelta/=40)),ZComponents.shouldAdjustOldDeltas(e,r)&&(o/=40,n/=40,a/=40),o=Math[o>=1?"floor":"ceil"](o/ZComponents.lowestDelta),n=Math[n>=1?"floor":"ceil"](n/ZComponents.lowestDelta),a=Math[a>=1?"floor":"ceil"](a/ZComponents.lowestDelta),ZComponents.mouseSpecial.settings.normalizeOffset&&this.getBoundingClientRect){var p=this.getBoundingClientRect();l=t.clientX-p.left,h=t.clientY-p.top}if(t.deltaX=n,t.deltaY=a,t.deltaFactor=ZComponents.lowestDelta,t.offsetX=l,t.offsetY=h,t.deltaMode=0,s.unshift(t,o,n,a),ZComponents.nullLowestDeltaTimeout&&clearTimeout(ZComponents.nullLowestDeltaTimeout),ZComponents.nullLowestDeltaTimeout=setTimeout(ZComponents.nullLowestDelta,200),!ZComponents.Browser.isMobile())return(i.event.dispatch||i.event.handle).apply(this,s);var u=new CustomEvent("custommousewheel",{bubbles:!0,composed:!0,cancelable:!0,detail:s});this.dispatchEvent(u)}},ZComponents.nullLowestDelta=function(){ZComponents.lowestDelta=null},ZComponents.$window.on("resize.zscroll",function(t){if(ZComponents.scrollBindings)for(var s=0;s<ZComponents.scrollBindings.length;s++)e(i(ZComponents.scrollBindings[s]))})}(ZComponents),function(t){var e=t.DOMUtil,i={options:{dropdownList:{itemType:"none",closeOnSelect:!0},allowDuplicateValues:!1,dataValidation:!1,tokens:{contentType:"text",removeSVGIconId:void 0,removeIconClassName:void 0,sortable:!1,editable:!1,animateOnRemove:!1,showRemoveButtonOnHover:!1},delimiter:",",maxAllowedValues:void 0,values:[],acceptNewValues:!1,newValuePattern:void 0,messages:{remove:"Remove",maxTokenLimitReached:"Max token limit reached"}},_TOKENFIELDEVENTS:{BEFORETOKENADD:"beforetokenadd",BEFORETOKENREMOVE:"beforetokenremove",AFTERTOKENADD:"tokenadd",AFTERTOKENREMOVE:"tokenremove",TOKENUPDATE:"tokenedit",TOKENDRAG:"tokendrag",TOKENADDFAIL:"tokenaddfail"},_CONSTANTS:{pattern:'"#value#" <#id#>',patterFormatError:"Invalid pattern for token. Pattern should contain #id# or #value# or both",minKeywordLength:20,maxResults:10},_create:function(e,i){this._keyCode=t.keyCode,this._extendEvents(),this._constructContainer(),this._initialize(),this._initSource(),this._tokensCollection=[],this._performedStack=[],this._recallStack=[],this._tokensCount=0,this._cachedData={},!this.options.disabled&&this._bindEvents(),this._uniqueIndex=0,!this.options.disabled&&this._bindMenuEvents(),this.options.isResponsePaginated&&(this._params={pages:void 0}),this.options.values&&this.options.values.length&&(this._defaultSelected=!0,this.addTokens(this.options.values),this._defaultSelected=!1),this.options.disabled&&(this.element.attr("disabled",!0),this.container.addClass("is-disabled"),this.container.attr("aria-disabled","true"),this._input.attr("disabled",!0))},_constructContainer:function(){this._elementId=(this.element.attr("id")?this.element.attr("id"):Math.floor(1e6*Math.random()))+"-"+this.componentName,this.container=e("<div id='"+this._elementId+"-container' tabindex='-1'>").addClass("ztokenfield"),this._input=e("<input type='text' role='textbox' aria-haspopup='true' role='textbox' aria-expanded='false' aria-owns='"+this._elementId+"-menu' id='"+this._elementId+"-input' autocomplete='off' tabindex='"+(this.element.attr("tabindex")||0)+"'>").addClass("ztokenfield__textbox"),this._input.appendTo(this.container).blur(),this.container.insertAfter(this.element),this.options.className&&this.container.addClass(this.options.className),this._pasteHelperTextBox=e("<input type='text' style='position:absolute; left: -10000000px' tabindex='-1' id='"+this._elementId+"-copyhelper'>").appendTo(this.container),this._pasteRegExp=this._CONSTANTS.pattern,this.options.placeholder&&(this._resizeSearchArea(this._input,this.options.placeholder),this._input.attr("placeholder",this.options.placeholder)),this.options.dropdownList.forElement=this.container,!this.options.tokens.showRemoveButtonOnHover&&this.container.addClass("ztokenfield--closeshown"),this._prevContainerHeight=this.container.css("height"),this.element.hide()},_resizeSearchArea:function(t,i){var s,o,n,a,r,l,h;r="position:absolute; left: -1000px; top: -1000px; display:none;",n=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(var d=0;d<n.length;d++)l=n[d],r+=l+":"+t.css(l)+";";s=e("<div />",{style:r}),s.text(void 0!==i?i:t.val()),e("body").append(s);var a;if(o=this.container.outerWidth(),t.attr("id")==="dblclick-input-"+this.componentName)a=s.width()+30,h=a;else{a=s.width()+50,s.text(t.val());var c=s.width()+50;s.remove(),h=a>c?a:c}return this.container.is(":visible")&&h>o-10&&(h=o-10),t.css({width:h+"px"})},_activateInputArea:function(){this._inputArea.val(this._inputArea.val()),this.container.addClass("has-focus")},_addCustomCloseIcon:function(){this._closeButton=e('<button type="button" class="ztokenfield__close" tabindex="-1" title='+this._localize("remove")+"></button>");var t,i=e('<i class="ztokenfield__icon"></i>'),s=this.options.tokens;t={props:{viewBox:"0 0 16 16",class:"ztokenfield__svg",width:"100%",height:"100%"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)",class:"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)",class:"st0",width:"13",height:"1.1"}}]},this._handleIcon(i,t,"closebutton",s.removeIconClassName,s.removeSVGIconId),i.appendTo(this._closeButton)},_addErrorToken:function(t,i,s,o){if(t=t.trim(),t.length){var n=void 0!==this._editTextBox?this._editTextBox:this._input;this._tokenContainer=e("<div class='ztokenfield__token' tabindex='-1'>"),this._addCustomCloseIcon(),this._tokenText=e("<span class ='ztokenfield__text'>").attr("title",t).text(t),this._tokenContainer.addClass("has-error").data("invalidToken",!0),this._insertToken({errorValue:t},n,i,s,o),n.val("")}},_checkTokenChange:function(t){if(this._tokensCollection.length>0&&this._tokensCollection.length===this._lastTokenUpdate.length){for(var i=this._tokensCollection,s=this._lastTokenUpdate,o=!1,n=0;n<i.length;n++)for(var a=0;a<s.length;a++){var r,l,h=e(i[n]).data().metadata;void 0!==h&&(r=this._mapJSONToData(h,this._dataMapping.itemIdentifier));var d=s[a];if(void 0!==d&&(l=this._mapJSONToData(d,this._dataMapping.itemIdentifier)),r===l){o=!0;break}o=!1}if(!o){var c={prevTokenList:s,currentTokenList:i};this._dispatchEvent("CHANGE",c,t),this._lastTokenUpdate=[];for(var n=0;n<this._tokensCollection.length;n++)this._lastTokenUpdate.push(this._tokensCollection[n].data().metadata)}}else if(this._tokensCollection.length!==this._lastTokenUpdate.length){var c={prevTokenList:this._lastTokenUpdate,currentTokenList:this._tokensCollection};this._dispatchEvent("CHANGE",c,t),this._lastTokenUpdate=[];for(var n=0;n<this._tokensCollection.length;n++)this._lastTokenUpdate.push(this._tokensCollection[n])}},_checkIsContentValid:function(t,e){var i=this.options.acceptNewValues,s=this.options.newValuePattern;if(void 0!==t&&t.length&&i){var o={itemValue:{}};if(void 0!==s&&s instanceof RegExp&&s.test(t)||void 0===s){o.itemValue.text=t,o.itemValue.itemIdentifier=t,o.itemValue.titleText=t,this._addToken(o,e,void 0,void 0,!0),this._checkTokenChange();var n=this._getData(o.itemValue);this.options.dropdownList.acceptNewValues&&this.options.dataSource instanceof Array&&this.options.dataSource.push(n)}else this.options.dataValidation&&this._addErrorToken(t,e)}},_handleEnterPressed:function(t){var i=this._menu.find("#ztokenfieldnoresults").length;if(this._enterKeyPressed&&void 0!==this._menu&&(!this._menu.is(":visible")||i)){var s=this._input.val();if(this.options.tokens.editable&&this._pasteHelperTextBox&&e(t.target).attr("id")===this._pasteHelperTextBox.attr("id")){var o=this.container.find(".is-selected");o.length&&1===o.length&&this._editToken(o,t)}else!this.options.acceptNewValues&&this.options.dataValidation?(e(t.target).attr("id")===this._input.attr("id")&&void 0!==s&&s.length&&this._addErrorToken(s),void 0!==this._editTextBox&&(this._reformToken(t),this._input.focus())):this.options.acceptNewValues?this._editTextBox&&e(t.target).attr("id")===this._editTextBox.attr("id")?(this._reformToken(t),this._input.focus()):this._checkIsContentValid(s):this._editTextBox&&e(t.target).attr("id")===this._editTextBox.attr("id")&&(this._reformToken(t),this._input.focus());i&&this._hideSuggestions()}this._enterKeyPressed=!1},_docClickHandler:function(t){var i=e(t.target),s=i.closest(".zmenu__item"),o=e(document.activeElement),n=i.closest(".ztokenfield");if(n[0]!==o.closest(".ztokenfield")[0]&&n[0]!==this.container[0]&&i.closest(".zmenu")[0]!==this._menu[0]){var a=this._input.val();if(this.container.removeClass("has-focus"),!this._lastTokenUpdate.length&&this._tokensCollection.length){var r={prevTokenList:this._lastTokenUpdate,currentTokenList:this._tokensCollection};this._dispatchEvent("CHANGE",r);for(var l=0;l<this._tokensCollection.length;l++)this._lastTokenUpdate.push(this._tokensCollection[l].data().metadata)}else this._checkTokenChange(t);this._clickReset=!0,this.options.dropdownList.closeOnSelect?this._menu.is(":visible")&&this._hideSuggestions():this._menu[0].contains(s[0])?this._searchTimeout(this._params.query,this._input,t):this._menu.is(":visible")&&this._hideSuggestions(),void 0!==this._editTextBox&&e(t.target).attr("id")!==this._editTextBox.attr("id")?(this._reformToken(t),this._menu.is(":visible")&&this._hideSuggestions()):!this._menu[0].contains(s[0])&&!this.options.acceptNewValues&&this.options.dataValidation&&void 0!==a&&a.length?this._addErrorToken(a):this.options.acceptNewValues?this._checkIsContentValid(a):(this._input[0].value="",this._resizeSearchArea(this._input,this.options.placeholder)),this.container.find(".is-selected").removeClass("is-selected")}!this.options.dropdownList.closeOnSelect&&this._menu[0].contains(s[0])&&this._searchTimeout(this._params.query,this._input,t)},_keydownHandler:function(t){if(this._metaKey=!1,this._checkMaxLimitReach(t),this._input.val().length<1&&!this._editTextBox){var i=this.container.find(".is-selected");switch(t.keyCode){case this._keyCode.LEFT:var s,o=e(i[0]);if(i.length&&!(t.shiftKey||t.metaKey||t.ctrlKey)&&(i.removeClass("is-selected"),this._clickReset=!0),t.shiftKey){if(this._clickReset)if(this._element){var n;n=this._element.prev(),i.length>1?n.hasClass("is-selected")?(this._element.removeClass("is-selected"),this._element=n):s=n:(o.length&&(s=o.prev()),n=void 0)}else o.length&&(s=o.prev()),n=void 0;else o.length&&(s=o.prev());this._clickReset=!0}else o.length&&(s=o.prev());if(void 0!==s&&s.length)s.hasClass("ztokenfield__token")?(this._element=s.addClass("is-selected"),this._element.focus(),this._triggerPasteHelper()):this._input.focus();else if(!n){var s=this._input.prev();s.hasClass("ztokenfield__token")&&(this._element=s.addClass("is-selected"),this._element.focus(),this._triggerPasteHelper())}this._menu.is(":visible")&&this._hideSuggestions(),t.preventDefault();break;case this._keyCode.RIGHT:var s,a=i.length,o=e(i[a-1]);if(i.length&&!(t.shiftKey||t.metaKey||t.ctrlKey)&&(i.removeClass("is-selected"),this._clickReset=!0),t.shiftKey){if(this._clickReset)if(this._element){var n;i.length>1?(n=this._element.next(),n.hasClass("is-selected")?(this._element.removeClass("is-selected"),this._element=n):s=n):o.length&&(s=o.next())}else o.length&&(s=o.next());else o.length&&(s=o.next());this._clickReset=!0}else o.length&&(s=o.next());void 0!==s&&s.length&&(s.hasClass("ztokenfield__token")?(this._element=s.addClass("is-selected"),this._triggerPasteHelper()):(this._input.focus(),t.shiftKey&&this.container.find(".is-selected").removeClass("is-selected"))),this._menu.is(":visible")&&this._hideSuggestions(),t.preventDefault()}}else{var r=this._input.val(),l=this._input[0].selectionStart;r.length<this.options.search.maxKeywordLength&&(r=t.keyCode===this._keyCode.LEFT?r.substring(0,l-1):t.keyCode===this._keyCode.RIGHT?r.substring(0,l+1):void 0,void 0!==r&&this._searchTimeout(r,this._input,t),void 0!==r&&r.length===l&&t.preventDefault())}if(t.keyCode===this._keyCode.BACKSPACE||t.keyCode===this._keyCode.DELETE){if(this._hasInput=!1,this.container.find(".is-selected").length)return t.preventDefault(),!1;var h=e(t.target),r=h.is("input")&&h.attr("id")!==this._pasteHelperTextBox.attr("id")&&h.val();void 0!==r&&r.length&&(this._hasInput=!0)}if(t.metaKey||t.ctrlKey){this._metaKey=!0;var h=e(t.target);if(65===t.keyCode&&(e(t.target).attr("id")===this._pasteHelperTextBox.attr("id")||h.attr("id")===this._input.attr("id")&&0===this._input.val().length)&&t.preventDefault(),this._menu.is(":visible"))if("none"===this.options.dropdownList.itemType)this._hideSuggestions();else{var r=h.val();this._searchTimeout(r,h,t)}switch(t.keyCode){case 65:if(h.attr("id")===this._pasteHelperTextBox.attr("id")||h.attr("id")===this._input.attr("id")&&0===this._input.val().length){for(var d=this.container.find(".ztokenfield__token"),c=0;c<d.length;c++)e(d[c]).addClass("is-selected").focus();this._triggerPasteHelper()}break;case 90:if(this._input.val().length||this._editTextBox)this._resizeSearchArea(h);else if(t.preventDefault(),this._performedStack.length){var p=this._performedStack.pop();p&&"Insert"===p.action?this._removeToken(e("#"+p.tokenId).find(".ztokenfield__close"),t,p.index):p&&"Remove"===p.action&&this._addToken(p.tokenData,t,p.index,p.tokenId)}break;case 89:if(this._input.val().length||this._editTextBox)this._resizeSearchArea(h);else if(t.preventDefault(),this._recallStack.length){var u=this._recallStack.pop();u&&"Remove"===u.action?this._removeToken(e("#"+u.tokenId).find(".ztokenfield__close"),t,u.index):u&&"Insert"===u.action&&this._addToken(u.tokenData,t,u.index,u.tokenId)}break;case 88:if(h.attr("id")!==this._input.attr("id")&&void 0!==this._activeTokens)for(var c=0;c<this._activeTokens.length;c++)this._removeToken(e("#"+this._activeTokens[c]).find(".ztokenfield__close"));setTimeout(this._undoTimeoutHandler.bind(this),500)}}if(t.keyCode===this._keyCode.ESCAPE&&void 0!==this._editTextBox&&(this._escKeyPressed=!0,this._reformToken(t),this._input.focus()),t.keyCode===this._keyCode.TAB&&void 0!==this._editTextBox&&(this._reformToken(t),this._menu.is(":visible")&&this._hideSuggestions()),void 0!==this._menu&&(!this._menu.is(":visible")||this._menu.find("#ztokenfieldnoresults").length)&&this._tokensCount!==this.options.maxAllowedValues)return t.keyCode!==this._keyCode.DOWN||this._ajaxSource||this.container.find(".ztokenfield__token").hasClass("is-selected")||this._searchTimeout(this._params.query,this._input,t),t.keyCode===this._keyCode.ENTER&&(t.preventDefault(),this._enterKeyPressed=!0,this._newQuery||this._handleEnterPressed(t)),!0;if(this._tokensCount!==this.options.maxAllowedValues)switch(t.keyCode){case this._keyCode.UP:case this._keyCode.DOWN:case this._keyCode.ENTER:case this._keyCode.ESCAPE:t.preventDefault(),this._newQuery||!this._isLoaderInited&&this._menu.zmenu("handleKeyCode",t.keyCode),this._menu.find(".on-hover").length||void 0!==this._editTextBox&&this._reformToken(t)}},_checkMaxLimitReach:function(t){var i=e(t.target).is("input")&&e(t.target).attr("id")!==this._pasteHelperTextBox.attr("id")&&!(t.metaKey||t.ctrlKey)&&(t.keyCode>=186&&t.keyCode<=192||t.keyCode>=219&&t.keyCode<=222||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=65&&t.keyCode<=90||t.keyCode===this._keyCode.SPACE);i&&this.options.maxAllowedValues&&this._tokensCount===this.options.maxAllowedValues&&t.preventDefault()},_keyUpHandler:function(t){if(this.element.attr("disabled"))return!1;if(e(t.target).is("input")&&e(t.target).attr("id")!==this._pasteHelperTextBox.attr("id")&&!t.metaKey&&!t.ctrlKey&&(t.keyCode>=186&&t.keyCode<=192||t.keyCode>=219&&t.keyCode<=222||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=65&&t.keyCode<=90||t.keyCode===this._keyCode.SPACE)&&this._tokensCount!==this.options.maxAllowedValues){this.container.find(".is-selected").removeClass("is-selected"),this._clickReset=!0,this._resizeSearchArea(e(t.target),this.options.placeholder?e(t.target).attr("placeholder"):void 0);var i=e(t.target).val();if(i.charCodeAt(i.length-1)===this.options.delimiter.charCodeAt(0)){var s,o=this._menu.is(":visible");if(o&&(s=this._menu.find("li:not(.zmenu__title)")),s&&s.length)this.options.autoComplete&&this._menu.zmenu("hoverMenuItem",e(s[0])),this._menu.zmenu("selectHoveredMenuItem");else{var i=i.substring(0,i.length-1);!this.options.acceptNewValues&&this.options.dataValidation?(void 0!==i&&i.length&&this._addErrorToken(i),void 0!==this._editTextBox&&this._reformToken(t)):this.options.acceptNewValues?this._editTextBox?this._reformToken(t):this._checkIsContentValid(i):this._editTextBox&&this._reformToken(t)}this.options.dropdownList.closeOnSelect&&this._menu.is(":visible")&&this._hideSuggestions()}else i.length<this.options.search.maxKeywordLength&&!this._metaKey&&(this._newQuery=!0,this._searchTimeout(i,e(t.target),t))}if(t.keyCode===this._keyCode.BACKSPACE||t.keyCode===this._keyCode.DELETE){var i,n=e(t.target),i=n.is("input")&&n.attr("id")!==this._pasteHelperTextBox.attr("id")&&n.val();n.is("input")&&n.attr("id")!==this._pasteHelperTextBox.attr("id")&&this._resizeSearchArea(n),i.length<this.options.search.maxKeywordLength?(!this._hasInput&&0===i.length&&this._handleTokenRemove(e(t.target),t),i.length>=0&&this._hasInput&&this._searchTimeout(i,n,t)):this.container.find(".is-selected").length&&this._handleTokenRemove(this._input,t),0===this.options.values.length&&n.attr("id")===this._input.attr("id")&&0===n.val().length&&this.options.placeholder&&(this._input.attr("placeholder",this.options.placeholder),this._resizeSearchArea(this._input,this.options.placeholder))}},_mousedownHandler:function(t){var i=this._editTextBox?this._editTextBox.val():this._input.val(),s=e(t.target).closest(".ztokenfield__token");void 0!==this._editTextBox&&this._editTextBox.attr("id")!==e(document.activeElement).attr("id")||!s.length&&i.length<this.options.search.maxKeywordLength&&this._searchTimeout(i,this._input,t),void 0!==this._editTextBox&&e(t.target).attr("id")!==this._editTextBox.attr("id")&&(this._reformToken(t),this._menu.is(":visible")&&this._hideSuggestions()),t.metaKey||t.ctrlKey||t.shiftKey||(this.container.find(".is-selected").removeClass("is-selected"),this._clickReset=!0),s.length&&(s.addClass("is-selected").focus(),this._menu.is(":visible")&&this._hideSuggestions())},_focusHandler:function(e){this._reverseTab=!1,clearTimeout(this._timeout),t.$window.off("keyup."+this.componentName).on("keyup."+this.componentName,this._windowKeyUpHandler.bind(this)),this._timeout=setTimeout(this._focusTimeoutHandler.bind(this),200),this.container.addClass("has-focus");},_windowKeyUpHandler:function(t){t.keyCode===this._keyCode.TAB&&t.shiftKey?(this._reverseTab=!0,this._menu.is(":visible")&&this._hideSuggestions()):t.keyCode===this._keyCode.TAB&&this._menu.is(":visible")&&this._hideSuggestions()},_pasteEventHandler:function(t){this._pasteTimeout&&clearTimeout(this._pasteTimeout),this._pasteTimeout=setTimeout(this._pasteHandler.bind(this,t),100)},_contextMenuHandler:function(t){t.preventDefault()},_inputFocusHandler:function(t){this.container.find(".is-selected").removeClass("is-selected"),this.container.addClass("has-focus"),this._dispatchEvent("FOCUS",t,this.container)},_inputBlurHandler:function(t){var e=this._input.val();this._menu.find("li").first().length||(!this.options.acceptNewValues&&this.options.dataValidation&&e&&e.length?this._addErrorToken(this._input.val(),{keyCode:this._keyCode.TAB}):this.options.acceptNewValues&&this._checkIsContentValid(this._input.val(),{keyCode:this._keyCode.TAB})),this.container.removeClass("has-focus")},_bindEvents:function(){var e=this.componentName;this._lastTokenUpdate=[],t.$document.on("mousedown."+e,this._docClickHandler.bind(this)),this.container.on("keydown."+e,this._keydownHandler.bind(this)).on("keyup."+e,this._keyUpHandler.bind(this)).off("mousedown."+e).on("mousedown."+e,this._mousedownHandler.bind(this)).off("focus."+e).on("focus."+e,this._focusHandler.bind(this)).off("paste."+e).on("paste."+e,this._pasteEventHandler.bind(this)).off("contextmenu."+e).on("contextmenu."+e,this._contextMenuHandler.bind(this)),this._input.off("focus."+e).on("focus."+e,this._inputFocusHandler.bind(this)).off("blur."+e).on("blur."+e,this._inputBlurHandler.bind(this))},_undoTimeoutHandler:function(){this._triggerPasteHelper(),this._input.focus()},_focusTimeoutHandler:function(){!this._reverseTab&&this._input.focus()},_pasteHandler:function(t){var i=e(t.target),s=i.is("input")&&i.attr("id")!==this._pasteHelperTextBox.attr("id")&&i.val();s&&s.length&&this._resizeSearchArea(i,s);for(var o=s.split(this.options.delimiter),n=0;n<o.length;n++){var a=o[n].match(/\"(.*)\"/)&&o[n].match(/\"(.*)\"/).pop(),r=o[n].match(/\<(.*)\>/)&&o[n].match(/\<(.*)\>/).pop(),l={};if(null!==r&&null!==a)l.itemValue={},l.itemValue.itemIdentifier=r,l.itemValue.text=a,l.itemValue.titleText=r,this._addToken(l,t,void 0,void 0,!0);else{this._newQuery=!0;var h=this._search(o[n],i).done(this._convertPastedTextToTokens(o[n].trim()));if(0==h)return!1}}void 0!==this._editTextBox&&(this._editTextBox.remove(),this._editTextBox=void 0)},_extendEvents:function(){this._EVENTS=e.extend(!0,{},this._TOKENFIELDEVENTS,this._EVENTS)},_bindMenuEvents:function(){this._super();var t=this;this._menu.off("zmenubeforeitemchecked").on("zmenubeforeitemchecked",function(e,i){"checkbox"===t.options.dropdownList.itemType&&"checked"!==i.data.checked&&t.options.maxAllowedValues&&t._tokensCount>=t.options.maxAllowedValues&&(e.preventDefault(),t._dispatchEvent("TOKENADDFAIL",{failureType:"limit exceeded"},e))})},_convertPastedTextToTokens:function(t){!this._menu.is("visible")&&this.options.acceptNewValues&&this._checkIsContentValid(t)},_handleTokenRemove:function(t,i){var s=this.container.find(".is-selected");if(s.length)for(var o=0;o<s.length;o++)this._removeToken(e(s[o]).find(".ztokenfield__close"),i),t.focus();else this._element=t.prev(),this._element.hasClass("ztokenfield__token")&&(this._element.addClass("is-selected"),this._removeToken(this._element.find(".ztokenfield__close"),i),t.focus()),void 0!==this._editTextBox&&(this._editTextBox.remove(),this._editTextBox=void 0,this._input.focus());"none"===this.options.dropdownList.itemType&&this._hideSuggestions(),t.attr("id")===this._input.attr("id")&&this._resizeSearchArea(t,this.options.placeholder?t.attr("placeholder"):void 0)},_handleSelection:function(t,i){if(i.menuitem.attr("id")===this._elementId+"noresults"||i.menuitem.hasClass("zmenu__title")||i.menuitem.attr("id")===this._elementId+"loaderror")this._input.focus();else{var s=void 0!==this._editTextBox?this._editTextBox:this._input;if(i.menuitem.attr("id")===this._elementId+"moreaction"){var o=this.options.dropdownList.moreResultsAction;o&&"function"==typeof o&&o(),this._dispatchEvent("MOREACTIONSELECT",{value:i.menuitem,query:this._params.query},t)}else{var n=i.menuitem.data().metadata;if(this.options.dropdownList.closeOnSelect&&"checkbox"!==this.options.dropdownList.itemType||t.preventDefault(),this._lastSelectedMenuItem=i.menuitem,e(i.menuitem).prop("checked")||"checkbox"!==this.options.dropdownList.itemType){if(!this._isJSONSource)return;if(this._dispatchEvent("ITEMSELECT",{value:i.menuitem},t),this._selectedItem=this.getData(i.menuitem),this._editTextBox){var a=this._currentTokenData.metadata?this._currentTokenData.metadata.index:this._currentTokenData.index,r=this._currentTokenData.metadata?this._currentTokenData.metadata.id:this._currentTokenData.tokenId;this._buildToken(i.menuitem,s,t,a,r)}else this._buildToken(i.menuitem,s,t);void 0!==this._editTextBox&&(this._editTextBox.remove(),this._editTextBox=void 0)}else{var l=void 0!==n.itemValue?n.itemValue.itemIdentifier:this._mapJSONToData(n,this._dataMapping.itemIdentifier);this.removeToken(l,t)}if("checkbox"===this.options.dropdownList.itemType&&"after-cursor"===this.options.dropdownList.position){this._input.focus();var h=this._positionMenuAtCursorPosition(this._input);this._menu.css({top:h.top+15,left:h.left})}}}},_handleHover:function(t,e){if(e.menuitem.attr("id")===this._elementId+"noresults"||e.menuitem.hasClass("zmenu__title")||e.menuitem.attr("id")===this._elementId+"moreaction")this._input.val(this._params.query);else if(this._isJSONSource){var i=void 0!==e.menuitem.data().itemValue?e.menuitem.data().itemValue.text:this._mapJSONToData(e.menuitem.data().metadata,this._dataMapping.text);this._input.val(i)}else this._input.val(e.menuitem.data().metadata.label);this._resizeSearchArea(this._input)},_removeAddedItem:function(){if(this._tokensCollection.length){var t,i=this;t=this._tokensCollection.map(function(t){if(t.data("invalidToken")!==!0){var e=t.data().metadata[i._dataMapping.value];return e}});var i=this;e.each(t,function(t,s){i._filteredResult=e.grep(i._filteredResult,function(t){var e=i._mapJSONToData(t,i._dataMapping.value);if(void 0===s||void 0!==s&&void 0!==e&&e.toString()!==s.toString())return!0})})}},_search:function(t,e,i){return this._super(t,e,i)},_updateCheckedState:function(){if("checkbox"===this.options.dropdownList.itemType){var t=[];if(this._tokensCollection.length){for(var e=0;e<this._tokensCollection.length;e++){var i,s=this._tokensCollection[e].data().metadata;void 0===s||s.isNewValue||(i=this._elementId+this._removeSpecialChar(this._mapJSONToData(s,this._dataMapping.value))),this._menu.find("#"+i).length&&t.indexOf("#"+i)===-1&&t.push("#"+i)}t.length&&this._menu.zmenu("setMenuItemsAttribute",t,"checked",!0)}}},_renderSuggestions:function(t,e){this._super(t,e),this._loader&&(this._loader.closest(".zmenu--loading").remove(),this._loader=null),this._menu.removeData("fixedArea")},_renderMenu:function(t){var e=this._super(t);return this._updateCheckedState(),e},_buildToken:function(t,i,s,o,n){var a,r,l,h,d,c=this.options.maxAllowedValues;if((d=this._selectedItem.itemValue)&&(a=d.itemIdentifier,r=d.text,l=d.titleText,h="image-text"===this.options.tokens.contentType&&d.image),!c||c&&this._tokensCount<c){if(this._addCustomCloseIcon(),this._tokenContainer=e("<div class='ztokenfield__token' tabindex='-1'>"),this._tokenText=e('<span class ="ztokenfield__text">').text(r),void 0!==l&&this._tokenText.attr("title",l),h!==!1&&void 0!==h){var p=this.options.isImageSourceSprited?e("<i class='ztokenfield__image'>").addClass(h):e("<img class='ztokenfield__image' src='"+h+"'>");p.appendTo(this._tokenContainer)}this._insertToken(t,i,s,o,n)}else c&&this._tokensCount>=c&&this._dispatchEvent("TOKENADDFAIL",{failureType:"limit exceeded"},s)},_animateHandler:function(t,e){var i=this;t.addClass("on-remove").animate({width:0},"fast",function(){for(var s=t.data().metadata,o=i.options.values,n=0;n<o.length;n++){var a=s.invalidToken?s.id:i._mapJSONToData(s,i._dataMapping.itemIdentifier),r=s.invalidToken?o[n].id:i._mapJSONToData(o[n],i._dataMapping.itemIdentifier);if(a===r){o.splice(n,1);break}}if(t.remove(),t=null,i._checkContainerHeight(),"after-cursor"===i.options.dropdownList.position){i._input.focus();var l=i._positionMenuAtCursorPosition(i._input);i._menu.css({top:l.top+15,left:l.left})}i.options.placeholder&&0===i.options.values.length&&0===i._input.val().length&&(i._input.attr("placeholder",i.options.placeholder),i._resizeSearchArea(i._input,i.options.placeholder)),i._dispatchEvent("AFTERTOKENREMOVE",s,e)})},_removeToken:function(t,i,s){var o,n,a,r,l,h=this._dispatchEvent("BEFORETOKENREMOVE",e(t).parent(),i),d=!1;if(h&&t){for(var c=e(t).parent(),p=0;p<this._tokensCollection.length;p++)if(this._tokensCollection[p].attr("id")===c.attr("id")){if(d=!0,r=c.attr("id"),o=this._tokensCollection[p].data().metadata,n=this._tokensCollection[p].data("invalidToken"),l=c.attr("id"),this._menu.is(":visible"))if("none"===this.options.dropdownList.itemType)this._hideSuggestions();else if(e("#"+l).length&&!n&&!o.isNewValue){var l=this._elementId+this._removeSpecialChar(this._mapJSONToData(o,this._dataMapping.value));this._menu.zmenu("setMenuItemsAttribute",["#"+l],"checked",!1),this._lastSelectedMenuItem=e("#"+l),this._menu.zmenu("hoverMenuItem",this._lastSelectedMenuItem)}n&&(o.invalidToken=n);var a=this._tokensCollection[p];if(this.options.tokens.animateOnRemove&&(i&&"dblclick"!==i.type&&"Enter"!==i.key||void 0===i))a.animate({opacity:.01},"fast",this._animateHandler.bind(this,a,i));else if(this._tokensCollection[p].remove(),this._tokensCollection[p]=null,c=null,this._element=null,this._checkContainerHeight(),"after-cursor"===this.options.dropdownList.position){this._input.focus();var u=this._positionMenuAtCursorPosition(this._input);this._menu.css({top:u.top+15,left:u.left})}this._tokensCollection.splice(p,1);for(var m=p;m<this._tokensCollection.length;m++)this._tokensCollection[m].data().metadata.index=m;void 0===this._editTextBox&&(void 0===s||i&&(i.metaKey||i.ctrlKey)&&89===i.keyCode)?(this._performedStack.splice(p,1),this._performedStack.push({action:"Remove",tokenData:o,tokenId:l,index:p})):void 0===this._editTextBox&&void 0!==s&&i&&(i.metaKey||i.ctrlKey)&&90===i.keyCode&&this._recallStack.push({action:"Insert",tokenData:o,tokenId:l,index:p}),!n&&this._tokensCount--;break}if(!this.options.tokens.animateOnRemove||this.options.tokens.animateOnRemove&&i&&("dblclick"===i.type||"Enter"===i.key)){for(var _,f=this.options.values,v=n?r:this._mapJSONToData(o,this._dataMapping.itemIdentifier),p=0;p<f.length;p++)if(_=void 0===f[p].errorValue?this._mapJSONToData(f[p],this._dataMapping.itemIdentifier):o?o.id:void 0,v&&_&&v===_){this.options.values.splice(p,1);break}this.options.placeholder&&0===this.options.values.length&&0===this._input.val().length&&(this._input.attr("placeholder",this.options.placeholder),this._resizeSearchArea(this._input,this.options.placeholder)),d&&this._dispatchEvent("AFTERTOKENREMOVE",o,i)}}},_bindTokenEvents:function(){var t=this;this.options.disabled||(this._closeButton.off("click."+this.componentName).on("click."+this.componentName,function(e){e.stopPropagation(),t._removeToken(e.currentTarget,e),t._input.focus()}),this._tokenContainer.off("focus."+this.componentName).on("focus."+this.componentName,function(e){t.container.addClass("has-focus")}),this._tokenContainer.off("click."+this.componentName).on("click."+this.componentName,this._tokenClickHandler.bind(this)),this.options.tokens.editable&&this._tokenContainer.off("dblclick."+this.componentName).on("dblclick."+this.componentName,function(i){t._editToken(e(i.currentTarget),i)}))},_tokenClickHandler:function(t){var i=e(t.currentTarget);if(this._clickReset=!1,this.container.addClass("has-focus"),t.metaKey||t.ctrlKey||t.shiftKey||(this.container.find(".is-selected").removeClass("is-selected"),this._clickReset=!0),t.shiftKey){for(var s=this.container.find(".is-selected").length,o=e(this.container.find(".is-selected")[0]).data().metadata.index,n=e(this.container.find(".is-selected")[s-1]).data().metadata.index,a=o;a<=n;a++)this.container.find("#token-"+a).addClass("is-selected");this._clickReset=!1}i.addClass("is-selected"),i.focus(),this._triggerPasteHelper()},_triggerPasteHelper:function(){var t=this.container.find(".ztokenfield__token.is-selected"),i=this;i._activeTokens=[];var s=e.map(t,function(t,s){var o,n,a;if(i._activeTokens[s]=e(t).attr("id"),a=e(t).data().metadata,e(t).data("invalidToken")!==!0&&a){o=i._mapJSONToData(a,i._dataMapping.itemIdentifier),n=i._mapJSONToData(a,i._dataMapping.text);var r=i._pasteRegExp.replace(/#value#/g,n).replace(/#id#/g,o);return r}}).join(this.options.delimiter);this._pasteHelperTextBox.val(s).select()},_editToken:function(t,i){if(t.hasClass("ztokenfield__token")){this._editTextBox=e("<input type='text' id='dblclick-input-"+this.componentName+"'>").addClass("ztokenfield__textbox");var s,o,n,a=t.data();if(a=a.invalidToken,this._tokenOption=this.options.tokens,a!==!0){n=t.data().metadata,this._currentTokenData=n,this._currentTokenData.tokenId=t.attr("id");var r,l;void 0!==n&&(l=this._mapJSONToData(n,this._dataMapping.text),r=this._mapJSONToData(n,this._dataMapping.itemIdentifier));try{var h=this._tokenOption.editable.pattern?this._tokenOption.editable.pattern:this._CONSTANTS.pattern;if(!h.match(/#value#/g)&&!h.match(/#id#/g))throw this._CONSTANTS.patterFormatError;s=h.replace(/#value#/g,l).replace(/#id#/g,r),o=!0,this._editTextBox.insertBefore(t),this._removeToken(t.find(".ztokenfield__close"),i),this._editTextBox.focus()}catch(t){throw t}}else this._editTextBox.insertBefore(t).addClass("invalid"),s=t.find(".ztokenfield__text").text(),o=!0,n=t.data(),this._currentTokenData=n,this._currentTokenData.tokenId=t.attr("id"),this._removeToken(t.find(".ztokenfield__close"),i),this._editTextBox.focus();if(void 0!==this._input.attr("placeholder")&&(this._input.removeAttr("placeholder"),this._resizeSearchArea(this._input,void 0)),o){o=!1,this._editTextBox.val(s).select(),this._resizeSearchArea(this._editTextBox),this._input.val("");var d=this;this._editTextBox.off("focus."+this.componentName).on("focus."+this.componentName,function(t){d.container.addClass("has-focus")})}}},_insertToken:function(t,e,i,s,o,n){var a,r,l=this,h=e.val();if(void 0!==t&&(a=t[0]&&t[0].nodeName?t.data().metadata:t),a&&void 0===a.errorValue&&!this._defaultSelected&&!this.options.allowDuplicateValues&&(r=this._isDuplicateToken(void 0!==a.itemValue?a.itemValue:a)),!r&&"checkbox"!==this.options.dropdownList.itemType&&this.options.dropdownList.closeOnSelect&&e.val(""),0===this._tokensCollection.length&&(this._input.attr("placeholder")&&this._input.removeAttr("placeholder"),this._resizeSearchArea(this._input,void 0)),r)this.options.dataValidation&&this._addErrorToken(t.itemValue?t.itemValue.text:e.val(),i),this._dispatchEvent("TOKENADDFAIL",{failureType:"Duplicate"},i);else{this._closeButton.appendTo(this._tokenContainer),this._tokenText.appendTo(this._tokenContainer),void 0!==o?this._tokenContainer.attr("id",o):this._tokenContainer.attr("id",this._elementId+"token-"+this._uniqueIndex++);var d=this._dispatchEvent("BEFORETOKENADD",{token:this._tokenContainer,tokenData:a?a.itemValue:void 0},i);if(d){(s||0===s)&&s<this._tokensCollection.length?this._tokenContainer.insertBefore(this._tokensCollection[s]):this._tokenContainer.insertBefore(e),this.options.tokens.sortable&&this.container.off("zsortablemousedrag").on("zsortablemousedrag",function(t){l._menu.is(":visible")&&l._hideSuggestions()});var c=this.getData(this._tokenContainer);if(a)if(a.errorValue)c.errorValue=a.errorValue,c.id=this._tokenContainer.attr("id");else{if(a.itemValue)for(var p in a.itemValue)"id"!=p&&p in this._dataMapping&&(c[this._dataMapping[p]]=a.itemValue[p]);else for(var u in a)"id"!=p&&(c[u]=a[u]);n&&(c.isNewValue=n)}if(c.index=void 0!==s?s:this._uniqueIndex-1,void 0!==s)for(var p=s;p<this._tokensCollection.length;p++)this._tokensCollection[p].data().metadata.index=p+1;if(this.options.tokens.sortable){var c=this.container.data("zsortable");c&&this.container.zsortable("destroy"),this.container.zsortable({leave:"ztokenfield__close"})}if(this.options.maxAllowedValues&&a&&!a.errorValue&&this._tokensCount++,!this._defaultSelected){var c=this._tokenContainer.data().metadata,m={};if(c&&void 0===c.errorValue)for(var u in this._dataMapping)void 0!==this._dataMapping[u]&&(m[this._dataMapping[u]]=c[this._dataMapping[u]]);else m=c,m.type="error";this.options.values.length?void 0===s?this.options.values.push(m):this.options.values.splice(s,0,m):this.options.values.push(m),this.element.data("selectedTokens",this.options.values)}this._dispatchEvent("AFTERTOKENADD",{token:this._tokenContainer},i),this._checkIfTokenAdded(this._tokenContainer,s),this._resizeSearchArea(this._input,void 0),this._bindTokenEvents(),i&&i.keyCode!==this._keyCode.TAB&&this._input.focus(),void 0!==s&&(i.metaKey||i.ctrlKey)&&90===i.keyCode?(this._recallStack.push({action:"Remove",tokenData:c,tokenId:this._tokenContainer.attr("id"),index:s}),this._performedStack.splice(s,0,{action:"Insert",tokenData:c,tokenId:this._tokenContainer.attr("id"),index:s})):void 0!==s&&(i.metaKey||i.ctrlKey)&&89===i.keyCode?this._performedStack.push({action:"Insert",tokenData:c,tokenId:this._tokenContainer.attr("id"),index:s}):void 0===s&&this._performedStack.push({action:"Insert",tokenData:c,tokenId:this._tokenContainer.attr("id"),index:this._tokensCollection.length-1}),this._checkContainerHeight()}void 0!==this._editTextBox&&this._tokenContainer.focus().addClass("is-selected"),"checkbox"===this.options.dropdownList.itemType&&this._menu.is(":visible")&&h.length&&this._searchTimeout(this._params.query,e,i)}this._tokenContainer=null,this._tokenText=null,this._closeButton=null},_checkContainerHeight:function(){var t=this.container.css("height");if(t!==this._prevContainerHeight&&this._menu.is(":visible")&&(this._lastSelectedMenuItem||this._menu.find("li").length)){this._menu.zmenu("show",{mustBeShown:!0,preventHover:!0,positionAlterable:!0});var i=this._lastSelectedMenuItem?this._lastSelectedMenuItem:e(this._menu.find("li")[this._dataMapping.groupLabel?1:0]);this._menu.zmenu("hoverMenuItem",i)}this._prevContainerHeight=t},_reformToken:function(t){var i=this._currentTokenData;if(this._escKeyPressed)d=!!i.invalidToken;else{var s=this._dispatchEvent("TOKENUPDATE",{textboxValue:this._editTextBox.val(),itemContent:this._currentTokenData},t);i="object"==typeof s?s.itemContent:i,d="object"==typeof s?s.itemContent.invalidToken:i.invalidToken}if(d!==!0){var o=(this._mapJSONToData(i,this._dataMapping.itemIdentifier),this._mapJSONToData(i,this._dataMapping.text)),n=this._mapJSONToData(i,this._dataMapping.titleText),a=this._mapJSONToData(i,this._dataMapping.image);if(o.length){if(this._addCustomCloseIcon(),this._tokenContainer=e("<div class='ztokenfield__token' tabindex='-1'>"),this._tokenText=e('<span class ="ztokenfield__text">').text(o),void 0!==n&&this._tokenText.attr("title",n),"image-text"===this.options.tokens.contentType&&a!==!1&&void 0!==a){var r=this.options.isImageSourceSprited?e("<i class='ztokenfield__image'>").addClass(a):e("<img class='ztokenfield__image' src='"+a+"'>");r.appendTo(this._tokenContainer)}var l={};l.itemValue={};for(var h in this._dataMapping)l.itemValue[h]=this._mapJSONToData(i,this._dataMapping[h]);this._insertToken(l,this._editTextBox,t,i.index,i.tokenId),this._performedStack.push({action:"Insert",tokenData:i,tokenId:i.tokenId,index:i.index})}}else if(this._escKeyPressed)i.invalidToken&&this._addErrorToken(i.metadata.errorValue,t,i.index,i.tokenId);else{var d=this._editTextBox.val();d.length&&this._addErrorToken(d,t,i.index,i.tokenId)}this._editTextBox.remove(),this._editTextBox=void 0,this._escKeyPressed=!1},_checkIfTokenAdded:function(t,e){this._tokensCollection.length?void 0===e?this._tokensCollection.push(t):this._tokensCollection.splice(e,0,t):this._tokensCollection.push(t)},_isDuplicateToken:function(t){for(var e=!1,i=0;i<this.options.values.length;i++){if(t.itemIdentifier===this.options.values[i][this._dataMapping.itemIdentifier]){e=!0;break}e=!1}return e},_addToken:function(t,i,s,o,n,a){if(t.invalidToken!==!0){var r=this.options.maxAllowedValues;if(!r||r&&this._tokensCount<r){var l=(t[this._dataMapping.itemIdentifier]?t[this._dataMapping.itemIdentifier]:t.itemValue&&t.itemValue.itemIdentifier,t[this._dataMapping.text]?t[this._dataMapping.text]:t.itemValue&&t.itemValue.text),h=t[this._dataMapping.titleText]?t[this._dataMapping.titleText]:t.itemValue&&t.itemValue.titleText,d=t[this._dataMapping.image]?t[this._dataMapping.image]:t.itemValue&&t.itemValue.image;if(this._addCustomCloseIcon(),this._tokenContainer=e("<div class='ztokenfield__token' tabindex='-1'>"),this._tokenText=e('<span class ="ztokenfield__text">').text(l),void 0!==h&&this._tokenText.attr("title",h),"image-text"===this.options.tokens.contentType&&void 0!==d){var c=this.options.isImageSourceSprited?e("<i class='ztokenfield__image'>").addClass(d):e("<img class='ztokenfield__image' src='"+d+"'>");c.appendTo(this._tokenContainer)}var p=void 0!==this._editTextBox?this._editTextBox:this._input;this._insertToken(t,p,i,s,o,n)}else r&&this._tokensCount>=r&&this._dispatchEvent("TOKENADDFAIL",{failureType:"limit exceeded"},i)}else this._addErrorToken(t.errorValue,i,s,o)},_removeTokens:function(t,i){for(var s=0;s<t.length;s++){var o=this.getData(e(t[s])),n=this._mapJSONToData(o,this._dataMapping.itemIdentifier);if(n==i){var a=e(t[s]).find(".ztokenfield__close");if(this._removeToken(a),!this.options.allowDuplicateValues)break}}},_getTokens:function(t,e){for(var i=0;i<t.length;i++){var s=this._mapJSONToData(t[i],this._dataMapping.itemIdentifier);if(s===e)return t[i]}},addTokens:function(t){if(t&&e.isArray(t))for(var i=0;i<t.length;i++){var s=i,o=this.addToken(t[i],i);o&&t.splice(i,1),o&&(i=s-1)}},addToken:function(t,i){if(t&&!e.isArray(t)){var s={};s.itemValue={};for(var o in this._dataMapping)s.itemValue[o]=t[this._dataMapping[o]];var n,a;if(this.options.dataSource&&!this._ajaxSource&&"error"!==t.type){for(var r=0;r<this.options.dataSource.length;r++){if(this.options.dataSource[r][this._dataMapping.itemIdentifier]===s.itemValue.itemIdentifier){a=!0;break}a=!1}this.options.acceptNewValues||a||(n=!0)}if("error"!==t.type){var l=this.options.maxAllowedValues;if(n||!(l&&this._tokensCount<l)&&l){if(l&&this._tokensCount>=l)return this._defaultSelected&&this.options.values.splice(i,1),this._dispatchEvent("TOKENADDFAIL",{failureType:"limit exceeded"}),!0;if(n)return this._defaultSelected&&this.options.values.splice(i,1),this._dispatchEvent("TOKENADDFAIL",{failureType:"deny new value"}),!0}else this._addToken(s),!a&&this.options.acceptNewValues&&this.options.dropdownList.acceptNewValues&&this.options.dataSource instanceof Array&&this.options.dataSource.push(t)}else"error"===t.type&&this._addErrorToken(t.errorValue)}},getValues:function(t){var i=[];if(e.isArray(t)&&this.options.values&&this.options.values.length){for(var s=0;s<t.length;s++)i.push(this._getTokens(this.options.values,t[s]));return i}},getValue:function(t){if(void 0!==t&&!e.isArray(t))return this._getTokens(this.options.values,t)},getAllValues:function(){return this.options.values},removeTokens:function(t){var i=this.container.find(".ztokenfield__token");if(e.isArray(t)&&i&&i.length)for(var s=0;s<t.length;s++)this._removeTokens(i,t[s])},removeToken:function(t){var i=this.container.find(".ztokenfield__token");void 0===t||e.isArray(t)||this._removeTokens(i,t)},removeAllTokens:function(){for(var t=this.container.find(".ztokenfield__token"),i=[],s=0;s<t.length;s++){var o=e(t[s]).data().metadata,n={};for(var a in this._dataMapping)void 0!==this._dataMapping[a]&&(n[this._dataMapping[a]]=o[this._dataMapping[a]]);i[s]=n}this._dispatchEvent("BEFORETOKENREMOVE",{tokensToBeRemoved:i}),t.remove(),this._dispatchEvent("AFTERTOKENREMOVE",{tokensRemoved:i}),this._tokensCollection=[],this.options.values=[],this._tokensCount=0},hasInvalidTokens:function(){var t;if(this.options.dataValidation){for(var e=0;e<this.options.values.length;e++){if(void 0!==this.options.values[e].type&&"error"===this.options.values[e].type){t=!0;break}t=!1}return!!t}return!1},_disableContainer:function(){this.element.attr("disabled",!0),this.container.addClass("is-disabled").attr("aria-disabled","true"),this.element.off("."+this.componentName),this.container.off("."+this.componentName).off(".zsortable").find("*").off("."+this.componentName).off(".zsortable"),this._input.attr("disabled",!0)},search:function(t){this._input[0].value=t,this._resizeSearchArea(this._input),this._searchTimeout(t,this._input)},setAttribute:function(t,i){var s=["dataMapping","lazyLoadData","search","dataSource","autoComplete","dropdownList","isImageSourceSprited"];"newValuePattern"===t||"object"!=typeof i||i instanceof Array||(i=e.extend(!0,{},this.options[t],i));var o=this.options[t];if(this.options[t]=i,"className"===t)o&&this.container.removeClass(o),this.container.addClass(i);else if("values"===t)this._defaultSelected=!0,this.addTokens(this.options.values),this._defaultSelected=!1;else if("placeholder"===t)i?(this._input.attr("placeholder",i),this._resizeSearchArea(this._input,this._input.attr("placeholder"))):this._input.removeAttr("placeholder");else if("tokens"===t){if("object"==typeof i){if(i.showRemoveButtonOnHover?this.container.removeClass("ztokenfield--closeshown"):i.showRemoveButtonOnHover||this.container.addClass("ztokenfield--closeshown"),o.sortable){var n=this.container.data("zsortable");n&&this.container.zsortable("destroy")}i.sortable&&e.fn.zsortable&&this.container.zsortable({leave:"ztokenfield__close",container:"parent"})}}else if("disabled"===t){if(i)this._disableContainer();else if(this.element.attr("disabled")){this.element.removeAttr("disabled"),this.container.removeClass("is-disabled"),this._bindEvents();var a=this;if(this.container.on("click."+this.componentName,".ztokenfield__close",function(t){a._removeToken(e(t.currentTarget),t)}),this.options.tokens.sortable){var n=this.container.data("zsortable");n&&this.container.zsortable("enable")}this._input.removeAttr("disabled"),this.container.focus(),this.container.attr("aria-disabled","false")}}else s.indexOf(t)>-1&&this._super(t,i)},destroy:function(){var e=this.componentName;this.container.off("."+e).off(".zsortable").find("*").off("."+e).off(".zsortable").remove(),this.removeAllTokens(),this._isLoaderInited=!1,this._menu.zmenu("destroy"),this._menu.remove(),this.element.off("."+e),t.$document.off("."+e),this.container.remove(),this.options.disabled&&this.element.removeAttr("disabled"),this.element.removeData(e).show()}};t.registerComponent("ztokenfield",e.zsuggestfield,i),t.createTokenfield=function(t){var i=e("<div>").attr({id:t.id});return i.appendTo("body"),i.ztokenfield(t)}}(ZComponents);var ZAlertBanner={};!function(t){var e=t.DOMUtil;t.notifierCount=0;var i={options:{type:"info",icon:void 0,message:"Default alert banner",isMessageHTMLEncoded:!1,position:"top",align:"center",positionAlterable:!0,hideDelay:void 0,closeButton:!1,display:"fixed",target:"body",displayAfter:void 0,displayBefore:void 0,displayInside:void 0,hideOnClick:!1,left:void 0,right:void 0,bottom:void 0,top:void 0,margin:void 0,pauseOnMouseOver:!1,height:"auto",width:"auto",className:void 0,animation:!1,closePreviousBanner:!0,icons:{close:void 0,error:void 0,info:void 0,warning:void 0,success:void 0},labels:{close:"Close"},widgetEventPrefix:"zalertbanner"},_TEMPLATE:{close:"<svg class='zalertbanner__svg' viewBox='0 0 16 16'><g><rect x='1.5' y='7.4' transform='matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)' class='st0' width='13' height='1.1'></rect><rect x='1.5' y='7.4' transform='matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)' class='st0' width='13' height='1.1'></rect></g></svg>",info:"<svg class='zalertbanner__svg' viewBox='0 0 48 48'><g><g><path d='M23.9,17.4c1.5,0,2.5-1.1,2.4-2.3c0-1.3-0.9-2.4-2.3-2.4s-2.4,1.1-2.4,2.4C21.6,16.3,22.6,17.4,23.9,17.4z'></path><path d='M26.2,35.5V21.8c0-1.2-1.4-1.3-1.8-1.3h-0.7c0,0-1.7,0-1.7,1.1v14.3c0,0.3,0.2,0.9,1.3,0.9h1.6C25.3,36.7,26.2,36.5,26.2,35.5z'></path></g><path d='M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24S37.3,0,24,0z M24,44C13,44,4,35,4,24S13,4,24,4s20,9,20,20S35,44,24,44z'></path></g></svg>",error:"<svg class='zalertbanner__svg' viewBox='0 0 48 48'><path d='M41.2,7.2C31.9-2.2,16.7-2.5,7.3,6.9c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.8,41.2,7.2z M37.9,38.2C30,46,17.4,45.9,9.7,38S2.1,17.5,10,9.8S30.5,2.1,38.2,10C45.9,17.9,45.8,30.5,37.9,38.2z'></path><path d='M31.7,17.5l-1.1-1.1c-0.8-0.8-1.7-0.1-2,0.1L24,21l-4.6-4.7c-0.3-0.3-1.1-0.8-1.9,0l-1.1,1.1c-0.8,0.8-0.1,1.7,0.1,2L21,24l-4.7,4.6c-0.9,0.9-0.3,1.6-0.1,1.8l1.3,1.3c0.2,0.2,0.9,0.8,1.8-0.1L24,27l4.6,4.7c0.9,0.9,1.6,0.3,1.8,0.1l1.3-1.3c0.2-0.2,0.8-0.9-0.1-1.8L27,24l4.7-4.6C32,19.1,32.5,18.4,31.7,17.5z'></path></svg>",warning:"<svg class='zalertbanner__svg' viewBox='0 0 48 48'><g><path d='M47.3,36.6L27.7,2.5c-0.9-1.4-2.4-2.2-3.9-2.1c-1.6,0-2.9,0.9-3.7,2.2L0.7,36.5c-0.9,1.3-1,3-0.2,4.4c0.8,1.5,2.3,2.4,4,2.4h39c1.6,0,3.1-0.8,3.9-2.2C48.2,39.7,48.2,38,47.3,36.6z M43.9,39.2c-0.1,0.1-0.2,0.2-0.4,0.2h-39c-0.3,0-0.4-0.2-0.5-0.3c-0.1-0.2,0-0.3,0-0.4L23.5,4.6c0,0,0.1-0.2,0.3-0.2c0,0,0,0,0,0c0.1,0,0.3,0,0.4,0.2l19.6,34C44,38.8,44,39,43.9,39.2z'></path></g><circle cx='24' cy='33.4' r='2'></circle><path d='M24.1,28.4L24.1,28.4c-0.8,0-1.3-0.4-1.4-1l-1-10c-0.1-1.1,1-2,2.4-2l0,0c1.4,0,2.5,0.9,2.4,2l-1,10C25.4,27.9,24.9,28.4,24.1,28.4z'></path></svg>",success:'<svg class="zalertbanner__svg" viewBox="0 0 48 48"><path d="M41.2 7.2C31.9-2.3 16.7-2.5 7.3 6.8c-9.5 9.3-9.7 24.5-0.4 33.9 9.3 9.5 24.5 9.7 33.9 0.4C50.3 31.9 50.4 16.7 41.2 7.2zM37.9 38.2c-7.9 7.7-20.5 7.6-28.2-0.3S2.1 17.4 10 9.7 30.5 2.1 38.2 10C45.9 17.8 45.8 30.5 37.9 38.2z"></path><path d="M35 20.3L23.1 32.2c-1.1 1.1-2.9 1.1-4 0l-1-1 -4.5-4.6c-0.2-0.2-1-1.1-0.1-2l1.1-1.1c0.8-0.8 1.6-0.3 1.9 0l4.6 4.7 11-10.8c0.2-0.2 1.1-1 2-0.1l1.1 1.1C35.8 19.2 35.3 19.9 35 20.3z"></path></svg>'},_EVENTS:{ONSHOW:"show",ONHIDE:"hide",ONBEFORESHOW:"beforeshow",ONBEFOREHIDE:"beforehide"},_ANIMATION:{slide:{show:"slideDown",hide:"slideUp"},fade:{show:"fadeIn",hide:"fadeOut"},end:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend"},_CLASS:{SUCCESS:"zalertbanner--success",INFO:"zalertbanner--info",WARNING:"zalertbanner--warning",ERROR:"zalertbanner--error"},_create:function(t,e){this._initialize(t,e),this._createNotifier(),this._positionNotifier(),this.notifier.hide()&&this._open(),this._bindEvents()},_initialize:function(t,e){if(this.notifier=t,e.hideOnClick=!e.closeButton&&e.hideOnClick,e.hideDelay=this._hideDelay=parseInt(void 0!==e.hideDelay?e.hideDelay:e.closeButton?0:5e3),this.eventNameSpace="."+e.widgetEventPrefix,"number"==typeof e.margin||"string"==typeof e.margin){var i=isNaN(parseInt(e.margin))?0:parseInt(e.margin);e.margin={left:i,top:i,right:i,bottom:i}}else"object"==typeof e.margin?(void 0===e.margin.left&&(e.margin.left="inline"===e.display?0:10),void 0===e.margin.right&&(e.margin.right="inline"===e.display?0:10),void 0===e.margin.top&&(e.margin.top="inline"===e.display?0:10),void 0===e.margin.bottom&&(e.margin.bottom="inline"===e.display?0:10)):(e.margin={},e.margin.left=e.margin.right=e.margin.bottom=e.margin.top="inline"===e.display?0:10)},_createNotifier:function(){var i=this.options,s=this.notifier;clearTimeout(this.autoHideTimer),/^(success|info|warning|error|custom)$/.test(i.type)||(i.type="success");var o="zalertbanner "+("custom"===i.type?"":this._CLASS[i.type.toUpperCase()])+" "+("string"==typeof i.className?i.className:"");if(this.notifier.addClass(o),i.icon){s=e('<div class="zalertbanner__table">').appendTo(this.notifier);var n=e('<i class="zalertbanner__icon"></i>').prependTo(s);i[i.type+"SVGIconId"]||i[i.type+"IconClassName"]?t.createIcon(n,void 0,i[i.type+"SVGIconId"],i[i.type+"IconClassName"]):"string"==typeof i.icon?t.createIcon(n,i.icon):n.html(this._TEMPLATE[i.type]);}if(i.closeButton){var a=this,r=e('<i class="zalertbanner__icon"></i>');i.closeSVGIconId||i.closeIconClassName?t.createIcon(r,void 0,i.closeSVGIconId,i.closeIconClassName):r[0].innerHTML=this._TEMPLATE.close;var l=e('<button class="zalertbanner__close"></button').append(r).on("click"+this.eventNameSpace,function(t){a._close()});e('<div class="zalertbanner__action"></div>').append(l).appendTo(s).attr("title",this._localize("close"))}if(s.append('<span class="zalertbanner__text">'+(i.isMessageHTMLEncoded?String(i.message):t.encodeHTML(String(i.message)))+"</span>"),"inline"===i.display?this.options.displayInside?(this.target=e(this.options.displayInside),this.notifier.appendTo(this.target)):this.options.displayAfter?(this.target=e(this.options.displayAfter),this.notifier.insertAfter(this.target)):this.options.displayBefore&&(this.target=e(this.options.displayBefore),this.notifier.insertBefore(this.target)):(this.target=e(i.target),this.notifier.appendTo(this.target).css({position:this.target.is("body")?"fixed":"absolute"})),this.notifier.css("text-align",i.textAlign),"inline"===i.display){var h=this.notifier.outerWidth()+1;this.notifier.css("display","block");var d=this.notifier.outerWidth();h>d&&(h=d,i.align="center"),this.notifier[0].style.width=h+"px"}},_bindEvents:function(){this.options.hideOnClick&&this.notifier.on("click"+this.eventNameSpace,this._close.bind(this)),(this.options.pauseOnMouseOver||this.options.pauseOnHover)&&this._hideDelay&&this.notifier.on("mouseenter"+this.eventNameSpace,this._pauseTimer.bind(this)).on("mouseleave"+this.eventNameSpace,this._setHideTimer.bind(this))},_setHideTimer:function(){this._hideDelay&&(clearTimeout(this.autoHideTimer),this._startTimer=(new Date).getTime(),this.autoHideTimer=setTimeout(this._close.bind(this),this._hideDelay))},_pauseTimer:function(){this._startTimer&&(clearTimeout(this.autoHideTimer),this._hideDelay-=(new Date).getTime()-this._startTimer,this._startTimer=void 0)},_showComplete:function(){this._trigger("ONSHOW"),this._setHideTimer()},_open:function(){this._trigger("ONBEFORESHOW")&&this._animate(this.notifier,this.options.animation,"show","show",this._showComplete.bind(this))},_closeComplete:function(){var t=this;this._trigger("ONHIDE");var e=this.target.data("previous-bannerId");e===this.notifier.attr("id")&&this.target.removeData("previous-bannerId"),setTimeout(function(){t.notifier&&t.notifier.remove()},100)},_close:function(t){this._trigger("ONBEFOREHIDE")&&(clearTimeout(this.autoHideTimer),this._animate(this.notifier,t?void 0:this.options.animation,"hide","hide",this._closeComplete.bind(this)))},_animate:function(t,e,i,s,o){if(e&&"object"==typeof e){var n,a;"string"==typeof e?n=this._ANIMATION[e][i]:e.name?this._ANIMATION[e.name]&&(n=this._ANIMATION[e.name][i]):e[i]&&("string"==typeof e[i]?n=e[i]:e[i].name?n=e[i].name:e[i].className&&(a=e[i].className));var r=e.duration?e.duration:e[i]&&e[i].duration?e[i].duration:void 0;"object"==typeof n?t.animate(n,r,o):/^(fadeIn|fadeOut|slideDown|slideUp)$/.test(n)?t[n](r,o):"string"==typeof a?("show"===s&&t.css("display",""),t.removeClass(t.data("css-effect")).addClass(a).data("css-effect",a).off(this._ANIMATION.end).on(this._ANIMATION.end,function(){"hide"===s&&t.hide(),t.removeClass(a).removeData("css-effect"),o()})):(t.css("display","hide"===s?"none":"block"),o())}else t.css("display","hide"===s?"none":"block"),o()},_trigger:function(t,e){return this._dispatchEvent(t,e)},_positionNotifier:function(){var t=this.options;if(t.left||t.right||t.top||t.bottom){var e={};t.left||t.top?(e.left=parseInt(t.left),e.top=parseInt(t.top)):(e.right=parseInt(t.right),e.bottom=parseInt(t.bottom)),this.notifier.css(e),this.userDefinedValue=!0}else this.notifier.css(this._getPosition())},_getPosition:function(){var t,i,s={},o={top:this.options.margin.top,bottom:this.options.margin.bottom,left:this.options.margin.left,right:this.options.margin.right};return/^(left|right|center)$/.test(this.options.align)||(this.options.align=e.zalertbanner.prototype.options.align),i=this.options.align,"fixed"===this.options.display?(/^(top|bottom|middle)$/.test(this.options.position)||(this.options.position=e.zalertbanner.prototype.options.position),t=this.options.position,/^(top|bottom)$/.test(t)?s[t]=parseInt(o[t]):s.top="calc(50% - "+this.notifier.outerHeight()/2+"px)",this.notifier.attr("data-position",t+"-"+i)):(o.top&&(s["margin-top"]=o.top),o.bottom&&(s["margin-bottom"]=o.bottom)),"left"===i?o.left&&(s.left=parseInt(o.left)):"right"===i?"fixed"!==this.options.display?s.left="calc(100% - "+(this.notifier.outerWidth()+parseInt(o.right))+"px)":s.right=parseInt(o.right):"fixed"===this.options.display?s.left="calc(50% - "+this.notifier.outerWidth()/2+"px)":(s["margin-left"]="auto",s["margin-right"]="auto"),s}};t.registerComponent("zalertbanner",i),ZAlertBanner.show=function(i){var s;"fixed"===i.display?(s=e(i.target),s.length||(i.target=s=e("body"))):(i.displayInside?s=e(i.displayInside):i.displayAfter?s=e(i.displayAfter):i.displayBefore&&(s=e(i.displayBefore)),s&&s.length||(s=e("body"),i.display="fixed"));var o=s.data("previous-bannerId");if(o){var n=e("#"+o);n.finish?n.finish():n.stop(!0,!0),n.is(":visible")&&n.length&&(ZAlertBanner.hide(n,!0),"inline"===i.display&&i.animation&&i.animation.show&&(i.animation.show=!1))}var a="zalertbanner_"+t.notifierCount++;return s.data("previous-bannerId",a),e('<div id="'+a+'" role="status" ></div>').zalertbanner("string"===i?{message:i}:i),a},ZAlertBanner.hide=function(t,i){if(t){var s=e(t);s.length&&s.each(function(t,s){var o=e(s).data("zalertbanner");o&&o._close.call(o,i)})}}}(ZComponents),function(t,e){var i={_stateType:void 0,_stateGroup:void 0,eventPrefix:"state",_EVENTS:{ONCHANGE:"change"},_create:function(){this.element[0].setAttribute("role","button");var e=this;this.options=t.extend({},t.fn.zstatebutton.defaults,this.options);var i=t(this.element);t(i).each(function(){var i=t(this);e.options.constructButton&&e._addLabelTag(i),e._addIcon(i,e.options)}),t(i).on("click."+this.widgetName,function(t){e._triggerEvent(e._EVENTS.ONCHANGE)}),this.element.is(":disabled")&&this.disable();var s=this.element.is(":checkbox");(this.element.is(":radio")||s)&&(""!==this._name&&void 0!==this._name||s)&&(this._stateType=s?"checkbox":"radio"),this._updateStateCSS(this.element[0].checked)},_addIcon:function(e,i){if(i.icon){var s=t("<span>").addClass("ui-zstate-icon "+i.icon);t(s).insertAfter(e)}},_addLabelTag:function(e){this._name=this.element.attr("name");var i=this.options.class,s={class:"ui-zstate "+i,title:e.attr("title"),"data-zstatebtn":this._name,id:this.element.attr("id")+"Label"},o=this.options.label;"icononly"===this.options.type&&(s.title=s.title||o,o="");var n=t("<label>").attr(s);t(n).insertAfter(t(e)),t(n).append(e),this._text=t("<span>").text(o),t(e).after(this._text),this._stateGroup=n},setText:function(t){this._text.text(t)},_updateStateCSS:function(e){void 0!==this._stateType&&("radio"===this._stateType&&t("label[data-zstatebtn="+this._name+"]").removeClass("ui-zstate-checked"),this._stateGroup[e?"addClass":"removeClass"]("ui-zstate-checked"))},_triggerEvent:function(e){var i=this.element[0].checked,s={stateEle:t(this.element),value:t(this.element).val(),checked:i};return this._updateStateCSS(i),this._trigger(e,e,s)},checked:function(e){"boolean"!=typeof e||this.element.is(":disabled")||(this.element.prop("checked",e),"radio"===this._stateType?(e||t("input[name="+this._name+"]:checked")[0]===this.element[0])&&this._updateStateCSS(e):this._updateStateCSS(e))},disable:function(){t(this.element).attr("disabled","true"),t(this._stateGroup).addClass("ui-state-disabled")},enable:function(){t(this.element).removeAttr("disabled"),t(this._stateGroup).removeClass("ui-state-disabled")},getElement:function(){return this._stateGroup},destroy:function(){var t=this.widget(),e=this.element;e.insertAfter(t),t.remove(),this.element.off("."+this.widgetName)}};e.registerComponent("zstatebutton",i),e.createStateButton=function(e){return element=t("<input>").attr("id",e.id),e.customAttributes&&element.attr(e.customAttributes),e.appendTo&&element.appendTo(t(e.appendTo)),element.zstatebutton(e)},t.fn.zstatebutton.defaults={type:void 0,constructButton:!0}}(jQuery,ZComponents),function(t){function e(t,e){var s=i("<div>");return e.customAttributes&&s.attr(e.customAttributes),e.id&&s.attr("id",e.id),s=s[t](e),e.appendTo&&s.appendTo(i(e.appendTo)),s}var i=t.DOMUtil,s={options:{type:"linear",mode:"determinate",value:0,autoIncrement:!1,incrementInterval:100,step:1,progressColor:"#4190F2",fillGradient:void 0,progressClassName:"",trackColor:"#DBDBDB",trackGradient:void 0,trackClassName:"",size:"medium",strokeWidth:"3px",progressTooltipText:"#value#%",trackTooltipText:"100 - #value#%"},_MODES:{indeterminate:"zprogress zprogress--indeterminate",determinate:"zprogress"},_TYPES:{linear:"",circular:"zprogress--circle"},_PROGRESS:{linear:"zprogress__bar",circular:"zprogress__loader"},_BAR_POSITIONS:{top:"zprogress__labeltop",left:"zprogress__labelleft",bottom:"zprogress__labelbottom",right:"zprogress__labelright",center:"zprogress__labelcenter"},_CIRCULAR_LABEL_POSITIONS:{top:"zprogresscircular--labeltop",left:"zprogresscircular--labelleft",bottom:"zprogresscircular--labelbottom",right:"zprogresscircular--labelright",center:"zprogresscircular--labelcenter"},_SIZES:{micro:16,mini:20,small:24,medium:40,large:48,mega:64},_STROKE_WIDTH:{micro:"2px",mini:"2px",small:"2px",medium:"3px",large:"3px",mega:"4px"},_EVENTS:{COMPLETED:"complete",CHANGE:"change"},_create:function(){this.componentName="linear"===this.options.type?"zlinearprogress":"zcircularprogress",this._createProgressIndicator(),this._updateProgressTint(),"indeterminate"!==this.options.mode?this._updateValue(this.options.value):"circular"===this.options.type?this._progressValue.setAttribute("class","zprogress__loader zeffects--rotate"):this._progressValue.addClass("zeffects--move"),this._autoIncrement()},_autoIncrement:function(){if(this.options.autoIncrement){var t=this,e=this.options.value;this._timer=window.setInterval(function(){e=t.options.value,t.options.value>100&&clearTimeout(t._timer),t.increment()},parseInt(this.options.incrementInterval))}else this._timer&&clearTimeout(this._timer)},_createProgressIndicator:function(){if(this.options.statusMessage&&void 0!==this.options.statusMessage){var t=this.options.statusMessage;if("inline"===t.displayType&&"linear"===this.options.type&&"determinate"===this.options.mode){if(this._progressBar=this._createProgressElement(this.element),this.options.statusMessage.position=t.position="left"===t.position||"right"===t.position?t.position:"center",this.element.addClass("zprogress__labelinside"),!this.element.is(":visible")){var e=this.element.clone(!1);e.css({visibility:"hidden",position:"absolute"}),e.appendTo("body")}this.element.prepend(this._createMessageElement(t.text).addClass("center"===t.position?"h-reversecolor":"h-reversecolor h-align"+t.position).css("width",this.element.width())),this._progressValue.append(this._createMessageElement(t.text).addClass("center"===t.position?"":"h-align"+t.position).css("width",this.element.width()))}else if("callout"===t.displayType&&"linear"===this.options.type&&"determinate"===this.options.mode)this.element.addClass("zprogress--group"),this._progressBar=this._createProgressElement(i("<div class='zprogress'>")),this.element.append(this._progressBar),this._createTooltip(t);else{"linear"===this.options.type?this.options.statusMessage.position=t.position=t.position&&"center"!==t.position?t.position:"top":(this.options.statusMessage.position=t.position=t.position?t.position:"center",("micro"===this.options.size||"mini"===this.options.size||"small"===this.options.size&&"center"===this.options.statusMessage.position)&&(this.options.statusMessage.position="top"));var s="linear"===this.options.type?this._BAR_POSITIONS[t.position]:this._CIRCULAR_LABEL_POSITIONS[t.position];this.element.addClass("zprogress--group "+s);var o=this._createMessageElement(t.text);o.outerWidth(!0);switch(this._progressBar=this._createProgressElement(i("<div class='zprogress'>")),this.element.append(this._progressBar),t.position){case"top":case"left":this.element.prepend(o);break;case"right":case"bottom":this.element.append(o);break;case"center":"circular"===this.options.type&&this._progressBar.prepend(o)}"circular"===this.options.type||"left"!==t.position&&"right"!==t.position||this._progressBar.css("width","calc(100% - "+Math.ceil(o.outerWidth(!0)+1)+"px)")}}else this._progressBar=this._createProgressElement(this.element);this._progressBar.attr("role",this.options.type+"progress")},_createTooltip:function(t){this.options.statusMessage.position=t.position="top"===t.position||"bottom"===t.position?t.position:"bottom",this._tooltipElement=i("<div class='"+("top"===t.position?"ztooltip ztooltip--top":"ztooltip")+"'><div class='ztooltip__content'><div class='ztooltip__text'></div></div></div>"),this._tooltipPointer=i("<div class='ztooltip__pointer h-"+("top"===t.position?"bottom":"top")+"'></div>"),this.element.append(this._tooltipElement.append(this._tooltipPointer)),this._tooltipElement.css("top","top"===t.position?-parseInt(this.element.height()+30):parseInt(this.element.height()+5))},_createProgressElement:function(t){t.width();return t.addClass(this._MODES["indeterminate"===this.options.mode?"indeterminate":"determinate"]),this._createInnerElement(),t.addClass(this._TYPES[this.options.type]),t.append(this._progressValue),t},_createInnerElement:function(){if("circular"===this.options.type){var e=isNaN(this.options.size)?this._SIZES[this.options.size]:parseInt(this.options.size),s=e/2,o=isNaN(this.options.size)?this._STROKE_WIDTH[this.options.size]:this.options.strokeWidth;this._circumference=2*(s-parseInt(o))*(22/7),this._progressValue=t.createSVGElement("svg",{class:"zprogress__loader",style:"width:"+e+"px;height:"+e+"px;"});var n=t.createSVGElement("circle",{class:"circle__track",cx:s,cy:s,r:s-parseInt(o),"stroke-dasharray":this._circumference,"stroke-dashoffset":0,"stroke-width":o},[{title:{}}]),a=t.createSVGElement("circle",{class:"circle__load",cx:s,cy:s,r:s-parseInt(o),"stroke-dasharray":this._circumference,"stroke-dashoffset":"indeterminate"===this.options.mode?this._calculateStrokeOffset():this._circumference,"stroke-width":o},[{title:{}}]);this._progressValue.appendChild(n),this._progressValue.appendChild(a)}else this._progressValue=i("<div class="+this._PROGRESS[this.options.type]+"></div>")},_calculateStrokeOffset:function(){if(this._circumference)return this._circumference-parseFloat(this._circumference/4)},_createMessageElement:function(e){var s="inline"===this.options.statusMessage.displayType?"zprogress__text":"zprogress__label";return this._messageElement=i("<span class="+s+"></span>").html(this.options.statusMessage.isTextHTMLEncoded?e:t.encodeHTML(e)),this._messageElement},_updateValue:function(t){if(this.element.is(":hidden")&&this.element.show(),!isNaN(t)){var e=this;t=parseInt(t),t>100&&(t=100),"linear"===this.options.type?this.options.value!==t?(this.options.value=t,this._progressValue.css("width",t+"%").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",function(){e.options.statusMessage&&e._updateStatusMessage(e.options.statusMessage),e._triggerEvent()})):(this._progressValue.css("width",t+"%"),e.options.statusMessage&&e._updateStatusMessage(e.options.statusMessage)):(this.options.value=t,t=this._circumference-t*this._circumference/100,t=t>=0?t:0,i(this._progressValue).find(".circle__load").attr("stroke-dashoffset",t),e.options.statusMessage&&e._updateStatusMessage(e.options.statusMessage),i(this._progressValue).find(".circle__load title").text(this.options.progressTooltipText.replace("#value#",this.options.value)),i(this._progressValue).find(".circle__track title").text(this.options.trackTooltipText.replace("100 - #value#",100-this.options.value).replace("#value#",this.options.value)),this._triggerEvent())}},_triggerEvent:function(){this._progressBar.attr("aria-valuenow",this.options.value),this._dispatchEvent("CHANGE",{},{indicator:this.element,value:this.options.value}),100===this.options.value&&this._dispatchEvent("COMPLETED",{},{indicator:this.element,value:this.options.value})},_updateStatusMessage:function(e){var i=e.text.replace(/#value#/g,this.options.value);"callout"===e.displayType?this._updateTooltipText(i):this.element.find(".zprogress__text").length?this.element.find(".zprogress__text").html(this.options.statusMessage.isTextHTMLEncoded?i:t.encodeHTML(i)):this.element.find(".zprogress__label").html(this.options.statusMessage.isTextHTMLEncoded?i:t.encodeHTML(i)),this._progressBar&&this._progressBar.attr("aria-valuetext",e.text.replace(/#value#/g,this.options.value))},_updateTooltipText:function(e){this._tooltipElement.find(".ztooltip__text").html(this.options.statusMessage.isTextHTMLEncoded?e:t.encodeHTML(e)),this._tooltipElement.css({left:this._progressValue.width()-Math.ceil(this._tooltipElement.outerWidth(!0)/2),"-webkit-transition":"all 0.2s ease","-moz-transition":"all 0.2s ease","-o-transition":"all 0.2s ease","-ms-transition":"all 0.2s ease",transition:"all 0.2s ease"}),this._tooltipPointer.css("left","calc(50% - "+this._tooltipPointer.width()/2+"px)")},_updateProgressTint:function(){"linear"===this.options.type?(this._elementBg=this.element.css("background"),this.element.hasClass("zprogress")?this.element.css({background:this.options.trackColor,border:this.options.trackBorder,"border-color":this.options.trackBorderColor}).addClass(this.options.trackClassName):this.element.find(".zprogress").css({background:this.options.trackColor,border:this.options.trackBorder,"border-color":this.options.trackBorderColor}).addClass(this.options.trackClassName),this._progressValue.css("background",this.options.fillGradient?this.options.fillGradient:this.options.progressColor).addClass(this.options.progressClassName)):(this.element.find(".circle__track").css("stroke",this.options.trackGradient?this.options.trackGradient:this.options.trackColor).removeClass(this.options.trackClassName).addClass(this.options.trackClassName),this.element.find(".circle__load").css("stroke",this.options.fillGradient?this.options.fillGradient:this.options.progressColor).removeClass(this.options.progressClassName).addClass(this.options.progressClassName))},setValue:function(t){"indeterminate"!==this.options.mode&&this._updateValue(t)},getValue:function(){if("indeterminate"!==this.options.mode)return this.options.value},startProgress:function(){"indeterminate"===this.options.mode&&(this.element.closest(".zprogress").addClass("zprogress--indeterminate"),"circular"===this.options.type&&this._progressValue.setAttribute("class","zprogress__loader zeffects--rotate"))},stopProgress:function(){"indeterminate"===this.options.mode&&this.element.closest(".zprogress").removeClass("zprogress--indeterminate")},increment:function(){this.setValue(this.options.value+this.options.step)},destroy:function(){this._timer&&clearTimeout(this._timer),this.element.removeAttr("role aria-valuenow").empty(),this.element.removeClass("zprogress zprogress--group zprogress__labelinside zprogress--circle zprogress--indeterminate zprogress__labeltop zprogress__labelbottom zprogress__labelcenter zprogress__labelleft zprogress__labelright zprogresscircular--labelright zprogresscircular--labelleft zprogresscircular--labeltop zprogresscircular--labelbottom zprogresscircular--labelcenter"),this._progressValue&&this._progressValue.remove(),this._progressValue=this._messageElement=this._progressBar=void 0,this.element.removeData("zprogressindicator").css("background",this._elementBg&&this._elementBg.indexOf("none")===-1?this._elementBg:"none")},setAttribute:function(t,e){if("type"===t&&this.options.type!==e){var s=this.options;s.type=e,this.destroy(),this.element.zprogressindicator(s)}else if("mode"===t&&this.options.mode!==e)if(!this.options.statusMessage||"inline"!==this.options.statusMessage.displayType&&"callout"!==this.options.statusMessage.displayType){var o="indeterminate"===e;this.element.is(".zprogress")?this.element.removeClass(this._MODES[o?"determinate":"indeterminate"]).addClass(this._MODES[o?"indeterminate":"determinate"]):this.element.find(".zprogress").removeClass(this._MODES[o?"indeterminate":"determinate"]).addClass(this._MODES[e?"indeterminate":"determinate"]),"linear"===this.options.type?this._progressValue[o?"addClass":"removeClass"]("zeffects--move"):this._progressValue.setAttribute("class",o?"zprogress__loader zeffects--rotate":"zprogress__loader"),o&&"linear"===this.options.type&&this._progressValue&&this._progressValue.css("width",""),"circular"==this.options.type&&i(this._progressValue).find(".circle__load").attr("stroke-dashoffset",this._calculateStrokeOffset()),o||this._updateValue(this.options.value)}else{var s=this.options;s.mode=e,s.statusMessage.displayType="adjacent",this.destroy(),this.element.zprogressindicator(s)}else if("value"===t&&this.options.value!==e)this.setValue(e);else if("progressColor"===t||"trackColor"===t||"fillGradient"===t||"trackGradient"===t||"progressClassName"===t||"trackClassName"===t)"trackClassName"===t?this.element.hasClass("zprogress")?this.element.removeClass(this.options.trackClassName):this.element.find(".zprogress").removeClass(this.options.trackClassName):"progressClassName"===t&&this._progressValue.removeClass(this.options.progressClassName),this.options[t]=e,this._updateProgressTint();else if("size"===t){var s=this.options;s[t]=e,this.destroy(),this.element.zprogressindicator(s)}else if("autoIncrement"===t&&this.options.autoIncrement!==e)this.options[t]=e,this._autoIncrement();else if("statusMessage"===t&&this.options.statusMessage!==e){var s=this.options;s[t]=e&&null!==e&&""!==e?i.extend({},s[t],e):void 0,this.destroy(),this.element.zprogressindicator(s)}this.options[t]=e}};t.createLinearProgress=function(t){return e("zlinearprogress",t)},t.createCircularProgress=function(t){return e("zcircularprogress",t)},t.registerComponent("zprogressindicator",s),i.fn.zlinearprogress=function(){if(arguments[0]&&"object"!=typeof arguments[0])return i.fn.zprogressindicator.apply(i(this),arguments);arguments[0]=i.extend({},arguments[0],{type:"linear"});var t=i(this).zprogressindicator(arguments[0]);return t},i.fn.zcircularprogress=function(){if(arguments[0]&&"object"!=typeof arguments[0])return i.fn.zprogressindicator.apply(i(this),arguments);var t=arguments[0]?arguments[0]:{};arguments[0]=i.extend({},t,{type:"circular"});var e=i(this).zprogressindicator(arguments[0]);return e}}(ZComponents),function(t){var e=t.DOMUtil,i=t.getTemplate("zpopover.hbs"),s={_create:function(t,e){this._initialize(t,e),this._bindEvents()},options:{position:"auto",margin:void 0,type:"modeless",forElement:!1,popOn:"click",insertAfterForElement:!1,appendTo:void 0,title:"",content:"Popover content appears here.",isContentHTMLEncoded:!1,positionAlterable:!0,isTitleHTMLEncoded:!1,displayType:"callout",closeSVGIconId:void 0,closeIconClassName:void 0,progressIndicatorIconClassName:void 0,progressIndicatorSVGIconId:void 0,closeButton:!1,closeOnBodyClick:!0,closeOnEsc:!0,closeOnScroll:!1,pauseOnHover:!1,pauseOnMouseOver:!1,messages:{close:"Close",serverError:"Server Request Failed."},removeOnClose:!1,mouseLeaveTime:1500,detachable:!1,animation:void 0,delay:void 0,wrapAroundKeyboardNavigation:!1,height:void 0,width:void 0,className:void 0,EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},contentAsPopover:!1},_EVENTS:{BEFOREOPEN:"beforeopen",AFTEROPEN:"open",BEFORECLOSE:"beforeclose",AFTERCLOSE:"close",DRAGSTART:"dragstart",DRAG:"drag",DRAGEND:"dragend",CLOSECLICK:"closeclick",CONTENTLOAD:"contentload"},_ANIMATIONEVENTS:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",_initialize:function(t,i){var s=e("[data-popover-id]");if(s&&s.length)for(var o=0,n=s.length;o<n;o++){var a=e(s[o]).attr("data-popover-id");if(a===t.attr("id")){this.options.content=t,this.element=t,this._initUsingContent=!0;break}}this._initUsingContent||(this.element.attr({"aria-haspopup":"true","aria-expanded":"false"}),this.options.isContextual&&(this.options.popOn="none",this.options.content=t)),this.options.contentAsPopover&&this.element.addClass("zpopover"),this.options.position="auto"===this.options.position?"callout"===this.options.displayType?"bottom":"bottom-left":this.options.position,"modal"===this.options.type&&(this._initialCloseButtonValue=this.options.closeButton,this.options.closeButton=!0,this._createOverlay()),this.options.content.URL&&(this._isAjaxContent=!0)},_createOverlay:function(){this._overlay=e("<div class='zpopover--overley'></div>").appendTo("body").hide(),this._overlay.attr("tabindex",1).on("keydown."+this.componentName,function(e){e.keyCode===t.keyCode.TAB&&e.preventDefault()})},_bindEvents:function(){for(var t=this.options.popOn.split(" "),e=0;e<t.length;e++)switch(t[e]){case"mouseover":case"hover":this._eventHandler("mouseenter",this._mouseEnterHandler),this._eventHandler("mouseleave",this._mouseLeaveHandler);break;case"click":this._eventHandler("click",this._clickHandler);break;case"focus":this._eventHandler("focusin",this._mouseEnterHandler),this._eventHandler("focusout",this._mouseLeaveHandler)}},_eventHandler:function(t,e){var i=this.componentName;this._initUsingContent||(this.element.on(t+"."+i,e.bind(this)),this.options.closeOnEsc&&this.element.off("keydown."+i).on("keydown."+i,this._keydownHandler.bind(this)))},_keydownHandler:function(e){e.keyCode===t.keyCode.ESCAPE&&this.container.is(":visible")&&(this._closePopover(e),e.stopPropagation())},_mouseEnterHandler:function(t){this._mouseEnterFired=!0,this._durationLeft&&(this._durationLeft-=(new Date).getTime()-this._closeAfterStartTime),this._mouseLeaveTimeout&&clearTimeout(this._mouseLeaveTimeout),this._currentTarget=e(t.currentTarget),this._handleTargetEnter(t),(this.options.pauseOnMouseOver||this.options.pauseOnHover)&&clearTimeout(this._autoCloseTimer)},_mouseLeaveHandler:function(t){var i=this;this._mouseEnterFired=!1,this._mouseLeaveTimeout=setTimeout(function(){if(i._durationLeft&&(i._durationLeft-=(new Date).getTime()-i._closeAfterStartTime),i.container){var s=i.container.attr("id");e(t.relatedTarget).parents("#"+s).length||e(t.relatedTarget).attr("id")==="#"+s||i._closePopover(t)}},this._durationLeft?this._durationLeft:this.options.mouseLeaveTime)},_clickHandler:function(t){this._initUsingContent&&(this._previousTarget=this._currentTarget),this._currentTarget=e(t.currentTarget),this._handleTargetClick(t)},_documentKeyDownHandler:function(e){this.options.closeOnEsc&&e.keyCode===t.keyCode.ESCAPE&&(this._clickedOutside=!0,t.openedInstance&&t.openedInstance._closePopover(e))},_handleTargetEnter:function(e,i){if(this._closeClicked=this._clickedOutside=!1,void 0===e&&"modal"===this.options.type&&(this._overlay.show(),this._currentTarget.addClass("zpopover--target")),this._isAjaxContent)this._popoverOpen||this._content?(this._getPopover(e,i),this.options.isContentHTMLEncoded?this._popoverContent.html(this._content):this._popoverContent.text(this._content),this._showPopover(e,i)):this._makeAjaxRequest(e);else{var s=this._getPopover(e,i);this._initUsingContent&&t.openedInstance&&this._currentTarget!==this._previousTarget?(s&&s.is(":visible")&&t.openedInstance._closePopover(e),this._showPopover(e,i)):"none"===this._popOn?s&&this._showPopover(e,i):s&&!s.is(":visible")&&this._showPopover(e,i)}this._autoClosePopover(e)},_handleTargetClick:function(t,e){this._closeClicked=this._clickedOutside=!1,"modal"===this.options.type&&this._overlay&&(this._overlay.show(),this._currentTarget.addClass("zpopover--target")),this._isAjaxContent?this._popoverOpen||this._content?(this._togglePopover(t,e),this.options.isContentHTMLEncoded?this._popoverContent.html(this._content):this._popoverContent.text(this._content),this._fixPopoverHeight()):this._makeAjaxRequest(t):this._togglePopover(t,e)},_togglePopover:function(t,e){var i=this._getPopover(t,e);void 0!==i&&(i&&i.is(":visible")?this._closePopover(t):this._showPopover(t,e))},_getPopover:function(s,o){if(this._preventBodyEvent=!1,this._retrieveForElement(s,o),this.container||this.options.contentAsPopover){if(this.options.contentAsPopover)this.container=this.element;else{if(this.options.content){var n=this.options.content;(n instanceof jQuery||0===n.indexOf(".")||0===n.indexOf("#"))&&(n=e(n),this._popoverContent[0].contains(n[0])||n.appendTo(this._popoverContent))}this.options.detachable&&("callout"===this.options.displayType&&this._arrowPointer.show(),!this.options.closeButton&&this.container.find(".zpopover__action").remove())}var a=this._dispatchEvent("BEFOREOPEN",this.container,s,this);if(a)return this.container}else{if(!t.Browser.isIE()&&i){var r,n,l={};l.hasCloseButton=this.options.closeButton,l.hasTitle=!!this.options.title,l.isContentHTMLEncoded=this.options.isContentHTMLEncoded,l.isTitleHTMLEncoded=this.options.isTitleHTMLEncoded,this.options.title&&(r=this.options.title,r=r instanceof jQuery?"":"string"!=typeof r||r[0].indexOf("#")===-1&&r[0].indexOf(".")===-1?r:"",l.title=r),l.hasArrow="callout"===this.options.displayType,this._isAjaxContent?(l.isAjax=!0,l.content="",l.ajaxContent=!0):(n=this.options.content,n=n instanceof jQuery?"":"string"!=typeof n||0!==n[0].indexOf("#")&&0!==n[0].indexOf(".")?n:"",l.content=n),this.container=e(i(l)),this._arrowPointer=this.container.find(".zpopover__pointer"),this._titleContainer=this.container.find(".zpopover__title"),this._popoverTitle=this.container.find(".zpopover__title").find(".zpopover__text"),this._popoverContent=this.container.find(".zpopover__content"),""===r&&e(this.options.title).appendTo(this._popoverTitle).show(),""===n&&e(this.options.content).appendTo(this._popoverContent).show()}else{if(this.container=e("<div>").addClass("zpopover"),this.options.title.length||this.options.closeButton)if(this._titleContainer=e("<div role='heading' class='zpopover__title'>").appendTo(this.container),this._popoverTitle=e("<span class='zpopover__text'></span>").appendTo(this._titleContainer),this.options.isTitleHTMLEncoded){var r=this.options.title;r instanceof jQuery?r.appendTo(this._popoverTitle).show():"string"!=typeof r||0!==r[0].indexOf("#")&&0!==r[0].indexOf(".")?this._popoverTitle.html(r):e(r).appendTo(this._popoverTitle).show()}else this._popoverTitle.text(this.options.title);if(this.options.closeButton&&this._createCloseButton(),this._popoverContent=e("<div class='zpopover__content'></div>").appendTo(this.container),this._isAjaxContent)if(this._loaderContainer=e("<div class='zpopover__loading'></div>").appendTo(this._popoverContent),this._loaderIcon=e("<i class='zpopover__icon h-loading'></i>").appendTo(this._loaderContainer),this.options.progressIndicatorIconClassName||this.options.progressIndicatorSVGIconId){var h=this.options.progressIndicatorIconClassName;if(h)this._loaderIcon.addClass(h);else{var d=this.options.progressIndicatorSVGIconId,c=d.split(" ")[0],p=d.slice(c.length).trim();this._loaderIcon.append(e("<svg class='"+p+"'><use xlink:href='"+c+"'></use></svg>"))}}else{var u=t.createSVGElement("svg",{class:"zpopover__svg zpopover__loader zeffects--rotate"}),m=t.createSVGElement("circle",{class:"circle__track"}),_=t.createSVGElement("circle",{class:"circle__load"});u.appendChild(m),u.appendChild(_),this._loaderIcon[0].appendChild(u)}else this._getContent();"callout"===this.options.displayType&&(this._arrowPointer=e("<div class='zpopover__pointer'>").appendTo(this.container))}var f=e(this.options.appendTo);f.length?this.container.appendTo(f):this.container.appendTo(e("body")),this.options.className&&this.container.addClass(this.options.className);var v=this._initUsingContent?this.options.content:this.options.isContextual?this.element:this._currentTarget;if(this.container.attr("id",(v.attr("id")?v.attr("id"):Math.floor(1e6*Math.random()))+"_"+this.componentName),this.options.insertAfterForElement){var g=this.options.forElement?this.options.forElement instanceof jQuery?this.options.forElement:"string"==typeof this.options.forElement&&(this.options.forElement[0].indexOf("#")!==-1||this.options.forElement[0].indexOf(".")!==-1)&&e(this.options.forElement):this._currentTarget;this.container.insertAfter(g)}this._initialCursorPosition||(this._initialCursorPosition=this.container.css("cursor")),this._initUsingContent||this.element.attr("aria-owns",this.container.attr("id"));var a=this._dispatchEvent("BEFOREOPEN",this.container,s,this);if(this.options.detachable){this.options.title.length||this.options.closeButton||this._draggableContainer||(this._draggableContainer=e("<div class='zpopover__draggablearea'>").insertAfter(this._popoverContent));var b=this.container.data("zdraggable");b&&this.container.zdraggable("destroy"),this._initDraggable()}a&&this._showPopover(s,o)}},_getContent:function(){var t=this.options.content;if(this.options.isContentHTMLEncoded)t instanceof jQuery||"string"==typeof t&&(0===t[0].indexOf("#")||0===t[0].indexOf("."))?(t=e(t),!t.is(":visible")&&t.show(),this._contentImmediateParent=t.parent(),t.appendTo(this._popoverContent),this._isContentSelector=!0):this._popoverContent.html(t);else{var i=t instanceof jQuery?t.text():"string"!=typeof t||0!==t[0].indexOf("#")&&0!==t[0].indexOf(".")?t:e(t).text();this._popoverContent.text(i)}},_showPopover:function(e,i){var s=this;if("modal"!==this.options.type&&t.bindDocumentEvents&&this.options.closeOnBodyClick&&t.bindDocumentEvents({element:this.element,container:this.container,forElement:this._currentTarget,ctype:this.componentName,closeMethodName:"close",closeEvent:"close"}),this.options.detachable){var o=this.container.data("zdraggable");o&&(this.options.closeButton||this.options.title.length||(this._titleContainer&&this._titleContainer.remove(),this._titleContainer=void 0),this._reinitialized=!1,this._draggableContainer&&(this._draggableContainer.show(),this.container.zdraggable("option","handle",this._draggableContainer)))}if(this.options.animation&&(this.options.animation.name||this.options.animation.className||this.options.animation.open)){var n=this.options.animation,a=this.container;if(a.finish?a.finish().show():a.stop(!0,!0).show(),this._placePopover(e,i),n.open&&void 0!==n.open.className||void 0!==n.className){var r=n.open?n.open.className:n.className,l=n.close?n.close.className:n.className;n.close&&"string"==typeof n.close.className&&this.container.removeClass(l),this._initPopoverEvents(),s._animationEnd=!1,this.container.addClass(r).on(this._ANIMATIONEVENTS,function(){s._animationEnd=!0,s.container.off(s._ANIMATIONEVENTS)})}else effect=n.name?n.name:n.open&&n.open.name,duration=n.duration?n.duration:n.open&&n.open.duration?n.open.duration:400,effect&&(this._placePopover(e,i),this.container.hide(),"object"==typeof effect?this.container.animate(effect,duration):this.container[n.open.name](duration),this._initPopoverEvents())}else this.options.delay&&this.options.delay.openAfter?(this._showAfterTimer&&clearTimeout(this._showAfterTimer),this._showAfterTimer=setTimeout(function(){s.container.show(),s._placePopover(e,i),s._initPopoverEvents()},this.options.delay.openAfter)):(this._animationEnd=!0,this.container.show(),this._placePopover(e,i),this._initPopoverEvents());this.options.wrapAroundKeyboardNavigation&&ZFocusHandler.init(this.container),t.openedInstance=this,this.container.attr("aria-hidden","false"),this._initUsingContent||this.element.attr("aria-expanded","true")},_placePopover:function(e,i){if(this._fixPopoverHeight(),this._currentTarget&&"fixed"===this._currentTarget.css("position")&&this.container.css({position:"fixed"}),this.options.offset)this.container.css(this.options.offset);else if("page-center"===this.options.position){var s={top:t.$window.outerHeight()/2-this.container.outerHeight()/2+"px",left:(t.$window.width()-this.container.outerWidth())/2+t.$window.scrollLeft()+"px"};this.container.css(s)}else this._positionPopover(e,i);this._popoverOpen=!0,this._dispatchEvent("AFTEROPEN",this.container,e,this)},_positionPopover:function(t,e){if("page-center"!==this.options.position){var i,s,o=this._getPosition(t,e),n=this.options.margin;n&&(this.options.contentAsPopover?(i=n.top,s=n.left):this.options.margin&&(o.elementPosition=this._retrieveMarginValues(o.elementPosition))),this.container.css(o.elementPosition),this._arrowPointer&&this._arrowPointer.css(o.arrowPosition)}},_retrieveMarginValues:function(t){var e,i,s=this.options.margin;return"number"==typeof s?(e=s+t.top,i=s+t.left):(i=s.left?s.left+t.left:t.left,e=s.top?s.top+t.top:t.top),e=e<0?t.top:e,i=i<0?t.left:i,t.top=e,t.left=i,t},_initPopoverEvents:function(){var i=this,s=this.options.popOn;if("mouseover"===s||"hover"===s||"focus"===s){var o="mouseover"===s||"hover"===s?"mouseenter.":"focusin.",n="mouseover"===s||"hover"===s?"mouseleave.":"focusout.",a=!1,r=this.componentName;this.container&&this.container.off(o+r).on(o+r,function(t){i._durationLeft&&(i._durationLeft-=(new Date).getTime()-i._closeAfterStartTime),clearTimeout(i._mouseLeaveTimeout),(i.options.pauseOnMouseOver||i.options.pauseOnHover)&&clearTimeout(i._autoCloseTimer)}).off(n+r).on(n+r,function(t){a="focusout"!==t.type||!e(t.target).closest(".zpopover").length,i._durationLeft&&(i._durationLeft-=(new Date).getTime()-i._closeAfterStartTime),i._autoCloseTimer=setTimeout(function(){a&&i._animationEnd&&!i._mouseEnterFired&&i._closePopover(t)},i._durationLeft?i._durationLeft:100)})}this.options.wrapAroundKeyboardNavigation&&this.container&&this.container.off("keydown."+r).on("keydown."+r,function(e){e.keyCode===t.keyCode.TAB?(e.stopPropagation(),e.preventDefault()):e.keyCode===t.keyCode.ESCAPE&&i._closePopover(e)}),this._closeButton&&this._closeButton.off("click."+r).on("click."+r,function(t){i._dispatchEvent("CLOSECLICK",void 0,t,i),i._closeClicked=!0,i._popoverOpen&&i._closePopover(t)})},_fixPopoverHeight:function(){this.options.width&&this.container.css({width:this.options.width+"px"});var t,e=this._popoverContent&&this._popoverContent.children();return this.options.height&&this._popoverContent&&(t=this.options.height-(this._titleContainer?this._titleContainer.height():0)-(e.outerHeight(!0)-e.height()),this._popoverContent.height(t)),t},_makeAjaxRequest:function(t){var i=this;i._getPopover(t),e.ajax({type:this.options.content.type,url:this.options.content.URL,success:function(s){i._loaderContainer=void 0,i._popoverContent.html(""),i._content=e.isFunction(i.options.content.success)?i.options.content.success(s):s,i.options.isContentHTMLEncoded?i._popoverContent.html(i._content):i._popoverContent.text(i._content),i._fixPopoverHeight(),i._positionPopover(t),i._dispatchEvent("CONTENTLOAD",i.container,t,i)},error:function(s,o){i._popoverContent.html(""),i._content=i._localize("serverError"),i.options.isContentHTMLEncoded?i._popoverContent.html(i._content):i._popoverContent.text(i._content),i._getPopover(t),i._positionPopover(t),i.options.content.fail&&e.isFunction(i.options.content.fail)&&i.options.content.fail(s,o)}})},_arrowCallback:function(t,e){this.container.removeClass("zpopover--top zpopover--bottom zpopover--left zpopover--right"),this.container.addClass("zpopover--"+e),this._calloutDirection=e},_retrieveForElement:function(t,i){if((this.options.positionAtCursor||this._positionAtCursor)&&(i||t))i?this._forElement=i:t&&(this._forElement=t);else if(this.options.forElement){var s=this.options.forElement;this.options.forElement instanceof jQuery?this._forElement=s:"string"!=typeof this.options.forElement||this.options.forElement[0].indexOf("#")===-1&&this.options.forElement[0].indexOf(".")===-1?this._forElement=!1:this._forElement=e(this.options.forElement)}else this._forElement=this._currentTarget},_getPosition:function(t,e){/^(top|bottom|right|left|top-left|top-right|bottom-left|bottom-right|right-bottom|left-bottom|right-top|left-top)$/.test(this.options.position)||(this.options.position="bottom");var i=this,s=this.container.find(".zpopover__pointer"),o=!!s.length&&s,n=ZPosition.get(this._forElement,this.container,{direction:this.options.position,bufferSpace:6,positionAlterable:this.options.positionAlterable,arrow:{element:o,callback:this._arrowCallback.bind(i),margin:{left:-1,top:-1}}});return n},_closePopover:function(e){var i=!!this._destroyCalled||this._dispatchEvent("BEFORECLOSE",this.container,e,this);if(this.container){var s=this.container;if(s.finish?s.finish():s.stop(!0,!0),i)if(t.openedInstance===this&&(t.openedInstance=void 0),this.options.animation&&(this.options.animation.name||this.options.animation.className||this.options.animation.close)){var o=this,n=this.options.animation;if(n.close&&void 0!==n.close.className||void 0!==n.className){var a=n.close?n.close.className:n.className;n.open&&"string"==typeof n.open.className&&this.container.removeClass(n.open),o._animationEnd=!1,this.container.addClass(a).on(this._ANIMATIONEVENTS,function(){o._animationEnd=!0,o.container.off(o._ANIMATIONEVENTS)}),this._handlePopoverClose(this,e)}else{var r=n.name?n.name:n.close&&n.close.name,l=n.duration?n.duration:n.close&&n.close.duration?n.close.duration:400;if(r){var h=function(){o._handlePopoverClose(o,e)};"object"==typeof r?this.container.animate(r,l,h):this.container[n.close.name](l,h)}}}else this._handlePopoverClose(e);else!this.container.is(":visible")&&(this._popoverOpen=!1)}},_handlePopoverClose:function(t){var i=this.container;if(this._autoCloseTimer&&clearTimeout(this._autoCloseTimer),this._mouseLeaveTimeout&&clearTimeout(this._mouseLeaveTimeout),this.options.removeOnClose){this.container;if(void 0!==this.container){var s=this.options.content;(s instanceof jQuery||s[0].indexOf("#")!==-1||s[0].indexOf(".")!==-1)&&e(s).appendTo(this._contentImmediateParent).hide(),this.container.remove(),this._overlay&&this._overlay.remove(),this._overlay=this.container=this._arrowPointer=this._popoverContent=this._popoverTitle=this._titleContainer=this._closeButton=this._loaderContainer=void 0}}else this.container&&(this.container.attr("aria-hidden","true"),this.container.hide());this._popoverOpen=!1,this._overlay&&(this._overlay.hide(),this._currentTarget.removeClass("zpopover--target")),this._initUsingContent||this.element.attr("aria-expanded","false"),!this._destroyCalled&&this._dispatchEvent("AFTERCLOSE",i,t,this)},_autoClosePopover:function(t){if(this.options.delay&&this.options.delay.closeAfter){this._durationLeft=this.options.delay.openAfter?this.options.delay.closeAfter+this.options.delay.openAfter:this.options.delay.closeAfter,this._autoCloseTimer&&clearTimeout(this._autoCloseTimer),this._closeAfterStartTime=(new Date).getTime();var e=this;this._autoCloseTimer=setTimeout(function(){e._closePopover(t)},this._durationLeft)}},_dispatchEvent:function(t,e,i){var s={target:this._forElement,popover:e};return this._super(t,i,s)},open:function(t,i){var s=this.options.popOn;t&&(t.offset&&(this.options.offset=t.offset),t.target&&(this._currentTarget=e(t.target)),t&&t.eventObject&&(this._positionAtCursor=!0)),this._currentTarget||"none"!==s||this._initUsingContent||this.options.isContextual||(this._currentTarget=this.element),("none"===s||"none"===this._popOn)&&(this._manualOpen=!0),"click"===s&&"none"!==this._popOn?this._handleTargetClick(i,t?t.eventObject:void 0):"mouseover"!==s&&"hover"!==s&&"none"!==s&&"none"!==this._popOn||this._handleTargetEnter(i,t?t.eventObject:void 0)},_createCloseButton:function(){void 0===this._titleContainer&&(this._titleContainer=e("<div role='heading' class='zpopover__title'>").prependTo(this.container),this._popoverTitle=e("<span class='zpopover__text'></span>").appendTo(this._titleContainer)),this._closeButton=e("<div class='zpopover__action'>");var t,i,s=e("<button class='zpopover__close'></button>").appendTo(this._closeButton).attr({title:this._localize("close"),"aria-label":this._localize("close"),role:"button"});t=e("<i class='zpopover__icon'></i>").appendTo(s),i={props:{class:"zpopover__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)",class:"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)",class:"st0",width:"13",height:"1.1"}}]},this._handleIcon(t,i,"closebutton",this.options.closeIconClassName,this.options.closeSVGIconId),this._closeButton.prependTo(this._titleContainer)},_initDraggable:function(){var t=this;this.container&&this.container.zdraggable({handle:t._draggableContainer?t._draggableContainer:t._titleContainer,container:"window",start:function(e,i){t._dragStart&&(t._dragStart=void 0),t._dragged&&(t._dragged=void 0),!t._dragStart&&(t._dragStart=!0),t._dispatchEvent("DRAGSTART",t.container,e,t)},drag:function(e,i){t._dragStart&&t._arrowPointer&&t._arrowPointer.hide(),!t._dragged&&(t._dragged=!0),t._dispatchEvent("DRAG",t.container,e,t)},end:function(i,s){t._dragStart&&(t._dragged&&!t.options.closeButton&&t._createCloseButton(),t._dragged&&t._draggableContainer&&t._draggableContainer.hide(),t._dragged&&t._titleContainer&&e(this).zdraggable("option","handle")!==t._titleContainer&&e(this).zdraggable("option","handle",t._titleContainer),t._dragged&&(t._preventBodyEvent=!0,t._initPopoverEvents())),t._dragged&&t._dispatchEvent("DRAGEND",t.container,i,t)}})},close:function(t){this.container&&this.container.is(":visible")&&this._closePopover(t)},setAttribute:function(t,i){var s=this.options[t];if(this.options[t]=i,"popOn"!==t||this._initUsingContent){if("content"===t)this._content&&(this._content=!1),this._isAjaxContent="object"==typeof i,this.container&&"object"!=typeof i&&(this._popoverContent.empty(),this.options.isContentHTMLEncoded?i instanceof jQuery?i.appendTo(this._popoverContent).show():"string"!=typeof i||i[0].indexOf("#")===-1&&i[0].indexOf(".")===-1?this._popoverContent.html(i):e(i).appendTo(this._popoverContent).show():this._popoverContent.text(i));else if("height"===t)this.container&&(this.container.height(this.options.height),this._fixPopoverHeight());else if("width"===t)this.container&&this.container.width(this.options.width);else if("position"===t)this.options.position="box"===this.options.displayType?i.indexOf("-")>-1?i:"top"===i||"bottom"===i?i+"-right":i:i;else if("title"===t){if(this.container){var o=this.container.find(".zpopover__title");i.length?o.length?o.find(".zpopover__text").text(i):(this._titleContainer=e("<div role='heading' class='zpopover__title'></div>").prependTo(this.container),this._popoverTitle=e("<div class='zpopover__text'></div>").appendTo(this._titleContainer),this.options.isTitleHTMLEncoded?i instanceof jQuery?i.appendTo(this._popoverTitle):"string"!=typeof i||i[0].indexOf("#")===-1&&i[0].indexOf(".")===-1?this._popoverTitle.html(i):e(i).appendTo(this._popoverTitle):this._popoverTitle.text(i)):o.length&&!this.options.closeButton?(o.remove(),this._titleContainer=void 0):this._titleContainer.find(".zpopover__text").text(""),this.options.detachable&&this._titleContainer?(this._draggableContainer.remove(),this._draggableContainer=void 0,this.container.zdraggable("option","handle",this._titleContainer)):(this.options.closeButton||this._draggableContainer||!this.container||(this._draggableContainer=e("<div class='zpopover__draggablearea'>").insertAfter(this._popoverContent)),this.container.zdraggable("option","handle",this._draggableContainer))}}else if("displayType"===t){if(this.options.position="box"===i?this.options.position.indexOf("-")>-1?this.options.position:"top"===this.options.position||"bottom"===this.options.position?this.options.position+"-right":this.options.position:this.options.position,this.container){var n=this.container.find(".zpopover__pointer");"box"===i?(n.length&&n.remove(),this._arrowPointer=void 0):n.length||(this._arrowPointer=e("<div class='zpopover__pointer'>").insertAfter(this._popoverContent)),this._positionPopover()}}else if("detachable"===t)i?(this._reinitialized=!1,this.options.title.length||this.options.closeButton||this._draggableContainer||(this._draggableContainer=e("<div class='zpopover__draggablearea'>").insertAfter(this._popoverContent)),this.container&&this._initDraggable()):(this.container&&(this.container.zdraggable("destroy",this._initialCursorPosition),this._arrowPointer&&!this._arrowPointer.is(":visible")&&this._arrowPointer.show(),this.options.closeButton||(this.container.find(".zpopover__action").remove(),this._closeButton=void 0),this.options.title.length||this.options.closeButton||!this._titleContainer||(this._titleContainer.remove(),this._titleContainer=void 0),void 0!==this._draggableContainer&&(this._draggableContainer.remove(),this._draggableContainer=void 0)),this._preventBodyEvent=this._dragged=this._dragStart=!1);else if("closeButton"===t){if(this.options.closeButton=this._initialCloseButtonValue=i,this.container){var a=this.container.find(".zpopover__action");i===!1?(a.length&&a.remove(),this.options.title.length||(this._titleContainer.remove(),this._titleContainer=void 0)):a.length||(this._createCloseButton(),this._initPopoverEvents())}}else if("closeOnBodyClick"===t)i||(this._preventBodyEvent=!0);else if("type"===t)if("modal"===i)this._initialCloseButtonValue=this.options.closeButton,this.options.closeButton=!0,this._initialCloseButtonValue||(this._createCloseButton(),this._initPopoverEvents()),this._createOverlay();else{if(this.options.closeButton=this._initialCloseButtonValue,this.container){var a=this.container.find(".zpopover__action");this._initialCloseButtonValue===!1&&a.length&&a.remove()}this._overlay&&this._overlay.remove(),this._overlay=void 0}else if("className"===t)this.container&&(this.options.className&&this.container.removeClass(this.options.className),this.container.addClass(this.options.className));else if("margin"===t&&this.container&&this.container.is(":visible")){var r={};r.left=parseInt(this.container.css("left")),r.top=parseInt(this.container.css("top")),r=this._retrieveMarginValues(r),this.container.css(r)}}else{for(var l=s.split(" "),h=0;h<l.length;h++){var d=this.componentName;switch(l[h]){case"mouseover":case"hover":this.element.off("mouseenter."+d+" mouseleave."+d),this.container&&this.container.off("mouseenter."+d+" mouseleave."+d);break;case"focus":this.element.off("focusin."+d+" focusout."+d),this.container&&this.container.off("focusin."+d+" focusout."+d);break;case"click":this.element.off(l[h]+"."+d)}}"click"===i&&this.options.delay&&(this.options.delay=void 0),this._bindEvents(),this._initPopoverEvents()}},repositionPopover:function(){var t=this.container;t&&(!t.is(":visible")&&t.show(),this._positionPopover())},destroy:function(){this._clickedOutside=this.options.removeOnClose=this._destroyCalled=!0,this._closePopover(),this.element.removeData(this.componentName),this._destroyCalled=!1}};t.$document.on("keydown.zpopover",function(e){t.openedInstance&&t.openedInstance.options.closeOnEsc&&t.openedInstance._documentKeyDownHandler(e)}),t.$document.on("scroll.zpopover",function(e){t.openedInstance&&t.openedInstance.options.closeOnScroll&&t.openedInstance.container&&t.openedInstance.container.is(":visible")&&t.openedInstance._closePopover(e)}),t.registerComponent("zpopover",s)}(ZComponents),function(t){var e=t.DOMUtil,i={options:{title:void 0,isMessageHTMLEncoded:!1,selector:void 0,displayType:"box",position:"at-cursor",margin:{left:0,top:0},showDelay:500,hideDelay:300,maxDisplayTime:5e3,reshowDelay:void 0,showShortcutKey:!0,animation:{show:{name:"fadeIn"},hide:{name:"fadeOut"}},className:void 0,innerHTML:void 0,pauseOnMouseOver:!1,hideOnTargetClick:!0},_EVENTS:{ONSHOW:"show",ONHIDE:"hide"},_ANIMATION:{slide:{show:"slideDown",hide:"slideUp"},fade:{show:"fadeIn",hide:"fadeOut"},end:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend"},_create:function(){this._namespace="."+this.componentName,this._tempNmspace=this._namespace+"-temp",this._bindEvents()},_bindEvents:function(){var i=this;t.ztooltipBinded||(t.ztooltipBinded=!0,t.$document.off("keydown"+this._namespace).on("keydown"+this._namespace,function(e){t.ztooltipLastInstance&&t.ztooltipLastInstance.hide()}).off("mousedown"+this._namespace).on("mousedown"+this._namespace,function(i){t.ztooltipLastInstance&&t.ztooltipLastInstance.target&&!e(i.target).closest(t.ztooltipLastInstance.target).length&&!e(i.target).closest(t.ztooltipLastInstance.tooltip).length&&t.ztooltipLastInstance.hide()}),window.addEventListener("scroll",function(){t.ztooltipLastInstance&&(t.ztooltipLastInstance.hide(),t.ztooltipLastInstance=void 0)},!0));var s=function(t,e){var i=e.button,s=i.attr("title");i.is("input")&&(i=i.next("label")),e.disabled?(i.removeAttr("title"),i.data("ztooltip",s)):i.attr("title",i.data("ztooltip"))};this.element.on("mouseenter"+this._namespace+" mousemove"+this._namespace,function(t){i._targetEnter.call(i,t)}).on("zbuttonstatechange",s).on("zmenubuttonstatechange",s).on("zsplitbuttonstatechange",s).on("zuploadbuttonstatechange",s)},_targetEnter:function(t,i,s){var o,n=!1,a="button[disabled], input[disabled], textarea[disabled], fieldset[disabled], select[disabled], keygen[disabled] , output[disabled], option[disabled]";if(this.target&&(this.target.is(":hidden")||this.target.is(a))&&this.hide(),t)o=e(t.target).closest("[title],[data-title-content-id]"),t.originalEvent?(this.pageX=t.pageX,this.pageY=t.pageY):n=!0;else{if(!i)return;n=!0,o=e(i)}if(o.length){if(!n&&(!o.attr("title")&&!o.attr("data-title-content-id")||o.is(a)))return void(o.is(this.target)&&this.tooltip&&this.hide());if(!this.options.selector||o.is(this.options.selector)){this.custom=n,this.target&&this._clearTitle(!0,this.target);var r,l=this;this.target=o,r=this._getOptions(this.target),this.targetOpt=e.extend(!0,{},this.options,"object"==typeof r&&r,s),this.targetOpt.pauseOnMouseOver=this.targetOpt.pauseOnMouseOver||this.targetOpt.pauseOnHover,!n&&this._clearTitle(),this.target.off(this._tempNmspace).on("mouseleave"+this._tempNmspace,function(){l._targetLeave.call(l)}),this._clearHideTimer(),this._show(t)}}},_targetLeave:function(t){this._clearTitle(!0),this._clearShowTimer(),this.tooltip&&(this._completeAnimation(this.tooltip),this._removeTip(t))},_show:function(t){var e=this.targetOpt;e.showDelay&&void 0===e.reshowDelay&&(this.targetOpt.reshowDelay=e.showDelay/5);var i=this;e.hideOnTargetClick&&this.target.on("mousedown"+this._tempNmspace,function(){i._clearShowTimer(),i._removeTip(!0,i.target)}),this._showTooltip(t)},_completeAnimation:function(t){return t&&(t.finish?t.finish():t.stop(!0,!0)),t},_clearShowTimer:function(){this._completeAnimation(this.tooltip),clearTimeout(this.showTimer)},_clearHideTimer:function(){this._completeAnimation(this.tooltip),clearTimeout(this.hideTimer)},_setTimer:function(t,e){if(e.maxDisplayTime){var i=this;this._clearHideTimer(),this.hideTimer=setTimeout(function(){i._removeTip(!0)},e.maxDisplayTime)}},_showTooltip:function(i){var s=this,o=this.targetOpt,n=function(){var n=o.animation;if(s._lastTip&&(s.tooltip&&s.tooltip.is(":visible")&&s.target.is(s._lastTip)?(o.reshowDelay=void 0,n=!1):s._trigger("ONHIDE",void 0,s.target)),s._lastTip=s.target,/^(auto|top|bottom|right|left|top-left|top-right|bottom-left|bottom-right|at-cursor|follow-cursor)$/.test(o.position)||(o.position=e.ztooltip.prototype.options.position),/^(at-cursor|follow-cursor)$/.test(o.position)&&(s.custom?o.position="top":o.displayType="box"),s._createTooltip(),s.tooltip&&s.tooltip.length&&(s.target.is(":visible")||s.target.is("option"))){if(s._includeContent(o),s._setTimer(s.target,o),"follow-cursor"===o.position){var a=function(){s._positionElement.apply(s,arguments),s._setTimer(s.target,o)};s.target.off("mousemove"+s._tempNmspace).on("mousemove"+s._tempNmspace,a)}s._positionElement(i),t.ztooltipLastInstance=s}s._completeAnimation(s.tooltip.hide()),s._animate(s.tooltip,n,"show","show",function(){s._trigger("ONSHOW",i)})};this.custom||o.reshowDelay||void 0!==o.showDelay?(this._clearShowTimer(),this.showTimer=setTimeout(function(){n()},!this.custom&&this.tooltip?o.reshowDelay:o.showDelay)):n()},_animate:function(t,e,i,s,o){if(e&&"object"==typeof e){var n,a,r;"string"==typeof e?n=this._ANIMATION[e][i]:e.name?this._ANIMATION[e.name]&&(n=this._ANIMATION[e.name][i]):e[i]&&("string"==typeof e[i]?n=e[i]:e[i].name?n=e[i].name:e[i].className&&(r=e[i].className)),a=e.duration?e.duration:e[i]&&e[i].duration?e[i].duration:void 0,"object"==typeof n?t.animate(n,a,o):/^(fadeIn|fadeOut|slideDown|slideUp)$/.test(n)?t[n](a,o):"string"==typeof r?("show"===s&&t.show(),t.removeClass(t.data("css-effect")).addClass(r).data("css-effect",r).off(this._ANIMATION.end).on(this._ANIMATION.end,function(){"hide"===s&&t.hide(),t.removeClass(r).removeData("css-effect"),o()})):t[s]()&&o()}else t[s]()&&o()},_includeContent:function(e){var i=this.targetOpt;if("object"==typeof i&&this.tooltipContent&&this.tooltipContent.length){var s=i.title=i.title||i.content||"";if("string"==typeof i.innerHTML?(s=this._populateTemplate(i.innerHTML,i),i.isMessageHTMLEncoded=!0):"string"==typeof i.contentId&&(s=document.getElementById(i.contentId).innerHTML,i.isMessageHTMLEncoded=!0),i.showShortcutKey&&window.ZShortCut){var o=this.target;o=o.is("label.zbutton")?o.prev("input"):o;var n=t.getOptions(o),a=ZShortCut.getInfo(n.actionName,o,!1,!0);a&&(i.shortcutKeyCustomHTML?a=i.shortcutKeyCustomHTML.replace(/(#key#)/gi,a):(a=t.encodeHTML(a),ZShortCut.isShortcutSymbolEnabled()?(a=a.replace("command",'<span class="ui-italic">command</span>').replace("shift",'<span class="ui-italic">shift</span>').replace("option",'<span class="ui-italic">option</span>'),a="<div class='ui-tooltip-shortcut-str' style='margin-top:5px;'>"+a+"</div>"):a=" ("+a+")"))}this.setContent(i,s,a)}},setContent:function(i,s,o){o=o||"",i.isMessageHTMLEncoded?this.tooltipContent.html(s+o):(s=t.encodeHTML(s)+o,this.tooltipContent.html(e("<div>").addClass("ztooltip__text").html(s)))},_populateTemplate:function(t,e){if("string"==typeof t){var i=t.match(/#?#[^# ]+#?#/g);return i&&i.forEach(function(i){t=t.replace(new RegExp(i,"g"),function(t){return e[t.replace(/#/g,"")]})}),t}},_positionElement:function(t){if(this.tooltip){var e=this._getPosition(t),i=e.direction.split("-")[0],s=e.elementPosition;if(this.tooltip.removeClass("class").addClass("ztooltip ztooltip--"+i),"object"==typeof this.targetOpt.margin){var o={};if(o.top=parseInt(this.targetOpt.margin.top),o.left=parseInt(this.targetOpt.margin.left),"NaN"===o.top&&(o.top=0),"NaN"===o.left&&(o.left=0),/^(at-cursor|follow-cursor)$/.test(this.targetOpt.position)){var n=e.availableHeight-this.tooltip.outerHeight();s.left+=parseInt(this.targetOpt.margin.left),s.top+=parseInt(this.targetOpt.margin.top)+Math.min(18,n)}else"top"===i?s.top-=o.top:"bottom"===i?s.top+=o.top:"right"===i?s.left+=o.left:"left"===i&&(s.left-=o.left)}this.tooltip.css(s),this.tooltipCallout&&this.tooltipCallout.css(e.arrowPosition)}},_getPosition:function(t){var i,s=this.targetOpt,o=this.targetOpt.position,n=!1,a=function(t,i){e(t).removeAttr("class").addClass("ztooltip__pointer h-"+i)};if(ZPosition&&this.tooltip){this.tooltip.css({left:"auto",right:"auto"}),/^(at-cursor|follow-cursor)$/.test(s.position)||s.offset?(s.offset?(this.pageX=parseInt(s.offset.left),this.pageY=parseInt(s.offset.top)):o="bottom-left",i=t,i.pageX=this.pageX,i.pageY=this.pageY,n="flipallfit"):"auto"===s.position&&(o="bottom",n="flipallfit");var r=ZPosition.get(i||this.target,this.tooltip,{direction:o,eventObj:t,bufferSpace:this.tooltipCallout?10:0,positionAlterable:n,arrowCallback:a,arrow:"callout"===s.displayType?{element:this.tooltipCallout,direction:!0,minSpace:8}:void 0})}return r||(r={elementPosition:{left:0,top:0},arrowPosition:{left:0,top:0}}),r},_removeTip:function(e,i,s){if(s=s||this.targetOpt,this.tooltip){i=i||this.target;var o=this,n=function(){o._animate(o._completeAnimation(o.tooltip),s.animation,"hide","hide",function(){o.tooltip&&(o.tooltip.remove(),o.tooltip=o.tooltipCallout=o.tooltipTitle=o.tooltipContent=null,t.ztooltipLastInstance&&t.ztooltipLastInstance.element.is(o.element)&&(t.ztooltipLastInstance=void 0),o._trigger("ONHIDE"))})},a=function(){if(o.tooltip){if(o.tooltip.off("mouseleave"),o.target.is(o._lastTip)){if(!e&&o.targetOpt.pauseOnMouseOver&&o.tooltip.hasClass("on-hover"))return void o.tooltip.on("mouseleave",n)}else o._lastTip=void 0;n()}};this.isTargetCustom&&this._clearTitle(!0,this.target),e||!this.targetOpt.hideDelay?a():(this._clearHideTimer(),this.hideTimer=setTimeout(function(){a()},s.hideDelay))}},_getOptions:function(i){var s=i.attr("title"),o={};if(e.each(i[0].attributes,function(){var e=this.nodeName,i=this.value;e.match(/^data-title-/)&&(e=e.replace(/^data-title-/,""),e=e.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()}),e=e.replace(/(html)/gi,"HTML"),o[e]="true"===i||"false"===i?"true"===i:i.indexOf("{")!==-1?t._getObject(i):i)}),isNaN(s))try{var n=JSON.parse(s);o=n}catch(t){o.content=s}else o.content=s;return o.targetElement=i,o},_createTooltip:function(){return this.tooltip||(this.tooltip=e("<div>").appendTo("body").hover(function(){e(this).addClass("on-hover")},function(){e(this).removeClass("on-hover")}),this.tooltipContent=e("<div>").addClass("ztooltip__content").appendTo(this.tooltip)),this.tooltip.css("pointer-events",this.targetOpt.pauseOnMouseOver?"auto":"none"),this.tooltip.attr("class","ztooltip "+(this.targetOpt.className||"")),"callout"===this.targetOpt.displayType?this.tooltipCallout||(this.tooltipCallout=e("<div>").addClass("ztooltip__pointer").appendTo(this.tooltip)):this.tooltipCallout&&(this.tooltipCallout.remove(),this.tooltipCallout=void 0),this.tooltip},_clearTitle:function(t,i){if(i=i||this.target,i&&i.length)if(t){i.off(this._tempNmspace);var s=e(i.data("zparents"));s.add(i).each(function(t,i){i=e(i);var s=void 0!==i.attr("title")?i.attr("title"):i.data("ztitle");void 0!==s&&i.attr("title",s).removeData("ztitle").removeAttr("aria-label")}),i.removeData("zparents")}else if(!t){var s=i.parents("[title]");s.add(i).each(function(t,i){i=e(i);var s=i.attr("title");s&&i.data("ztitle",s).removeAttr("title").attr("aria-label",s)}),i.data("zparents",s)}},_isVisible:function(t){if(t&&t.length)return!!t.is(":visible")},_trigger:function(t,e,i){var s={target:i||this.target,tooltip:"ONSHOW"===t?this.tooltip:void 0};return this._dispatchEvent(t,e,s)},show:function(t,i){return t=e(t||this.element),t.length&&t[0].nodeType&&t.is(":visible")&&(this._clearTitle(!0,t),i="object"==typeof i?i:{},i.showDelay=0,this._targetEnter(void 0,t,i)),t},hide:function(t){this._targetLeave(t)},_destroy:function(){t.ztooltipLastInstance&&t.ztooltipLastInstance.element.is(this.element)&&(t.ztooltipLastInstance.target&&t.ztooltipLastInstance.target.off(this._tempNmspace),t.ztooltipLastInstance=void 0),this.element.off(this._namespace),this.hide(!0),e(this.tooltip).remove()},setAttribute:function(t,i){"object"==typeof i?e.extend(this.options[t],i):this.options[t]=i}};t.registerComponent("ztooltip",i)}(ZComponents),function(t){var e=t.DOMUtil,i={options:{tabAlignment:"left",tabPosition:"top",tabLabelType:"text",openOn:"click",activeTab:void 0,panelAnimation:!1,tabAnimation:!1,lazyLoadContent:!0,cacheContent:!0,tabs:void 0,className:void 0,messages:{serverError:"Server not available."},keyboardNavigation:!0,eventPrefix:"ztabpanel"},_CLASS:{ACTIVE:"is-selected",DISABLED:"is-disabled",ICONONLY:"ztabpanel--icononly",TEXT:"ztabpanel__text",NAV:"ztabpanel__nav",NAVCONTENT:"ztabpanel__navcontent",PANEL:"ztabpanel__content",ICON:"ztabpanel__icon",FOCUS:"has-focus"},_EVENTS:{ONTABADD:"tabadd",ONREMOVETAB:"tabremove",ONBEFORESWITCH:"beforeswitch",ONSWITCH:"switch",ONTABSHOW:"tabshow",ONTABHIDE:"tabhide",ONINIT:"init"},_ANIMATION:{slide:{open:"slideDown",close:"slideUp",show:"slideDown",hide:"slideUp"},fade:{open:"fadeIn",close:"fadeOut",show:"fadeIn",hide:"fadeOut"},end:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend"},_REGEX:{vertical:/^(left|right)$/,horizontal:/^(top|bottom)$/,verticalAlign:/^(top|bottom|middle)$/,horizontalAlign:/^(left|right|center)$/},_create:function(t,e){this.element=t.attr("tabindex",0),this.options.height=this.options.height||this.element[0].style.height,this.defaultClass=this.element.attr("class"),this._eventPrefix="."+this.options.eventPrefix,this._constructContainer(),this._initTabs(),this._handleDS(),this._fixNavBarWidth(),this._setInitial(),this._bindEvents(),this._trigger("ONINIT")},_constructContainer:function(){var t="ztabpanel "+("string"==typeof this.options.className?this.options.className:""),i=this.element.addClass(t).children("*:not(ul, [data-custom])"),s=this.element.children("[data-custom=true]:not([data-position=last])"),o=this.element.children("[data-custom=true][data-position=last]");this.navBar=e("<div></div>").addClass(this._CLASS.NAV).appendTo(this.element),this.tabsBar=this.element.children("ul:first"),this.tabsBar.length||(this.tabsBar=e("<ul>")),this.tabsBar.addClass("ztabpanel__list").attr("role","tablist").appendTo(this.navBar),this.contentPanel=e('<div class="ztabpanel__contentscroll"></div>').append(i),this.tabsPanel=e("<div>").addClass(this._CLASS.PANEL).append(this.contentPanel).appendTo(this.element),o.length&&(this.customright=e("<div>").addClass(this._CLASS.NAVCONTENT+" h-floatright").append(o).prependTo(this.navBar)),s.length&&(this.customleft=e("<div>").addClass(this._CLASS.NAVCONTENT).append(s).prependTo(this.navBar)),"icon"===this.options.tabLabelType&&this.element.addClass(this._CLASS.ICONONLY),this._fixPosition()},_fixDimension:function(){this.options.height&&(this.element[0].style.height=isNaN(this.options.height)?this.options.height:this.options.height+"px"),this.options.width&&(this.element[0].style.width=isNaN(this.options.width)?this.options.width:this.options.width+"px");var e=this._isVertical()?0:this.navBar.outerHeight(!0);this.tabsPanel.css("height","calc(100% - "+e+"px)"),this.contentPanel[0].style.height="100%",t.Browser.isSafari()&&this._isVertical()&&(this.element.css("display","inline-block"),this.contentPanel.height(this.element.height()),this.element.css("display","table"))},_fixNavBarWidth:function(){if(this._isVertical())this.navBar.css("height","calc(100%)");else{var t=(this.customleft?this.customleft.outerWidth(!0):0)+(this.customright?this.customright.outerWidth(!0):0);this.navBar.css("width","calc(100% - "+t+"px)")}},_fixPosition:function(){var t=this.options;/^(left|right|top|bottom)$/.test(t.tabPosition)||(t.tabPosition=e.ztabpanel.prototype.options.tabPosition),this._isVertical()?(this._REGEX.verticalAlign.test(t.tabAlignment)||("center"===t.tabAlignment?t.tabAlignment="middle":t.tabAlignment="top"),this.element.addClass("ztabpanel--vertical")):this._REGEX.horizontalAlign.test(t.tabAlignment)||(t.tabAlignment="left"),this.element.addClass("ztabpanel--"+t.tabPosition+t.tabAlignment),this.tabsPanel[/^(bottom|right)$/.test(t.tabPosition)?"prependTo":"appendTo"](this.element),this._fixDimension()},_isVertical:function(){return this._REGEX.vertical.test(this.options.tabPosition)},_handleDS:function(){this.options.tabs&&this._addTabs(this.options.tabs)},_initTabs:function(){var t=this;e.each(this._getTabs(),function(i,s){t._initTab(e(s))})},_setInitial:function(){this.initialTab&&this.initialTab.length?this.initialTab=this.initialTab.filter(":not([data-disabled=true],[data-hidden=true])"):void 0===this.options.activeTab?this.initialTab=this._getTabs().filter(":not([data-disabled=true],[data-hidden=true])").first():"none"!==this.options.activeTab&&(this.initialTab=this._getTab(this.options.activeTab)),this.initialTab&&this.initialTab.length&&this._selectTab(this.initialTab)},_initTab:function(i){var s=t.getOptions(i);s.customAttributes&&i.attr(s.customAttributes),s.selected&&(s.hidden||s.disabled?this.initialTab||(this.initialTab=i):this.initialTab=i),s.selected=void 0,s.id=i.attr("id")||"tabid"+Math.floor(1e6*Math.random()),i.attr("role","tab").attr("id",s.id).addClass("ztabpanel__item").removeAttr("data-selected selected").find("a").attr("tabindex",-1).on("click"+this._eventPrefix,function(t){t.preventDefault()}),s.hidden&&i.hide().attr({"data-hidden":!0,"aria-hidden":!0}),s.disabled&&i.attr({"data-disabled":!0,"aria-disabled":!0}).addClass(this._CLASS.DISABLED),this._includeTabContent(i,s),s.panelId||(s.panelId=i.find("a").attr("href")||""),s.panelId=s.panelId.replace(/^\#*/,"").replace(/\s/g,""),s.panelId||(s.panelId="paneid"+Math.floor(1e4*Math.random())),e("#"+s.panelId,this.element).hide(),s.width&&(i[0].style.width=isNaN(s.width)?s.width:s.width+"px"),this.options.lazyLoadContent||this._loadPane(i)},_includeTabContent:function(t,i){var s=e("a",t);i.label=i.label||s.text(),s.empty(),this.options.tabLabelType.match("icon")&&this._includeIcon(s,i),this.options.tabLabelType.match("text")&&e("<span>").addClass(this._CLASS.TEXT).text(i.label).appendTo(s),"icon"===this.options.tabLabelType&&t.attr("title",i.label)},_includeIcon:function(i,s){t.createIcon(e('<i class="ztabpanel__icon">').prependTo(i),s.icon,s.SVGIconId,s.iconClassName)},_animate:function(t,e,i,s,o){if(e&&"object"==typeof e){var n,a,r;"string"==typeof e?n=this._ANIMATION[e][i]:e.name?this._ANIMATION[e.name]&&(n=this._ANIMATION[e.name][i]):e[i]&&("string"==typeof e[i]?n=e[i]:e[i].name?n=e[i].name:e[i].className&&(r=e[i].className)),a=e.duration?e.duration:e[i]&&e[i].duration?e[i].duration:void 0,"object"==typeof n?t.animate(n,a,o):/^(fadeIn|fadeOut|slideDown|slideUp)$/.test(n)?t[n](a,o):"string"==typeof r?("show"===s&&t.show(),t.removeClass(t.data("css-effect")).addClass(r).data("css-effect",r).off(ZBanner._ANIMATION.end).on(ZBanner._ANIMATION.end,function(){"hide"===s&&t.hide(),t.removeClass(r).removeData("css-effect"),o()})):t[s]()&&o()}else t[s]()&&o()},_bindEvents:function(){var t=this;this._setAttribute("openOn",this.options.openOn),this.options.keyboardNavigation&&this.element.on("keydown"+this._eventPrefix,function(e){t.element.hasClass(t._CLASS.DISABLED)||t._keyPress(e)})},_keyPress:function(e){if(e.shiftKey&&16!==e.keyCode){var i=e.keyCode||e.charCode;switch(i){case t.keyCode.RIGHT:case t.keyCode.DOWN:this._selectNextPreviousTab(!1,void 0,!0),e.preventDefault();break;case t.keyCode.LEFT:case t.keyCode.UP:this._selectNextPreviousTab(!0,void 0,!0),e.preventDefault();break;case t.keyCode.HOME:this._selectNextPreviousTab(!1,this._getTabs().length,!0),e.preventDefault();break;case t.keyCode.END:this._selectNextPreviousTab(!0,0,!0),e.preventDefault();break;default:return}}},_isHidden:function(t){return e(t).is("[data-hidden=true]")},_getTabs:function(){return this.tabsBar.children("li:not([data-custom=true])")},_getTab:function(t){return isNaN(t)?e(t,this.tabsBar):e(this._getTabs()[t])},_deleteTab:function(i,s){if(i){var o=this,n=function(){var n=t.getOptions(i);e("#"+n.panelId).remove(),i.remove(),o._trigger("ONREMOVETAB",i,s,n)};return this._isHidden(i)?n():this._hideTab(i,!1,n),i}},_loadPane:function(i){var s=t.getOptions(i),o=e("#"+s.panelId,this.element).attr("role","panel"),n=s.panelContent||{};if(!s.contentLoaded||!this.options.cacheContent&&n.URL){if(s.contentLoaded=!0,!o.length&&(o=e("<div>").attr("id",s.panelId.replace(/^\#*/,"")).appendTo(this.contentPanel),!n))return o;if(n)if("string"==typeof n||n.nodeType||n instanceof jQuery){var a=/^(\.|\#)$/.test(n)?e(n).clone():n;o.html(a)}else if(n.URL){var r=this;!function(i,s,o,n,a,l,h){var d=e.ajax({url:s,data:o});d.success(function(t){e.isFunction(a)&&(t=a.call(i,t)),n.html(t)}).fail(function(s){var o=l||r._localize("serverError");e.isFunction(h)&&(o=h.call(arguments));var a=t.getOptions(i);a.contentLoaded=!1,n.html(o)})}(i,n.URL,n.queryParam,o,n.success,n.errorMessage,n.fail)}}return o},_activateTab:function(t){this.options.activeTab=t.addClass(this._CLASS.ACTIVE).attr("aria-selected",!0)[0],t.find("a").focus(),this._loadPane(t).show().attr("aria-expanded",!0),this.contentPanel.scrollTop(0)},_selectTab:function(t,i,s){return t=e(t,this.tabsBar).filter(":not([data-hidden=true],[data-disabled=true])").first(),!!t.length&&(!s||this._trigger("ONBEFORESWITCH",t,i)?t.hasClass(this._CLASS.ACTIVE)?t:(this.deselectAllTabs(),this._activateTab(t),s&&this._trigger("ONSWITCH",t,i),t):void 0)},_selectNextPreviousTab:function(t,e,i){var s=this._getNextPreviousTab(t,e);this._selectTab(s,void 0,i)===!1&&this.deselectAllTabs()},_getNextPreviousTab:function(t,i){var s=this._getTabs(),o=s.index(this.options.activeTab);i=void 0!==i||o;var n=e(s[o])[t?"prevAll":"nextAll"](":not(."+this._CLASS.DISABLED+"):visible:first");return n=n.length?n:s.filter(":not(."+this._CLASS.DISABLED+"):visible"),n.filter(t?":last":":first")},_showTab:function(t,e){if(t&&t.length&&this._isHidden(t)){var i=this;return this._animate(t,this.options.tabAnimation,"show","show",function(s){t.removeAttr("data-hidden aria-hidden"),e&&i._trigger("ONTABSHOW",t)}),!0}return!1},_hideTab:function(t,i,s){if(t&&t.length&&!this._isHidden(t)){var o=this,n=this._getTabs().filter(":not([data-hidden])");return!(n.length<2)&&(this._animate(t,this.options.tabAnimation,"hide","hide",function(n){t.attr({"data-hidden":!0,"aria-hidden":!0}),t.hasClass(o._CLASS.ACTIVE)&&(t.removeClass(o._CLASS.ACTIVE),o._selectNextPreviousTab(void 0,void 0,!0)),i&&o._trigger("ONTABHIDE",t),e.isFunction(s)&&s()}),!0)}return!1},_enableTab:function(t){return!(!t||!t.length)&&(t.removeClass(this._CLASS.DISABLED).removeAttr("data-disabled aria-disabled"),!0)},_disableTab:function(t,e){return!(!t||!t.length)&&(t.attr({"data-disabled":!0,"aria-disabled":!0}),t.hasClass(this._CLASS.ACTIVE)&&(t.removeClass(this._CLASS.ACTIVE),this._selectNextPreviousTab(void 0,void 0,!0)),t.addClass(this._CLASS.DISABLED),!0)},_trigger:function(i,s,o,n){var a={element:this.element[0],activeTab:this.options.activeTab};return s&&(s.length>1?a.tabs=s:(a.tab=s[0],a.metadata=t.getOptions(s))),n&&e.extend(a,n),this._dispatchEvent(i,o,a)},_createTab:function(i){var s;if("string"==typeof i||i instanceof jQuery||i.nodeType)try{s=e(i)}catch(t){s=void 0}if(s&&s.length){if(!s.is("li"))return;s=s.first(),i={}}else s=e("<li>").append(e('<a href=""></a>')),"string"==typeof i&&(i={label:i});return s.appendTo(this.tabsBar),e.extend(t.getOptions(s),i),this._initTab(s),s},_addTabs:function(t,i,s,o){var n=this,a=e();e.each(e.isArray(t)?t:[t],function(t,e){a=a.add(n._createTab(e))});var s=e(s,this.tabsBar).filter(".ztabpanel__item");return s.length&&/^(after|before)$/.test(i)?s[i](a):this.tabsBar.append(a),o&&this._trigger("ONTABADD",a),a},_arrayLoopThrough:function(t,i,s){if(void 0!==i&&e.isFunction(t)){var o=this,n=e();i=e.isArray(i)?i:[i],e.each(i,function(t,i){var s;if("string"==typeof i||"number"==typeof i)s=o._getTab(i);else if(i instanceof jQuery)s=i;else{if(!i.nodeType)return;s=e(i,o.tabsBar)}s&&s.length&&(n=n.add(s))});var a=Array.prototype.slice.call(arguments,1);return"function"==typeof t&&n.each(function(i,s){a[0]=e(s),t.apply(o,a)}),n}},openTab:function(t,e){return this._selectTab(this._getTab(t),void 0,e),this.getActiveTab()},openNextTab:function(){return this._selectNextPreviousTab(),this.getActiveTab()},openPreviousTab:function(){return this._selectNextPreviousTab(!0),this.getActiveTab()},getActiveTab:function(){return this.options.activeTab},deselectAllTabs:function(){var i=this;if(i.options.activeTab&&"LI"===i.options.activeTab.tagName){var s=t.getOptions(e(i.options.activeTab).removeClass(this._CLASS.ACTIVE).attr("aria-selected",!1));e("#"+s.panelId,i.element).hide().attr("aria-expanded",!1);i.options.activeTab="none"}},showTab:function(t,e){return this._arrayLoopThrough(this._showTab,t,!0)},hideTab:function(t,e){return this._arrayLoopThrough(this._hideTab,t,!0)},enableTab:function(t){return this._arrayLoopThrough(this._enableTab,t)},disableTab:function(t){return this._arrayLoopThrough(this._disableTab,t)},addTab:function(){return this._addTabs.apply(this,arguments)},removeTab:function(t){return this._arrayLoopThrough(this._deleteTab,t)},_setTabAttribute:function(i,s,o){var n=t.getOptions(i),a=n[s];n[s]=o,"icon"===s?/^(icon|icon-text)$/.test(this.options.tabLabelType)&&(i.find(".ztabpanel__icon").remove(),this._includeIcon(i.find("a"),n)):"label"===s?o.length&&i.find("a span."+this._CLASS.TEXT).text(o):"panelId"===s?(e("#"+a,this.tabsPanel).hide(),n.panelId=o.replace(/^\#*/,""),i.hasClass(this._CLASS.ACTIVE)&&this._loadPane(i).show()):"panelContent"===s?n.contentLoaded&&(n.contentLoaded=!1,i.hasClass(this._CLASS.ACTIVE)&&this._loadPane(i).show()):"disabled"===s?this[o?"disableTab":"enableTab"](i):"hidden"===s?this[o?"hideTab":"showTab"](i):"width"===s?(this.options[s]=o,i[0].style.width=isNaN(o)?o:o+"px"):"customAttributes"===s?i.attr(o):"selected"===s&&(o?this.openTab(i):i.is(this.options.activeTab)&&this.deselectAllTabs())},_setAttribute:function(i,s){switch(i){case"openOn":["click","hover"].indexOf(s)===-1&&(s="click");var o=this,n=function(t){var i=e(t.currentTarget).filter(":not([data-hidden=true],[data-disabled=true])");i.length&&o._selectTab(i,t,!0)===!1&&o.deselectAllTabs()};this.tabsBar.off(this._eventPrefix).on(s.replace("hover","mouseenter")+this._eventPrefix,"li:not(.is-disabled):not(.is-selected)",n),this.options[i]=s;break;case"activeTab":"none"===s?this.deselectAllTabs():this.openTab(s);break;case"tabLabelType":if(/^(text|icon-text|icon)$/.test(s)||(s="text"),this.options.tabLabelType!==s){this.options.tabLabelType=s;var o=this;this._getTabs().each(function(i,s){o._includeTabContent.call(o,e(s),t.getOptions(s))}),this.element["icon"===s?"addClass":"removeClass"](this._CLASS.ICONONLY)}break;case"tabPosition":case"tabAlignment":this.element.removeClass("ztabpanel--vertical ztabpanel--topright ztabpanel--topleft ztabpanel--topcenter ztabpanel--bottomright ztabpanel--bottomleft ztabpanel--bottomcenter ztabpanel--lefttop ztabpanel--leftmiddle ztabpanel--leftbottom ztabpanel--righttop ztabpanel--rightmiddle ztabpanel--rightbottom"),this.options[i]=s,this._fixPosition();break;case"tabs":"object"==typeof s&&(this.tabsBar.find("li").remove(),this.contentPanel.children().remove(),this.options[i]=s,this._handleDS());break;case"className":"string"==typeof s&&(this.element.removeClass(this.options[i]).addClass(s),this.options[i]=s);break;default:this.options[i]=s}},setTabAttributes:function(t,i,s){var o=this;"object"!=typeof i||e.isEmptyObject(i)?i&&void 0!==s&&this._arrayLoopThrough(this._setTabAttribute,t,i,s):e.each(i,function(e,i){o.setTabAttributes(t,e,i)})},setAttribute:function(t,e){e!==this.options[t]&&(e="string"==typeof e?e.trim():e,this._setAttribute(t,e))},destroy:function(){var t=this.contentPanel.children();this.tabsPanel.remove(),this.element.prepend(this.tabsBar).removeAttr("class").addClass(this.defaultClass),t.insertAfter(this.tabsBar),this.customright&&this.customright.remove().children().insertAfter(this.tabsBar),this.customleft&&this.customleft.remove().children().insertBefore(this.tabsBar),e.each(this._getTabs(),function(){e(this).removeAttr("class").find(".ztabpanel__icon").remove()}),this.navBar.remove(),this.tabsBar.add(this.element).off(this._eventPrefix),this.element.removeData("ztabpanel")}};t.registerComponent("ztabpanel",i),t.createTab=function(t){if("object"==typeof t){var i=e("#"+t.id);if(i.length){if(i.data("ztabpanel"))return i}else i=e("<div>").appendTo(e(t.appendTo).length?t.appendTo:"body"),t.id&&i.attr("id",t.id);return i.ztabpanel(t),i}}}(ZComponents),function(t){var e=t.DOMUtil,i={options:{multiple:!1,selectionLimit:0,dataSource:void 0,selectedIndex:void 0,selectedValue:void 0,placeholder:"Select",isLabelHTMLEncoded:!1,dropdownList:{height:void 0,width:void 0,appendTo:void 0,direction:"auto",className:void 0,viewport:void 0},autoFill:!1,searchable:!1,selectOnClose:!1,clearSelection:!1,searchSettings:{delay:150,searchCriteria:"contains",caseSensitive:!1,searchByField:"label"},disabled:!1,contentType:"text",className:void 0,messages:{allOptionsSelected:"All Selected",noResults:"No Results"},eventPrefix:"zselectbox"},_EVENTS:{ONBEFORESHOW:"beforedropdownlistopen",ONSHOW:"dropdownlistopen",ONCHANGE:"change",BEFOREHIDE:"beforedropdownlistclose",ONHIDE:"dropdownlistclose",ONITEMCLICK:"itemclick",ONINIT:"init",ONNEWVALUE:"newvalue",ONBLUR:"blur",ONFOCUS:"focus",ONBEFOREOPTIONADD:"beforeoptionadd",ONOPTIONADD:"optionadd"},_CLASS:{ICON:"zselectbox__icon",ICONTEXT:"zselectbox--icontext",ICONONLY:"zselectbox--icononly",PLACEHOLDER:"zselectbox__placeholder",DROPUP:"zselectbox--top",DROPDOWN:"zselectbox--bottom",ACTIVE:"is-active",FOCUS:"has-focus",DISABLED:"is-disabled",EMPTY:"zselectbox__emptyresult",TEXTBOX:"zselectbox__text"},_create:function(t,e){this.frominit=!0,this._elementWidth=e.width||this.element[0].offsetWidth,this.element[0].style.display="none",this._namespace="."+e.eventPrefix;var i=this;["disabled","multiple","title"].forEach(function(t){e[t]=e[t]||i.element[0][t]}),this._initialize(t,e),this._constructComponent(),this._handleDS(),this._setInitial(),this._bindEvents(),this._trigger("ONINIT"),this.frominit=!1},_initialize:function(t,i){if(this._textArray=[],this._prevKey=this._prevTimeStamp="",/^(text|icon|icon-text|custom)$/.test(i.contentType)||(i.contentType=e.zselectbox.prototype.options.contentType),i.multiple){var s=+i.selectionLimit;i.selectionLimit=isNaN(s)||s<0?0:s,i.contentType="text",void 0!==i.selectedValue?i.selectedValue=String(i.selectedValue).split(","):void 0!==i.selectedIndex&&(i.selectedIndex=String(i.selectedIndex).split(",")||0),this.element[0].setAttribute("multiple",!0)}},_constructComponent:function(){this.element[0].id||(this.element[0].id=(this._isEditable?"zcombo_":"zselect_")+Math.floor(1e6*Math.random())),"string"==typeof this.options.menuId?this._menuID=this.options.menuId:(this._menuID=this.element[0].id+"Menu",e(document.getElementById(this._menuID)).remove());var i=this.element[0].id+"Container";if(this.container=document.getElementById(i),this.container)this._closeIcon=this.container.querySelector(".zselectbox__close"),this._arrow=this.container.querySelector(".zselectbox__arrowicon"),this._optArea=this.container.querySelector(".zselectbox__selected"),this.textspan=this._optArea.querySelector(".zselectbox__text"),this.iconspan=this._optArea.querySelector(".zselectbox__icon");else{var s="zselectbox "+("string"==typeof this.options.className?this.options.className:"")+" "+(this.element[0].getAttribute("class")?this.element[0].getAttribute("class"):"");this.container=document.createElement("div"),e(this.container).attr({class:s,"aria-haspopup":!0,title:this.element[0].getAttribute("title"),"aria-owns":this._menuID,id:i,style:this.element[0].getAttribute("style")}),this.container.style.display="",!this.element[0].style.width&&this._elementWidth&&(this.container.style.width=isNaN(this._elementWidth)?this._elementWidth:this._elementWidth+"px"),this.container.innerHTML="<div class=zselectbox__selected></div> <i class='zselectbox__close'></i> <i class='"+this._CLASS.ICON+" zselectbox__arrowicon'></i>",this._optArea=this.container.children[0],this._closeIcon=this.container.children[1],this._arrow=this.container.children[2],this.options.arrowSVGIconId||this.options.arrowIconClassName?this._arrow=t.createIcon(e(this._arrow),void 0,this.options.arrowSVGIconId,this.options.arrowIconClassName)[0]:this._arrow.innerHTML='<svg class="zselectbox__arrow" viewBox="0 0 16 16"> <polygon points="3.5,6.5 4.5,5.5 8,9 11.5,5.5 12.5,6.5 8,11 "></polygon> </svg>',this.options.closeSVGId||this.options.closeIconClass?this._closeIcon=t.createIcon(e(this._closeIcon),void 0,this.options.closeSVGId,this.options.closeIconClass)[0]:this._closeIcon.innerHTML='<svg viewBox="0 0 16 16"> <path d="M15.1 3.1l-2.2-2.2-4.9 5-4.9-5-2.2 2.2 5 4.9-5 4.9 2.2 2.2 4.9-5 4.9 5 2.2-2.2-5-4.9z"/> </svg>',this._closeIcon.style.display="none",this._constructOptArea(),this.element[0].parentElement.insertBefore(this.container,this.element[0].nextSibling)}},_constructOptArea:function(){this.container.setAttribute("tabindex",this.element[0].getAttribute("tabindex")||0),this.container.setAttribute("role","select");var t="";this.options.contentType.match("icon")&&!this.options.multiple&&(t=t+"<i class="+this._CLASS.ICON+"></i>"),/^(icon)$/.test(this.options.contentType)&&!this.options.multiple||(t+="<span class=zselectbox__text></span>"),this._optArea.innerHTML=t,this.textspan=this._optArea.querySelector(".zselectbox__text"),this.iconspan=this._optArea.querySelector(".zselectbox__icon");var e=("icon"===this.options.contentType?this._CLASS.ICONONLY:"icon-text"!==this.options.contentType||this.options.multiple?" ":this._CLASS.ICONTEXT).trim();this._addClass(this.container,e)},_createMenu:function(){var i=this.options,s=this,o=document.getElementById(this._menuID),n={position:i.position,contentType:i.multiple?"icon-text":i.dropdownList.contentType||i.contentType,tagName:"div",height:i.dropdownList.height,width:i.dropdownList.width,appendTo:e(i.dropdownList.appendTo),className:(i.dropdownList.className||"")+" zmenu--selectmenu",direction:i.dropdownList.direction,handleAccessKeyNavigation:!i.searchable&&!this._isEditable,scroll:"default",viewport:e(i.dropdownList.viewport),toggle:!1,animation:i.dropdownList.animation};o?(this._menu=e(o),this._completeMenuLoaded=!0,n.constructMenu=!1,this._menu.zmenu(n)):(this._menu=t.createMenu(this._menuID,{},n),this._createSearchBox()),this._menu.attr({tabindex:-1,role:"listbox"}).on({zmenubeforeshow:function(t){return s._trigger("ONBEFORESHOW",t)},zmenubeforehide:function(t){return t.stopImmediatePropagation(),s._lastScrollTop=s._menu.children("ul")[0].scrollTop,s._trigger("BEFOREHIDE",t)},zmenushow:this._onMenuShow.bind(this),zmenuhide:this._onMenuHide.bind(this),zmenuitemclick:this._onItemClick.bind(this),zmenuitemhover:this._onMenuItemHover.bind(this),zmenubeforefocus:function(){return!1}}).on("focusout"+this._namespace,this._onBlur.bind(this)).on("keydown"+this._namespace,function(t){s._keyPress.call(s,t)})},_createSearchBox:function(){if(this.options.searchable&&this._menu){var t=e('<div class="zmenu__header"> <div class="zmenu__search"> <i class="zmenu__icon"> <svg viewBox="0 -2 20 20"> <path d="M15.6,15.6c-0.6,0.6-1.5,0.6-2.1,0l-2.7-2.7C9.7,13.6,8.4,14,7,14c-3.9,0-7-3.1-7-7s3.1-7,7-7c3.9,0,7,3.1,7,7c0,1.4-0.4,2.7-1.1,3.8l2.7,2.7C16.1,14,16.1,15,15.6,15.6z M7,2C4.2,2,2,4.2,2,7s2.2,5,5,5c2.8,0,5-2.2,5-5C12,4.2,9.8,2,7,2z"></path> </svg> </i> <input type="text" class="zmenu__textbox"> </div> </div>');this._menu.prepend(t),this._bindSearchbox(t.find(".zmenu__textbox")[0])}},_bindSearchbox:function(i){var o=s?"keyup":"input",n=this;e(i).on(o+this._namespace,function(e){("input"===e.type||!e.metaKey&&!e.ctrlKey&&(e.keyCode>=186&&e.keyCode<=192||e.keyCode>=219&&e.keyCode<=222||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=65&&e.keyCode<=90||e.keyCode===t.keyCode.SPACE||e.keyCode===t.keyCode.DELETE||e.keyCode===t.keyCode.BACKSPACE))&&(e.type="input",n._onInput.call(n,i,e))})},_onInput:function(t,i){var s=t.value,o=this.options.searchSettings;this._activated=!0,this._closeIcon&&(this._closeIcon.style.display=""!==e.trim(s)&&this.options.clearSelection?"":"none"),s=s.replace(new RegExp("([',\",(,),\\\\,\\[,\\]])","g"),"\\$1"),s=o&&o.caseSensitive?s:s.toLowerCase(),clearTimeout(this.inputtextTimer),o&&o.delay?this.inputtextTimer=setTimeout(this._searchQuery.bind(this,i,s),o.delay):this._searchQuery(i,s)},_searchQuery:function(t,e){this._filterList(e),this._open(t)},_filterList:function(i){var s=this,o=this.options.searchSettings||{};if(this._loadDropdown(),this._clearStyle(),"label"===o.searchByField){var n=t.getOptions(this.element[0]),a=n.styletag=document.getElementsByTagName("head")[0].appendChild(document.createElement("style"));if(i.length){a.textContent="#"+this._menuID+" [data-filter-label]:not([data-filter-label"+("startswith"===o.searchCriteria?"^=":"*=")+"'"+i+"']) {display:none !important;}";var r=[];this._queryAll(this._menu[0],".zmenu__title").forEach(function(t){var i=s._getFilteredNodes(function(t){return"none"!==e(t).css("display")},s._queryAll(s._menu[0],".zmenu__item[data-group="+t.id+"]"));i.length||r.push("#"+t.id)}),r.length&&(a.textContent=a.textContent+" "+r.join(",")+" {display:none !important;}")}}else this._hiddenitems=[],this._queryAll(this._menu[0],"li:not([hidden])").forEach(function(e){var o=t.getOptions(e);s._menuitemMatcher(o,i)||(e.style.display="none",s._hiddenitems.push(e))})},_menuitemMatcher:function(i,s){if(!i||""===e.trim(s))return!0;if("itemgroup"===i.itemType)for(var o=this._menu.find("[data-group = "+i.customAttributes.id+"]"),n=0;n<o.length;n++){var a=o[n];if(this._menuitemMatcher(t.getOptions(a),s))return!0}else for(var r=this.options.searchSettings,l=r.searchByField.split(","),n=0;n<l.length;n++){var h=l[n],d=new RegExp("startswith"===r.searchCriteria?"^("+s+")":s,"g"+(r.caseSensitive?"":"i"));if("string"==typeof i.properties[h]&&d.test(i.properties[h]))return!0}},_clearStyle:function(){var i=t.getOptions(this.element[0]);i.styletag&&(e(i.styletag).remove(),i.styletag=void 0),this._hiddenitems&&this._hiddenitems.length&&(e(this._hiddenitems).show(),this._hiddenitems=void 0),this._removeNoResults()},_onMenuHide:function(t){this._removeClass(this.container,this._CLASS.DROPUP+" "+this._CLASS.DROPDOWN),this.container.setAttribute("aria-expanded",!1),clearTimeout(this.inputtextTimer),this._clearStyle(),this._updateSTATE(),this.options.searchable&&!this._isEditable&&this._menu.find("input.zmenu__textbox").val(""),this._trigger("ONHIDE",t)},_onMenuShow:function(t){this._activated=!0;var i,s=this._getFilteredNodes(function(t){return"none"!==e(t).css("display")},this._queryAll(this._menu[0],"li[data-filter-label]:not([hidden])"));if(s.length)s=this._getFilteredNodes(":not(.is-disabled)",s),t.originalEvent&&"input"===t.originalEvent.type?(i=s[0],this._isEditable&&this._autoComplete(this.textspan.value,s[0])):i=this.options.multiple||!this._selected.length||"string"==typeof this._selected?this._menu[0].querySelector("li.zmenu__item:not([disabled]):not([hidden])"):this._getMenuItemForOption(this._selected)[0];else{if(this.options.acceptNewValues)return void this._menu.hide();this._removeNoResults(),this._menu.children("ul").append("<li class='zmenu__item  "+this._CLASS.EMPTY+"'><span>"+this._localize("noResults")+"</span></li>")}void 0!==this._lastScrollTop&&this._menu.children("ul").scrollTop(this._lastScrollTop),i&&this._menu.zmenu("hoverMenuItem",i),this.container.setAttribute("aria-expanded",!0),this._setMenuWidth(),this._setState(),this.options.searchable&&!this._isEditable&&this._menu.find("input.zmenu__textbox").focus(),this._trigger("ONSHOW",t)},_removeNoResults:function(){e("."+this._CLASS.EMPTY,this._menu).remove()},_updateSTATE:function(){if(!this._activated){var t=this.options,e=t.selectOnClose?this._lastHighlightedItem:t.autoFill||t.autoComplete?this._lastHoveredItem:void 0;!t.multiple&&e&&e!==this._selected[0]?this._selectOption(e,!0):!/(string|number)/.test(typeof this._selected)&&this._updateCombobox()}this._setFocus(),this._setState()},_onMenuItemHover:function(t,e){var i=this.options;if(this._lastHighlightedItem=this._getOptionForMenuItem(e.menuitem[0].id),!i.multiple&&t.originalEvent&&!t.originalEvent.originalEvent&&!e.data.isFooter&&(i.autoFill||i.autoComplete)&&(!i.searchable||!this._isEditable))return this._lastHoveredItem=this._lastHighlightedItem,this._updateCombobox([this._lastHoveredItem],!1,!1),!0},_setInitial:function(){this._selected=[];var t,i=this.options;this.element[0].options&&this.element[0].options.length&&(i.selectedValue?t=i.selectedValue:void 0!==i.selectedIndex?parseInt(i.selectedIndex)!==-1&&(t=this._getOptionAt(i.selectedIndex)):t=e(this._getOptions()).filter(":selected,[data-selected]").toArray(),i.selectedIndex=this.element[0].selectedIndex=-1,i.selectedValue=void 0,this._includePlaceholder()),this.setValue(t),i.disabled&&this._setAttribute("disabled",i.disabled)},_getOptionForMenuItem:function(t){return this.element[0].querySelector('[data-zitemid="'+t+'"]')},_handleDS:function(){var t=this.options.dataSource;t&&"object"==typeof t&&this._addOption(t)},_populateMenu:function(t){var e=this._constructResultSet(t);if(e.length){var i=this._constructMenuObject(e);if(i.length){var s=[];return this._menu.zmenu("addMenuItems",i,function(t){s.push(t[0])}),s}}},_isSelected:function(t){var e=this._getOptionForMenuItem(t.id);if(e)return e.selected},_constructMenuObject:function(t){var i=[],s=this.options,o=s.dropdownList.contentType||s.contentType;if(t){t=Array.isArray(t)?t:[t];for(var n=0;n<t.length;n++){var a=t[n];"string"==typeof a&&(a={label:a});var r={},l=r.customAttributes={};"object"==typeof a.customAttributes&&(l=e.extend(l,a.customAttributes));var h=String(a.label);r.label=h,r.hidden=a.hidden,r.disabled=a.disabled,l.id=a.id;var d=this._isSelected(a);if(a.options)a.options&&(r.itemType="itemgroup");else if(a.isFooter)r.isFooter=!0,r.innerHTML=a.innerHTML||h,r.itemType="custom";else if(a.separator)r.itemType=l.role="separator";else{if(r.description=a.description,r.shortcutkey=a.shortcutkey,r.actionName=a.actionName,l.style=l.style||a.style,l["data-filter-label"]=s.searchSettings&&s.searchSettings.caseSensitive?h:h.toLowerCase(),l.title=l.title||a.title||("icon"===o?h:void 0),r.className=(a.className||"")+(d?" is-selected":""),"custom"===o&&(r.itemType="custom",r.replaceWithText=a.replaceWithText,r.innerHTML=this._getCustomContent(a,a.innerHTML||s.dropdownList.template)),s.multiple){var c="<div class='zmenu__iconcontainer'><i class='zmenu__icon'></i></div>";o.indexOf("icon")!==-1&&(c=c+"<div class='zmenu__iconcontainer'><i class='zmenu__icon "+a.icon+"'></i></div>"),"custom"===o?c+=r.innerHTML:c=c+"<span class='zmenu__text'>"+h+"</span>",r.innerHTML=c,r.custom=!0,r.itemType="checkbox",r.checked=d}else r.SVGIconId=a.SVGIconId,r.iconClassName=a.iconClassName,r.icon=a.icon,r.textAsIcon=a.textAsIcon;this._textArray&&this._textArray.push({text:h,menuid:l.id})}if(i.push(r),"itemgroup"===r.itemType)for(var p=0;p<a.options.length;p++){var u=a.options[p],m=this._constructMenuObject(u)[0];r.disabled&&(m.disabled=!0),r.hidden&&(m.hidden=!0),m.customAttributes["data-group"]=r.customAttributes.id,i.push(m)}r.properties=a}}return i},_constructResultSet:function(e){if(e){var i=[];e=Array.isArray(e)?e:[e];for(var s=0;s<e.length;s++){var o=e[s],n=t.getOptions(o);if("OPTION"===o.tagName)n.id=o.getAttribute("data-zitemid")||"zoption-"+(o.id||Math.round(1e8*Math.random())),n.value=o.value.trim();else{if("OPTGROUP"!==o.tagName)continue;n.id=o.getAttribute("data-zitemid")||"zoptgroup-"+(o.id||Math.round(1e8*Math.random())),n.options=this._constructResultSet(this._childs(o))}n.label=void 0===n.label?o.label||o.text:n.label,n.label=n.label||"",n.title=o.title,n.style=o.getAttribute("style"),n.className=o.getAttribute("class")||n.className,n.hidden=n.hidden||o.hidden,n.disabled=n.disabled||o.disabled,o.setAttribute("data-zitemid",n.id),n.element=o,i.push(n)}return i}},_setIcon:function(i,s){this.iconspan&&(this.iconspan.innerHTML="",this.iconspan.className=this._CLASS.ICON,t.createIcon(e(this.iconspan),i.icon,i.SVGIconId,i.iconClassName),s&&(this.iconspan.style.display=""))},_setText:function(t){this.textspan&&(this._removeClass(this.textspan,this._CLASS.PLACEHOLDER),this.textspan.textContent=t)},_isDisabled:function(t){return this._matches(t,"."+this._CLASS.DISABLED)},_setMenuWidth:function(){var t=this.container.offsetWidth,e=this._menu.data("direction")?this._menu.data("direction").split("-"):void 0;if(e&&this._addClass(this.container,"top"===e[0]?this._CLASS.DROPUP:this._CLASS.DROPDOWN),"icon"===this.options.contentType&&this._menu.width()<=t&&!/^(left|right)$/.test(e)){if(e&&(e=this._menu.data("direction"),/^(bottom-right|top-right|top|bottom)$/.test(e))){var i=parseFloat(this._menu.css("left"));i-=(t-this._menu.outerWidth())*(/^(top|bottom)$/.test(e)?.5:1),this._menu.css("left",i)}this._menu.width(t-2)}},_bindEvents:function(){e(this.container).on("focusin"+this._namespace,this._onFocus.bind(this)).on("mousedown"+this._namespace,this._onClick.bind(this)).on("keydown"+this._namespace,this._onKeydown.bind(this)).on("focusout"+this._namespace,this._onBlur.bind(this)),e(this._closeIcon).on("click"+this._namespace,this._onCloseButtonClick.bind(this))},_onCloseButtonClick:function(t){return this.deselectAllOptions(t),this._includePlaceholder(),this._lastHoveredItem=void 0,!1},_onFocus:function(t){this._focussed||(this._focussed=!0,this._setState(),this._trigger("ONFOCUS",t))},_onKeydown:function(t){this._isDisabled(this.container)||this._keyPress(t)},_onClick:function(t){this._isDisabled(this.container)||(this._menu&&this._menu.is(":visible")&&e(this.container).is(this._menu.data("forElement"))?this._close(t):this._open(t));},_onBlur:function(t){clearTimeout(this.focusouttimer),this._focussed=!1,this.focusouttimer=setTimeout(this._closeHandler.bind(this,t),1)},_closeHandler:function(t){var i=e(document.activeElement);i.closest(e(this.container).add(this._menu)).length?this._focussed=!0:(this._focussed=this._activated=!1,this._close(t),this._lastHoveredItem=this._lastHighlightedItem=!1,this._trigger("ONBLUR",t))},_onItemClick:function(t,e){e.data&&(e.data.menuitem=e.menuitem);var i=e.data,s=this._getOptionForMenuItem(i.menuitem[0].id),o=!1;if(s)if("OPTION"===s.tagName){var n=this.options.selectedValue;i.isFooter?(this._activated=!1,this._updateCombobox()):this.options.multiple?i.menuitem.prop("checked")?!this.options.selectionLimit||this._selected.length<this.options.selectionLimit?(this._selectOption(s),o=!0):this._updateMenuItem(i.menuitem,!1):(s.selected=!1,this._remove(this._selected,s),this._updateCombobox(),o=!0):(this._activated=!1,o=this._selected[0]!==s,this._selectOption(s),this._showDropdown(!1,t));var a=i.properties;a.selected=s.selected,o&&this._trigger("ONCHANGE",t,{previousValue:n,optionData:a,menuitem:i.menuitem}),this._trigger("ONITEMCLICK",t,{previousValue:n,optionData:a,menuitem:i.menuitem})}else this._updateCombobox();return!1},_showDropdown:function(t,e){t=void 0===t||t,t&&this._loadDropdown(),t?(this._menu.zmenu("setAttribute","minWidth",this.container.offsetWidth),this._menu.zmenu("show",{forElement:this.container,mustBeShown:!0,event:e,positionAlterable:"flipsidefit"},void 0)):this._menu.zmenu("hide",void 0,void 0,e)},_reloadDropdown:function(){this._menu&&e(this._queryAll(this._menu[0],"li, .zmenu__footer")).remove(),this._optArea.innerHTML="",this._completeMenuLoaded=this.textspan=this.iconspan=void 0,this._textArray=[],this._prevKey=this._prevTimeStamp="",this._removeClass(this.container,this._CLASS.ICONONLY+" "+this._CLASS.ICONTEXT),this._constructOptArea(),this.setValue(this.options.selectedValue),this._updateCombobox(),this._menu&&this._menu.is(":visible")&&this._open()},_loadDropdown:function(){this._menu||this._createMenu(),this._completeMenuLoaded||(this._populateMenu(this._childs(this.element[0])),this._completeMenuLoaded=!0)},_updateMenuItem:function(t,e){e&&(t=t.filter(function(t){return!t.checked})),this._menu&&this._menu.zmenu("setMenuItemsAttribute",t,"checked",e)},_selectOption:function(t,i){if(t){var s=e(t).filter("option");this.options.multiple&&(s=s.add(this._selected)),this._selected=s.prop("selected",!0).toArray()}this._updateCombobox(this._selected,i,!0),this._lastHighlightedItem=this._lastHoveredItem=void 0},_updateCombobox:function(i,s,o){var n=this.options,a=this;if(i=i||this._selected,this._closeIcon&&(this._closeIcon.style.display="none"),Array.isArray(i)&&i.length){var r=n.selectedValue,l="";if(this._removeClass(this.textspan,this._CLASS.PLACEHOLDER),n.multiple){l=[],i.forEach(function(e){var i=t.getOptions(e);l.push(void 0!==i.label?i.label:e.label.trim())});var h=this._queryAll(this.element[0],"option:not([hidden]):not([data-separator=true]):not([data-is-footer=true])"),d=this._getFilteredNodes(function(){return!this.selected},h);this._setText(d.length?l.join(", "):this._localize("allOptionsSelected"))}else{var c=i[0],p=t.getOptions(c);p.label=void 0!==p.label?p.label:c.label.trim(),l=[p.label],"custom"!==n.contentType||this._isEditable?(this._setText(l[0]),this._setIcon(p,!0)):this.textspan.innerHTML=this._getCustomContent(p,n.template||p.innerHTML),this.container.setAttribute("aria-activedescendant",c.getAttribute("data-zitemid"))}"icon"===n.contentType||this.textspan.clientWidth<this.textspan.scrollWidth?this._optArea.setAttribute("title",l.join(", ")):this._optArea.removeAttribute("title"),n.clearSelection&&(this._closeIcon.style.display="")}else this._optArea.removeAttribute("title"),this.container.removeAttribute("aria-activedescendant"),this._setText("string"==typeof i?i:""),this._includePlaceholder();if(o||void 0===o){var r=n.selectedValue;if(this._menu&&this._menu.find("li").removeClass("is-selected"),Array.isArray(i)&&i.length){if(n.selectedValue=[],n.selectedIndex=[],i.forEach(function(t){n.selectedValue.push(a._getOptionValue(t)),n.selectedIndex.push(a._getOptionIndex(t))}),n.selectedValue=n.multiple?n.selectedValue:n.selectedValue[0],n.selectedIndex=n.multiple?n.selectedIndex:n.selectedIndex[0],this._menu){var u=this._getMenuItemForOption(this._selected);e(u).addClass("is-selected")}}else n.selectedValue=this.options.multiple?[]:"string"==typeof i?i:"",n.selectedIndex=this.element[0].selectedIndex=-1;s&&this._trigger("ONCHANGE",s.preventDefault?s:void 0,{previousValue:r})}},_getOptionValue:function(e){if(e){if(""!==e.value)return e.value;var i=t.getOptions(e);return void 0!==i.value?i.value:i.label}},_encodeContent:function(e){return this.options.isLabelHTMLEncoded?e:t.encodeHTML(e)},_getCustomContent:function(t,e){var i=this._populateTemplate(e,t);return void 0===i?this._encodeContent(t.label):i},_populateTemplate:function(t,e){var i=this;return"string"==typeof t?t.replace(/(#?#[^# ]+#?#)/g,function(t){return i._encodeContent(e[t.replace(/#/g,"")])}):"function"==typeof t?t(e):void 0},_insertOption:function(t,i,s,o){o&&(o="string"!=typeof o||/^(#)/.test(o)?e(o,this.element)[0]:this._getOption(o)[0]),s&&o||(s="append",o=this.element),e(o)[s](t);var n=t[0].parentElement;if(n&&/^(OPTGROUP|SELECT)$/.test(n.tagName)||(s="append",this.element.append(t),n=t[0].parentElement),i&&i.length){var a=this._menu[0].querySelector("ul");if("OPTGROUP"===n.tagName){this._menu.zmenu("setMenuItemsAttribute",i,"disabled",n.disabled),this._menu.zmenu("setMenuItemsAttribute",i,"hidden",n.hidden);for(var r=0;r<i.length;r++)i[r].setAttribute("data-group",n.id)}if("append"!==s||"OPTGROUP"===o.tagName){if("OPTGROUP"===o.tagName&&("after"===s||"append"===s)){var l=e(o.children).not(t);o=l.length?l[l.length-1]:o,s="after"}a=this._getMenuItemForOption(o)[0]}e(a)[s](i)}},_insertOptionAt:function(t,i,s,o){var n=e(o,this.element).filter("optgroup")[0]||this.element[0],a=this._queryAll(n,"option:not([data-separator=true]):not([data-is-footer=true])")[s];a?this._insertOption(t,i,"before",a):this._insertOption(t,i,"append",n)},_createOption:function(i,s){var o=[],n=this;return e.each(e.isArray(i)?i:[i],function(i,a){var r;try{r=e(a)}catch(t){r=void 0}if(r&&r.length&&r[0].nodeType)/^(OPTGROUP|OPTION)$/.test(r[0].tagName)&&o.push(r[0]);else{if(a="string"==typeof a?{value:a}:a,void 0===a.label&&void 0===a.value&&!a.isFooter&&!a.separator)return;a.label=void 0===a.label?String(a.value):String(a.label),s||a.options?(r=e("<optgroup />",{id:a.id||void 0,label:a.label}),Array.isArray(a.options)&&r.append(n._createOption(a.options))):(r=e("<option />",{value:a.value,id:a.id||void 0}).text(a.label),a.separator?r.attr("data-separator",!0):a.isFooter&&r.attr("data-is-footer",!0)),void 0!==a.title&&(r[0].title=a.title),a.style&&r[0].setAttribute("style",a.style),r.prop({disabled:a.disabled,hidden:a.hidden,selected:a.selected}),e.extend(t.getOptions(r),a),o.push(r[0])}}),o},_trigger:function(t,i,s){return s=s||{},s.dropdownList=this._menu,s.selectedValue=s.value=this.options.selectedValue||"",s.selectedIndex=this.options.selectedIndex||"",s[this._isEditable?"combobox":"selectbox"]=e(this.container),this._dispatchEvent(t,i,s)},_getOptionIndex:function(t){return this._getOptions().indexOf(t)},_getMenuItemForOption:function(t){var e=[];if(this._menu){t=Array.isArray(t)?t:[t];for(var i=0;i<t.length;i++){var s=this._menu[0].querySelector("#"+t[i].getAttribute("data-zitemid"));s&&this._add(e,s)}}return e},_keyPress:function(e){var i=this.currentKeyCode=e.charCode||e.keyCode,s=this._menu&&this._menu.is(":visible");if(i===t.keyCode.ENTER||i===t.keyCode.SPACE){if(!s)return e.preventDefault(),e.stopPropagation(),void this._open();if(this.options.searchable){if(i===t.keyCode.SPACE)return;if(this._menu[0].querySelector(".zselectbox__emptyresult"))return void this._close()}i===t.keyCode.ENTER&&(this._activated=!1),e.preventDefault()}else if(i===t.keyCode.DOWN||i===t.keyCode.UP){if(e.preventDefault(),e.stopPropagation(),!s)return void this._open()}else{if(i===t.keyCode.ESCAPE||i===t.keyCode.TAB&&s)return e.preventDefault(),s&&e.stopPropagation(),void this._close(e);if(!s){if(!this._isEditable&&!this.options.multiple&&/(text)/.test(this.options.contentType)){this._loadDropdown();var o=String.fromCharCode(i);this._textArray.length&&this._selectItemOnKeydown(o,(new Date).getTime())}return}}this._handleDropdownKeycode(i)},_reloadTextArray:function(){if(this._completeMenuLoaded){var t=this._queryAll(this.element[0],"option"),e=this._textArray=[];t.forEach(function(t){e.push({text:t.text.trim(),menuid:t.getAttribute("data-zitemid")})})}},_selectItemOnKeydown:function(t,i){var s=function(t,e,i){for(var s=t;s<e&&(!this._textArray[s].text.match(i)||(r=this._menu[0].querySelector("#"+this._textArray[s].menuid),!r||this._matches(r,".is-disabled,[hidden]")));s++);return s===e?void 0:r}.bind(this),o=this.options.selectedIndex+1,n=i-this._prevTimeStamp;!isNaN(n)&&n<300&&this._prevKey!==t&&(t=(this._prevKey||"")+t,o--);var a=new RegExp("^"+t.replace(/[|()[{.+*?$\\]/g,"\\$0"),"i");(isNaN(o)||o>=this._textArray.length)&&(o=0);var r=s(o,this._textArray.length,a);r||0===o||(r=s(0,o,a)),r&&e(r).trigger("mouseup"),this._prevKey=t,this._prevTimeStamp=i},_handleDropdownKeycode:function(t){this._menu.zmenu("handleKeyCode",t)},_remove:function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)},_add:function(t,e){var i=t.indexOf(e);i<0&&t.push(e)},_removeOption:function(t){if(t&&t.length)return t=this._getFilteredNodes(":not([data-readonly=true])",t),t.length&&(Array.isArray(this._selected)&&(this._selected=e(this._selected).not(t).toArray()),e(this._getMenuItemForOption(t)).remove(),e(t).remove(),this._updateCombobox(),this._reloadTextArray()),t},_includePlaceholder:function(){this.iconspan&&(this.iconspan.style.display="none"),this.textspan&&!this._isEditable&&(this._addClass(this.textspan,this._CLASS.PLACEHOLDER),this.textspan.textContent=this.options.placeholder,this.container.setAttribute("aria-placeholder",this.options.placeholder))},_getMatchedOption:function(t,e){var i=this;return t=String(t),this._getFilteredNodes(function(){return t===String(i._getOptionValue(this))},this._getOptions(e))},_getOption:function(t,i,s){var o=[];if(void 0!==t){t=Array.isArray(t)?t:[t];for(var n=0;n<t.length;n++){var a=t[n];"string"==typeof a||"number"==typeof a?"value"!==s&&/^(#)/.test(a)?a=this.element[0].querySelector(a):o=o.concat(this._getMatchedOption(a,i)):a instanceof e&&(a=a[0]),!a||1!==a.nodeType||"OPTION"!==a.tagName&&"OPTGROUP"!==a.tagName||this._add(o,a)}}else if(void 0!==i)return this._getOptions(i);return o},_getOptions:function(t){var i=[],s="option:not([data-separator=true]):not([data-is-footer=true])";return t?(t=e(t,this.element)[0],t&&(i=this._queryAll(t,s))):i=this._queryAll(this.element[0],s),i},_getOptionAt:function(t,i){t=e.isArray(t)?t:[t];var s=[],o=this._getOptions(i),n=this;return t.forEach(function(t){n._add(s,o[t])}),s},_reconstructOptArea:function(){this._optArea.innerHTML="",this.textspan=this.iconspan=void 0,this._removeClass(this.container,this._CLASS.ICONTEXT+" "+this._CLASS.ICONONLY),this._constructOptArea(),this.options.disabled&&this.option("disabled",!0,!0),this._updateCombobox()},_setState:function(){this._focussed?this._activated?(this._addClass(this.container,this._CLASS.ACTIVE),this._removeClass(this.container,this._CLASS.FOCUS)):(this._removeClass(this.container,this._CLASS.ACTIVE),this._addClass(this.container,this._CLASS.FOCUS)):this._removeClass(this.container,this._CLASS.FOCUS+" "+this._CLASS.ACTIVE)},_setValue:function(t,i,s,o){if(void 0!==t){var n=this._getFilteredNodes(function(){if(!this.hidden&&!this.disabled){var t=this.parentElement;return!(t&&"OPTGROUP"===t.tagName&&t.disabled&&t.hidden)}},this._getOption(t,s,i));if(!n.length)return!this.options.multiple&&this.deselectAllOptions(),!1;this.options.multiple&&(this.options.selectionLimit&&(n=e(n).not(this._selected).toArray().slice(0,this.options.selectionLimit-this._selected.length)),this._updateMenuItem(this._getMenuItemForOption(n),!0)),this._selectOption(n,o)}else this._updateCombobox()},_deselectOption:function(t,i,s){if(Array.isArray(this._selected)&&this._selected.length){var o=e(this._selected).filter(this._getOption(t,i));o.length&&(o.prop("selected",!1),this.options.multiple&&this._updateMenuItem(this._getMenuItemForOption(o.toArray()),!1),this._selected=e(this._selected).not(o).toArray(),this._updateCombobox(void 0,s))}},_close:function(t,e){(e||void 0===e)&&(this._activated=!1),this._menu&&this._menu.is(":visible")?this._showDropdown(!1,t):this._updateSTATE()},_open:function(t){this._showDropdown(!0,t)},_addOption:function(t,i,s,o){if(t){var n=this._createOption(t);if(n.length){var a=this._completeMenuLoaded?this._populateMenu(n):void 0;return a&&a.length&&(a=this._getFilteredNodes(function(t){return!e(t).closest(".zmenu__footer").length},a)),o?this._insertOptionAt(n,a,i,s):this._insertOption(n,a,i,s),this.frominit||this._reloadTextArray(),n}}},_setOptionAttribute:function(i,s,o){if(i){var n=this._getMenuItemForOption(i),a=t.getOptions(i),r=e(this._menu);n=n.length?e(n[0]):void 0;var l=a[s];if(a[s]=o,"OPTGROUP"===i.tagName)/^(label|disabled|hidden)$/.test(s)&&(r.zmenu("setMenuItemsAttribute",n,s,o),/^(disabled|hidden)$/.test(s)&&(i[s]=o,this.setOptionAttributes(this._childs(i),s,o)));else{var h=i.selected;if("value"===s)i.value=o,h&&this._updateCombobox();else if("label"===s)"string"==typeof o?(i.innerHTML=o,h&&this._updateCombobox(),n&&(r.zmenu("setMenuItemsAttribute",n,s,o),n[0].setAttribute("data-filter-label",this.options.searchSettings.caseSensitive?o:o.toLowerCase()),r.zmenu("setMenuItemsAttribute",n,"innerHTML",this._getCustomContent(a,a.innerHTML||this.options.dropdownList.template)))):o=i.innerHTML;else if("innerHTML"===s)"string"==typeof o&&(h&&this._updateCombobox(),n&&r.zmenu("setMenuItemsAttribute",n,s,this._getCustomContent(a,o||this.options.dropdownList.template)));else if("disabled"===s||"hidden"===s)i[s]=o,n&&r.zmenu("setMenuItemsAttribute",n,s,o),o&&this.deselectOption(i,void 0,!0);else if("readonly"===s)i.setAttribute("data-readonly",!!o);else{if("selected"===s)return void(o?this._setValue(i):this.deselectOption(i));"customAttributes"===s?"object"==typeof o&&(Object.keys(o).forEach(function(t){n&&n.length&&("class"===t?(i.class&&n.removeClass(i.class),l&&l.class&&n.removeClass(l.class),n.addClass(o[t])):n[0].setAttribute(t,o[t])),i.setAttribute(t,o[t])}),a.customAttributes=e.extend(l||{},o)):(n&&r.zmenu("setMenuItemsAttribute",n,s,o),h&&this._updateCombobox())}}}},_setAttribute:function(i,s){var o=e(this._menu),n=this.options;switch(i){case"disabled":this._close(),n[i]=s,s?e(this.container).addClass(this._CLASS.DISABLED).attr("aria-disabled",!0).removeAttr("tabindex").removeClass(this._CLASS.ACTIVE).removeClass(this._CLASS.FOCUS):e(this.container).removeClass(this._CLASS.DISABLED).removeAttr("aria-disabled").attr("tabindex",this.element.attr("tabindex")||0);break;case"className":e(this.container).removeClass(n.className).addClass(s),n[i]=s;break;case"selectedIndex":this._setAttribute("selectedValue",this._getOptionAt(s));break;case"selectedValue":this.deselectAllOptions(),this.setValue(s);break;case"dataSource":var a=n.selectedValue;n[i]=s,this.removeOption(),this._selected=[],n.selectedIndex=-1,this._handleDS(),this.setValue(a);break;case"placeholder":n[i]=s,this.textspan&&n.selectedIndex===-1&&this._includePlaceholder();break;case"contentType":if(/^(text|icon|icon-text|custom)$/.test(s)){n.multiple&&"text"!==s||(n[i]=s,o.zmenu("setAttribute","contentType",n.multiple?"icon-text":s),this._reloadDropdown());break}case"dropdownList":var r=Object.keys(s);r.forEach(function(t,e){/^(width|height|appendTo|className)$/.test(t)&&(n.dropdownList[t]=s[t],o.zmenu("setAttribute",t,s[t]))});break;case"multiple":s=!!s,s!==n[i]&&(n[i]=s,s?(this._removeClass(this.container,this._CLASS.ICONONLY),this.element[0].setAttribute("multiple",!0),n.contentType="text",o.zmenu("setAttribute","contentType","icon-text")):(this._selected=this._selected.slice(-1),this.element[0].removeAttribute("multiple"),o.zmenu("setAttribute","contentType",n.dropdownList.contentType||n.contentType)),this._reloadDropdown());break;case"selectionLimit":s=parseInt(s),(!isNaN(s)||s>=0)&&(n[i]=s,n.multiple&&s&&this._selected.length>s&&this.deselectOption(this._selected.slice(0,this._selected.length-s)));break;case"autoFill":n[i]=!!s;break;case"clearSelection":n[i]=!!s,this._updateCombobox();break;case"selectOnClose":n[i]=!!s;break;case"searchable":n[i]=!!s,this._menu&&(this._menu.zmenu("setAttribute","handleAccessKeyNavigation",!s),s?this._createSearchBox():this._menu.find(".zmenu__header").remove());break;case"searchSettings":var l=this,r=Object.keys(s);r.forEach(function(e,i){if(/^(delay|searchCriteria|caseSensitive|minKeywordLength)$/.test(e)){if("searchCriteria"===e){if(!/^(startswith|contains)$/.test(s[e])||n.autoComplete)return!0}else"caseSensitive"===e&&l._menu&&l._getFilteredNodes(function(i){var o=t.getOptions(i).label;i.setAttribute("data-filter-label",s[e]?o:o.toLowerCase())},l._queryAll(l._menu[0],"li[data-filter-label]"));n.searchSettings[e]=s[e]}});break;case"messages":e.extend(this.options.messages,s)}},_getFilteredNodes:function(t,e){e=Array.isArray(e)?e:[e];for(var i=[],s=0;s<e.length;s++){var o,n=e[s];n&&n.nodeType&&("string"==typeof t?o=this._matches(n,t):"function"==typeof t&&(o=t.call(n,n)),o&&this._add(i,n))}return i},_matches:function(t,e){var i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(t){return[].indexOf.call(document.querySelectorAll(t),this)!==-1};return s.call(t,e)},_queryAll:function(t,e){return this._toArr(t.querySelectorAll(e))},_childs:function(t){return this._toArr(t.children)},_toArr:function(t){return Array.prototype.slice.call(t,0)},_removeClass:function(t,e){if(t&&1===t.nodeType&&"string"==typeof e){var i=/[^\x20\t\r\n\f]+/g,s=e.match(i);s.forEach(function(e){t.className=t.className.replace(new RegExp("(([ ]|^)"+e+"([ ]|$))","g")," ")})}return t},_addClass:function(t,e){if(t&&1===t.nodeType&&"string"==typeof e&&e){var i=/[^\x20\t\r\n\f]+/g,s=e.match(i),o=t.className.match(i);s.forEach(function(t){o.indexOf(t)===-1&&o.push(t)}),t.className=o.join(" ")}return t},_setFocus:function(t){setTimeout(this.setFocus.bind(this,!0),20)},setFocus:function(t){t&&!this.focussed||(this.container.focus(),!this._isDisabled(this.container)&&this._onFocus())},close:function(){this._close()},open:function(){this._open()},refresh:function(){t.clearMetadata(this._queryAll(this.element[0],"option,optgroup")),this._reloadDropdown()},addOption:function(t,e,i){return this._addOption.apply(this,arguments)},addOptionAt:function(t,e,i){return this._addOption(t,e,i,!0)},addOptGroup:function(t,e){if(t){var i=this._createOption(t,!0);if(i.length){var s=this._completeMenuLoaded?this._populateMenu(i):void 0;this._insertOption(i,s,"before",e)}return i}},removeOption:function(t,e){return this._removeOption(void 0===t&&void 0===e?this._queryAll(this.element[0],"option,optgroup"):this._getOption(t,e))},removeOptionAt:function(t,e){return this._removeOption(this._getOptionAt(t,e))},removeOptGroup:function(t){var e=this._getOption(t),i=this;e.forEach(function(t){i._removeOption(i._childs(t)),i._childs(t).length||i._removeOption([t])})},setValue:function(t,e,i){return this._setValue(t,e,void 0,i),this.options.selectedValue},setValues:function(t,e,i){return this.setValue.apply(this,arguments)},deselectAllOptions:function(t){this._deselectOption(this._selected,void 0,t)},deselectOption:function(t,e,i){this._deselectOption.apply(this,arguments)},destroy:function(){this._menu&&(this._menu.zmenu("destroy"),this._menu.remove()),e(this.container).remove(),this.element.show().removeData("zcombobox").removeData("zselectbox").removeData("metadata").children().removeData("metadata")},setOptionAttributes:function(t,i,s){if("object"!=typeof i||e.isEmptyObject(i)){if(i&&void 0!==s){t=this._getOption(t);for(var o=0;o<t.length;o++)this._matches(t[o],":not([data-readonly=true])")&&this._setOptionAttribute(t[o],i,s)}}else{var n=this;e.each(i,function(e,i){n.setOptionAttributes(t,e,i)})}},setAttribute:function(t,e,i){(e!==this.options[t]||"dataSource"===t||i)&&(e="string"==typeof e?e.trim():e,this._setAttribute(t,e))},getValue:function(){return this.options.selectedValue},getValues:function(){if(this.options.multiple)return this.getValue()}};t.registerComponent("zselectbox",i);var s=!(t.Browser.getIEVersion()>9||t.Browser.getIEVersion()===-1);t.zcombobox={};var o={options:e.extend({},i.options,{searchSettings:{delay:150,searchCriteria:"startswith",caseSensitive:!1,minKeywordLength:0,searchByField:"label"},autoComplete:!1,autoFill:!0,messages:{noResults:"No Results"},eventPrefix:"zcombobox"}),_initialize:function(t,i){this._isEditable=!0,i.searchable=i.multiple=!1,i.autoComplete&&(i.searchSettings.searchCriteria="startswith"),/^(text|icon-text|custom)$/.test(i.contentType)||(i.contentType=e.zcombobox.prototype.options.contentType)},_constructComponent:function(){this._super(),this._addClass(this.container,"zcombobox")},_constructOptArea:function(){var t=this.options;if(this.options.contentType.match("icon")){var e=this.iconspan=document.createElement("i");e.className=this._CLASS.ICON,this._optArea.appendChild(e)}var i=this.textspan=document.createElement("input");i.className="zselectbox__textbox",i.setAttribute("placeholder",t.placeholder);var s=this.element[0].getAttribute("tabindex");void 0!==s&&i.setAttribute("tabindex",s),this._optArea.appendChild(this.textspan),this.container.setAttribute("tabindex",-1),this._bindSearchbox(this.textspan)},_onMenuItemHover:function(t,e){this._super.apply(this,arguments)&&this.textspan.select()},_onFocus:function(t){this._focussed||this.textspan.select(),this._super(t)},_onClick:function(t){var i=this._super;!this._isDisabled(this.container)&&e(t.target).closest(this._arrow).length&&(i.call(this),this.textspan.select(),this._clearStyle())},_bindEvents:function(){var t=this;this._super();var i=e(this.textspan);i.on("mousedown"+this._namespace,function(e){t._focussed||i.on("mouseup"+t._namespace,function(e){i.off("mouseup"+t._namespace).select(),e.preventDefault()}),t._onFocus(e)})},_onCloseButtonClick:function(t){return this.deselectAllOptions(t),this._lastHoveredItem=void 0,this._setText(""),this._activated&&this._onInput(this.textspan,t),this.textspan.focus(),!1},_setText:function(t){this.textspan&&(this.textspan.value=t)},_onInput:function(){this.iconspan&&(this.iconspan.style.display="none"),this._super.apply(this,arguments)},_searchQuery:function(t,e){var i=this.options.searchSettings||{},s="NaN"!==Number(i.minKeywordLength)?Number(i.minKeywordLength):1;!s||e.length>=s?this._super(t,e):this._close(t,!1)},_setValue:function(t,e,i,s){var o=this.options.selectedValue;this._super(t,e,i,s)===!1&&/(string|number)/.test(typeof t)&&this.options.acceptNewValues&&t!==this._selected&&(this._selected=this.options.selectedValue=t,this.options.selectedIndex=this.element.selectedIndex=-1,this._setText(t),s&&this._trigger("ONCHANGE",s,{previousValue:o}))},_keyPress:function(e){var i=this.currentKeyCode=e.charCode||e.keyCode;i===t.keyCode.ENTER&&this.options.acceptNewValues?this._selectMenuItemByContent(this.textspan.value,e):i!==t.keyCode.SPACE&&this._super(e)},_selectMenuItemByContent:function(t,i){if(this._menu){var s=this._getItemByLabel(t);s?e(s).trigger("mouseup"):(this._setValue(this.textspan.value,void 0,void 0,i),!this.options.multiple&&this._close())}},_getItemByLabel:function(e){if(e=e.replace(new RegExp("([',\",(,),\\\\,\\[,\\]])","g"),"\\$1"),"label"===this.options.searchSettings.searchByField)return this._menu.find('li:not([hidden])[data-filter-label="'+(this.options.searchSettings.caseSensitive?e:e.toLowerCase())+'"]')[0];var i=this;this._queryAll(this._menu[0],"li:not([hidden])[data-filter-label]").forEach(function(s){var o=t.getOptions(s);if(!i._menuitemMatcher(o,e))return s})},_autoComplete:function(e,i){if(this.options.autoComplete&&e.length>=this.options.searchSettings.minKeywordLength&&e){var s=this.currentKeyCode;if(e&&""!==e&&i){var o=t.getOptions(i);if(this._setIcon(o,!0),s!==t.keyCode.BACKSPACE&&s!==t.keyCode.DELETE){this._setText(o.label);var n=o.label.toLowerCase().indexOf(e.toLowerCase())+e.length;this.textspan.setSelectionRange(n,o.label.length)}this._lastHoveredItem=this._getOptionForMenuItem(i.id)}else this.iconspan&&(this.iconspan.style.display="none")}},setFocus:function(t){t&&!this._focussed||(this._activated?this.textspan.focus():this.textspan.select())},_setAttribute:function(t,i){if("disabled"===t)this._close(),this.options[t]=i,i?(e(this.container).addClass(this._CLASS.DISABLED).attr("aria-disabled",!0).removeAttr("tabindex"),e(this.textspan).prop("disabled",!0).removeClass(this._CLASS.ACTIVE).removeClass(this._CLASS.FOCUS)):(e(this.container).removeClass(this._CLASS.DISABLED).removeAttr("aria-disabled").attr("tabindex",-1),e(this.textspan).prop("disabled",!1));else if("placeholder"===t)this.options[t]=i,this.textspan.setAttribute("placeholder",i);else if("autoComplete"===t)this.options[t]=!!i,i&&(this.options.searchSettings.searchCriteria="startswith");else{if(/^(multiple|selectionLimit|searchable)$/.test(t)||"contentType"===t&&!/^(text|icon-text|custom)$/.test(i))return;this._super(t,i)}}};t.zcombobox={DEFAULTS:o.options},t.registerComponent("zcombobox",e.zselectbox,o);var n=function(t,i){if("object"==typeof t){var s=e("#"+t.id);if(s.length){if(s.data(i))return s}else s=e("<select>").appendTo(e(t.appendTo).length?t.appendTo:"body").attr({id:t.id,style:t.style,title:t.title});return s[i](t),s}};t.createCombobox=function(t){n(t,"zcombobox")},t.createSelectbox=function(t){n(t,"zselectbox")}}(ZComponents),function(t){var e=t.DOMUtil,i={options:{name:void 0,contentType:"none",orientation:"horizontal",size:"medium",on:void 0,checked:void 0,disabled:!1,track:{color:void 0,offStateClassName:void 0,onStateColor:void 0,onStateClassName:void 0,onStateLabel:void 0,offStateLabel:void 0,onStateIconClassName:void 0,onStateSVGIconId:void 0,offStateIconClassName:void 0,offStateSVGIconId:void 0},thumb:{color:void 0,offStateClassName:void 0,onStateColor:void 0,onStateClassName:void 0,onStateIconClassName:void 0,onStateSVGIconId:void 0,offStateIconClassName:void 0,offStateSVGIconId:void 0},className:void 0,minWidth:void 0,maxWidth:500,minHeight:void 0,maxHeight:300,thumbMinWidth:void 0,thumbMinHeight:void 0,thumbMaxHeight:100,thumbMaxWidth:100,height:void 0,width:void 0,isThumb:!1,onState:"zswitch__onstate",offState:"zswitch__offstate",mainClass:"zswitch",keys:{on:"On",off:"Off"}},_EVENTS:{ONCHANGE:"change"},_create:function(t,i){var s=this.element=t,o=this.componentName,n=this.options=e.extend(!0,{},this.options,i);this._setContentType(i);"zswitch"!==n.mainClass?n:n.track;"INPUT"===e(t)[0].tagName&&(s=this.element.parent(),this.element.hide()),n.checked=n.on,void 0===n.checked?n.on=n.checked=this.element[0].checked:this.element[0].checked=n.checked;var a=n.mainClass+" "+n.mainClass+(n.checked?"--on ":"--off ")+n.mainClass+"--"+n.size.toLowerCase()+(void 0!=n.className?" "+n.className:"")+("vertical"===n.orientation?" "+n.mainClass+"--vertical ":"");this._switch=e("<div>").addClass(a).attr({"aria-checked":n.checked,"aria-pressed":n.checked,"aria-disabled":n.disabled,"aria-orientation":n.orientation,role:"switch"}).appendTo(s).on("contextmenu."+o,function(){return!1}),this._left=e("<div>").attr("class",n.onState),this._right=e("<div>").attr("class",n.offState),this._leftText=this._localize("on",null,"keys"),this._rightText=this._localize("off",null,"keys"),this._createContent(),"zswitch"===n.mainClass&&this._createThumb();var r=e("<div>").attr("class",n.mainClass+"__wrapper").appendTo(this._switch),l=n.checked===!1?"zswitch--notransition":"";this._switchWrapper=e("<div>").attr("class",n.mainClass+"__statescontainer "+l).append(this._left,this._right).appendTo(r),this._setSize(),this._switchActions(),this._switchWrapper.removeClass("zswitch--notransition"),n.disabled&&this.disable(),n.name&&this._switch.attr("name",n.name),this.options.shortcutKey&&window.ZShortCut&&ZShortCut.register(this.element)},_setContentType:function(t){if(void 0!==t.track&&"zswitch"===this.options.mainClass){var e=Object.keys(t.track);this._setType(e[e.length-1])}else if("zswitch"!==this.options.mainClass){var e=Object.keys(t),i=[e.indexOf("onStateLabel"),e.indexOf("onStateIconClassName"),e.indexOf("onStateSVGIconId"),e.indexOf("offStateLabel"),e.indexOf("offStateIconClassName"),e.indexOf("offStateSVGIconId")].sort();this._setType(e[i[i.length-1]])}},_setType:function(t){"onStateLabel"==t||"offStateLabel"==t?this.options.contentType="text":"onStateIconClassName"!=t&&"offStateIconClassName"!=t&&"onStateSVGIconId"!=t&&"offStateSVGIconId"!=t||(this.options.contentType="icon")},_switchSize:function(){var t=this.options.minWidth;this.options.minWidth=this.options.minHeight,this.options.minHeight=t},_setSize:function(){var t=this.options;t.minHeight=t.height?t.height:parseInt(this._switch.css("min-height")),t.minWidth=t.width?t.width:parseInt(this._switch.css("min-width")),"zswitch"===t.mainClass&&(t.thumbMinWidth=parseInt(this._thumb.css("width")),t.thumbMinHeight=parseInt(this._thumb.css("height")),this._maxWidth="vertical"===t.orientation?parseInt(this._switchWrapper.css("top")):parseInt(this._switchWrapper.css("left")),this._switchWrapper.css("vertical"===t.orientation?"top":"left",this.element[0].checked?0:-this._maxWidth)),this._resizeSwitch(t.height,t.width)},_createContent:function(){var t=!0,e=this.options,i="zswitch"!==e.mainClass?e:e.track;"text"===e.contentType||"icon-text"===e.contentType?(this._createSwitchLabel(this._left,void 0!=i.onStateLabel?i.onStateLabel:this._leftText),this._createSwitchLabel(this._right,void 0!=i.offStateLabel?i.offStateLabel:this._rightText),t=!1):(this._left.find("."+e.mainClass+"__label").remove(),this._right.find("."+e.mainClass+"__label").remove()),"icon"===e.contentType||"icon-text"===e.contentType?(this._left.find("."+e.mainClass+"__icon").length||this._createSwitchIcon(this._left,void 0,i.onStateSVGIconId,i.onStateIconClassName),this._right.find("."+e.mainClass+"__icon").length||this._createSwitchIcon(this._right,void 0,i.offStateSVGIconId,i.offStateIconClassName),t=!1):(this._left.find("."+e.mainClass+"__icon").remove(),this._right.find("."+e.mainClass+"__icon").remove()),t&&(this._left.children().remove(),this._right.children().remove())},_switchActions:function(){var t,i=this._thumb.outerWidth(),s=this._thumb.outerHeight(),o=this,n=this.componentName;this.drag=function(a,r){var l=a.clientX;a.clientY;mouseMove=!1;var h,d=parseInt(o._switchWrapper.css("left")),c="left",p=o._maxWidth+i,u=d;"vertical"===o.options.orientation&&(u=d=parseInt(o._switchWrapper.css("top")),l=a.clientY,p=o._maxWidth+s,c="top"),o._switch.on("mousemove."+n,function(e){mouseMove=!0,t=o._maxWidth;var i,s,n=parseInt(o._switch.width())-o._thumb.outerWidth(!0),a=parseInt(o._switch.height())-o._thumb.outerHeight(!0);"horizontal"===o.options.orientation?(s=e.clientX-l+d,i=n):(s=e.clientY-l+d,i=a),s<=0&&s>=-t?(u=s,o._thumb.css(c,i+s),o._switchWrapper.css(c,s)):s<0?(o._thumb.css(c,0),o._switchWrapper.css(c,-t)):s>-t&&(o._thumb.css(c,i),o._switchWrapper.css(c,0)),h=Math.abs(u),t/2>=h?o._switch.addClass(o.options.mainClass+"--on "+o.options.track.onStateClassName).removeClass(o.options.mainClass+"--off "+o.options.track.offStateClassName):o._switch.addClass(o.options.mainClass+"--off "+o.options.track.offStateClassName).removeClass(o.options.mainClass+"--on "+o.options.track.onStateClassName)}).on("mouseup."+n,function(){o._switch.off("mousemove."+n+" mouseup."+n+" selectstart."+n),mouseMove?(h=Math.abs(u),t/2>=h?o.switchOn(!0):o.switchOff(!0)):o.element[0].checked?o.switchOff(!0):o.switchOn(!0)}).on("selectstart."+n,function(t){return!1}).off("mouseleave."+n).on("mouseleave."+n,function(){o._switch.off("mousemove."+n+" mouseup."+n+" selectstart."+n);}),e(window).off("mouseup."+n).on("mouseup."+n,function(){mouseMove&&(h=Math.abs(u),t/2>=h?o.switchOn(!0):o.switchOff(!0)),e(window).off("mouseup."+n)})},this._isEnabled=!0,this._switch.off("keydown."+n).on("keydown."+n,function(t){32===t.which&&(o.element[0].checked?o.switchOff(!0):o.switchOn(!0))}).on("mousedown."+n,function(t){o.drag(t,this),o._switch.on("mousemove."+n+" mouseup."+n+" selectstart."+n).attr("tabindex",0)}).off("mousedown."+n,function(t){o._switch.removeAttr("tabindex")}).off("mouseenter."+n).on("mouseenter."+n,function(){o._setTooltip()}),this._switchWrapper.css("vertical"===this.options.orientation?"top":"left",this.element[0].checked?0:-this._maxWidth)},_setTooltip:function(){var t=this.element[0].checked===!0?this._left.find("span.zswitch__label"):this._right.find("span.zswitch__label");t.length>0&&t[0].offsetWidth<t[0].scrollWidth?this._switch.attr("title",t.text()):this._switch.removeAttr("title")},_createSwitchLabel:function(t,i){"text"!==this.options.contentType&&"icon-text"!==this.options.contentType||(0===t.find("."+this.options.mainClass+"__label").length?e("<span>").attr("class",this.options.mainClass+"__label").text(i).appendTo(t):t.find("."+this.options.mainClass+"__label").text(i))},_createThumb:function(){var t=this.options.thumb;this._thumb=e("<div>").attr("class",this.options.mainClass+"__thumb").addClass(this.element[0].checked?void 0!==t.onStateClassName?t.onStateClassName:"":void 0!==t.offStateClassName?t.offStateClassName:"").appendTo(this._switch),(t.onStateIconClassName||t.onStateSVGIconId)&&(t.offStateIconClassName||t.offStateSVGIconId)&&this._createSwitchIcon(this._thumb,void 0,t.onStateSVGIconId,t.onStateIconClassName)},_createSwitchIcon:function(t,i,s,o){t.find("."+this.options.mainClass+"__icon").remove();var n=e("<i class='"+this.options.mainClass+"__icon'></i>");(o||s)&&t.append(ZComponents.createIcon(n,i,s,o))},_trigger:function(t){return this._dispatchEvent("ONCHANGE",{},{state:this.element[0].checked},null,t)},getState:function(){return this.element[0].checked},switch:function(){this.element[0].checked?this.switchOff():this.switchOn()},switchOn:function(t){this._swtichOnOff(!0,!this.element[0].checked,t)},switchOff:function(t){this._swtichOnOff(!1,!!this.element[0].checked,t)},_swtichOnOff:function(t,e,i){var s=this.options;if(this._isEnabled){if(this._switch.attr({"aria-checked":t,"aria-pressed":t}),this._switch.addClass(t===!0?s.mainClass+"--on "+s.track.onStateClassName:s.mainClass+"--off "+s.track.offStateClassName).removeClass(t===!0?s.mainClass+"--off "+s.track.offStateClassName:s.mainClass+"--on "+s.track.onStateClassName),this._thumb.addClass(t===!0?s.thumb.onStateClassName:s.thumb.offStateClassName).removeClass(t===!0?s.thumb.offStateClassName:s.thumb.onStateClassName),this._thumb.find("."+s.mainClass+"__icon").length&&this.element[0].checked===!t){var o=t===!0?s.thumb.onStateSVGIconId:s.thumb.offStateSVGIconId,n=t===!0?s.thumb.onStateIconClassName:s.thumb.offStateIconClassName;this._createSwitchIcon(this._thumb,void 0,o,n)}this._switchWrapper.css("vertical"===s.orientation?"top":"left",t===!1?-this._maxWidth:0),this.element[0].checked=t,e&&this._trigger(i),this._setTooltip()}this._thumb.removeAttr("left top").css({left:"",top:""})},disable:function(){this._disable()},_disable:function(){this._setDisabled(!1),this._switch[0].setAttribute("disabled","true"),this._switch.addClass("is-disabled").off("mousedown."+this.componentName)},_setDisabled:function(t){this.element[0].setAttribute("disabled",t),this._switch.attr("aria-disabled",t),this._isEnabled=t},enable:function(){this._enable()},_enable:function(){var t=this;this._setDisabled(!0),this._switch.removeAttr("disabled").removeClass("is-disabled").off("mousedown."+this.componentName).on("mousedown."+this.componentName,function(e){t.drag(e,this)})},resizeSwitch:function(t,e){var i=this.options;i.minHeight=i.maxHeight=i.height=t,i.minWidth=i.maxWidth=i.width=e,this._resizeSwitch(t,e)},_getStyle:function(t,e){var i=t.css(e);return void 0!==i?parseInt(i,10):0},_getBorderWidth:function(t){var e=window.getComputedStyle(document.querySelector(".zswitch")).getPropertyValue("border-"+t+"-width");return e>0?parseInt(e,10):0},_resizeSwitch:function(t,i){var s=this.options,o="text"===s.contentType?this._left.children().html():this._left.children().clone(),n="text"===s.contentType?this._right.children().html():this._right.children().clone(),a=e('<label style="font-size:12px;">').html(o).appendTo(e("body")),r=e('<label style="font-size:12px;">').html(n).appendTo(e("body")),l=this._getBorderWidth("left")+this._getBorderWidth("right"),h=this._getBorderWidth("top")+this._getBorderWidth("bottom"),d=this._getStyle(this._left,"padding-left"),c=this._getStyle(this._left,"padding-top"),p=a.width(),u=r.width(),m=s.thumbMinWidth,_=p>u?p:u,f=s.minWidth,v=s.minHeight,g=s.minHeight,b=(a.height(),r.height(),s.thumbMinHeight),y=m+l,C=b+h;if(m=this._checkMaxMin(m,"thumbMinWidth","thumbMaxWidth"),m>=s.thumbMinWidth&&("horizontal"===s.orientation?(this._left.css({"padding-right":y,"padding-bottom":"initial"}),this._right.css({"padding-left":y,"padding-top":"initial",left:1*-m})):(this._left.css({"padding-right":"initial","padding-bottom":C}),this._right.css({"padding-left":"initial","padding-top":C,left:"initial"}))),"vertical"===s.orientation){void 0!==t&&null!==t?(g=v=this._checkMaxMin(t,"minHeight","maxHeight"),this._maxWidth=v-b-h):g=this._checkMaxMin(g+b+c+h,"minHeight","maxHeight");var S="none"!==s.contentType?this._getStyle(this._left.children(),"margin-top")+this._getStyle(this._left.children(),"margin-bottom"):0;this._switch.width(s.minWidth).height(s.minHeight+(""!=S?S:0)+h),this._maxWidth=s.minHeight-b+(""!=S?S:0)+h,this._switchWrapper.css({top:this.element[0].checked?0:-this._maxWidth,left:0})}else{if(void 0!==i&&null!==i)_=this._checkMaxMin(i,"minWidth","maxWidth"),this._maxWidth=_-m-l;else{var S=this._getStyle(this._left.children(),"margin-left")+this._getStyle(this._left.children(),"margin-right");f=_+m+l+d+("text"===s.contentType?S+4+(_>18?.2*_:0):0),_=this._checkMaxMin(f,"minWidth","maxWidth")}this._switch.width(_).height(g),this._maxWidth=_-m,this._switchWrapper.css({left:this.element[0].checked?0:-this._maxWidth,top:0}),this._setTooltip()}a.remove(),r.remove()},_checkMaxMin:function(t,e,i){var s=this.options;return t<s[e]?t=s[e]:t>s[i]&&(t=s[i]),t},_changeOptions:function(t,i,s){if(void 0!==i&&void 0!==s)s="object"==typeof s?e.extend(!0,{},t[i],s):s,t[i]=s;else if("object"==typeof i)e.each(i,function(e,i){t[e]=i});else{if(void 0!==i&&void 0===s)return t[i];if(void 0===i&&void 0===s)return t}},_setAttribute:function(t,i){var s=this,o=this.options,n=o[t];"track"!==t&&"thumb"!==t&&this._changeOptions(o,t,i),n!=i&&("contentType"===t?this._createContent():"orientation"===t?(this._setSize(),this._switchSize(),"vertical"===i?this._switch.addClass(o.mainClass+"--vertical").attr("aria-orientation","vertical"):this._switch.removeClass(o.mainClass+"--vertical").attr("aria-orientation","horizontal")):"size"===t?(this._switch.addClass(o.mainClass+"--"+i).removeClass(o.mainClass+"--"+n),this._thumb.removeAttr("left top").css({left:"",top:""}),this._setSize()):"track"===t?e.each(i,function(e,i){s._changeContents(e,t,i,n,!1)}):"thumb"===t?e.each(i,function(e,i){s._changeContents(e,t,i,n,!0)}):"checked"===t||"on"===t?o.checked?this.switchOn():this.switchOff():"disabled"===t?o.disabled===!0||"disabled"===o.disabled?this._disable():this._enable():"className"===t&&this._switch.addClass(i).removeClass(n),this._resizeSwitch(o.height,o.width))},_changeContents:function(t,e,i,s,o){var n=void 0!==e?this.options[e]:this.options;switch(t){case"className":n[t]=i;var a=o===!0?this._thumb:this._switch;a.addClass(i).removeClass(s[t]);break;case"onStateClassName":if(this.element[0].checked){var a=o===!0?this._thumb:this._switch;a.addClass(i).removeClass(s.onStateClassName)}n.onStateClassName=i;break;case"offStateClassName":if(!this.element[0].checked){var a=o===!0?this._thumb:this._switch;a.addClass(i).removeClass(s.offStateClassName)}n.offStateClassName=i;break;case"onStateLabel":case"offStateLabel":o||(this.options.contentType="text",this._switchWrapper.find("."+this.options.mainClass+"__icon").remove(),n[t]=i,this._createSwitchLabel(this._left,void 0===n.onStateLabel||""===n.onStateLabel?this._leftText:n.onStateLabel),this._createSwitchLabel(this._right,void 0===n.offStateLabel||""===n.offStateLabel?this._rightText:n.offStateLabel),this._emptyContents(e,"icons"),this._emptyContents(e,"svg"));break;case"onStateIconClassName":case"offStateIconClassName":case"onStateSVGIconId":case"offStateSVGIconId":var a="offStateIconClassName"===t||"offStateSVGIconId"===t?this._right:this._left;if(o){this.options.isThumb=void 0!==i,a=this._thumb;var r="onStateIconClassName"===t||"onStateSVGIconId"===t?this.element[0].checked:!this.element[0].checked;this._updateIcons(a,e,t,i,!0,r)}else this.options.contentType="icon",this._switchWrapper.find("."+this.options.mainClass+"__label").remove(),this._updateIcons(a,e,t,i,!1,!1)}},_updateIcons:function(t,e,i,s,o,n){var a=void 0!==e?this.options[e]:this.options;("icon"===this.options.contentType||"icon-text"===this.options.contentType||o)&&(this._emptyContents(e,"text"),"onStateIconClassName"===i||"offStateIconClassName"===i?(this._emptyContents(e,"svg"),void 0!==a[i]&&s?(o&&n||!o)&&ZComponents._handleIcon(t.find("."+this.options.mainClass+"__icon"),void 0,void 0,void 0,s,void 0,void 0,void 0,a[i]):(o&&n===!0||!o)&&this._createSwitchIcon(t,void 0,void 0,s)):(this._emptyContents(e,"icons"),(o&&n===!0||!o)&&this._createSwitchIcon(t,void 0,s,void 0)),a[i]=s)},_emptyContents:function(t,e){var i=void 0!==t?this.options[t]:this.options;switch(e){case"text":i.onStateLabel=void 0,i.offStateLabel=void 0;break;case"icons":i.onStateIconClassName=void 0,i.offStateIconClassName=void 0;break;case"svg":i.onStateSVGIconId=void 0,i.offStateSVGIconId=void 0}},destroy:function(){this._switch.remove(),e(this.element).off("."+this.componentName).removeData(this.componentName),this.element=this._left=this._right=this._switchWrapper=this._switch=this._thumb=void 0}};ZComponents.registerComponent("ztoggleswitch",i);var s=function(t,i){if("object"==typeof t){var s=e("#"+t.id);if(s.length){if(s.data(i))return s}else s=e("<input type='checkbox'>").appendTo(e(t.appendTo).length?t.appendTo:"body").attr("id",t.id);return s[i](t),s}};ZComponents.createSwitch=function(t){s(t,"ztoggleswitch")}}(ZComponents),function(t){var e=t.DOMUtil,i={options:{position:"auto",format:"dd/MM/yyyy",dateFormat:"dd/MM/yyyy",displayType:"box",type:"popup",displayWeekNumbers:!1,weekHeading:"Week",selectionType:"single",selectionLimit:void 0,monthToBeShownOnOpen:void 0,disabledTimeList:[],selectedDateMonthViewIndex:void 0,navigationBar:{monthSwitcher:!0,yearSwitcher:!0,monthYearHeadingFormat:"MMM yyyy",monthYearSwitcherType:"drilldown",monthFormatInSwitcher:"MMM",navigationButtonsDisplayPattern:"split",togetherTypeNavigationButtonsPosition:"right",monthNavigationStep:1,yearNavigationStep:1,yearNavigationButtons:!0,monthNavigationButtons:!0,dropdownStartYear:"THIS_YEAR-10",dropdownEndYear:"THIS_YEAR+10"},todayButtonAction:"navigate-only",displayAdjacentMonthDates:!1,allowSelectionOfAdjacentMonthDates:!0,hideCancelButton:!1,monthsPerView:1,immediateCommit:!0,value:void 0,values:[],specialDaysOfWeek:[],disabledDaysOfWeek:[],disabledDates:[],specialDates:[],weekendDays:"0,6",closeButton:!1,closeOnDateSelect:!0,closeOnBodyClick:!0,otherInputFormats:[],todayButton:!1,timeMultipleSelectBoxType:"h-m-t",fixedTimeOptions:[],timeFieldType:"input",timeLabelType:"icon",hourStep:1,minuteStep:5,locale:"en-US",labels:{OKButtonLabel:"OK",cancelButtonLabel:"Cancel",todayButtonLabel:"Today",clearButtonLabel:"Clear",timeLabel:"Time",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],close:"Close",nextMonth:"Next Month",nextYear:"Next Year",prevMonth:"Last Month",prevYear:"Last Year",nextDecade:"Next Decade",prevDecade:"Last Decade",nextCentury:"Next Century",prevCentury:"Last Century"}},_CONSTANTS:{headingDateFormat:"MMMM yyyy",displayType:"box",monthYearSelectionMode:"none",clearButtonPosition:"right",OKButtonPosition:"right",todayButtonPosition:"center",cancelButtonPosition:"right",calloutPosition:"bottom",defaultDateFormat:"dd/MM/yyyy",defaultButtonAlignment:"right"},_EVENTS:{BEFOREFOCUS:"beforefocus",BEFOREOPEN:"beforeopen",OPEN:"open",BEFORECLOSE:"beforeclose",CLOSE:"close",DATESELECT:"dateselect",TODAYBUTTONCLICK:"todaybuttonclick",APPLY:"change",CANCEL:"cancel",RESET:"clear",BEFOREDRILLDOWN:"beforedrilldown",DRILLDOWN:"drilldown",DATEMOUSEOVER:"datemouseover",MONTHCHANGE:"monthchange",YEARCHANGE:"yearchange",DECADECHANGE:"decadechange",HOURCHANGE:"hourchange",MINUTECHANGE:"minutechange",PERIODCHANGE:"periodchange",BEFOREDATECELLRENDER:"beforedatecellrender",TIMECHANGE:"timechange",DRAGSTART:"dragstart",DRAG:"drag",DRAGEND:"dragend"},_ANIMATIONEVENTS:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",_EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},_create:function(i,s,o){o=e.extend(!0,{},o,this.element.data());var n=s.locale||t.locale;o&&o.navigationBar&&(this._yearNavigation=o.navigationBar.yearNavigationButtons),o&&(this._isPositionModified=o.position),this.options.locale=n,void 0==this._yearNavigation&&/^(drilldown|none)$/.test(this.options.navigationBar.monthYearSwitcherType)&&(this._yearNavigation=!0),this._rowsCount=[];var a=this._initialize(i,s);a&&this._hasDate&&this._bindEvents()},_initialize:function(i,s,o){this._todayButtonLabel=this.options.todayButtonLabel||this._localize("todayButtonLabel"),this._cancelButtonLabel=this.options.cancelButtonLabel||this._localize("cancelButtonLabel"),this._clearButtonLabel=this.options.clearButtonLabel||this._localize("clearButtonLabel"),this._OKButtonLabel=this.options.OKButtonLabel||this._localize("OKButtonLabel"),this._closeHandled=!0,this._getValuesFromLocale(),this.options.position="auto"===this.options.position?"callout"===this.options.displayType?"bottom":"bottom-left":this.options.position,s.forElement&&(this._forElement=e(s.forElement)),this.options.buttonsAlignment=t.buttonsAlignment||this._CONSTANTS.defaultButtonAlignment,this._weekEnds=this.options.weekendDays.split(","),this.element[0].setAttribute("tabindex",0);var s=["minDate","maxDate","value"];this._hasDate=this._checkIfFormatHasDate(),this._hasTime=this._checkIfDateHasTime(),this._monthsPerView=this.options.monthsPerView;for(var n=0,a=s.length;n<a;n++){var r=this.options[s[n]];r&&(this._parseValue(s[n],r),"value"===s[n]&&void 0!==this.options.value&&(this._currentSelected=new Date(this.options.value.getTime()),this._viewDate||(this._viewDate=new Date(this.options.value.getTime()),this._monthsPerView>1&&this.options.selectedDateMonthViewIndex>=1&&(this._viewDate=this._moveMonth(this._viewDate,-this.options.selectedDateMonthViewIndex))),this._valueUpdate=!0)),"value"===s[n]?this._viewDate||(this._viewDate=new Date,this._viewDate.setHours(0,0,0,0)):this["_"+s[n]]=this.options[s[n]]}this._processBoundaries(),this._selectedDates=[],this._performValidations(),this._hasDate&&(this.options.value&&0!==this.options.values.length||(this._setMonthToView(),this._setYearToView()),(this.options.monthToBeShownOnOpen||this.options.yearToBeShownOnOpen)&&this._validateViewDate(),"multiple"===this.options.selectionType&&this._setValues(),this._viewMode=this._getViewMode()||0);var l={disabledDates:this.options.disabledDates,specialDates:this.options.specialDates,disabledTimeList:this.options.disabledTimeList};if(this._convertStringToObject(l),this.options.OKButton=!this.options.immediateCommit,this.options.cancelButton=!this.options.immediateCommit&&!this.options.hideCancelButton,o||(this._buildElement(),this._constructOtherElements()),this.options.className&&this.element.addClass(this.options.className),this._hasDate&&void 0!==this.options.value){var h=this._resetTime(this.options.value);this.element.find("[data-time='"+h.getTime()+"']").addClass(e.zdatetimepicker._CLASSES.selected).attr("aria-selected",!0)}return this.options.value&&(this._currentSelected=new Date(this.options.value.getTime())),this.options.width&&this.element.css("width",this.options.width),this.options.height&&this.element.css("height",this.options.height),!0},_processBoundaries:function(){this._minDateHasTime&&(this._minTime=new Date(this.options.minDate.getTime())),this._maxDateHasTime&&(this._maxTime=new Date(this.options.maxDate.getTime())),this._minDate&&this._minDate.setHours(0,0,0,0),this._maxDate&&this._maxDate.setHours(0,0,0,0)},_checkIfFormatHasDate:function(){var t=this.options.format;return t.indexOf("d")>-1||t.indexOf("dd")>-1},_getValuesFromLocale:function(){var e=t.localeInfo[this.options.locale];e&&(this.options.labels.days=e.days||this.options.labels.days,this.options.labels.daysAbbreviated=e.daysAbbreviated||this.options.labels.daysAbbreviated,this.options.labels.monthsAbbreviated=e.monthsAbbreviated||this.options.labels.monthsAbbreviated,this.options.labels.months=e.months||this.options.labels.months,this.options.firstDayOfWeek=e.firstDayOfWeek||0)},_convertStringToObject:function(t){for(var i in t)if(void 0!==t[i])if("string"==typeof t[i])t[i]=this.options[i]=this._parseDateValue(t[i],this._dateFormat);else if(t[i]instanceof Array){var s=this;t[i]=this.options[i]=e.map(t[i],function(t){if("object"!=typeof t||t instanceof Date){var e=s._parseDateValue(t,"disabledTimeList"===i?s._timeFormat:s._dateFormat);return"disabledTimeList"===i?e.date.setSeconds(0,0):e.date.setHours(0,0,0,0),e}return t.date&&t.date instanceof Date&&t.hasOwnProperty("isValid")||t.date&&t.date.date instanceof Date&&t.date.hasOwnProperty("isValid")||t.startDate&&t.startDate.date instanceof Date&&t.startDate.hasOwnProperty("isValid")||t.endDate&&t.endDate.date instanceof Date&&t.endDate.hasOwnProperty("isValid")?t:(t.date?(t.date=s._parseDateValue(t.date,s._dateFormat),t.date.date.setHours(0,0,0,0)):t.startDate&&t.endDate&&(t.startDate=s._parseDateValue(t.startDate,s._dateFormat),t.startDate.date.setHours(0,0,0,0),t.endDate=s._parseDateValue(t.endDate,s._dateFormat),t.endDate.date.setHours(0,0,0,0)),t)})}},_setMonthToView:function(){var t=this.options.monthToBeShownOnOpen;if(void 0!==t)if("number"==typeof t&&t>=0&&t<=11)this._viewDate.setMonth(t);else if("string"==typeof t)if(t.indexOf("THIS_MONTH")>-1){var e=ZDateUtil.convertOffsetToValue(t.substring(10));this._viewDate=this._moveMonth(this._viewDate,e)}else t.indexOf("NEXT_MONTH")>-1?this._viewDate=this._moveMonth(this._viewDate,1):t.indexOf("LAST_MONTH")>-1&&(this._viewDate=this._moveMonth(this._viewDate,-1))},_setYearToView:function(){var t=this.options.yearToBeShownOnOpen;if("number"==typeof t)this._viewDate.setFullYear(t);else if("string"==typeof t)if(t.indexOf("THIS_YEAR")>-1){var e=ZDateUtil.convertOffsetToValue(t.substring(9));this._viewDate.setFullYear(this._viewDate.getFullYear()+e)}else t.indexOf("NEXT_YEAR")>-1&&9===t.length?this._viewDate.setFullYear(this._viewDate.getFullYear()+1):t.indexOf("LAST_YEAR")>-1&&9===t.length&&this._viewDate.setFullYear(this._viewDate.getFullYear()-1)},_constructOtherElements:function(){var i,s=(this.options.commandBar,this.options);"inline"===this.options.type&&(this.element.show(),this._closeHandled=!1),this.options.title&&this.options.title.length&&(this.element.prepend(e(e.zdatetimepicker._HEADER)),this.element.find("."+e.zdatetimepicker._CLASSES.title).html(this.options.isTitleHTMLEncoded?this.options.title:t.encodeHTML(this.options.title)),this.options.draggable&&e.fn.zdraggable&&"inline"!==this.options.type&&this._initDraggable()),this.options.closeButton&&"inline"!==this.options.type&&this._createCloseButton(),i=this._checkIfColumnExists(),(i||s.OKButton||s.todayButton||s.cancelButton||s.clearButton)&&(this._createButtons(),this._bindButtonEvents()),3===this._monthsPerView&&this._footer&&this._footer.length&&this._hasTime&&this.element.addClass(e.zdatetimepicker._CLASSES.triple)},_initDraggable:function(){"inline"!==this.options.displayType&&this.element.zdraggable({handle:"."+e.zdatetimepicker._CLASSES.header,ignore:"."+e.zdatetimepicker._CLASSES.closeButton,container:"window",start:this._dragStartHandler.bind(this),drag:this._dragHandler.bind(this),end:this._dragEndHandler.bind(this)})},_dragStartHandler:function(t,e){this._dispatchEvent("DRAGSTART",t,e)},_dragHandler:function(t,e){this._dispatchEvent("DRAG",t,e)},_dragEndHandler:function(t,e){this._dispatchEvent("DRAGEND",t,e)},_setValues:function(){var t=this.options.values.length;this._valueUpdate=!0;for(var e=0;e<t;e++){var i,s=this.options.values[e];"string"==typeof s?i="TODAY"===s?new Date:this._parseDateValue(this.options.values[e],this.options.format).date:s instanceof Date?i=s:this.options.values.splice(e,1),i&&(i.setHours(0,0,0,0),this._selectedDates.push(i),e===t-1&&(this._viewDate=new Date(i.getTime())))}},_getViewMode:function(){var t;if("drilldown"===this.options.navigationBar.monthYearSwitcherType)if(this._valueUpdate)t=0,this.element.find("."+e.zdatetimepicker._CLASSES.disabledCalendar).removeClass(e.zdatetimepicker._CLASSES.disabledCalendar);else switch(this.options.drilldownLevelOnOpen){case"dates":t=0;break;case"months":t=1;break;case"years":t=2;break;case"decades":t=3}return t},_bindButtonEvents:function(){var t=this.componentName;this._today.length&&this._today.on("click."+t,this._todayClickHandler.bind(this)),this._applyButton&&this._apply.on("click."+t,this._applyClickHandler.bind(this)),this._cancel.length&&this._cancel.on("click."+t,this._cancelClickHandler.bind(this)),this._reset.length&&this._reset.on("click."+t,this._resetClickHandler.bind(this))},_unBindButtonEvents:function(){var t=this.componentName;this._today.length&&this._today.off("click."+t),this._applyButton&&this._apply.off("click."+t),this._cancel.length&&this._cancel.off("click."+t),this._reset&&this._reset.length&&this._reset.off("click."+t)},_resetClickHandler:function(t){if(t&&!e(t.target).closest(this._reset).hasClass("is-disabled")||!t){this.options.immediateCommit&&(this._valueUpdate=!1,this.options.value=void 0,this.options.values=[],this._selectedTime=this._minTime?new Date(this._minTime.getTime()):void 0),this._viewDate.setHours(0,0,0,0);var i=e.zdatetimepicker._CLASSES.selected+" "+e.zdatetimepicker._CLASSES.disabled;this.element.find("."+e.zdatetimepicker._CLASSES.monthContainer).find("."+e.zdatetimepicker._CLASSES.selected+",."+e.zdatetimepicker._CLASSES.disabled+":not(.zdisabled)").removeClass(i).removeAttr("aria-selected aria-disabled"),this.element.find("."+e.zdatetimepicker._CLASSES.monthYearTable).find("."+e.zdatetimepicker._CLASSES.selected+",."+e.zdatetimepicker._CLASSES.disabled+":not(.zdisabled)").removeClass(i).removeAttr("aria-selected aria-disabled"),this._selectedDates=[],this._queryString="",this._currentSelected=void 0,this._hasTime&&("multiple-select-box"===this.options.timeFieldType&&"h-m-t"===this.options.timeMultipleSelectBoxType&&this._checkTimeOptions(),this._setSelectedTimeValues(void 0,void 0,void 0,!0)),this._reset&&this._reset.length&&this._hasDate&&this._reset.attr("disabled",!0).addClass("is-disabled"),this._dispatchEvent("RESET",t,{valuesObject:[],values:[],options:this.options})}},_cancelClickHandler:function(t){this._resetClickHandler(t),this._closePicker(),this._dispatchEvent("CANCEL",t,{valueString:ZDateUtil.formatDate(this.options.value,this.options.format),value:this.options.value})},_applyClickHandler:function(t,i,s){var o,n,a;if(t&&(a=e(t.target).closest(this._apply)),this._hasTime&&!this._selectedTime){var r,l;if("single-select-box"===this.options.timeFieldType)r=this._singleTimeSelect.zselectbox("getAttribute","selectedValue"),l=new Date(parseInt(r)),this._viewDate.setHours(l.getHours(),l.getMinutes(),0,0);else if("multiple-select-box"===this.options.timeFieldType&&"hm-t"===this.options.timeMultipleSelectBoxType){var h="";r=this._combinedTimeElement.zselectbox("getAttribute","selectedValue"),this._is12HourFormat&&(h=this._combinedPeriodElement.zselectbox("getAttribute","selectedValue")),r=r+" "+h,l=this._parseDateValue(r,this._timeFormat).date,this._viewDate.setHours(l.getHours(),l.getMinutes(),0,0)}}if(t&&!a.hasClass("is-disabled")||!t){if("single"===this.options.selectionType&&this._hasDate){var l=new Date;this._currentSelected?(this._valueUpdate=!0,l=new Date(this._currentSelected.getTime())):this._selectedTime=this._minTime?new Date(this._minTime.getTime()):void 0,this._selectedTime&&l.setHours(this._selectedTime.getHours(),this._selectedTime.getMinutes(),0,0),this.options.value=this._currentSelected?new Date(l.getTime()):void 0,o={value:this.options.value,valueString:ZDateUtil.formatDate(this.options.value,this.options.format)}}else{this._selectedDates.length?this._valueUpdate=!0:this._selectedTime=this._minTime?new Date(this._minTime.getTime()):void 0,n=!!(this.options.selectionLimit&&this.options.selectionLimit===this._selectedDates.length&&!this._hasTime&&0===this._viewMode||e(t.target).closest(this._apply).length),this.options.values=[];for(var d=0;d<this._selectedDates.length;d++){var c=new Date(this._selectedDates[d]);this._selectedTime&&c.setHours(this._selectedTime.getHours(),this._selectedTime.getMinutes(),0,0);var p=ZDateUtil.formatDate(c,this.options.format);this.options.values.push(p)}o={values:this.options.values,valuesObject:this._selectedDates}}this._dispatchEvent("APPLY",t,o),(!s&&"single"===this.options.selectionType&&(i&&this.options.closeOnDateSelect&&!this._hasTime&&0===this._viewMode||!i)||"multiple"===this.options.selectionType&&n)&&this._closePicker()}this._valueUpdate=this.options.value||this.options.values.length},_createCloseButton:function(){var t;if(this._closeButton)t=this._closeButton.find("."+e.zdatetimepicker._CLASSES.navIcon);else{var i=this._localize("close");this._closeButton=e("<button role='button' class='"+e.zdatetimepicker._CLASSES.close+"' title='"+i+"' aria-label='"+i+"'></div>"),this._closeButton.appendTo(this.element.find("."+e.zdatetimepicker._CLASSES.header)),t=e("<i class='"+e.zdatetimepicker._CLASSES.navIcon+"'></i>"),t.appendTo(this._closeButton)}t.removeAttr("class").addClass(e.zdatetimepicker._CLASSES.navIcon);var s={props:{viewBox:"0 0 16 16"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)",class:"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)",class:"st0",width:"13",height:"1.1"}}]};this._handleIcon(t,s,"closebutton",this.options.closeIconClassName,this.options.closeSVGIconId),this._closeButton.on("click."+this.componentName,this._closeClickHandler.bind(this))},_performValidations:function(){var t="monthYearSelectionMode",e="headingDateFormat",i=this.options.values.length;!this.options.drilldownLevelOnOpen&&(this.options.drilldownLevelOnOpen="dates"),this.options.format||(this.options.format=this._CONSTANTS.defaultDateFormat),this._validateBoundaries(),this.options.navigationBar[t]=/^(dropdown|drilldown|none)$/.test(this.options.navigationBar[t])?this.options.navigationBar[t]:this._CONSTANTS[t],/^(top|bottom|right|left|top-left|top-right|bottom-left|bottom-right)$/.test(this.options.position)||(this.options.position="bottom"),this.options.navigationBar.monthSwitcher||this.options.navigationBar.yearSwitcher||(this.options[t]="none"),this.options.displayType=/^(box|callout)$/.test(this.options.displayType)?this.options.displayType:this._CONSTANTS.displayType,this.options.navigationBar.yearNavigationButtons=this._yearNavigation||"dropdown"===!this.options.navigationBar[t],this.options.navigationBar.monthYearHeadingFormat=/^(MMM yyyy|MMMM yyyy|yyyy MMM|yyyy MMMM)$/.test(this.options.navigationBar.monthYearHeadingFormat)?this.options.navigationBar.monthYearHeadingFormat:this._CONSTANTS[e];for(var s=["hourStep","minuteStep"],o=0,i=s.length;o<i;o++)this.options[s[o]]=Number(this.options[s[o]]),this.options[s[o]]<=0&&(this.options[s[o]]=1)},_checkIfDateHasTime:function(){var t=this.options.format,e=t.indexOf("H")>-1||t.indexOf("h")>-1||t.indexOf("m")>-1;e&&(this._is12HourFormat=t.indexOf("h")>-1,this._timeFormat=t.substring(t.indexOf("h")===-1?t.indexOf("H"):t.indexOf("h")));var i,s,o=t.lastIndexOf("d"),n=t.lastIndexOf("M"),a=t.lastIndexOf("y");i=Math.max(o,n),i=Math.max(i,a);var r=t.indexOf("d"),l=t.indexOf("M"),h=t.indexOf("y");return s=Math.min(r,l),s=Math.min(s,h),this._dateFormat=t.substring(s,i+1),e},_buildElement:function(t){var i=t;t=t||this.element;var s=this.options.navigationBar.monthYearHeadingFormat.split(" "),o=this.options.navigationBar.monthYearSwitcherType,n=this.options.navigationBar.monthSwitcher,a=this.options.navigationBar.yearSwitcher;if(this._hasDate){if(1===this._monthsPerView)i&&0!==i.length||(t.addClass(e.zdatetimepicker._CLASSES.datepicker),t.append(e(e.zdatetimepicker._TEMPLATE))),this._elementId=t[0].getAttribute("id")?t[0].getAttribute("id"):Math.floor(1e6*Math.random())+"_zdatetimepicker",t[0].setAttribute("id",this._elementId),this.options.appendTo&&t.appendTo(e(this.options.appendTo)),this._fillDayOfWeek(t),this._fillNavBar(this._viewDate,{left:!0,right:!0,element:t}),this._fillDates(void 0,t),this._updateArrowState(),this._generateContent(t),"yyyy"===s[0]&&t.find("."+e.zdatetimepicker._CLASSES.yearNav).prependTo(this._monthYearNav),"drilldown"===o&&(n||a)&&this._monthYearNav.addClass("h-cursorpointer"),"dropdown"===o&&this._bindSelectBox();else{this.element.addClass(e.zdatetimepicker._CLASSES.group).append(e("<ul class='"+e.zdatetimepicker._CLASSES.container+"'></ul>"));var r=this.options.navigationBar.navigationButtonsDisplayPattern,l=this.options.navigationBar.togetherTypeNavigationButtonsPosition;this._elementId=this.element[0].getAttribute("id")?this.element[0].getAttribute("id"):Math.floor(1e6*Math.random())+"_zdatetimepicker",this.element.appendTo(this.options.appendTo?e(this.options.appendTo):"body")[0].setAttribute("id",this._elementId);for(var h=0;h<this._monthsPerView;h++){this._navBar=this._monthYearNav=this._leftNav=this._rightNav=this._weeknumbers=void 0;var t=e(e.zdatetimepicker._TEMPLATE),d=e("<li class='"+e.zdatetimepicker._CLASSES.list+"'><div class='"+e.zdatetimepicker._CLASSES.datepicker+"'></div></li>").appendTo(this.element.find("ul"));t.appendTo(d.find("."+e.zdatetimepicker._CLASSES.datepicker)),this._fillDayOfWeek(t);var c=new Date(this._viewDate.getTime());c.setMonth(this._viewDate.getMonth()+h),0===h?("dropdown"===o&&this.options.navigationBar.yearNavigationButtons&&this.options.navigationBar.monthNavigationButtons&&t.addClass(e.zdatetimepicker._CLASSES.dropdown),this._fillNavBar(this._viewDate,{index:h,left:"right"!==l||"together"!==r,element:t}),this._fillDates(void 0,t),this._updateArrowState(this._viewDate,h),"drilldown"===o&&(n||a)&&this._monthYearNav.addClass("h-cursorpointer")&&this._monthYearNav.on("click."+this.componentName,this._monthYearNavClickHandler.bind(this)),"dropdown"===o&&this._bindSelectBox()):(h===this._monthsPerView-1?(this._fillNavBar(c,{index:h,right:!0,left:"together"===r&&"right"===l,element:t}),this._updateArrowState(c,h)):this._fillNavBar(c,{index:h,element:t}),this._fillDates(c,t)),"yyyy"===s[0]&&e(this.element.find("."+e.zdatetimepicker._CLASSES.datepicker)[h]).find("."+e.zdatetimepicker._CLASSES.yearNav).prependTo(this._monthYearNav)}this._generateContent()}this._appendEmptyTd(),"callout"===this.options.displayType&&this._constructPointer()}else this.element.addClass(e.zdatetimepicker._CLASSES.datepicker);this._hasTime&&this._buildTimePicker(),"multiple"===this.options.selectionType&&this.element.find("."+e.zdatetimepicker._CLASSES.dateView).attr("aria-multiselectable",!0),this.options.customHTMLAboveNavigationBar&&this._insertHTMLAboveNavbar(),this.options.customHTMLBelowCalendar&&this._insertHTMLBelowCalendar(),this.options.customHTMLAboveCalendar&&this._insertHTMLAboveCalendar()},_generateContent:function(t){if("drilldown"===this.options.navigationBar.monthYearSwitcherType)switch(this._viewMode){case 1:this._fillMonths(!0,t);break;case 2:this._fillYears(!0,t);break;case 3:this._fillDecades(!0,t)}},_insertHTMLAboveCalendar:function(){var t=e(this.options.customHTMLAboveCalendar);this._aboveCalendarParent=t.parent(),t.length&&(!t.is(":visible")&&t.show(),t.addClass("zdatetimepicker--custom"),t.insertBefore(this.element.find("."+e.zdatetimepicker._CLASSES.dateView)))},_insertHTMLAboveNavbar:function(){var t=e(this.options.customHTMLAboveNavigationBar);this._aboveNavbarParent=t.parent(),t.length&&(!t.is(":visible")&&t.show(),t.addClass("zdatetimepicker--custom"),this.options.title?t.insertAfter(this.element.find("."+e.zdatetimepicker._CLASSES.title)):t.prependTo(this.element))},_insertHTMLBelowCalendar:function(){var t=e(this.options.customHTMLBelowCalendar);this._belowCalendarParent=t.parent(),t.length&&(!t.is(":visible")&&t.show(),t.addClass("zdatetimepicker--custom"),t.insertAfter(1===this._monthsPerView?this.element.find("."+e.zdatetimepicker._CLASSES.body).last():this.element.find("."+e.zdatetimepicker._CLASSES.container)))},_constructPointer:function(){this._isPositionModified||(this.options.position=this._CONSTANTS.calloutPosition),this._pointer=e("<div class='"+e.zdatetimepicker._CLASSES.pointer+"'></div>").prependTo(this.element)},_buildTimePicker:function(t){var i,s=this._minTime?new Date(this._minTime.getTime()):void 0,o=this._maxTime?new Date(this._maxTime.getTime()):void 0;i=this._checkBoundaryValues(),i.min&&(s=this._unsetValue("_minTime")),i.max&&(o=this._unsetValue("_maxTime"));var n,a=this.options.todayButton||this.options.clearButton||!this.options.immediateCommit;switch(this._validateTimeOptions(),this._timeElement=e("<div class='"+e.zdatetimepicker._CLASSES.timepicker+" "+(3===this._monthsPerView&&a?"h-align"+("left"===this.options.buttonsAlignment?"right":"left"):"h-aligncenter")+"'></div>"),a&&"right"===this.options.buttonsAlignment&&this._footer?this._timeElement.insertBefore(this._footer):this._timeElement.appendTo(this.element),"multiple-select-box"===this.options.timeFieldType&&(n=e("<div class='zdatetimepicker--multipleselectbox'>").appendTo(this._timeElement)),this._buildLabel(n),this.options.timeFieldType){case"input":this._buildInputElement();break;case"multiple-select-box":"h-m-t"===this.options.timeMultipleSelectBoxType&&this._buildTimeSelectBox(n,t),"hm-t"===this.options.timeMultipleSelectBoxType&&this._buildCombinedTimeSelectBox(n);break;case"single-select-box":this._buildSingleTimeSelect(this._timeElement)}3===this._monthsPerView&&this._footer&&this._footer.length&&this._hasTime&&this.element.addClass(e.zdatetimepicker._CLASSES.triple);var r=new Date;r=!t&&this.options.value?r.setHours(this.options.value.getHours(),this.options.value.getMinutes(),0,0):this._minTime?r.setHours(this._minTime.getHours(),this._minTime.getMinutes(),0,0):this._viewDate.getTime(),this._viewDate=new Date(r),i.min&&(this._minTime=new Date(s.getTime())),i.max&&(this._maxTime=new Date(o.getTime()))},_buildCombinedTimeSelectBox:function(t){for(var i="<select id='"+this._elementId+"-time-combined'>",s="",o=this._is12HourFormat?1:0;o<=(this._is12HourFormat?12:23);o+=this.options.hourStep)for(var n=0;n<59;n+=this.options.minuteStep){if(s=(o<10?"0"+o:o)+":"+(n<10?"0"+n:n),!this._is12HourFormat){var a=this._parseDateValue(s,this._timeFormat).date,r="";r=this._minTime&&a.getTime()<this._minTime.getTime()||this._maxTime&&a.getTime()>this._maxTime.getTime(),r=r?"disabled":""}i+="<option value='"+s+"' "+r+">"+s+"</option>"}if(i+="</select>",this._combinedTimeElement=e(i),this._combinedTimeElement.appendTo(t),this._combinedTimeElement.zselectbox({dropdownList:{width:100,height:200,className:"zdatetimepicker--menu"},itemclick:this._combinedTimeClickHandler.bind(this)}),this._is12HourFormat){var l,h;l=this.options.value?new Date(this.options.value.getTime()):this._minTime?new Date(this._minTime.getTime()):void 0,l&&(h=l.getHours());var d="<select id='"+this._elementId+"-combined-period'><option value='AM' "+(h<11?"selected":"")+">AM</option><option value='PM' "+(h>11?"selected":"")+">PM </option></select>";this._combinedPeriodElement=e(d),this._combinedPeriodElement.appendTo(t),this._combinedPeriodElement.zselectbox({dropdownList:{width:50,height:330,className:"zdatetimepicker--menu"},itemclick:this._combinedPeriodClickHandler.bind(this)})}this._checkCombinedTimeOptions()},_checkCombinedTimeOptions:function(t){var e,i,s,o,n,a,r,l,h;this._is12HourFormat&&(e=this._combinedPeriodElement.zselectbox("getAttribute","selectedValue")),i=this._combinedTimeElement.find("option"),s=this._combinedTimeElement.zselectbox("getAttribute","selectedValue");for(var d=0,c=i.length;d<c;d++)e?(n=i[d].value+" "+e,a=this._parseDateValue(n,this._timeFormat).date,r,o="PM"===e?this._minTime&&this._minTime.getHours()>12&&a.getTime()<this._minTime.getTime()||this._maxTime&&this._maxTime.getHours()>12&&a.getTime()>this._maxTime.getTime():this._minTime&&this._minTime.getHours()<12&&a.getTime()<this._minTime.getTime()||this._maxTime&&this._maxTime.getHours()<12&&a.getTime()>this._maxTime.getTime(),o=void 0!==o&&o,o=this._checkIfTimeIsDisabled(a,a.getMinutes(),o),this._combinedTimeElement.zselectbox("setOptionAttributes",i[d],{disabled:o,customAttributes:{"data-time":a.getTime()}})):(a=this._parseDateValue(i[d].value,this._timeFormat).date,this._combinedTimeElement.zselectbox("setOptionAttributes",i[d],"customAttributes",{"data-time":a.getTime()})),d>0&&(h=new Date,this.options.value?h.setHours(this.options.value.getHours(),this.options.value.getMinutes(),0,0):h.setSeconds(0,0),n=parseInt(i[d-1].getAttribute("data-time")),l=a.getTime(),r=this.options.value?n<h.getTime()&&l>=h.getTime():this._minTime&&n<this._minTime.getTime()&&l>=this._minTime.getTime()||this._maxTime&&n>this._maxTime.getTime()&&l<=this._maxTime.getTime()),r&&!t?s=i[d].value:this._combinedTimeElement.zselectbox("getAttribute","selectedValue").length&&(s=this._combinedTimeElement.zselectbox("getAttribute","selectedValue"));if(!t&&this._combinedTimeElement.zselectbox("setAttribute","selectedValue",s),this._is12HourFormat){var a,o,n=s+" "+e;a=this._parseDateValue(n,this._timeFormat).date,a&&("PM"===e?(a.setHours(a.getHours()-12),o=this._minTime&&a.getTime()<this._minTime.getTime()||this._maxTime&&a.getTime()>this._maxTime.getTime()):(a.setHours(a.getHours()+12),o=this._minTime&&a.getTime()<this._minTime.getTime()||this._maxTime&&a.getTime()>this._maxTime.getTime()),o=void 0!==o&&o,o=this._checkIfTimeIsDisabled(a,a.getMinutes(),o,a.getHours()),this._combinedPeriodElement.zselectbox("setOptionAttributes","PM"===e?"AM":"PM","disabled",o))}},_combinedPeriodClickHandler:function(t){this._checkCombinedTimeOptions(t),this._setCombinedTimeValues(t)},_combinedTimeClickHandler:function(t){this._checkCombinedTimeOptions(t),this._setCombinedTimeValues(t)},_setCombinedTimeValues:function(t){var e;if(e=this._combinedTimeElement.zselectbox("getAttribute","selectedValue"),this._is12HourFormat){var i=this._combinedPeriodElement.zselectbox("getAttribute","selectedValue");e=e+" "+i}var s=this._parseDateValue(e,this._timeFormat).date;this._viewDate.setHours(s.getHours(),s.getMinutes(),0,0),this._selectedTime=new Date(this._viewDate.getTime()),this._updateTimeForMultiple(s),this.options.immediateCommit&&(this._currentSelected||this._selectedDates.length)&&this._applyClickHandler(t,!0)},_validateTimeOptions:function(){this._minTime=this.options.minTime||this._minTime,this._maxTime=this.options.maxTime||this._maxTime,this._minTime&&(this._minTime=this._parseDateValue(this._minTime,this._timeFormat).date,this._minTime.setSeconds(0,0)),this._maxTime&&(this._maxTime=this._parseDateValue(this._maxTime,this._timeFormat).date,this._maxTime.setSeconds(0,0)),this._minTime&&this._maxTime&&ZDateUtil.isGreater(this._minTime,this._maxTime)&&(this._maxTime=this.options.maxTime=void 0);var t;this.options.value&&(t=new Date,t.setHours(this.options.value.getHours(),this.options.value.getMinutes(),0,0)),this._maxTime&&t&&ZDateUtil.isGreater(t,this._maxTime)&&this.options.value.setHours(this._maxTime.getHours(),this._maxTime.getMinutes(),0,0),this._minTime&&t&&ZDateUtil.isGreater(this._minTime,t)&&this.options.value.setHours(this._minTime.getHours(),this._minTime.getMinutes(),0,0),this.options.disabledTimeList.length&&"string"==typeof this.options.disabledTimeList[0]&&this._convertStringToObject({disabledTimeList:this.options.disabledTimeList}),this._selectedTime=this.options.value?t:this._minTime?new Date(this._minTime.getTime()):void 0},_buildLabel:function(t){var i=!1;if("icon"!==this.options.timeLabelType&&"icon-text"!==this.options.timeLabelType||(i=!0,this._createTimeIcon(t)),"text"===this.options.timeLabelType||"icon-text"===this.options.timeLabelType){var s=this._timeElement.find("."+e.zdatetimepicker._CLASSES.timeLabel);0===s.length&&(s=e("<span class='"+e.zdatetimepicker._CLASSES.timeLabel+"'></span>"),i?s.insertAfter(this._timeElement.find("."+e.zdatetimepicker._CLASSES.timeIcon)):s.prependTo(t||this._timeElement)),s.text(this.options.timeLabel||this._localize("timeLabel"))}},_buildSingleTimeSelect:function(t){var i=this.options.fixedTimeOptions.length,s=this.options.fixedTimeOptions;if(i){for(var o="<select id= '"+this._elementId+"-single-time-select'>",n=0;n<i;n++){var a,r,l=this._parseDateValue(s[n],this._timeFormat).date,h="";if(l.setSeconds(0,0),this.options.value){var d=new Date;d.setHours(this.options.value.getHours(),this.options.value.getMinutes(),0,0)}a=d&&ZDateUtil.areTimesEqual(l,d)?"selected":"",r=!this._minTime&&!this._maxTime||(!this._minTime||ZDateUtil.isGreater(l,this._minTime))&&(!this._maxTime||ZDateUtil.isGreater(this._maxTime,l));for(var c=0;c<this.options.disabledTimeList.length;c++){var p=this.options.disabledTimeList[c].date;if(l.getTime()===p.getTime()){h="disabled";break}}r&&(o+="<option value='"+l.getTime()+"' "+a+" "+h+">"+s[n]+"</option>")}o+="</select>"}o=e(o).appendTo(t),this._singleTimeSelect=o,this._singleTimeSelect.zselectbox({dropdownList:{width:100,height:200,className:"zdatetimepicker--menu"},itemclick:this._singleSelectClickHandler.bind(this),width:"auto"})},_singleSelectClickHandler:function(t,e){var i=new Date(parseInt(e.selectedValue));this._viewDate.setHours(i.getHours(),i.getMinutes(),0,0),this._selectedTime=new Date(this._viewDate.getTime()),this._updateTimeForMultiple(this._viewDate),this.options.immediateCommit&&this._applyClickHandler(t,!0)},_buildTimeSelectBox:function(t,i){var s,o,n,a,r,l="<select id='"+this._elementId+"-hour'>";this.options.value&&(r=ZDateUtil.formatDate(this.options.value,this.options.format)),this._minTime&&(s=this._minTime.getHours(),n=this._minTime.getMinutes()),this._maxTime&&(o=this._maxTime.getHours(),a=this._maxTime.getMinutes());var h,d,c,p,u;u=!i&&this.options.value,p=u?this._normalizeHourValue(this.options.value.getHours()):s?this._normalizeHourValue(s):this._is12HourFormat?12:0;for(var m=this._is12HourFormat?1:0;m<=(this._is12HourFormat?12:23);m++)this._is12HourFormat?d=m===p?"selected":"":(d=m===p?"selected":"","selected"===d&&(c=m),h=m<s||m>o?"disabled":""),l+="<option "+h+" value="+m+" "+d+">"+(m<10?"0"+m:m)+"</option>";l+="</select>",l=e(l),l.appendTo(t),this._viewDate.setHours(u?this.options.value.getHours():this._minTime?s:0),this._hourElement=e("#"+this._elementId+"-hour");for(var _="<select id='"+this._elementId+"-minute'>",m=0;m<=59;m+=this.options.minuteStep){this._is12HourFormat?d=0:(h=m<n&&c===s?"disabled":"",h=void 0!==h&&h);var f=u?this.options.value.getMinutes():this._minTime?n:0;d=m-this.options.minuteStep<f&&m>=f?" selected":"",_+="<option "+h+" value="+m+" "+d+" >"+(m<10?"0"+m:m)+"</option>",this._viewDate.setMinutes(f)}if(_+="</select>",_=e(_),_.appendTo(t),this._minuteElement=e("#"+this._elementId+"-minute"),this._is12HourFormat){var v,g;u&&(v=this.options.value.getHours()),v=u?this.options.value.getHours():this._minTime?this._minTime.getHours():void 0,g=v%12;var b="<select id='"+this._elementId+"-period'><option value='AM' "+(v<11?"selected":"")+">AM</option><option value='PM' "+(v>11?"selected":"")+">PM </option></select>";b=e(b),b.appendTo(t),this._periodElement=e("#"+this._elementId+"-period")}this._bindTimeSelectbox(),(this._minTime||this._maxTime||this.options.disabledTimeList.length)&&this._checkTimeOptions(void 0,!1)},_checkIfTimeIsDisabled:function(t,e,i,s){var i,o=this.options.disabledTimeList;s=s||t.getHours(),e=e||t.getMinutes();for(var n=0;n<o.length;n++){var a=o[n].date;if(s===a.getHours()&&e===a.getMinutes()){i=!0;break}}return i},_unsetValue:function(t){if(this[t]){var e=new Date(this[t].getTime());return this[t]=void 0,e}},_checkTimeOptions:function(t,e,i){var s,o=this._minTime?new Date(this._minTime.getTime()):void 0,n=this._maxTime?new Date(this._maxTime.getTime()):void 0;s=this._checkBoundaryValues(),s.min&&(o=this._unsetValue("_minTime")),s.max&&(n=this._unsetValue("_maxTime")),i=i||this._viewDate;var a=(new Date).setHours(i.getHours(),i.getMinutes(),0,0);if(a=new Date(a),this._is12HourFormat){for(var r=0;r<=59;r+=this.options.minuteStep){var l=this._minTime&&a.getHours()===this._minTime.getHours()&&r<this._minTime.getMinutes()||this._maxTime&&a.getHours()===this._maxTime.getHours()&&r>this._maxTime.getMinutes();l=void 0!==l&&l,l=this._checkIfTimeIsDisabled(a,r,l),this._minuteElement.zselectbox("setOptionAttributes",r,"disabled",l)}for(var r=1;r<=12;r+=this.options.hourStep){var h,d=r,c=parseInt(this._minuteElement.zselectbox("getAttribute","selectedValue"));if(a.getHours()>=12){d=12===r?r:r+12;var l=this._minTime&&(d<this._minTime.getHours()||d===this._minTime.getHours()&&c<this._minTime.getMinutes())||this._maxTime&&(d>this._maxTime.getHours()||d===this._maxTime.getHours()&&c>this._maxTime.getMinutes());l=void 0!==l&&l,l=this._checkIfTimeIsDisabled(a,a.getMinutes(),l,d),h=d<=23&&l}else{d=r%12;var l=this._minTime&&(d<this._minTime.getHours()||d===this._minTime.getHours()&&c<this._minTime.getMinutes())||this._maxTime&&(d>this._maxTime.getHours()||d===this._maxTime.getHours()&&c>this._maxTime.getMinutes());l=void 0!==l&&l,l=this._checkIfTimeIsDisabled(a,a.getMinutes(),l,d),h=l}this._hourElement.zselectbox("setOptionAttributes",r,"disabled",h)}var p;p=a.getHours()-12;var l=a.getHours()>=12&&(this._minTime&&(this._minTime.getHours()===p&&a.getMinutes()<this._minTime.getMinutes()||p<this._minTime.getHours())||this._maxTime&&(this._maxTime.getHours()===p&&a.getMinutes()<this._maxTime.getMinutes()||p>this._maxTime.getHours()));l=void 0!==l&&l,l=this._checkIfTimeIsDisabled(a,a.getMinutes(),l,p),this._periodElement.zselectbox("setOptionAttributes","AM","disabled",l),p=a.getHours()+12;var l=a.getHours()<12&&(this._minTime&&(this._minTime.getHours()===p&&a.getMinutes()<this._minTime.getMinutes()||p<this._minTime.getHours())||this._maxTime&&(this._maxTime.getHours()===p&&a.getMinutes()>this._maxTime.getMinutes()||p>this._maxTime.getHours()));l=void 0!==l&&l,l=this._checkIfTimeIsDisabled(a,a.getMinutes(),l,p),this._periodElement.zselectbox("setOptionAttributes","PM","disabled",l),this._setSelectedTimeValues(e)}else{var c,h;c=parseInt(this._minuteElement.zselectbox("getAttribute","selectedValue"));for(var r=0;r<=59;r+=this.options.minuteStep){var l=this._minTime&&a.getHours()===this._minTime.getHours()&&r<this._minTime.getMinutes()||this._maxTime&&a.getHours()===this._maxTime.getHours()&&r>this._maxTime.getMinutes();l=void 0!==l&&l,l=this._checkIfTimeIsDisabled(a,r,l),this._minuteElement.zselectbox("setOptionAttributes",r,"disabled",l)}this._minTime&&this._hourElement.zselectbox("setOptionAttributes",this._minTime.getHours(),"disabled",a.getMinutes()<this._minTime.getMinutes()),this._maxTime&&this._hourElement.zselectbox("setOptionAttributes",this._maxTime.getHours(),"disabled",a.getMinutes()>this._maxTime.getMinutes())}o&&(this._minTime=new Date(o.getTime())),n&&(this._maxTime=new Date(n.getTime()))},_normalizeHourValue:function(t){return this._is12HourFormat&&(0===t?t=12:t>0&&t<=11?t=(t+12)%12:t>11&&(t=t%12===0?12:t%12)),t},_bindTimeSelectbox:function(){this._hourElement.zselectbox({dropdownList:{width:40,height:330,className:"zdatetimepicker--menu"},width:"auto"}),this._minuteElement.zselectbox({dropdownList:{width:40,height:330,className:"zdatetimepicker--menu"},width:"auto"}),this._periodElement&&this._periodElement.zselectbox({dropdownList:{width:50,height:330,className:"zdatetimepicker--menu"},width:"auto"}),e("#"+this._elementId+"-minute, #"+this._elementId+"-hour").on("zselectboxitemclick",this._timeSelectClickHandler.bind(this)),this._periodElement&&this._periodElement.on("zselectboxitemclick",this._periodClickHandler.bind(this))},_getHourValue:function(t,e){var i=e%12;return e="AM"===t?0===i?0:e:0===i?12:e+12},_periodClickHandler:function(t,e){var i=parseInt(this._hourElement.zselectbox("getAttribute","selectedValue"));i=this._getHourValue(e.selectedValue,i),this._selectedPeriod=e.selectedValue,this._viewDate.setHours(i),this._dispatchEvent("PERIODCHANGE",t,{value:this.options.value,valueString:ZDateUtil.formatDate(this.options.value,this.options.format),selectedValue:e.selectedValue}),(this._minTime||this._maxTime||this.options.disabledTimeList.length)&&this._checkTimeOptions(e,!1),this._selectedTime=new Date(this._viewDate.getTime()),this.options.immediateCommit&&(this._currentSelected||this._selectedDates.length)&&this._applyClickHandler(t,!0)},_timeSelectClickHandler:function(t,i){var s=parseInt(i.selectedValue);if(e(i.selectbox).attr("id").indexOf("hour")>-1){if(this._is12HourFormat){var o=this._periodElement.zselectbox("getAttribute","selectedValue");s=this._getHourValue(o,s)}this._viewDate.setHours(s),this._dispatchEvent("HOURCHANGE",t,{value:this.options.value,valueString:ZDateUtil.formatDate(this.options.value,this.options.format),selectedValue:parseInt(i.selectedValue)})}else this._viewDate.setMinutes(s),this._dispatchEvent("MINUTECHANGE",t,{value:this.options.value,valueString:ZDateUtil.formatDate(this.options.value,this.options.format),selectedValue:parseInt(i.selectedValue)});(this._minTime||this._maxTime||this.options.disabledTimeList.length)&&this._checkTimeOptions(i,!1),this._selectedTime=new Date(this._viewDate.getTime()),this._updateTimeForMultiple(this._viewDate),this.options.immediateCommit&&(this._currentSelected||this._selectedDates.length)&&this._applyClickHandler(t,!0)},_buildInputElement:function(){var t=e("<input type='text' style='width:100px' class='zdatetimepicker-timeinput'/>").appendTo(this._timeElement),i=this;t.data("zdatetimefield")&&t.zdatetimefield("destroy");var s;this.options.value&&(s=new Date,s.setHours(this.options.value.getHours(),this.options.value.getMinutes(),0,0)),t.zdatetimefield({format:this._is12HourFormat?"hh:mm tt":"HH:mm",dateTimePicker:!1,value:this.options.value?s:this._is12HourFormat?"12:00 AM":"00:00",min:this._minTime,max:this._maxTime,hourStep:this.options.hourStep,minuteStep:this.options.minuteStep,clearButton:"none",spinend:this._spinEndHandler.bind(i),picker:!1,change:this._timeFieldChangeHandler.bind(i)}),this._selectedTime=t.zdatetimefield("getAttribute","value")},_timeFieldChangeHandler:function(t,e){var i=this._timeElement.find("input").zdatetimefield("getAttribute","value");this._dispatchEvent("TIMECHANGE",t,{value:i,valueString:ZDateUtil.formatDate(i,this.options.format)})},_spinEndHandler:function(t,e){this._timeModified=!0;var i=e.dateValue;this._selectedTime=i,void 0!==i&&this._viewDate&&(this._viewDate.setHours(i.getHours(),i.getMinutes(),0,0),this._updateTimeForMultiple(i),this.options.immediateCommit&&(this._currentSelected||this._selectedDates.length)&&this._applyClickHandler(t,!0))},_updateTimeForMultiple:function(t){if("multiple"===this.options.selectionType)for(var e=0;e<this._selectedDates.length;e++)this._selectedDates[e].setHours(t.getHours(),t.getMinutes(),0,0)},_createTimeIcon:function(t){var i=this._timeElement.find("."+e.zdatetimepicker._CLASSES.timeIcon);0===i.length?i=e("<i class='"+e.zdatetimepicker._CLASSES.timeIcon+"'></i>"):i.empty(),i.removeAttr("class").attr("class",e.zdatetimepicker._CLASSES.timeIcon),i.prependTo(t||this._timeElement);var s={props:{viewBox:"0 0 18 18"},nodes:[{path:{d:"M9,1.1c4.4,0,7.9,3.5,7.9,7.9s-3.5,7.9-7.9,7.9S1.1,13.4,1.1,9S4.6,1.1,9,1.1 M9,0.1c-4.9,0-8.9,4-8.9,8.9s4,8.9,8.9,8.9 s8.9-4,8.9-8.9S13.9,0.1,9,0.1L9,0.1z M10,9V5L8,4v7h4l1-2H10z"}}]};this._handleIcon(i,s,"time",this.options.timeLabelIconClassName,this.options.timeLabelSVGIconId)},_createButtons:function(){var t=this._checkIfColumnExists();this._footer||(this._footer=e("<div class='"+e.zdatetimepicker._CLASSES.footer+"'></div>").appendTo(this.element)),t?this._generateCustomCols(this._footer):this._autoGenSingleColBtns(this._footer),this._footer&&(this._reset=this._footer.find(".clearButton-zdatetimepicker"),this._reset.length&&this._reset.attr("aria-label",this._clearButtonLabel),this._apply=this._footer.find(".OKButton-zdatetimepicker"),this._apply.length&&this._apply.attr("aria-label",this._OKButtonLabel),this._cancel=this._footer.find(".cancelButton-zdatetimepicker"),this._cancel.length&&this._cancel.attr("aria-label",this._cancelButtonLabel),this._today=this._footer.find(".zdatetimepicker__todaylink"),this._today&&this._today.attr("aria-label",this._todayButtonLabel)),this._applyButton=!!this._apply.length;var i="single"===this.options.selectionType?!this.options.value:this._selectedDates&&0===this._selectedDates.length;this._reset&&this._reset.length&&i&&this._reset.attr("disabled",!0).addClass("is-disabled"),3===this._monthsPerView&&"left"===this.options.buttonsAlignment&&this._footer.insertAfter(this.element.find("."+e.zdatetimepicker._CLASSES.container))},_generateCustomCols:function(t){this._itemsList=[];var i,s,o=this.options.commandBar,n="",a=3,r=0;s=["leftColumn","centerColumn","rightColumn"],this._monthsPerView>1&&(n="zdatetimepicker--threecolumn"),t.addClass(n);for(var l=0;l<3;l++){var h,d=o[s[l]];if(this._monthsPerView>1&&(i=e("<div class='zdatetimepicker__column'>").appendTo(t)),d){d.halign&&(h=e("<div class='zdatetimepicker__commandbaractions"+d.halign+"'></div>"),a>1&&this._monthsPerView>1&&h.appendTo(i),(1===this._monthsPerView||this._monthsPerView>1&&1==a)&&h.appendTo(t));for(var c=0;c<d.commands.length;c++){var p,u=d.commands[c];if(p=this._itemsList.indexOf(u)>-1,"OK"===u){if(this.options.immediateCommit)continue;this._applyButton=!0}if(!p){if("today"===u)e("<a class='zdatetimepicker__todaylink'>"+this._todayButtonLabel+"</a>").appendTo(h);else{var m=u+"ButtonLabel";e("<button role='button' class='zbutton zbutton--small "+("OKButtonLabel"===m?"zbutton--primary":"")+" "+u+"Button-zdatetimepicker'><span class='zbutton__text'>"+this["_"+m]+"</span></button>").appendTo(h)}this._itemsList[r++]=u}}if(d.className){var _=i||h;_&&_.addClass(d.className)}}}},_autoGenSingleColBtns:function(t){var i=this.options,s=0;if(3!==this._monthsPerView){for(var o=["todayButton","clearButton","cancelButton","OKButton"],n=0;n<o.length;n++)i[o[n]]&&(this.options.immediateCommit&&"OKButton"!==o[n]||!this.options.immediateCommit)&&(s++,this.options.immediateCommit&&(i.OKButton=!1));if(1===s){for(var a,n=0;n<o.length;n++)if(i[o[n]]){a=n;break}var r=this._CONSTANTS[o[a]+"Position"],l=this["_"+o[a]+"Label"],h=o[a];"todayButton"!==o[a]?e("<div class='zdatetimepicker__commandbaractions"+r+"'><button role='button' class='zbutton zbutton--small "+("OKButton"===h?"zbutton--primary ":"")+h+"-zdatetimepicker'><span class='zbutton__text'>"+l+"</span></button></div>").appendTo(t):e("<div class='zdatetimepicker__commandbaractionscenter'><a class='zdatetimepicker__todaylink'>"+this._todayButtonLabel+"</a></div>").appendTo(t)}else if(2===s){for(var n=1;n<o.length;n++)if(i[o[n]]){a=n;break}var l=this["_"+o[a]+"Label"],h=o[a];if(i.todayButton)e("<div class='zdatetimepicker__commandbaractionsleft'><a class='zdatetimepicker__todaylink'>"+this._todayButtonLabel+"</a></div>").appendTo(t),e("<div class='zdatetimepicker__commandbaractionsright'><button role='button' class='zbutton zbutton--small "+("OKButton"===h?"zbutton--primary ":"")+h+"-zdatetimepicker'><span class='zbutton__text'>"+l+"</span></button></div>").appendTo(t);else if(i.OKButton&&3!==a){var d;i.clearButton?(d=e("<div class='zdatetimepicker__commandbaractionsleft'><button class='zbutton zbutton--small "+h+"-zdatetimepicker'><span class='zbutton__text'>"+this._clearButtonLabel+"</span></button></div>").prependTo(t),e("<div class='zdatetimepicker__commandbaractionsright'><button role='button' class='zbutton zbutton--small zbutton--primary OKButton-zdatetimepicker'><span class='zbutton__text'>"+this._OKButtonLabel+"</span></div>").appendTo(t)):(d=e("<div class='zdatetimepicker__commandbaractionsright'><button class='zbutton zbutton--small "+h+"-zdatetimepicker'><span class='zbutton__text'>"+l+"</span></button></div>").appendTo(t),e("<button role='button' class='zbutton zbutton--small zbutton--primary OKButton-zdatetimepicker'><span class='zbutton__text'>"+this._OKButtonLabel+"</a>").appendTo(d))}else e("<div class='zdatetimepicker__commandbaractionsleft'><button role='button' class='zbutton zbutton--small clearButton-zdatetimepicker'><span class='zbutton__text'>"+this._clearButtonLabel+"</span></button></div>").appendTo(t),e("<div class='zdatetimepicker__commandbaractionsright'><button role='button' class='zbutton zbutton--small cancelButton-zdatetimepicker'><span class='zbutton__text'>"+this._cancelButtonLabel+"</span></button></div>").appendTo(t)}else if(3===s){o=["todayButton","OKButton","clearButton","cancelButton"];for(var n=2;n<o.length;n++)if(i[o[n]]){a=n;break}var c;i.OKButton?(c=e("<div class='zdatetimepicker__commandbaractionsright'><button class='zbutton zbutton--small zbutton--primary OKButton-zdatetimepicker'><span class='zbutton__text'>"+this._OKButtonLabel+"</span></button></div>").appendTo(t),i.todayButton&&c.prepend("<button role='button' class='zbutton zbutton--small "+o[n]+"-zdatetimepicker'><span class='zbutton__text'>"+this["_"+o[n]+"Label"]+"</span></button>")):e("<div class='zdatetimepicker__commandbaractionsright'><button role='button' class='zbutton zbutton--small clearButton-zdatetimepicker'><span class='zbutton__text'>"+this._clearButtonLabel+"</span></button><button class='zbutton zbutton--small'><span class='zbutton__text'>"+i.cancelButtonLabel+"</span></button></div>").appendTo(t),i.todayButton?e("<div class='zdatetimepicker__commandbaractionsleft'><a class='zdatetimepicker__todaylink'>"+this._todayButtonLabel+"</a></div>").appendTo(t):(e("<div class='zdatetimepicker__commandbaractionsleft'><button role='button' class='zbutton zbutton--small clearButton-zdatetimepicker'><span class='zbutton__text'>"+this._clearButtonLabel+"</span></button></div>").prependTo(t),c&&c.prepend("<button role='button' class='zbutton zbutton--small cancelButton-zdatetimepicker'><span class='zbutton__text'>"+this._cancelButtonLabel+"</span></button>"))}else if(4===s){var p=this.element.find(".zdatetimepicker__commandbaractionsright");e("<div class='zdatetimepicker__commandbaractionsleft'><button role='button' class='zbutton zbutton--small clearButton-zdatetimepicker'><span class='zbutton__text'>"+this._clearButtonLabel+"</span></button></div>").prependTo(t),e("<div class='zdatetimepicker__commandbaractionscenter'><a class='zdatetimepicker__todaylink'>"+this._todayButtonLabel+"</a></div>").appendTo(t);var u=e("<button role='button' class='zbutton zbutton--small cancelButton-zdatetimepicker'><span class='zbutton__text'>"+this._cancelButtonLabel+"</span></button>"),m=e("<button role='button' class='zbutton zbutton--small zbutton--primary OKButton-zdatetimepicker'><span class='zbutton__text'>"+this._OKButtonLabel+"</span></button>"),p=e("<div class='zdatetimepicker__commandbaractionsright'></div>").appendTo(t);u.appendTo(p),m.appendTo(p)}}else{var o,_=e("<div class='zdatetimepicker__commandbaractions"+this.options.buttonsAlignment+"'>").appendTo(t);o="right"===this.options.buttonsAlignment?["clearButton","todayButton","cancelButton","OKButton"]:["OKButton","cancelButton","todayButton","clearButton"];for(var n=0;n<o.length;n++)if(i[o[n]])if("todayButton"===o[n])e("<a class='zdatetimepicker__todaylink'>"+this._todayButtonLabel+"</a>").appendTo(_);else{var l=this["_"+o[n]+"Label"],f=o[n]+"-zdatetimepicker";e("<button role='button' class='zbutton zbutton--small "+f+" "+("OKButton"===o[n]?"zbutton--primary":"")+"'><span class='zbutton__text'>"+l+"</span></button>").appendTo(_)}}},_todayClickHandler:function(t){var i=new Date(this._viewDate.getTime()),s=this._viewMode;if(this._viewDate=new Date,this._viewDate.setHours(0,0,0,0),(0===this._viewMode&&!ZDateUtil.areDatesEqual(this._viewDate,i)||0!==this._viewMode)&&(this._setViewMode(0,!0),this._renderContent()),this._dispatchEvent("TODAYBUTTONCLICK",t,{valueString:ZDateUtil.formatDate(this._viewDate,this.options.format),value:this._viewDate}),"navigate-and-select"===this.options.todayButtonAction){var o=this.element.find("[data-time='"+this._viewDate.getTime()+"']");o.hasClass(e.zdatetimepicker._CLASSES.disabled)||(this._setDate(t,o,this._viewDate),0===s&&this.options.closeOnDateSelect&&this.options.immediateCommit&&"single"===this.options.selectionType&&this._closePicker())}},_bindSelectBox:function(){this._monthHeader&&this._monthHeader.zselectbox({dropdownList:{width:99,height:330,className:"zdatetimepicker--menu"},width:"107px"}),this._yearHeader&&this._yearHeader.zcombobox({acceptNewValues:!0,dropdownList:{width:99,height:330,className:"zdatetimepicker--menu"},width:"82px"})},_bindEvents:function(t){var i=this.options.navigationBar.monthYearSwitcherType,s=e.zdatetimepicker._CLASSES.disabled,o=this.componentName;this._bindArrowEvents(),!t&&this.element.off("mousedown."+o).on("mousedown."+o,"."+e.zdatetimepicker._CLASSES.date+":not(."+s+"), ."+e.zdatetimepicker._CLASSES.adjacent+":not(."+s+"), .zdatetimepicker__monthview:not(."+s+"), .zdatetimepicker__year:not(."+s+"), .zdatetimepicker__decade:not(."+s+")",this._dateClickHandler.bind(this)),this.element.off("mouseover."+o).on("mouseover."+o,this._mouseOverHandler.bind(this)),1===this._monthsPerView&&"drilldown"===i&&this._monthYearNav&&this._monthYearNav.on("click."+o,this._monthYearNavClickHandler.bind(this)),"dropdown"===i&&e("#"+this._elementId+"-month-header, #"+this._elementId+"-year-header").on("zselectboxitemclick zcomboboxchange",this._selectClickHandler.bind(this)),this.element.on("keydown."+o,this._keydownHandler.bind(this))},_keydownHandler:function(e){e.keyCode===t.keyCode.ESCAPE&&this._closePicker(e)},_mouseOverHandler:function(t){var i=e(t.target);(i.closest("."+e.zdatetimepicker._CLASSES.date).length||i.closest("."+e.zdatetimepicker._CLASSES.adjacent).length)&&this._dispatchEvent("DATEMOUSEOVER",t,{cell:i})},_monthYearNavClickHandler:function(t,e){this.options.navigationBar.monthSwitcher?(t.stopPropagation(),this._fillMonths(t,e)):this.options.navigationBar.yearSwitcher&&(t.stopPropagation(),this._fillYears(t,e))},_fillMonths:function(t,i){var s;i=i||this.element,t&&void 0!==t.type&&(s=t),this._dispatchEvent("BEFOREDRILLDOWN",s,{viewMode:this._viewMode,element:this.element}),this._monthDrillDownElement?(this._updateMonthClasses(i),this._updateYearArrowState(1)):(this._monthDrillDownElement=e("<div class='zdatetimepicker__months "+e.zdatetimepicker._CLASSES.body+"'>").insertAfter(i.find(".zdatetimepicker__days")[0]),this._buildMonthNavBar(),this._buildMonthNavBarBody(),this.options.navigationBar.yearSwitcher&&this._monthDrillDownElement.find("."+e.zdatetimepicker._CLASSES.monthYearNav).on("click."+this.componentName,this._fillYears.bind(this)).addClass("h-cursorpointer")),this._setViewMode(1,"boolean"==typeof t,i),this._dispatchEvent("DRILLDOWN",s,{viewMode:this._viewMode,element:this.element,viewElement:this._monthDrillDownElement})},_fillYears:function(t,i){var s;if(t&&void 0!==t.type&&(t.stopPropagation(),t.preventDefault()),this._monthDrillDownElement&&1===this._viewMode||this._fillMonths(void 0,i),this._dispatchEvent("BEFOREDRILLDOWN",s,{viewMode:this._viewMode,element:this.element}),this._yearDrillDownElement){this._yearDrillDownElement.find("."+e.zdatetimepicker._CLASSES.gridContainer).remove();var o=this._viewDate.getFullYear(),n=10*Math.floor(o/10),a=n+9;this._yearDrillDownElement.find("."+e.zdatetimepicker._CLASSES.yearNav).text(n+"-"+a),this._yearNavBar.find("."+e.zdatetimepicker._CLASSES.yearNav).data({start:n}),this._updateYearArrowState(2,n),this._buildYearNavBarBody()}else this._yearDrillDownElement=e("<div class='zdatetimepicker__years "+e.zdatetimepicker._CLASSES.body+"'>"),this._monthDrillDownElement?this._yearDrillDownElement.insertAfter(this._monthDrillDownElement):void 0,this._buildYearNavBar(),this._buildYearNavBarBody(),this._yearDrillDownElement.find("."+e.zdatetimepicker._CLASSES.monthYearNav).on("click."+this.componentName,this._fillDecades.bind(this)).addClass("h-cursorpointer");this._setViewMode(2,"boolean"==typeof t,i),this._dispatchEvent("BEFOREDRILLDOWN",s,{viewMode:this._viewMode,element:this.element,viewElement:this._yearDrillDownElement})},_fillDecades:function(t,i){var s;if(void 0!==t.type&&(t.stopPropagation(),t.preventDefault()),this._yearDrillDownElement||this._fillYears(void 0,i),this._dispatchEvent("BEFOREDRILLDOWN",s,{viewMode:this._viewMode,element:this.element}),this._decadeDrillDownElement){this._decadeDrillDownElement.find("."+e.zdatetimepicker._CLASSES.gridContainer).remove();var o=this._viewDate.getFullYear(),n=100*Math.floor(o/100),a=n+90;this._decadeDrillDownElement.find("."+e.zdatetimepicker._CLASSES.yearNav).text(n+"-"+a),this._decadeNavBar.find("."+e.zdatetimepicker._CLASSES.yearNav).data({start:n}),this._buildDecadeNavBarBody()}else this._decadeDrillDownElement=e("<div class='zdatetimepicker__decades "+e.zdatetimepicker._CLASSES.body+"'>"),this._yearDrillDownElement?this._decadeDrillDownElement.insertAfter(this._yearDrillDownElement):void 0,this._buildDecadeNavBar(),this._buildDecadeNavBarBody();this._setViewMode(3,"boolean"==typeof t,i),this._dispatchEvent("BEFOREDRILLDOWN",s,{viewMode:this._viewMode,element:this.element,viewElement:this._decadeDrillDownElement})},_buildDecadeNavBar:function(){this._decadeNavBar=e("<div class='"+e.zdatetimepicker._CLASSES.navBar+"'></div>");var t=this._viewDate.getFullYear(),i=100*Math.floor(t/100),s=i+90,o="<div class='"+e.zdatetimepicker._CLASSES.monthYearNav+"'><span class='"+e.zdatetimepicker._CLASSES.yearNav+"'>"+i+" - "+s+"</span></div>";this._decadeDrillDownElement.append(this._decadeNavBar),this._createNavButtons(this._decadeNavBar,o,3),this._updateYearArrowState(3,i),this._decadeNavBar.find("."+e.zdatetimepicker._CLASSES.yearNav).data({start:i}),e("#"+this._elementId+"-left-month-3, #"+this._elementId+"-right-month-3").on("click."+this.componentName,this._handleDecadeArrowClick.bind(this))},_buildDecadeNavBarBody:function(t){var i,s=t||this._viewDate.getFullYear(),o=100*Math.floor(s/100)-10,n=o+120,a=0,r=e("<div class='"+e.zdatetimepicker._CLASSES.gridContainer+"'><table class='"+e.zdatetimepicker._CLASSES.monthYearTable+"'><tbody></tbody></table></div>");i="<tr role='row'>",r.insertAfter(this._decadeNavBar);for(var l=o;l<n;l+=10){a++;var h=this._getDecadeClass(l,a);i+="<td role='gridcell' class='"+h+"'>"+l+"</td>",12!==a&&a%4===0&&(i+="<tr role='row'>")}r.find("tbody").append(i)},_getDecadeClass:function(t,i){var s=(1===i||12===i?" zdatetimepicker__drilldownnearlevelcell":e.zdatetimepicker._CLASSES.grid)+" zdatetimepicker__decade ",o=this._minDate,n=this._maxDate;return(o&&t<10*Math.floor(o.getFullYear()/10)||n&&t>10*Math.floor(n.getFullYear()/10))&&(s+=" "+e.zdatetimepicker._CLASSES.disabled),s},_buildYearNavBarBody:function(t){var i,s=t||this._viewDate.getFullYear(),o=10*Math.floor(s/10)-1,n=o+12,a=0,r=e("<div class='"+e.zdatetimepicker._CLASSES.gridContainer+"'><table class='"+e.zdatetimepicker._CLASSES.monthYearTable+"'><tbody></tbody></table></div>");i="<tr role='row'>",r.insertAfter(this._yearNavBar);for(var l=o;l<n;l++){a++;var h=this._getYearClasses(l,a);i+="<td role='gridcell' class='"+h+"' data-year='"+l+"'>"+l+"</td>",12!==a&&a%4===0&&(i+="<tr role='row'>")}r.find("tbody").html(i)},_getYearClasses:function(t,i){var s="zdatetimepicker__year "+(1===i||12===i?" zdatetimepicker__drilldownnearlevelcell":e.zdatetimepicker._CLASSES.grid),o=new Date,n=this._minDate,a=this._maxDate;if(this.options.value&&this.options.value.getFullYear()===t&&this._currentSelected&&this._currentSelected.getFullYear()===t&&(s+=" "+e.zdatetimepicker._CLASSES.selected),this._currentSelected&&this._currentSelected.getFullYear()===t&&(s+=" "+e.zdatetimepicker._CLASSES.selected),"multiple"===this.options.selectionType&&this.options.values.length)for(var r=0,l=this._selectedDates.length;r<l;r++)t===this._selectedDates[r].getFullYear()&&(s+=" "+e.zdatetimepicker._CLASSES.selected);return o.getFullYear()===t&&(s+=" "+e.zdatetimepicker._CLASSES.currentGrid),(n&&t<n.getFullYear()||a&&t>a.getFullYear()||this.options.disabledYears&&this.options.disabledYears.indexOf(t)>-1)&&(s+=" "+e.zdatetimepicker._CLASSES.disabled),s},_buildYearNavBar:function(){this._yearNavBar=e("<div class='"+e.zdatetimepicker._CLASSES.navBar+"'></div>");var t=this._viewDate.getFullYear(),i=10*Math.floor(t/10),s=i+9,o="<div class='"+e.zdatetimepicker._CLASSES.monthYearNav+"'><span class='"+e.zdatetimepicker._CLASSES.yearNav+"'>"+i+" - "+s+"</span></div>";this._yearDrillDownElement.append(this._yearNavBar),this._createNavButtons(this._yearNavBar,o,2),this._updateYearArrowState(2,i),this._yearNavBar.find("."+e.zdatetimepicker._CLASSES.yearNav).data({start:i}),e("#"+this._elementId+"-left-month-2, #"+this._elementId+"-right-month-2").on("click."+this.componentName,this._handleDecadeArrowClick.bind(this))},_handleDecadeArrowClick:function(t,i,s){t.stopPropagation();var o=e(t.target),n=t.currentTarget.getAttribute("id");if(i=i||this.element,s=s||this._viewDate,!o.closest("."+e.zdatetimepicker._CLASSES.navButton).hasClass(e.zdatetimepicker._CLASSES.disabled)){var a,r,l,h,d,c,p,u;a=i.find("."+(2===this._viewMode?"zdatetimepicker__years":"zdatetimepicker__decades")).find("."+e.zdatetimepicker._CLASSES.yearNav),r=n.indexOf(this._elementId+"-right-month")>-1?1:-1,l=2===this._viewMode?10:100,p=2===this._viewMode?9:90,h=a.data("start")||s.getFullYear(),d=h+l*r,i.find("."+(2===this._viewMode?"zdatetimepicker__years":"zdatetimepicker__decades")).find("."+e.zdatetimepicker._CLASSES.gridContainer).remove(),2===this._viewMode?this._buildYearNavBarBody(d):this._buildDecadeNavBarBody(d),c=Math.floor(d/l)*l,u=c+p,a.text(c+" -"+u),a.data({start:c}),this._updateYearArrowState(this._viewMode,c)}this._dispatchEvent(2===this._viewMode?"DECADECHANGE":"CENTURYCHANGE",t,{viewDate:this._viewDate,value:this.options.value})},_createNavButtons:function(t,i,s){var o,n,a=this.options.navigationBar.navigationButtonsDisplayPattern;("split"===a||"together"===a&&"left"===this.options.navigationBar.togetherTypeNavigationButtonsPosition)&&(o=e(e.zdatetimepicker._LEFTNAV),"together"===a&&t.addClass(e.zdatetimepicker._CLASSES.navOnLeft)),("split"===a||"together"===a&&"right"===this.options.navigationBar.togetherTypeNavigationButtonsPosition)&&(n=e(e.zdatetimepicker._RIGHTNAV),"together"===a&&t.addClass(e.zdatetimepicker._CLASSES.navOnRight)),o&&t.append(o),t.append(i),n&&t.append(n),this._createMonthArrows(o,n,s,!0,!0)},_buildMonthNavBar:function(){this._monthNavBar=e("<div class='"+e.zdatetimepicker._CLASSES.navBar+"'></div>");var t=(this.options.navigationBar.navigationButtonsDisplayPattern,"<div class='"+e.zdatetimepicker._CLASSES.monthYearNav+"'><span class='"+e.zdatetimepicker._CLASSES.yearNav+"'>"+this._viewDate.getFullYear()+"</span></div>");this._monthDrillDownElement.append(this._monthNavBar),this._createNavButtons(this._monthNavBar,t,1),this._updateYearArrowState(1),e("#"+this._elementId+"-left-month-1, #"+this._elementId+"-right-month-1").on("click."+this.componentName,this._handleYearClick.bind(this))},_handleYearClick:function(t,i,s){this._rowsCount=[];var o=e(t.target),n=t.currentTarget.getAttribute("id");if(!o.closest("."+e.zdatetimepicker._CLASSES.navButton).hasClass(e.zdatetimepicker._CLASSES.disabled)){var a=n.indexOf(this._elementId+"-right-year")>-1||n.indexOf(this._elementId+"-right-month")>-1&&this._viewMode>0?this.options.navigationBar.yearNavigationStep:-this.options.navigationBar.yearNavigationStep;s=s||this._viewDate,i=i||this.element,s.setFullYear(s.getFullYear()+a),this._viewDate=new Date(s.getTime()),this._fillNavBarContent(s,i.find(".zdatetimepicker__months")),this._updateYearArrowState(1),this._updateMonthClasses(i)}},_updateYearArrowState:function(t,i){i=i||this._viewDate.getFullYear();var s;1===t?s=1:2===t?s=10:3===t&&(s=100);var o=this._maxDate&&i+s>Math.floor(this._maxDate.getFullYear()/s)*s||!1;e("#"+this._elementId+"-right-month-"+t).toggleClass(e.zdatetimepicker._CLASSES.disabled,o);var n=this._minDate&&i-s<Math.floor(this._minDate.getFullYear()/s)*s||!1;e("#"+this._elementId+"-left-month-"+t).toggleClass(e.zdatetimepicker._CLASSES.disabled,n)},_createYearArrows:function(t,i,s,o){var n,a,r,l,h=this.options.navigationBar;if(s){var d;n=e(e.zdatetimepicker._NAVBUTTON).attr("id",this._elementId+"-left-year"),r=n.find("."+e.zdatetimepicker._CLASSES.navIcon);var c={props:{viewBox:"0 0 12 12"},nodes:[{polygon:{points:"5.6,10.3 1.9,6.5 5.6,2.6 6.3,3.4 3.3,6.5 6.4,9.6"}},{polygon:{points:"9.6,10.3 5.9,6.5 9.6,2.6 10.3,3.4 7.3,6.5 10.4,9.6"}}]};this._handleIcon(r,c,"leftyear",h.previousYearButtonIconClassName,h.previousYearButtonSVGIconId),"split"===h.navigationButtonsDisplayPattern?n.prependTo(t):"right"===h.togetherTypeNavigationButtonsPosition?n.prependTo(i):n.prependTo(t),d=this._localize("prevYear"),n.attr({title:d,"aria-label":d})}if(o){var p;a=e(e.zdatetimepicker._NAVBUTTON).attr("id",this._elementId+"-right-year"),l=a.find("."+e.zdatetimepicker._CLASSES.navIcon);var c={props:{viewBox:"1 0 12 12"},nodes:[{polygon:{points:"7.4,10.3 6.7,9.6 9.7,6.5 6.6,3.4 7.4,2.7 11.1,6.5"}},{polygon:{points:"3.4,10.3 2.7,9.6 5.7,6.5 2.6,3.4 3.4,2.7 7.1,6.5"}}]};this._handleIcon(l,c,"rightyear",h.nextYearButtonIconClassName,h.nextYearButtonSVGIconId),"right"===h.togetherTypeNavigationButtonsPosition||"split"===h.navigationButtonsDisplayPattern?a.appendTo(i):"left"===h.togetherTypeNavigationButtonsPosition&&a.appendTo(t),p=this._localize("nextYear"),a.attr({title:p,"aria-label":p})}},_getMonthClasses:function(t){var i="zdatetimepicker__monthview "+e.zdatetimepicker._CLASSES.grid,s=new Date,o=this._minDate,n=this._maxDate;if(this.options.value&&this.options.value.getMonth()===t&&this.options.value.getFullYear()===this._viewDate.getFullYear()&&this._currentSelected&&this._currentSelected.getMonth()===t&&this._currentSelected.getFullYear()===this._viewDate.getFullYear()&&(i+=" "+e.zdatetimepicker._CLASSES.selected),this._currentSelected&&this._currentSelected.getMonth()===t&&this._currentSelected.getFullYear()===this._viewDate.getFullYear()&&(i+=" "+e.zdatetimepicker._CLASSES.selected),"multiple"===this.options.selectionType)for(var a=0,r=this._selectedDates.length;a<r;a++)this._viewDate.getFullYear()===this._selectedDates[a].getFullYear()&&this._selectedDates[a].getMonth()===t&&(i+=" "+e.zdatetimepicker._CLASSES.selected);return s.getMonth()===t&&s.getFullYear()===this._viewDate.getFullYear()&&(i+=" "+e.zdatetimepicker._CLASSES.currentGrid),(o&&(this._viewDate.getFullYear()===o.getFullYear()&&t<o.getMonth()||this._viewDate.getFullYear()<o.getFullYear())||n&&(this._viewDate.getFullYear()===n.getFullYear()&&t>n.getMonth()||this._viewDate.getFullYear()>n.getFullYear())||this.options.disabledMonths instanceof Array&&this.options.disabledMonths.indexOf(t)>-1||this.options.disabledYears instanceof Array&&this.options.disabledYears.indexOf(this._viewDate.getFullYear())>-1)&&(i+=" "+e.zdatetimepicker._CLASSES.disabled),i},_buildMonthNavBarBody:function(){var t=e("<div class='"+e.zdatetimepicker._CLASSES.gridContainer+"'><table class='"+e.zdatetimepicker._CLASSES.monthYearTable+"'><tbody></tbody></table></div>"),i="",s=this.options.navigationBar.monthFormatInSwitcher.indexOf("MMMM")>-1?this._localize("months"):this._localize("monthsAbbreviated");t.insertAfter(this._monthNavBar),i="<tr role='row'>";for(var o=0;o<12;o++){var n=this._getMonthClasses(o);i+="<td role='gridcell' class='"+n+" ' data-month-index='"+o+"'>"+s[o]+"</td>",o+1!==12&&(o+1)%4===0&&(i+="<tr role='row'>")}t.find("tbody").append(i)},_closeClickHandler:function(t){this._closePicker(t)},_selectClickHandler:function(t,i,s){this._rowsCount=[];var o,n,a=Number(i.selectedValue),r=this._monthsPerView;if(this._viewDate.setDate(1),i.dropdownList&&(i.dropdownList.attr("id").indexOf("month-header")>-1?(this._viewDate.setMonth(a),o=!0,this._buildDropdownNavElement(a)):(this._viewDate.setFullYear(a||this._viewDate.getFullYear()),n=!0,this._buildDropdownNavElement(void 0,a||this._viewDate.getFullYear()))),this._minDate&&ZDateUtil.isGreater(this._minDate,this._viewDate)){for(this._viewDate.setFullYear(this._minDate.getFullYear());ZDateUtil.isGreater(this._minDate,this._viewDate)&&!ZDateUtil.areDatesEqual(this._minDate,this._viewDate);)this._viewDate.getMonth()===this._minDate.getMonth()&&this._viewDate.getFullYear()===this._minDate.getFullYear()?this._viewDate.setDate(this._minDate.getDate()):this._viewDate.setFullYear(this._viewDate.getFullYear()+1);this._yearHeader&&this._yearHeader.zcombobox("setAttribute","selectedValue",this._viewDate.getFullYear())}if(this._maxDate&&ZDateUtil.isGreater(this._viewDate,this._maxDate)){for(this._viewDate.setFullYear(this._maxDate.getFullYear());ZDateUtil.isGreater(this._viewDate,this._maxDate)&&!ZDateUtil.areDatesEqual(this._maxDate,this._viewDate);)this._viewDate.setFullYear(this._viewDate.getFullYear()-1);this._yearHeader&&this._yearHeader.zcombobox("setAttribute","selectedValue",this._viewDate.getFullYear())}for(var l=0;l<r;l++){var h=new Date(this._viewDate.getTime()),s=1===r?s||this.element:e(this.element.find("."+e.zdatetimepicker._CLASSES.datepicker)[l]);h=this._moveMonth(this._viewDate,l),r>1&&"multiple"===this.options.selectionType&&0===l&&this._yearHeader&&h.setFullYear(this._yearHeader.zcombobox("getValue")),o=!0,this._fillDates(h,s),(0===l||l===this._monthsPerView-1)&&this._updateArrowState(h,l),0!==l&&(s.find("."+e.zdatetimepicker._CLASSES.monthNav).text(this._localize(this.options.navigationBar.monthYearHeadingFormat.split(" ").indexOf("MMMM")>-1?"months":"monthsAbbreviated")[h.getMonth()]),s.find("."+e.zdatetimepicker._CLASSES.yearNav).text(h.getFullYear()))}(this._minDate||this._maxDate)&&this._checkOptions(a,s),this._validateDisabledMonthYear(),this._appendEmptyTd(),this._dispatchEvent(o?"MONTHCHANGE":"YEARCHANGE",t,{viewDate:this._viewDate,value:this.options.value,selectedValue:o?this._viewDate.getMonth():this._viewDate.getFullYear()})},_dateClickHandler:function(t,i){t.stopPropagation(),t.preventDefault();var s=e(t.target);this.options.navigationBar.monthYearSwitcherType;s.closest("."+e.zdatetimepicker._CLASSES.date).length?s=s.closest("."+e.zdatetimepicker._CLASSES.date):s.closest("."+e.zdatetimepicker._CLASSES.adjacent).length&&(s=s.closest("."+e.zdatetimepicker._CLASSES.adjacent));var o;if(s.attr("data-time")&&(o=new Date(parseInt(s.attr("data-time")))),s.hasClass(e.zdatetimepicker._CLASSES.date)&&o)this._setDate(t,s,o);else if(this.options.allowSelectionOfAdjacentMonthDates&&s.hasClass(e.zdatetimepicker._CLASSES.adjacent)&&o){var n=s.hasClass("is-selected");this._setDate(t,s,o),this._viewDate=new Date(o.getTime()),this._monthsPerView>1&&this.options.selectedDateMonthViewIndex>=0&&(this._viewDate=this._moveMonth(this.options.value,-this.options.selectedDateMonthViewIndex)),this._renderContent(),"single"===this.options.selectionType||"multiple"===this.options.selectionType&&!n&&this.element.find("[data-time='"+o.getTime()+"']").addClass(e.zdatetimepicker._CLASSES.selected).attr("aria-selected",!0)}else if(s.hasClass("zdatetimepicker__monthview")||s.hasClass("zdatetimepicker__year")){var a;new Date(this._viewDate.getTime());if(s.hasClass("zdatetimepicker__monthview")&&(a=!0,this._viewDate.setMonth(parseInt(s.attr("data-month-index")))),s.hasClass("zdatetimepicker__year")&&this._viewDate.setFullYear(parseInt(s.text())),this.options.navigationBar.updateDateOnMonthYearSwitch&&this.options.immediateCommit&&this._applyClickHandler(t,!0),0!==this._viewMode){var r=this._viewMode-1;s.hasClass("zdatetimepicker__year")&&(this.options.navigationBar.monthSwitcher||(r=0)),this._setViewMode(r),0===this._viewMode&&this._renderContent(0),1===this._viewMode&&(this.element.find(".zdatetimepicker__months").find("."+e.zdatetimepicker._CLASSES.yearNav).text(this._viewDate.getFullYear()),this._updateMonthClasses(),this._updateYearArrowState(1))}this._dispatchEvent(a?"MONTHCHANGE":"YEARCHANGE",t,{viewDate:this._viewDate,value:this.options.value,selectedValue:a?parseInt(s.attr("data-month-index")):parseInt(s.text())})}else s.hasClass("zdatetimepicker__decade")&&(this._viewDate.setFullYear(parseInt(s.text())),0!==this._viewMode&&(this._setViewMode(this._viewMode-1),2===this._viewMode&&this._fillYears()),this._dispatchEvent("DECADECHANGE",t,{viewDate:this._viewDate,value:this.options.value,selectedValue:parseInt(s.text())}))},_updateMonthClasses:function(t){t=t||this.element;for(var i=t.find(".zdatetimepicker__monthview"),s=0;s<12;s++){var o=this._getMonthClasses(s);e(i[s]).attr("class",o)}},_renderContent:function(t,i,s,o){s=void 0===s||s,o=void 0===o||o,i=i||this.element,t=t||0;var n,a=this.options.navigationBar.monthYearSwitcherType;this.element.find("."+e.zdatetimepicker._CLASSES.disabledCalendar).removeClass(e.zdatetimepicker._CLASSES.disabledCalendar),this._rowsCount=[];for(var r=t;r<this._monthsPerView;r++){n=this._monthsPerView>1?e(i.find("."+e.zdatetimepicker._CLASSES.datepicker)[r]):i;var l=new Date(this._viewDate.getTime());if(l=this._moveMonth(l,r),s){if(0===r&&"dropdown"===a){var h=this._yearHeader;if(this._checkOptions(),this._buildDropdownNavElement(this._viewDate.getMonth(),this._viewDate.getFullYear()),!h&&this.options.navigationBar.yearSwitcher){this._yearHeader.zcombobox({acceptNewValues:!0,dropdownList:{width:99,height:330,className:"zdatetimepicker--menu"}}),this._yearHeader.on("zcomboboxchange",this._selectClickHandler.bind(this));var d=this._monthHeader.zselectbox("getElement");this._monthHeader&&e(this._yearHeader.zcombobox("getElement")).insertAfter(d)}}(r>0&&"dropdown"===a||"dropdown"!==a)&&this._fillNavBarContent(l,n)}this._fillDates(l,n),o&&(0===r||r===this._monthsPerView-1)&&this._updateArrowState(l,r)}this._appendEmptyTd()},_appendEmptyTd:function(){3===this._monthsPerView&&5===this._rowsCount[1]&&this._rowsCount.indexOf(6)>-1&&e(this.element.find("li")[1]).find("."+e.zdatetimepicker._CLASSES.monthContainer).find("tbody").append("<tr role='row'><td role='gridcell'></td></tr>")},_getClass:function(t){var e;switch(t){case 0:e="days",this._rowsCount=[];break;case 1:e="months";break;case 2:e="years";break;case 3:e="decades"}return e},_setViewMode:function(t,i,s){var o;e.zdatetimepicker._CLASSES;switch(o=this._getClass(this._viewMode),s=s||this.element,0===this._viewMode&&this.element.is(":visible")&&(this._width=s.find("."+e.zdatetimepicker._CLASSES.monthContainer).outerWidth()),this._viewMode){case 0:var n=e(s.find("."+e.zdatetimepicker._CLASSES.monthContainer)[0]).find("table");n.removeClass("zeffects--zoomin"),!i&&n.addClass("zeffects--zoomout");break;default:var n=s.find(".zdatetimepicker__"+o).find("."+e.zdatetimepicker._CLASSES.monthYearTable);n.removeClass("zeffects--zoomin"),!i&&n.addClass("zeffects--zoomout")}this._viewMode=t;this._monthsPerView>1&&this.element.find("li").nextAll().find("."+e.zdatetimepicker._CLASSES.dateView+",."+e.zdatetimepicker._CLASSES.weeknumbers+",."+e.zdatetimepicker._CLASSES.navBar).addClass(e.zdatetimepicker._CLASSES.disabledCalendar),clearTimeout(this._animationTimeout),i?this._animationHandler(s,i):this._animationTimeout=setTimeout(this._animationHandler.bind(this,s,i),300)},_animationHandler:function(t,i){var s=e.zdatetimepicker._CLASSES,o=this._getClass(this._viewMode);switch(t=1===this._monthsPerView?t.children("div:not(."+s.footer+"):not(."+s.header+"):not(."+s.pointer+"):not(."+s.timepicker+"):not(.zdatetimepicker--custom)").hide().filter(".zdatetimepicker__"+o):e(this.element.find("ul").find("li")[0]).find("."+e.zdatetimepicker._CLASSES.datepicker).children().hide().filter(".zdatetimepicker__"+o),this._viewMode){case 0:var n=e(t.find("."+e.zdatetimepicker._CLASSES.monthContainer)[0]).find("table");n.removeClass("zeffects--zoomout"),!i&&n.addClass("zeffects--zoomin");break;default:var n=t.find("."+e.zdatetimepicker._CLASSES.monthYearTable);n.removeClass("zeffects--zoomout"),!i&&n.addClass("zeffects--zoomin")}this._width&&0!==this._viewMode&&t.width(this._width),t.show()},_setDate:function(t,i,s,o){var n=t,a=!n||this._dispatchEvent("BEFOREDATESELECT",t,{selectedDate:s});if(a){this.options.immediateCommit&&(this._valueUpdate=!1),this._limitReached=!1;var r=s.getTime(),l=new Date(this._viewDate.getTime()),h=ZDateUtil.formatDate(s,this.options.format);if(this._reset&&this._reset.length&&this._reset.removeClass("is-disabled").removeAttr("disabled"),"single"===this.options.selectionType)this.element.find("."+e.zdatetimepicker._CLASSES.selected).removeClass(e.zdatetimepicker._CLASSES.selected).removeAttr("aria-selected"),i.addClass(e.zdatetimepicker._CLASSES.selected).attr("aria-selected",!0),this._viewDate=new Date(r),this._currentSelected=new Date(r),this._hasTime&&this._viewDate.setHours(l.getHours(),l.getMinutes(),l.getSeconds()),this.options.immediateCommit&&(this.options.value=new Date(r),this._applyClickHandler(t,!0,o)),n&&this._dispatchEvent("DATESELECT",t,{valueString:h,value:this.options.value,selectedDate:this._viewDate});else{if(i.hasClass("is-selected")){if(!t||t&&0===e(t.target).closest(".zdatetimepicker__todaylink").length){i.removeClass("is-selected").removeAttr("aria-selected");var d=this._getDateIndex(s),c=this._selectedDates.length;d!==-1&&(c===this.options.selectionLimit&&this._queryString&&this.element.find("."+e.zdatetimepicker._CLASSES.date+",."+e.zdatetimepicker._CLASSES.adjacent).filter(this._queryString).removeClass(e.zdatetimepicker._CLASSES.disabled).removeAttr("aria-disabled"),this._selectedDates.splice(d,1),this.options.immediateCommit&&this.options.values.splice(d,1)),c>0&&this.options.immediateCommit&&(this._valueUpdate=!0,this._applyClickHandler(t,!0))}}else i.addClass(e.zdatetimepicker._CLASSES.selected).attr("aria-selected",!0),this._selectedTime&&s.setHours(this._selectedTime.getHours(),this._selectedTime.getMinutes(),0,0),this._selectedDates.push(new Date(r)),this._hasTime&&this._viewDate.setHours(l.getHours(),l.getMinutes(),l.getSeconds()),this.options.immediateCommit&&(this._valueUpdate=!0,this._applyClickHandler(t,!0)),this._queryString="",this._selectedDates.length===this.options.selectionLimit&&(this._queryString||(this._queryString=":not(",this._getQueryString()),this.element.find("."+e.zdatetimepicker._CLASSES.date+",."+e.zdatetimepicker._CLASSES.adjacent).filter(this._queryString).addClass(e.zdatetimepicker._CLASSES.disabled).attr("aria-disabled",!0),this._limitReached=!0);this._reset&&this._reset.length&&this._reset[this._selectedDates.length?"removeClass":"addClass"]("is-disabled").attr("disabled",!this._selectedDates.length),n&&this._dispatchEvent("DATESELECT",t,{values:this.options.values,valuesObject:this._selectedDates})}this._hasTime&&this._setBoundaryValuesForTimeInput()}},_checkBoundaryValues:function(){if(this._minDateHasTime||this._maxDateHasTime){var t,e,i=new Date(this._viewDate.getTime());return i.setHours(0,0,0,0),this._minDate&&(ZDateUtil.areDatesEqual(this._minDate,i)||(t=!0)),this._maxDate&&(ZDateUtil.areDatesEqual(this._maxDate,i)||(e=!0)),{min:t,max:e}}return{}},_setBoundaryValuesForTimeInput:function(){if(this._minDateHasTime||this._maxDateHasTime){var t,e,i=this.options.timeFieldType,s=this._checkBoundaryValues();if("input"===i)t=this._timeElement.find("input").zdatetimefield("getAttribute","value"),e,e=new Date(t.getTime()),e.setDate(this._viewDate.getDate()),e.setMonth(this._viewDate.getMonth()),e.setFullYear(this._viewDate.getFullYear()),s.min?this._timeElement.find("input").zdatetimefield("setAttribute","value",e):this._timeElement.find("input").zdatetimefield("setAttribute","value",this._minTime);else if("multiple-select-box"===i){var s,o=this._minTime?new Date(this._minTime.getTime()):void 0,n=this._maxTime?new Date(this._maxTime.getTime()):void 0;s.min&&(o=this._unsetValue("_minTime")),s.max&&(n=this._unsetValue("_maxTime")),this._checkTimeValue(),this._checkTimeOptions(),s.min&&this._setBoundary(o,"_minTime"),s.max&&this._setBoundary(n,"_maxTime")}}},_checkTimeValue:function(){var t,e,i;t=new Date(this._viewDate.getTime()),this._resetToToday(t),this._minTime&&(e=new Date(this._minTime.getTime())),this._resetToToday(e),this._maxTime&&(i=new Date(this._maxTime.getTime())),this._resetToToday(i),e&&t&&t.getTime()<e.getTime()&&(t=new Date(e.getTime())),i&&t&&t.getTime()>i.getTime()&&(t=new Date(i.getTime())),this._viewDate.setHours(t.getHours(),t.getMinutes(),0,0),this._selectedTime=new Date(this._viewDate.getTime())},_resetToToday:function(t){var e=new Date;t&&(t.setDate(e.getDate()),t.setMonth(e.getMonth()),t.setFullYear(e.getFullYear()))},_getQueryString:function(){for(var t=0,e=this._selectedDates.length;t<e;t++){var i=this._resetTime(this._selectedDates[t]);this._queryString+="[data-time='"+i.getTime()+"']",t!=e-1?this._queryString+=",":this._queryString+=", .zdisabled)"}},_getDateIndex:function(t){for(var e=0,i=this._selectedDates.length;e<i;e++)if(ZDateUtil.areDatesEqual(t,this._selectedDates[e]))return e;return-1},_handleYearArrowClick:function(t,i,s){this._rowsCount=[];var o=e(t.target),n=t.currentTarget.getAttribute("id");if(!o.closest("."+e.zdatetimepicker._CLASSES.navButton).hasClass(e.zdatetimepicker._CLASSES.disabled)){var a=n.indexOf(this._elementId+"-right-year")>-1||n.indexOf(this._elementId+"-right-month")>-1&&this._viewMode>0?this.options.navigationBar.yearNavigationStep:-this.options.navigationBar.yearNavigationStep;this._arrowClickHandler(a,void 0,!0,i,s)}this._dispatchEvent("YEARCHANGE",t,{viewDate:this._viewDate,value:this.options.value})},_fillNavBarContent:function(t,i){var i=i||this.element;i.find("."+e.zdatetimepicker._CLASSES.monthNav).text(this._localize(this.options.navigationBar.monthYearHeadingFormat.split(" ").indexOf("MMMM")>-1?"months":"monthsAbbreviated")[t.getMonth()]),i.find("."+e.zdatetimepicker._CLASSES.yearNav).text(t.getFullYear())},_handleMonthArrowClick:function(t,i,s){this._rowsCount=[];var o=e(t.target),n=t.currentTarget.getAttribute("id");if(!o.closest("."+e.zdatetimepicker._CLASSES.navButton).hasClass(e.zdatetimepicker._CLASSES.disabled)){var a=n.indexOf(this._elementId+"-right-month")>-1?this.options.navigationBar.monthNavigationStep:-this.options.navigationBar.monthNavigationStep;this._monthsPerView>1&&this._currentSelected&&(s=parseInt(e(this.element.find("li").find(".zdatetimepicker__monthcontainer")[0]).find("td."+e.zdatetimepicker._CLASSES.date+"[data-time]")[0].getAttribute("data-time")),s=new Date(s)),this._arrowClickHandler(a,!0,void 0,i,s)}this._dispatchEvent("MONTHCHANGE",t,{viewDate:this._viewDate,value:this.options.value})},_arrowClickHandler:function(t,i,s,o,n){for(var a,r=this.options.navigationBar.monthYearSwitcherType,l=this._monthsPerView,n=n&&!isNaN(n.getTime())?n:this._viewDate,o=o||this.element,h=new Date(n.getTime()),d=1;d<=l;d++){var c=l>1?e(this.element.find("."+e.zdatetimepicker._CLASSES.datepicker)[d-1]):o;i&&(a=t>1?this._moveMonth(h,1===d?t:1):this._moveMonth(n,1===d?t:d-1)),s&&(l>1?a=new Date(parseInt(c.find("td."+e.zdatetimepicker._CLASSES.date+"[data-time]")[0].getAttribute("data-time"))):!a&&(a=new Date(n)),a.setFullYear(a.getFullYear()+t)),(this.options.navigationBar.monthNavigationStep>1||this.options.navigationBar.yearNavigationStep>1)&&(this._minDate&&ZDateUtil.isGreater(this._minDate,a)&&(a=new Date(this._minDate.getTime())),this._maxDate&&ZDateUtil.isGreater(a,this._maxDate)&&(a=new Date(this._maxDate.getTime()))),1===d&&a&&(this._viewDate=new Date(a.getTime())),this._fillDates(a,c),(1===d||d===this._monthsPerView)&&this._updateArrowState(a,d-1),a&&(h=new Date(a.getTime())),1===d&&"dropdown"===r?(this._checkOptions(this._viewDate.getFullYear(),o,!0),this._buildDropdownNavElement(this._viewDate.getMonth(),this._viewDate.getFullYear())):(d>1||"dropdown"!==r)&&(1===this._viewMode&&(c=o.find(".zdatetimepicker__months")),this._fillNavBarContent(a,c),s&&1===this._viewMode&&(this._updateYearArrowState(1),this._updateMonthClasses(o))),n=this._viewDate}this._appendEmptyTd(),"dropdown"===this.options.navigationBar.monthYearSwitcherType&&this._validateDisabledMonthYear()},_validateDisabledMonthYear:function(){var t=this.options.disabledMonths;if(this._monthHeader&&t)for(var e=0;e<t.length;e++)this._viewDate.getMonth()!==t[e]&&this._monthHeader.zselectbox("setOptionAttributes",t[e],"disabled",!0);var i=this.options.disabledYears;if(this._yearHeader&&i)for(var e=0;e<i.length;e++)this._viewDate.getFullYear()!==i[e]&&this._yearHeader.zcombobox("setOptionAttributes",i[e],"disabled",!0)},_isValidDate:function(t){return t&&!isNaN(t.getTime())},_moveMonth:function(t,e){if(!this._isValidDate(t))return this._viewDate;if(!e)return t;var i,s=new Date(t.valueOf()),o=s.getDate(),n=s.getMonth(),a=!0;for((e<0||e>=1)&&(i=n+e,s.setMonth(i),i=(i+12)%12),a=e<0?s.getMonth()===n&&t.getFullYear()===s.getFullYear():s.getMonth()!==i;a;)s.setDate(--o),s.setMonth(i),a=e<0?s.getMonth()===n:s.getMonth()!==i;return s},_placePicker:function(){var t=this.element;t.finish?t.finish().show():t.stop(!0,!0).show(),t.find("."+e.zdatetimepicker._CLASSES.datepicker).show(),this._closeHandled=!1,"popup"===this.options.type&&this._positionPicker()},_showPicker:function(){var e=this._dispatchEvent("BEFOREOPEN",void 0,{viewMode:this._viewMode,element:this.element});if(e){"inline"!==this.options.type&&t.bindDocumentEvents&&t.bindDocumentEvents({element:this.element,forElement:this._forElement,ctype:this.componentName,closeMethodName:"close",closeEvent:"close"});var i,s,o=this.options.animation;if(o&&(o.name||o.className||o.open))if(this._placePicker(),o.className||o.open.className){var n=o.open?o.open.className:o.className,a=o.close?o.close.className:void 0;a&&this.element.removeClass(a);var r=this;this.element.addClass(n).on(this._ANIMATIONEVENTS,function(){r.element.off(r._ANIMATIONEVENTS)})}else i=o.open?o.open.name:o.name,s=o.duration?o.duration:o.open&&o.open.duration?o.open.duration:400,i&&(this._placePicker(),this.element.hide(),"object"==typeof i?this.element.animate(i,s):this.element[o.open.name](s));else this._placePicker();this.element.attr({"aria-hidden":!1,"aria-expanded":!0}),this._setFocus(),this._dispatchEvent("OPEN",void 0,{viewMode:this._viewMode,element:this.element})}},_setFocus:function(){this._dispatchEvent("BEFOREFOCUS",{},this.element)&&setTimeout(this._focusHandler.bind(this),100)},_focusHandler:function(){this.element.focus()},_positionPicker:function(){if(this.options.offset)this.element.css(this.options.offset);else if(this.options.forElement){var t=this._getPosition();this.options.margin&&(t.elementPosition=this._retrieveMarginValues(t.elementPosition)),this.element.css(t.elementPosition),this._pointer&&this._pointer.css(t.arrowPosition)}},_retrieveMarginValues:function(t){var e,i,s=this.options.margin;return"number"==typeof s?(e=s+t.top,i=s+t.left):(i=s.left?s.left+t.left:t.left,e=s.top?s.top+t.top:t.top),e=e<0?t.top:e,i=i<0?t.left:i,t.top=e,t.left=i,t},_arrowCallback:function(t,e){this.element.removeClass("zdatetimepicker--top zdatetimepicker--bottom zdatetimepicker--left zdatetimepicker--right"),this.element.addClass("zdatetimepicker--"+e),this._calloutDirection=e},_getPosition:function(){var t=this,i=ZPosition.get(this._forElement,this.element,{direction:this.options.position,bufferSpace:6,within:e(this.options.appendTo)||window,positionAlterable:"flipsidefit",arrow:{element:this._pointer,callback:this._arrowCallback.bind(t),margin:{left:-1,top:-1}}});return i},_resetValues:function(){if(this._valueUpdate=!1,this.options.value=void 0,this._hasDate){this.options.values=[];var t=e.zdatetimepicker._CLASSES.selected+" "+e.zdatetimepicker._CLASSES.disabled;this.element.find("."+e.zdatetimepicker._CLASSES.monthContainer).find("."+e.zdatetimepicker._CLASSES.selected+",."+e.zdatetimepicker._CLASSES.disabled+":not(.zdisabled)").removeClass(t).removeAttr("aria-selected"),this.element.find("."+e.zdatetimepicker._CLASSES.monthYearTable).find("."+e.zdatetimepicker._CLASSES.selected+",."+e.zdatetimepicker._CLASSES.disabled+":not(.zdisabled)").removeClass(t).removeAttr("aria-selected"),this._selectedDates=[],this._queryString="",this._selectedTime=this._minTime?new Date(this._minTime.getTime()):void 0,this._viewDate=new Date,this._setViewDate(),this._setMonthToView(),this._setYearToView(),(this.options.monthToBeShownOnOpen||this.options.yearToBeShownOnOpen)&&this._validateViewDate(),this._minTime&&this._viewDate.setHours(this._minTime.getHours(),this._minTime.getMinutes(),0,0),this._reset&&this._reset.length&&this._reset.attr("disabled",!0).addClass("is-disabled")}},_setViewDate:function(){this._viewDate.setHours(0,0,0,0);var t=new Date;t.setHours(0,0,0,0),this._maxDate&&ZDateUtil.isGreater(this._viewDate,this._maxDate)&&!ZDateUtil.areDatesEqual(this._viewDate,this._maxDate)&&(this._viewDate=new Date(ZDateUtil.isGreater(this._maxDate,t)?t.getTime():this._minDate?this._minDate.getTime():this._maxDate.getTime())),this._minDate&&ZDateUtil.isGreater(this._minDate,this._viewDate)&&!ZDateUtil.areDatesEqual(this._minDate,this._viewDate)&&(this._viewDate=new Date(ZDateUtil.isGreater(t,this._minDate)?t.getTime():this._minDate.getTime()))},_validateViewDate:function(){this._maxDate&&ZDateUtil.isGreater(this._viewDate,this._maxDate)&&!ZDateUtil.areDatesEqual(this._viewDate,this._maxDate)&&(this._viewDate=new Date(this._minDate?this._minDate.getTime():this._maxDate.getTime())),this._minDate&&ZDateUtil.isGreater(this._minDate,this._viewDate)&&!ZDateUtil.areDatesEqual(this._minDate,this._viewDate)&&(this._viewDate=new Date(this._minDate.getTime()))},_validateBoundaries:function(){var t=this._minDate,e=this._maxDate,i=new Date;if(i.setHours(0,0,0,0),t&&e&&!ZDateUtil.isGreater(e,t)&&(this.options.maxDate=void 0,this._maxDate=void 0),e){if(this.options.value)ZDateUtil.isGreater(this.options.value,e)&&!ZDateUtil.areDatesEqual(this.options.value,e)&&(this.options.value=void 0);else if("multiple"===this.options.selectionType&&this._selectedDates.length)for(var s=0;s<this._selectedDates.length;s++)ZDateUtil.isGreater(this._selectedDates[s],e)&&(this.options.values.splice(s,1),this._selectedDates.splice(s,1));ZDateUtil.isGreater(this._viewDate,e)&&!ZDateUtil.areDatesEqual(this._viewDate,e)&&(this._viewDate=new Date(ZDateUtil.isGreater(this._maxDate,i)?i.getTime():this._minDate?t.getTime():e.getTime()))}if(t){if(this.options.value)ZDateUtil.isGreater(t,this.options.value)&&!ZDateUtil.areDatesEqual(this.options.value,t)&&(this.options.value=void 0);else if("multiple"===this.options.selectionType&&this._selectedDates.length)for(var s=0;s<this._selectedDates.length;s++)ZDateUtil.isGreater(t,this._selectedDates[s])&&(this.options.values.splice(s,1),this._selectedDates.splice(s,1));ZDateUtil.isGreater(t,this._viewDate)&&!ZDateUtil.areDatesEqual(t,this._viewDate)&&(this._viewDate=new Date(ZDateUtil.isGreater(i,t)?i.getTime():t.getTime()))}},_setSelectedTimeValues:function(t,e,i,s){var o,n=this._minTime?new Date(this._minTime.getTime()):void 0,a=this._maxTime?new Date(this._maxTime.getTime()):void 0;o=this._checkBoundaryValues(),o.min&&(n=this._unsetValue("_minTime")),o.max&&(a=this._unsetValue("_maxTime")),e=e||this.element,i=i||e.find(".zdatetimepicker-timeinput");var r,l=t===!1?void 0:"single"===this.options.selectionType||this.options.value?this._viewDate:this.options.values.length?this._parseDateValue(this.options.values[0],this.options.format).date:void 0;l&&!s&&(r=new Date(this._viewDate.getTime()),r.setHours(this._viewDate.getHours(),this._viewDate.getMinutes(),0,0));if("multiple-select-box"===this.options.timeFieldType){if("h-m-t"===this.options.timeMultipleSelectBoxType){var h,d;if(h=this._hourElement.zselectbox("getAttribute","selectedValue"),0===h.length||l||s){var c=l&&!s?this._normalizeHourValue(l.getHours()):this._minTime?this._normalizeHourValue(this._minTime.getHours()):this._is12HourFormat?12:0,p=this.options.hourStep;this._hourElement.zselectbox("setAttribute","selectedValue",Math.ceil(c/p)*p)}if(d=this._minuteElement.zselectbox("getAttribute","selectedValue"),0===d.length||l||s){var u=l&&!s?l.getMinutes():this._minTime?this._minTime.getMinutes():0,p=this.options.minuteStep;this._minuteElement.zselectbox("setAttribute","selectedValue",Math.ceil(u/p)*p)}if(this._is12HourFormat){var m=this._periodElement.zselectbox("getAttribute","selectedValue");if(0===m.length||l||s){var _=l&&!s?l.getHours():this._minTime?this._minTime.getHours():void 0;this._periodElement&&this._periodElement.zselectbox("setAttribute","selectedValue",_>=12?"PM":"AM")}}}}else"input"===this.options.timeFieldType?i.zdatetimefield("setAttribute","value",r?r:this._is12HourFormat?"12:00 AM":"00:00"):"single-select-box"===this.options.timeFieldType&&this._singleTimeSelect.zselectbox("setAttribute","selectedValue",r?r.getTime():this._singleTimeSelect.find("option")[0].value);o.min&&this._setBoundary(n,"_minTime"),o.max&&this._setBoundary(a,"_maxTime")},_setBoundary:function(t,e){return t&&(this[e]=new Date(t.getTime())),t},_closePicker:function(t,i,s,o){if(!this._closeHandled){if("multiple"===this.options.selectionType&&0===this.options.values.length&&this.options.immediateCommit&&(this._valueUpdate=!1),i=i||this.element,this._oldDate=new Date(this._viewDate.getTime()),this._currentSelected=this.options.value?new Date(this.options.value.getTime()):void 0,this._valueUpdate){var n,a;"multiple"===this.options.selectionType&&this._hasDate&&this._handleMultipleSelectOnClose(i),n=this.options.values.length,a=this._selectedDates.length;var r=new Date;this._minTime?r.setHours(this._minTime.getHours(),this._minTime.getMinutes(),0,0):r.setHours(0,0,0,0),this._viewDate=this.options.value?new Date(this.options.value.getTime()):this.options.values&&n&&a?new Date(this._selectedDates[a-1].getTime()):r,this._validateBoundaries(),!this.options.immediateCommit&&this._hasTime&&this._setSelectedTimeValues(void 0,i,s)}else this._resetValues(),this._hasTime&&"multiple-select-box"===this.options.timeFieldType&&"h-m-t"===this.options.timeMultipleSelectBoxType&&this._checkTimeOptions(),this._hasTime&&this._setSelectedTimeValues(void 0,i,s,!0);if("inline"!==this.options.type||this._manualClose){var l=this._dispatchEvent("BEFORECLOSE",t,{viewMode:this._viewMode,element:this.element});if(l){var i=this.element;i.finish?i.finish():i.stop(!0,!0);var h=this.options.animation;if(h&&(h.name||h.className||h.close))if(h.close&&h.close.className||h.className){var d=h.close?h.close.className:h.className;h.open&&h.open.className&&this.element.removeClass(h.open.className);var c=this;this.element.addClass(d).on(this._ANIMATIONEVENTS,function(){c.element.off(c._ANIMATIONEVENTS)})}else{var p=h.name?h.name:h.close&&h.close.name,u=h.duration?h.duration:h.close&&h.close.duration?h.close.duration:400;if(p){var m=function(){c.element.hide(),c.element.attr({"aria-hidden":!0,"aria-expanded":!1}),c._dispatchEvent("CLOSE",t,{viewMode:c._viewMode,element:c.element})};"object"==typeof p?this.element.animate(p,u,m):this.element[h.close.name](u,m)}}(!h||h&&!h.name)&&(this.element.hide(),this.element.attr({"aria-hidden":!0,"aria-expanded":!1}),this._dispatchEvent("CLOSE",t,{viewMode:this._viewMode,element:this.element})),this._closeHandled=!0}}if(this._hasDate){var _,f=this.options.navigationBar.monthYearSwitcherType;if("drilldown"===f&&(_=this._getViewMode()),_===this._viewMode&&ZDateUtil.areDatesEqual(this._oldDate,this._viewDate)||("drilldown"===f&&this._setViewMode(_,!0,i),this._renderContent(void 0,i,void 0,o),"drilldown"===f&&"dates"!==this.options.drilldownLevelOnOpen&&0!==this._viewMode&&i.find("li").nextAll().find("."+e.zdatetimepicker._CLASSES.dateView+",."+e.zdatetimepicker._CLASSES.weeknumbers+",."+e.zdatetimepicker._CLASSES.navBar).addClass(e.zdatetimepicker._CLASSES.disabledCalendar)),void 0!==this.options.selectedDateMonthViewIndex&&this._updateSelectedDatePosition(),this.options.value&&this._viewDate){var r=this._resetTime(this.options.value);this.element.find("[data-time="+r.getTime()+"]").addClass("is-selected"),this._reset&&this._reset.length&&this._reset.removeClass("is-disabled").removeAttr("disabled")}}this.element.find(".zeffects--zoomin").removeClass("zeffects--zoomin"),this.element.find(".zeffects--zoomout").removeClass("zeffects--zoomout")}},_resetTime:function(t){if(t instanceof Date){var e=new Date(t.getTime());return e.setHours(0,0,0,0),e}},_handleMultipleSelectOnClose:function(t){var i=this.options.values.length,s=this._selectedDates.length,o=[];if(s!==i){if(s>i){o=this._selectedDates.splice(i),this._selectedDates.length=i;for(var n=0;n<o.length;n++){var a=this._resetTime(o[n]);this.element.find("[data-time='"+a.getTime()+"']").removeClass(e.zdatetimepicker._CLASSES.selected).removeAttr("aria-selected")}}else{this._selectedDates=[];for(var n=0;n<i;n++)this._selectedDates[n]=this._parseDateValue(this.options.values[n],this.options.format).date;for(var n=0;n<this._selectedDates.length;n++){var a=this._resetTime(this._selectedDates[n]);this.element.find("[data-time='"+a.getTime()+"']").addClass(e.zdatetimepicker._CLASSES.selected).attr("aria-selected",!0)}}if(this.options.selectionLimit!==i){if(this._limitReached){this._limitReached=!1;var r=t.find("."+e.zdatetimepicker._CLASSES.date+",."+e.zdatetimepicker._CLASSES.adjacent);r.filter(this._queryString).removeClass(e.zdatetimepicker._CLASSES.disabled).removeAttr("aria-disabled"),this._queryString=""}}else this.options.selectionLimit===i&&(this._queryString=":not(",this._getQueryString(),this.element.find("."+e.zdatetimepicker._CLASSES.date+",."+e.zdatetimepicker._CLASSES.adjacent).filter(this._queryString).addClass(e.zdatetimepicker._CLASSES.disabled).attr("aria-disabled",!0))}this._selectedDates&&this._selectedDates.length&&this._reset&&this._reset.length&&this._reset.removeClass("is-disabled").removeAttr("disabled")},_updateSelectedDatePosition:function(){this._monthsPerView>1&&this.options.selectedDateMonthViewIndex>=0&&this.options.value&&(this._viewDate=this._moveMonth(this.options.value,-this.options.selectedDateMonthViewIndex),this._renderContent())},_dateWithInRange:function(t){var e=t.getTime();return(!this._minDate||e>=this._minDate.getTime())&&(!this._maxDate||e<=this._maxDate.getTime())},_generateOptions:function(t,e,i,s){for(var o=(parseInt(this._monthHeader.zselectbox("getValue")),parseInt(this._yearHeader.zcombobox("getValue")),this._maxDate?this._maxDate.getFullYear():void 0),n=this._minDate?this._minDate.getFullYear():void 0,a=this.options.disabledMonths,r=t;r<e;r++)this._monthHeader.zselectbox("setOptionAttributes",r,"disabled",!!(this._minDate&&this._minDate.getFullYear()===this._viewDate.getFullYear()&&r<this._minDate.getMonth()||this._maxDate&&this._maxDate.getFullYear()===this._viewDate.getFullYear()&&r>this._maxDate.getMonth()||a&&a.indexOf(r)>-1&&this._viewDate.getMonth()!==r));o&&this._monthHeader&&this._yearHeader.zcombobox("setOptionAttributes",o,"disabled",this._viewDate.getMonth()>this._maxDate.getMonth()),n&&this._yearHeader.zcombobox("setOptionAttributes",n,"disabled",this._viewDate.getMonth()<this._minDate.getMonth()),this._monthHeader.zselectbox("setValue",this._viewDate.getMonth()),this._yearHeader.zcombobox("setValue",this._viewDate.getFullYear())},_checkOptions:function(t){this._monthHeader&&this._yearHeader&&this._generateOptions(0,12,!0)},_buildDropdownNavElement:function(t,i,s){var o=(this.options,this.options.value,this.options.navigationBar.monthSwitcher),n=this.options.navigationBar.yearSwitcher,a=this._viewDate.getMonth();this._viewDate.getFullYear();this._validateDisabledMonthYear(),o&&0===e("#"+this._elementId+"-month-header").length?this._generateMonthDropdown(s):o&&"number"==typeof t?this._monthHeader.zselectbox("option","selectedValue",t):o||this.element.find("."+e.zdatetimepicker._CLASSES.monthNav).text(this._localize(this.options.navigationBar.monthYearHeadingFormat.split(" ").indexOf("MMMM")>-1?"months":"monthsAbbreviated")[a]),this.options.navigationBar.yearSwitcher&&0===e("#"+this._elementId+"-year-header").length?this._generateYearDropdown():n&&"number"==typeof i?this._yearHeader.zcombobox("option","selectedValue",i):n||this.element.find("."+e.zdatetimepicker._CLASSES.yearNav).text(this._viewDate.getFullYear())},_generateMonthDropdown:function(t){var i,s,o,n;i=this._leftNav,s=this._navBar,o=this._rightNav,n=this._monthYearNav;var a,r,l,h,d=this.options,c=this._viewDate.getMonth(),p=(this._viewDate.getFullYear(),this.options.minDate),u=this.options.maxDate,m=(this.options.value,this.options.navigationBar.monthSwitcher,this.options.navigationBar.yearSwitcher,this.options.navigationBar),_=this.options.disabledMonths,f=d.navigationBar.monthYearHeadingFormat.split(" ");this._yearIndex=f.indexOf("yyyy"),l=f.indexOf("MMMM")>-1?this._localize("months"):this._localize("monthsAbbreviated"),h="<select id='"+this._elementId+"-month-header'>",p&&p.getFullYear()===this._viewDate.getFullYear()&&(a=!0),u&&u.getFullYear()===this._viewDate.getFullYear()&&(r=!0);for(var v,g=0;g<l.length;g++){v=a&&p&&g<p.getMonth()||r&&u&&g>u.getMonth()||_&&_.indexOf(g)>-1&&this._viewDate.getMonth()!==g?"disabled":"";var b=f.indexOf("MMMM")>-1?this.options.labels.months.indexOf(l[g]):this.options.labels.monthsAbbreviated.indexOf(l[g]);h+="<option value="+b+" "+(c===b?"selected":"")+" "+v+">"+l[g]+"</option>"}h+="</select>",h=e(h),0===this._yearIndex?"together"===m.navigationButtonsDisplayPattern?"left"===m.togetherTypeNavigationButtonsPosition?h.appendTo(s):"right"===m.togetherTypeNavigationButtonsPosition&&(o?h.insertBefore(o):h.appendTo(s)):o?h.insertBefore(o):h.appendTo(s):i?h.insertAfter(i):h.prependTo(t.find("."+e.zdatetimepicker._CLASSES.navBar)),this._monthHeader=e("#"+this._elementId+"-month-header")},_generateYearDropdown:function(t,i,s,o){t=t||this._leftNav,s=s||this._navBar,i=i||this._rightNav,o=o||this._monthYearNav;var s=this.options.navigationBar,n="<select id='"+this._elementId+"-year-header'>",a=(new Date).getFullYear(),r=this._viewDate.getFullYear(),l=this._minDate,h=this._maxDate,d=this.options.value,c=s.dropdownStartYear,p=s.dropdownEndYear,u=this.options.disabledYears;c=ZDateUtil.convertOffsetToValue(c.substring(9)),p=ZDateUtil.convertOffsetToValue(p.substring(9));var m=a+p,_=a+c;if(m<_){var f=_;_=m,m=f}if(d&&(m=d.getFullYear()+p,_=d.getFullYear()+c),l){var v=_;_=l.getFullYear()>_?l.getFullYear():_,m=l.getFullYear()>v?l.getFullYear()+p:m}else d&&_>d.getFullYear()&&(_=d.getFullYear(),m=d.getFullYear()+p);h&&(m=h.getFullYear());for(var g,b=this._viewDate.getMonth(),y=_;y<=m;y++)g=this._monthHeader&&h&&h.getFullYear()===y&&b>h.getMonth()||this._viewDate.getFullYear()!==y&&u&&u.indexOf(y)>-1?"disabled":"",n+="<option value="+y+" "+(r===y?"selected":"")+" "+g+">"+y+"</option>";n+="</select>",n=e(n),this._monthHeader?0===this._yearIndex?n.insertBefore(this._monthHeader):n.insertAfter(this._monthHeader):t?o?n.insertAfter(o):n.insertAfter(t):"together"!==s.navigationButtonsDisplayPattern||this._leftNav?n.insertBefore(i):o?n.insertAfter(o):n.prependTo(s),this._yearHeader=e("#"+this._elementId+"-year-header")},_fillNavBarElements:function(t){(!this.options.navigationBar.monthSwitcher||"dropdown"!==this.options.navigationBar.monthYearSwitcherType||t&&0!==t)&&this._monthYearNav.append("<span class='"+e.zdatetimepicker._CLASSES.monthNav+"'></span>"),(!this.options.navigationBar.yearSwitcher||"dropdown"!==this.options.navigationBar.monthYearSwitcherType||t&&0!==t)&&this._monthYearNav.append("<span class='"+e.zdatetimepicker._CLASSES.yearNav+"'></span>")},_getKey:function(t){var e;switch(t){case 0:e="Month";break;case 1:e="Year";break;case 2:e="Decade";break;case 3:e="Century"}return e},_createMonthArrows:function(t,i,s,o,n){var a,r,l,h,d=this.options.navigationBar;if(o){var c;a=e(e.zdatetimepicker._NAVBUTTON).attr("id",this._elementId+"-left-month-"+s),l=a.find("."+e.zdatetimepicker._CLASSES.navIcon);var p={props:{viewBox:"0 0 12 12"},nodes:[{polygon:{points:"6.6,10.3 2.9,6.5 6.6,2.7 7.4,3.4 4.3,6.5 7.4,9.6"}}]};this._handleIcon(l,p,"leftmonth",d.previousMonthButtonIconClassName,d.previousMonthButtonSVGIconId),"split"===d.navigationButtonsDisplayPattern?a.appendTo(t):e("#"+this._elementId+"-left-year").length&&0===s?a.insertAfter(e("#"+this._elementId+"-left-year")):"left"===d.togetherTypeNavigationButtonsPosition?a.prependTo(t):a.prependTo(i),c=this._localize("prev"+this._getKey(s)),a.attr({title:c,"aria-label":c})}if(n){var u;r=e(e.zdatetimepicker._NAVBUTTON).attr("id",this._elementId+"-right-month-"+s),h=r.find("."+e.zdatetimepicker._CLASSES.navIcon);var p={props:{viewBox:"1 0 12 12"},nodes:[{polygon:{points:"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5"}}]};this._handleIcon(h,p,"rightmonth",d.nextMonthButtonIconClassName,d.nextMonthButtonSVGIconId),"split"===d.navigationButtonsDisplayPattern?r.prependTo(i):r.insertAfter(a),u=this._localize("next"+this._getKey(s)),r.attr({title:u,"aria-label":u})}},_fillNavBar:function(t,i){var s=i.element||this.element,o=this.options.navigationBar,n=this.options.navigationBar.monthYearSwitcherType;if(this._navBar=e(s.find("."+e.zdatetimepicker._CLASSES.navBar)[0]),"together"===o.navigationButtonsDisplayPattern)switch(o.togetherTypeNavigationButtonsPosition){case"right":this._navBar.addClass(e.zdatetimepicker._CLASSES.navOnRight);break;case"left":this._navBar.addClass(e.zdatetimepicker._CLASSES.navOnLeft)}i.left&&("split"===o.navigationButtonsDisplayPattern||"together"===o.navigationButtonsDisplayPattern&&"left"===o.togetherTypeNavigationButtonsPosition)&&(this._leftNav=e(e.zdatetimepicker._LEFTNAV).prependTo(this._navBar)),i.right&&("split"===o.navigationButtonsDisplayPattern||"together"===o.navigationButtonsDisplayPattern&&"right"===o.togetherTypeNavigationButtonsPosition)&&(this._rightNav=e(e.zdatetimepicker._RIGHTNAV).appendTo(this._navBar)),o.yearNavigationButtons&&("dropdown"===n&&this.options.navigationBar.monthNavigationButtons&&this.element.addClass(e.zdatetimepicker._CLASSES.dropdown),this._createYearArrows(this._leftNav,this._rightNav,i.left,i.right)),o.monthNavigationButtons&&this._createMonthArrows(this._leftNav,this._rightNav,0,i.left,i.right),this._monthYearNav||"dropdown"===n&&this.options.navigationBar.monthSwitcher&&this.options.navigationBar.yearSwitcher&&(!i||!i.index||0===i.index)||(this._monthYearNav=e("<div class='"+e.zdatetimepicker._CLASSES.monthYearNav+"'></div>"),this._leftNav?this._monthYearNav.insertAfter(this._leftNav):this._monthYearNav.prependTo(s.find("."+e.zdatetimepicker._CLASSES.navBar))),this._monthYearNav&&this._fillNavBarElements(i.index),"dropdown"!==n||(!i||0!==i.index)&&i&&i.index||this._buildDropdownNavElement(void 0,void 0,i.element),("dropdown"!==n||!this.options.navigationBar.yearSwitcher||!this.options.navigationBar.monthSwitcher||i&&i.index&&0!==i.index)&&this._fillNavBarContent(t||this._viewDate,s)},_fillDates:function(t,i,s){var o,n,s,i=i||this.element,a=new Date(t||this._viewDate),r=a.getFullYear(),l=a.getMonth(),t=a.getDate(),h=new Date(r,l),d="",o=h.getDate(),c=h.getDay(),p=0;if(r<100&&h.setFullYear(r),h.setDate(o-(h.getDay()-this.options.firstDayOfWeek+7)%7),s="number"==typeof s?s:void 0===s?i.closest("li").index():s,n=new Date(h),s===-1||1===s||2===s||0===s&&!this.options.displayAdjacentMonthDates)n.setDate(n.getDate()+42);else if(this._monthsPerView>1&&this.options.displayAdjacentMonthDates&&0===s){var u=h.getMonth(),m=new Date(r,u+1,0).getDate(),_=new Date(r,l+1,0).getDate();n.setDate((c!==this.options.firstDayOfWeek?m:0)+_+1)}n.setHours(0,0,0,0),h.setHours(0,0,0,0);n.getMonth();n=n.valueOf();var f,v=this.options.firstDayOfWeek;(h.getDay()-this.options.firstDayOfWeek+7)%7;i.find("."+e.zdatetimepicker._CLASSES.weeknumbers).remove(),this.options.displayWeekNumbers&&(f=e(e.zdatetimepicker._WEEKNUMBER).prependTo(i.find("."+e.zdatetimepicker._CLASSES.monthContainer)),f.find("th."+e.zdatetimepicker._CLASSES.weeknumber).text(this.options.weekHeading));for(var g=h;g.valueOf()<n;g.setDate(g.getDate()+1)){var b=g.getDay();g.setHours(0,0,0,0);var y=this.options.displayAdjacentMonthDates&&(s===-1||0===s||2===s||1===s&&2===this._monthsPerView)||g.getMonth()<=a.getMonth()&&g.getFullYear()===a.getFullYear()||g.getFullYear()<a.getFullYear();if(b===v){if(this.options.displayWeekNumbers&&y&&f){var C=new Date(g.getTime()+(this.options.firstDayOfWeek-b-7)%7*864e5),S=new Date(C.getTime()+(11-C.getDay())%7*864e5),T=new Date(Number(T=new Date(S.getFullYear(),0,1))+(11-T.getDay())%7*864e5),z=(S-T)/864e5/7+1,w=e("<tr role='row'><td role='gridcell' class='"+e.zdatetimepicker._CLASSES.weeknumber+"'>"+z+"</td>");w.appendTo(f.find("tbody"))}y&&(d+="<tr role='row'>",p++)}if(!this.options.displayAdjacentMonthDates||1===s&&s!==this._monthsPerView-1||s===this._monthsPerView-1){if(g.getMonth()<a.getMonth()&&g.getFullYear()===a.getFullYear()||g.getFullYear()<a.getFullYear()){d+="<td role='gridcell'> </td>";continue}if((g.getMonth()>a.getMonth()&&g.getFullYear()===a.getFullYear()||g.getFullYear()>a.getFullYear())&&(s===-1||this.options.displayAdjacentMonthDates&&(0===s||1===s&&s!==this._monthsPerView-1)||!this.options.displayAdjacentMonthDates))break}var k=this._getClasses(g,a),E=g.getDate(),M="<td role='gridcell' class='"+k+"' data-time='"+g.getTime()+"'><span class='"+e.zdatetimepicker._CLASSES.dateText+"'>"+E+"</span></td>";if(this.options.disabledDates.length||this.options.specialDates.length){var x=this._shouldAddClass(g,["disabledDates","disabledDaysOfWeek","specialDates","specialDaysOfWeek"]);if("object"==typeof x||"boolean"==typeof x){var D;"object"==typeof x&&(x.className&&(D=M.indexOf("class='"),M=M.slice(0,D+7)+" "+x.className+" "+M.slice(D+7)),x.title&&(D=M.indexOf("class"),M=M.slice(0,D)+" title='"+x.title+"' "+M.slice(D)));var A=this.options.disabledDateInformativeText,I=this.options.highlightedDatesInformativeText;if(x.informativeText||"boolean"==typeof x&&A||I){var N;void 0!==x.informativeText?N=x.informativeText:k.indexOf(e.zdatetimepicker._CLASSES.disabled)>-1&&A?N=A:k.indexOf(e.zdatetimepicker._CLASSES.highlighted)>-1&&I&&(N=I),void 0!==N&&(D=M.indexOf("</td>"),M=M.slice(0,D)+"<span class='zdatetimepicker__secondaryinfo'>"+N+"</span> "+M.slice(D))}}}var O={dateCell:M};this._dispatchEvent("BEFOREDATECELLRENDER",void 0,O),O.modified&&(M=O.dateCell),d+=M}this._rowsCount.push(p),i.find("."+e.zdatetimepicker._CLASSES.dateView+" tbody").html(d),this.options.allowSelectionOfAdjacentMonthDates||i.find("table."+e.zdatetimepicker._CLASSES.dateView).addClass(e.zdatetimepicker._CLASSES.readonlyAdjacent)},_updateArrowState:function(t,i){var s=this._monthsPerView>1;t=t||this._viewDate;var o=this._minDate,n=this._maxDate,a=t.getFullYear(),r=t.getMonth(),l=o&&o.getFullYear(),h=o&&o.getMonth(),d=n&&n.getFullYear(),c=n&&n.getMonth(),p=a<l||a===l&&r-1<h,u=a>d||a===d&&r+1>c,m=a-1<l||a-1===l&&r<h,_=a+1>d||a+1===d&&r>c,f=e.zdatetimepicker._CLASSES.disabled;(!s||s&&0===i)&&(e("#"+this._elementId+"-left-month-0")[p?"addClass":"removeClass"](f),e("#"+this._elementId+"-left-year")[m?"addClass":"removeClass"](f)),(!s||s&&i===this._monthsPerView-1)&&(e("#"+this._elementId+"-right-month-0")[u?"addClass":"removeClass"](f),e("#"+this._elementId+"-right-year")[_?"addClass":"removeClass"](f))},_getClasses:function(t,i){i=i||this._viewDate;var s=i.getFullYear(),o=i.getMonth(),n=(i.getDate(),t.getFullYear()),a=t.getMonth(),r=(t.getDate(),new Date),l="";if(l+=n<s||n===s&&a<o||n===s&&a>o||n>s?" "+e.zdatetimepicker._CLASSES.adjacent:" "+e.zdatetimepicker._CLASSES.date,ZDateUtil.areDatesEqual(t,r)&&(l+=" "+e.zdatetimepicker._CLASSES.today),(this._currentSelected&&ZDateUtil.areDatesEqual(t,this._currentSelected)||this.options.value&&ZDateUtil.areDatesEqual(t,this.options.value)&&this._currentSelected&&ZDateUtil.areDatesEqual(t,this._currentSelected))&&(l+=" "+e.zdatetimepicker._CLASSES.selected),this._selectedDates.length&&"multiple"===this.options.selectionType){for(var h=!1,d=0,c=this._selectedDates.length;d<c;d++)this._selectedDates[d]&&ZDateUtil.areDatesEqual(t,this._selectedDates[d])&&(l+=" "+e.zdatetimepicker._CLASSES.selected,h=!0);h||this.options.selectionLimit!==this._selectedDates.length||(l+=" "+e.zdatetimepicker._CLASSES.disabled)}this._weekEnds.indexOf(t.getDay().toString())>-1&&(l+=" "+e.zdatetimepicker._CLASSES.weekend);var p=["disabledDaysOfWeek","disabledDates"];(!this._dateWithInRange(t)||this._shouldAddClass(t,p)||this.options.disabledMonths&&this.options.disabledMonths.indexOf(t.getMonth())>-1||this.options.disabledYears&&this.options.disabledYears.indexOf(t.getFullYear())>-1)&&(l+=" "+e.zdatetimepicker._CLASSES.disabled+" zdisabled");var p=["specialDaysOfWeek","specialDates"];return this._shouldAddClass(t,p)&&(l+=" "+e.zdatetimepicker._CLASSES.highlighted),l},_shouldAddClass:function(t,i){for(var s=0,o=i.length;s<o;s++){var n=this.options[i[s]];if(n){if(e.inArray(t.getDay(),n)>-1)return!0;for(var a=0,r=n.length;a<r;a++){var l=n[a];if("object"==typeof l)if(l.date instanceof Date){if(ZDateUtil.areDatesEqual(l.date,t))return!0}else if(l.date){var h=new Date(l.date.date.getTime());if(l.repeatEveryYear&&h.setFullYear(t.getFullYear()),l.repeatEveryMonth&&h.setMonth(t.getMonth()),ZDateUtil.areDatesEqual(h,t))return l}else if(l.startDate&&l.endDate){var d=new Date(l.startDate.date.getTime()),c=new Date(l.endDate.date.getTime());if(l.repeatEveryYear&&(d.setFullYear(t.getFullYear()),c.setFullYear(t.getFullYear())),l.repeatEveryMonth&&(d.setMonth(t.getMonth()),c.setMonth(t.getMonth())),(ZDateUtil.isGreater(t,d)||ZDateUtil.areDatesEqual(d,t))&&ZDateUtil.isGreater(c,t))return l}}}}},_parseDateValue:function(t,e){return ZDateUtil._parseDateValue(t,e,this.options.otherInputFormats)},_fillDayOfWeek:function(t){var i="",s=this.options.firstDayOfWeek,o="",n=this.options.weekendDays.split(",");t=t||this.element;for(var a=s;a<s+7;a++)o="",a%7!==parseInt(n[0])&&a%7!==parseInt(n[1])||(o+=e.zdatetimepicker._CLASSES.weekend),i+="<th class='"+e.zdatetimepicker._CLASSES.day+" "+o+"'>"+this._localize("daysAbbreviated")[a%7]+"</th>";t.find("."+e.zdatetimepicker._CLASSES.days).append(i)},_parseValue:function(t,e){var i,s;return"string"==typeof e?("TODAY"===e||"NOW"===e?("NOW"!==e||"minDate"!==t&&"maxDate"!==t||(this["_"+t+"HasTime"]=!0),this.options[t]=new Date):(s=this._parseDateValue(e,this.options.format),"minDate"!==t&&"maxDate"!==t||this._hasTime&&(s.isValid?this["_"+t+"HasTime"]=!0:(this["_"+t+"HasTime"]=!1,s=this._parseDateValue(e,this._dateFormat))),this.options[t]=s?s.date:void 0),i=!0):e instanceof Date?(this.options[t]=e,i=!0):(this._oldValueOption&&(i=!0),this.options[t]=void 0),i},open:function(t){t&&this._setAttribute("forElement",t),("popup"===this.options.type&&(this.options.forElement||this.options.offset)||"inline"===this.options.type)&&this._showPicker()},close:function(){this._manualClose=!0,this._closePicker(),this._manualClose=!1},_removeTimeBar:function(){this._timeElement&&this._timeElement.length&&(this.element.find("."+e.zdatetimepicker._CLASSES.timepicker).remove(),this._timeElement=this._hourElement=this._minuteElement=this._periodElement=void 0)},_setValue:function(t){this._rowsCount=[],this._valueUpdate=!0;var i=this._parseValue("value",t);if(this._hasTime="multiple"!==this.options.selectionType&&this._checkIfDateHasTime(),this.options.value&&!this._hasTime&&i&&this.options.value.setHours(0,0,0,0),this._performValidations(),this._currentSelected=this.options.value?new Date(this.options.value.getTime()):void 0,i&&(this._viewDate=this.options.value?new Date(+this.options.value):new Date,this._setViewDate()),"dropdown"===this.options.navigationBar.monthYearSwitcherType&&(this._yearHeader&&this._yearHeader.zcombobox("destroy"),e("#"+this._elementId+"-year-header").remove(),this._yearHeader=void 0),this._renderContent(),this._removeTimeBar(),this._hasTime&&this._buildTimePicker(),this.options.value){var s=this._resetTime(this.options.value),o=this.element.find("[data-time='"+s.getTime()+"']");this._setDate(void 0,o,this.options.value,!0)}else{var n=e.zdatetimepicker.selected;this.element.find("."+n).removeClass(n)}this._reset&&this._reset.length&&this._reset[this.options.value?"removeClass":"addClass"]("is-disabled").attr("disabled",!this.options.value)},_addAprropriateClasses:function(){this._footer&&this._footer.length?this._timeElement&&this._timeElement.length?(this.element.addClass(e.zdatetimepicker._CLASSES.triple),this._timeElement.removeClass("h-aligncenter h-alignright h-alignleft").addClass("h-align"+("left"===this.options.buttonsAlignment?"right":"left"))):this.element.removeClass(e.zdatetimepicker._CLASSES.triple):this._timeElement&&this._timeElement.length&&(this.element.removeClass(e.zdatetimepicker._CLASSES.triple),this._timeElement.removeClass("h-aligncenter h-alignright h-alignleft").addClass("h-aligncenter"))},_refreshClassNames:function(t,i,s){var o=this;t.find("td."+e.zdatetimepicker._CLASSES.date+",td."+e.zdatetimepicker._CLASSES.adjacent).filter(function(t,n){e(n).hasClass(i)&&e(n).removeClass(i);var a=new Date(parseInt(n.getAttribute("data-time")));o._shouldAddClass(a,s)&&e(n).addClass(i)})},_setAttribute:function(i,s,o){o=o||this.element,this._oldValue=this.options[i];var n=["todayButton","clearButton","hideCancelButton"];if("object"!=typeof s||s instanceof Array||s instanceof Date||(this._yearNavigation=s.yearNavigationButtons,"commandBar"===i?this.options.commandBar=s:s=e.extend(!0,{},this.options[i],s)),this._oldValueOption=this.options.value,this.options[i]=s,void 0==this._yearNavigation&&(this._yearNavigation=this.options.navigationBar.yearNavigationButtons=!!/^(drilldown|none)$/.test(this.options.navigationBar.monthYearSwitcherType)),"value"===i)this._setValue(this.options.value);else if("values"===i)this.setValues(this.options.values);else if("format"===i){if(this.options.value){var a=this._resetTime(this.options.value),r=o.find("[data-time='"+a.getTime()+"']");this._setDate(void 0,r,this.options.value)}this._hasTime=this._checkIfDateHasTime(),this._removeTimeBar(),this._hasTime&&this._buildTimePicker(),3===this._monthsPerView&&this._addAprropriateClasses()}else if("minDate"===i||"maxDate"===i&&this._hasDate)this._parseValue(i,s),this["_"+i]=this.options[i],"dropdown"===this.options.navigationBar.monthYearSwitcherType&&(this._yearHeader&&this._yearHeader.zcombobox("destroy"),e("#"+this._elementId+"-year-header").remove(),this._yearHeader=void 0),this.options.value||0!==this.options.values.length||(this._viewDate=new Date,this._viewDate.setHours(0,0,0,0)),this._processBoundaries(),this._validateBoundaries(),this.options.value||0!==this.options.values.length||(this._setMonthToView(),this._setYearToView()),this._renderContent(),this._monthHeader&&this._checkOptions();else if("title"===i)if(s&&s.length){var l=o.find("."+e.zdatetimepicker._CLASSES.title);0===l.length&&o.prepend(e(e.zdatetimepicker._HEADER)),o.find("."+e.zdatetimepicker._CLASSES.title).html(this.options.isTitleHTMLEncoded?s:t.encodeHTML(s)),"inline"!==this.options.type&&(this.options.closeButton&&!this._closeButton&&this._createCloseButton(),this.options.draggable&&!o.data("zdraggable")&&this._initDraggable())}else o.find("."+e.zdatetimepicker._CLASSES.header).remove();else if("closeButton"===i)s?this.options.title&&"inline"!==this.options.type&&this._createCloseButton():this._closeButton&&(this._closeButton.remove(),this._closeButton=void 0);else if("closeSVGIconId"===i||"closeIconClassName"===i)this._createCloseButton();else if("position"===i)this._isPositionModified=!0,this._performValidations();else if("displayType"===i)this._performValidations(),"box"===s&&this._pointer?(this._pointer.remove(),this._pointer=void 0,!this._isPositionModified&&(this.options.position="bottom-left")):this._constructPointer();else if("forElement"===i)this._forElement=e(s);else if("customHTMLAboveNavigationBar"===i)s?this._insertHTMLAboveNavbar():this._oldValue&&e(this._oldValue).length&&e(this._oldValue).appendTo(this._aboveNavbarParent);else if("customHTMLBelowCalendar"===i)s?this._insertHTMLBelowCalendar():this._oldValue&&e(this._oldValue).length&&e(this._oldValue).appendTo(this._belowCalendarParent);else if("customHTMLAboveCalendar"===i)s?this._insertHTMLAboveCalendar():this._oldValue&&e(this._oldValue).length&&e(this._oldValue).appendTo(this._aboveCalendarParent);else if("displayWeekNumbers"===i)this._renderContent();else if("weekHeading"===i&&this._hasDate&&this.options.displayWeekNumbers)o.find("th."+e.zdatetimepicker._CLASSES.weeknumber).text(this.options.weekHeading);else if("type"===i)"popup"===this.options.type?(this.options.forElement||this.options.offset)&&this._showPicker():(this._closeButton&&(this._closeButton.remove(),this._closeButton=void 0),this._cancel&&(this._cancel.remove(),this._cancel=void 0));else if("selectionType"===i){this._currentSelected=!1,this._resetValues(),this._hasDate&&this._renderContent(),this._hasTime&&(this._removeTimeBar(),this._buildTimePicker());var h=this.element.find("."+e.zdatetimepicker._CLASSES.dateView);"multiple"===this.options.selectionType?h.attr("aria-multiselectable",!0):h.removeAttr("aria-multiselectable")}else if("selectionLimit"===i&&"multiple"===this.options.selectionType&&this._hasDate){var d=this._selectedDates.length;if(d>this.options.selectionLimit){for(var c=d-this.options.selectionLimit,p=d-c,u=p;u<p+c;u++){var m=this._resetTime(this._selectedDates[u]);o.find("[data-time='"+m.getTime()+"']").removeClass(e.zdatetimepicker._CLASSES.selected).removeAttr("aria-selected").addClass(e.zdatetimepicker._CLASSES.disabled).attr("aria-disabled",!0)}this._selectedDates.splice(p,c),this.options.values.splice(p,c),this._dispatchEvent("APPLY",void 0,{valuesObject:this._selectedDates,valueString:this.options.values}),this._selectedDates.length===this.options.selectionLimit&&(this._limitReached=!0)}else this.options.selectionLimit>d&&this._limitReached?(this._limitReached=!1,o.find("."+e.zdatetimepicker._CLASSES.date+",."+e.zdatetimepicker._CLASSES.adjacent).filter(this._queryString).removeClass(e.zdatetimepicker._CLASSES.disabled).removeAttr("aria-disabled")):this.options.selectionLimit===d&&(this._limitReached=!0);this._limitReached&&(this._queryString=":not(",this._getQueryString(),o.find("."+e.zdatetimepicker._CLASSES.date+",."+e.zdatetimepicker._CLASSES.adjacent).filter(this._queryString).addClass(e.zdatetimepicker._CLASSES.disabled).attr("aria-disabled",!0)),this._selectedDates&&this._selectedDates.length&&(this._viewDate=new Date(this._selectedDates[this._selectedDates.length-1].getTime())),this._oldDate&&!ZDateUtil.areDatesEqual(this._viewDate,this._oldDate)&&this._renderContent()}else if(n.indexOf(i)>-1||"immediateCommit"===i||"commandBar"===i)this._reBuildCommandBar(),3===this._monthsPerView&&this._addAprropriateClasses();else if("clearButtonLabel"===i)this._reset&&this._reset.find(".zbutton__text").text(this.options.clearButtonLabel),this._clearButtonLabel=this.options.clearButtonLabel||this._localize("clearButtonLabel");else if("todayButtonLabel"===i)this._today&&this._today.text(this.options.todayButtonLabel),this._todayButtonLabel=this.options.todayButtonLabel||this._localize("todayButtonLabel");else if("cancelButtonLabel"===i)this._cancel&&this._cancel.find(".zbutton__text").text(this.options.cancelButtonLabel),this._cancelButtonLabel=this.options.cancelButtonLabel||this._localize("cancelButtonLabel");else if("OKButtonLabel"===i)this._apply&&this._apply.find(".zbutton__text").text(this.options.OKButtonLabel),this._OKButtonLabel=this.options.OKButtonLabel||this._localize("OKButtonLabel");else if("monthsPerView"===i||"locale"===i||"navigationBar"===i||"drilldownLevelOnOpen"===i)this.destroy(),this.element[this.componentName](this.options);else if("weekendDays"===i&&this._hasDate){this._weekEnds=this.options.weekendDays.split(",");for(var _=o.find("td."+e.zdatetimepicker._CLASSES.date+",td."+e.zdatetimepicker._CLASSES.adjacent).removeClass(e.zdatetimepicker._CLASSES.weekend),f=_.length,u=0;u<f;u++){var v=e(_[u]),s=parseInt(v.attr("data-time")),g=new Date(s).getDay();this._weekEnds.indexOf(g.toString())>-1&&v.addClass(e.zdatetimepicker._CLASSES.weekend)}}else if("timeLabelType"===i){if(this._hasTime){var b=o.find(".zdatetimepicker--multipleselectbox");b=b.length?b:void 0,this._buildLabel(b);var y=this._timeElement.find("."+e.zdatetimepicker._CLASSES.timeIcon),C=this._timeElement.find("."+e.zdatetimepicker._CLASSES.timeLabel);"text"!==s&&"none"!==s||y.length&&y.remove(),"icon"!==s&&"none"!==s||C.length&&C.remove()}}else if("draggable"===i)this.options.title&&this.options.draggable&&e.fn.zdraggable?this._initDraggable():this.element.data("zdraggable")&&this.element.zdraggable("destroy");else if("monthToBeShownOnOpen"===i||"yearToBeShownOnOpen"===i&&this._hasDate)"monthToBeShownOnOpen"===i?this._setMonthToView():this._setYearToView(),this._validateViewDate(),this._renderContent();else if("disabledDaysOfWeek"===i||"specialDaysOfWeek"===i||"specialDaysOfWeek"===i||"specialDates"===i||"disabledDates"===i&&this._hasDate){var S;if("disabledDates"===i||"specialDates"===i){var T={};T[i]=this.options[i],this._convertStringToObject(T)}S=e.zdatetimepicker._CLASSES.disabled+" zdisabled",this._refreshClassNames(o,S,["disabledDaysOfWeek","disabledDates"]),S=e.zdatetimepicker._CLASSES.highlighted,this._refreshClassNames(o,S,["specialDaysOfWeek","specialDates"])}else if("disabledMonths"===i&&this._hasDate)this.options.disabledMonths.indexOf(this._viewDate.getMonth())>-1?o.find("td").addClass(e.zdatetimepicker._CLASSES.disabled+" zdisabled").attr("aria-disabled",!0):"dropdown"===this.options.navigationBar.monthYearSwitcherType?this._monthHeader&&(this._monthHeader.zselectbox("setOptionAttributes",this._oldValue,"disabled",!1),this._monthHeader.zselectbox("setOptionAttributes",this.options.disabledMonths,"disabled",!0)):this._monthDrillDownElement&&this._monthDrillDownElement.find("td").addClass(e.zdatetimepicker._CLASSES.disabled).attr("aria-disabled",!0);else if("disabledYears"===i&&this._hasDate)this.options.disabledYears.indexOf(this._viewDate.getFullYear())>-1?"drilldown"===this.options.navigationBar.monthYearSwitcherType&&o.find("td").addClass(e.zdatetimepicker._CLASSES.disabled+" zdisabled").attr("aria-disabled",!0):"dropdown"===this.options.navigationBar.monthYearSwitcherType?this._yearHeader&&(this._yearHeader.zcombobox("setOptionAttributes",this._oldValue,"disabled",!1),this._yearHeader.zcombobox("setOptionAttributes",this.options.disabledYears,"disabled",!0)):this._yearDrillDownElement&&this._yearDrillDownElement.find("td").addClass(e.zdatetimepicker._CLASSES.disabled).attr("aria-disabled",!0);else if("timeFieldType"===i||"timeMultipleSelectBoxType"===i||"minTime"===i||"maxTime"===i||"hourStep"===i||"minuteStep"===i||"disabledTimeList"===i||"fixedTimeOptions"===i)this._hasTime=this._checkIfDateHasTime(),this._validateTimeOptions(),this._removeTimeBar(),this._hasTime&&this._buildTimePicker();else if("timeLabel"===i)this._timeElement&&this._timeElement.find("."+e.zdatetimepicker._CLASSES.timeLabel).text(this.options.timeLabel);else if("timeLabelIconClassName"===i||"timeLabelSVGIconId"===i)this._timeElement&&this._handleIcon(this._timeElement.find("."+e.zdatetimepicker._CLASSES.timeIcon),void 0,"time",this.options.timeLabelIconClassName,this.options.timeLabelSVGIconId);else if("displayAdjacentMonthDates"===i&&this._hasDate)this._renderContent(void 0,void 0,!1);else if("selectedDateMonthViewIndex"===i&&this._hasDate)this.options.value&&(this._viewDate=new Date(this.options.value.getTime()),this._updateSelectedDatePosition());else if("allowSelectionOfAdjacentMonthDates"===i&&this._hasDate)this.element.find("table."+e.zdatetimepicker._CLASSES.dateView)[s?"removeClass":"addClass"](e.zdatetimepicker._CLASSES.readonlyAdjacent);else if("width"===i)this.options.width&&this.element.width(this.options.width);else if("height"===i)this.options.height&&this.element.height(this.options.height);else if("className"===i)this.element.removeClass(this._oldValue),s&&this.element.addClass(s);else if("offset"===i)this.element.css(this.options.offset);else if("margin"===i&&this.element.is(":visible")){var z={};z.left=parseInt(this.element.css("left")),z.top=parseInt(this.element.css("top")),z=this._retrieveMarginValues(z),this.element.css(z)}},_reBuildCommandBar:function(){var t=this.options;this.options.OKButton=!this.options.immediateCommit,this.options.cancelButton=!this.options.hideCancelButton&&!this.options.immediateCommit,this._footer&&(this._unBindButtonEvents(),this._footer.empty());var i=this._checkIfColumnExists();(t.todayButton||t.OKButton||t.cancelButton||t.clearButton||i)&&(this._createButtons(),this._bindButtonEvents()),this._footer&&0===this._footer.children().length&&(this._footer.remove(),this._footer=void 0),3===this._monthsPerView&&this._footer&&this._footer.length&&this._hasTime&&this.element.addClass(e.zdatetimepicker._CLASSES.triple)},_checkIfColumnExists:function(){var t=!1;if(this.options.commandBar){for(var e=["leftColumn","centerColumn","rightColumn"],i=0;i<e.length;i++)if(this.options.commandBar.hasOwnProperty(e[i])){t=!0;break}return t}},_bindArrowEvents:function(){e("#"+this._elementId+"-right-month-0, #"+this._elementId+"-left-month-0").on("click."+this.componentName,this._handleMonthArrowClick.bind(this)),this.options.navigationBar.yearNavigationButtons&&e("#"+this._elementId+"-left-year, #"+this._elementId+"-right-year").on("click."+this.componentName,this._handleYearArrowClick.bind(this))},getValue:function(){var t=ZDateUtil.formatDate(this.options.value,this.options.format);return{valueObject:this.options.value,dateString:t}},getValues:function(){for(var t=[],e=0;e<this.options.values.length;e++)t[e]=ZDateUtil.parseDate(this.options.values[e],this.options.format).date;return{values:this.options.values,valuesObject:t}},setValue:function(t){"single"===this.options.selectionType&&this._setValue(t)},setValues:function(t){"multiple"===this.options.selectionType&&(this._rowsCount=[],this.options.values=t,this._setValues(),this._performValidations(),(this._oldDate&&!ZDateUtil.areDatesEqual(this._oldDate,this._viewDate)||!this._oldDate)&&this._renderContent())},getElement:function(){return this.element},clear:function(t){if("multiple"===this.options.selectionType&&t){var e;if("string"==typeof t?e=this.options.values.indexOf(t):t instanceof Date&&(t.setHours(0,0,0,0),t=ZDateUtil.formatDate(t,this.options.format),e=this.options.values.indexOf(t)),e>-1){var t=this._resetTime(this._selectedDates[e]);this.element.find("[data-time='"+t.getTime()+"']").removeClass("is-selected").removeAttr("aria-selected"),this.options.values.splice(e,1),this._selectedDates.splice(e,1),0===this.options.values.length&&(this._viewDate=new Date,this._viewDate.setHours(0,0,0,0)),this._renderContent()}}},clearAll:function(){this._resetClickHandler(),this.options.values=[],this._selectedDates=[]},destroy:function(){if(this.element.removeData(this.componentName),this.element.off("."+this.componentName),this.element.removeClass(e.zdatetimepicker._CLASSES.datepicker+" "+e.zdatetimepicker._CLASSES.group+" "+e.zdatetimepicker._CLASSES.dropdown+" "+e.zdatetimepicker._CLASSES.triple),this._monthHeader&&this._monthHeader.zselectbox("destroy"),this._yearHeader&&this._yearHeader.zcombobox("destroy"),this._hasTime){var t=this.element.find(".zdatetimepicker-timeinput");t.length&&t.zdatetimefield("destroy")}this.options.customHTMLAboveCalendar&&e(this.options.customHTMLAboveCalendar).appendTo(this._aboveCalendarParent),this.options.customHTMLBelowCalendar&&e(this.options.customHTMLBelowCalendar).appendTo(this._belowCalendarParent),this.options.customHTMLAboveNavigationBar&&e(this.options.customHTMLAboveNavigationBar).appendTo(this._aboveNavbarParent),this.element.empty(),this.options.draggable&&this.element.data("zdraggable")&&this.element.zdraggable("destroy"),this._rowsCount=[],this._minDate=void 0,this._maxDate=void 0,this._monthsPerView=void 0,this._currentSelected=void 0,this._selectedDates=[],this._forElement=null,this._navBar=this._monthHeader=this._monthYearNav=this._monthNavBar=this._yearNavBar=this._yearDrillDownElement=this._monthDrillDownElement=this._decadeDrillDownElement=this._leftNav=this._rightNav=this._decadeNavBar=this._reset=this._today=this._cancel=this._apply=this._singleTimeSelect=this._timeElement=void 0,this._combinedPeriodElement=this._combinedTimeElement=this._hourElement=this._minuteElement=this._periodElement=this._footer=void 0}};t.registerComponent("zdatetimepicker",i),e.zdatetimepicker._CLASSES={triple:"zdatetimepicker--triplecalendar",weeknumbers:"zdatetimepicker__weeknumbers",list:"zdatetimepicker__list",weeknumber:"zdatetimepicker__weeknumber",dropdown:"zdatetimepicker--dropdownyearbutton",dateText:"zdatetimepicker__text",leftNav:"zdatetimepicker__leftnav",highlighted:"zdatetimepicker--special",container:"zdatetimepicker__container",monthContainer:"zdatetimepicker__calendar",group:"zdatetimepicker--group",weekend:"zdatetimepicker--weekend",pointer:"zdatetimepicker__pointer",navOnRight:"zdatetimepicker__navbaractionsonright",navOnLeft:"zdatetimepicker__navbaractionsonleft",gridContainer:"zdatetimepicker__drilldownview",monthYearTable:"zdatetimepicker__drilldowncell",currentGrid:"zdatetimepicker--currentcell",grid:"zdatetimepicker__monthyeargrid",timeIcon:"zdatetimepicker__timeicon",timeLabel:"zdatetimepicker__timelabel",rightNav:"zdatetimepicker__rightnav",disabled:"is-disabled",selected:"is-selected",header:"zdatetimepicker__titlebar",title:"zdatetimepicker__title",close:"zdatetimepicker__close",datepicker:"zdatetimepicker",timepicker:"zdatetimepicker__timebar",body:"zdatetimepicker__monthcontainer",navBar:"zdatetimepicker__navbar",navButton:"zdatetimepicker__navbutton",navIcon:"zdatetimepicker__icon",monthYearNav:"zdatetimepicker__monthyearnav",monthNav:"zdatetimepicker__monthnav",yearNav:"zdatetimepicker__yearnav",dateView:"zdatetimepicker__month",days:"zdatetimepicker__week",day:"zdatetimepicker__day",date:"zdatetimepicker__date",today:"zdatetimepicker--today",adjacent:"zdatetimepicker__adjacentmonthdate",footer:"zdatetimepicker__commandbar",disabledCalendar:"zdatetimepicker--disabledcalendar",readonlyAdjacent:"zdatetimepicker--adjacentmonthdatereadonly"},e.zdatetimepicker._LEFTNAV="<div class='"+e.zdatetimepicker._CLASSES.leftNav+"'></div>",e.zdatetimepicker._RIGHTNAV="<div class='"+e.zdatetimepicker._CLASSES.rightNav+"'></div>",e.zdatetimepicker._HEADER="<div class='"+e.zdatetimepicker._CLASSES.header+"' role='heading'><span class='"+e.zdatetimepicker._CLASSES.title+"'></span></div>",e.zdatetimepicker._NAVBUTTON="<button role='button' class='"+e.zdatetimepicker._CLASSES.navButton+"'><i class='"+e.zdatetimepicker._CLASSES.navIcon+"'></i></button></div>",e.zdatetimepicker._NAVITEM="<div class='"+e.zdatetimepicker._CLASSES.monthYearNav+"'><span class='"+e.zdatetimepicker._CLASSES.monthNav+"'></span><span class='"+e.zdatetimepicker._CLASSES.yearNav+"'></span></div>",e.zdatetimepicker._MONTH="<div class='"+e.zdatetimepicker._CLASSES.monthContainer+"'><table class='"+e.zdatetimepicker._CLASSES.dateView+"'><thead><tr role='row' class='"+e.zdatetimepicker._CLASSES.days+"'></tr></thead><tbody></tbody></table></div>",e.zdatetimepicker._TEMPLATE="<div class='"+e.zdatetimepicker._CLASSES.body+" zdatetimepicker__days'><div class='"+e.zdatetimepicker._CLASSES.navBar+"'></div>"+e.zdatetimepicker._MONTH+"</div></div>",e.zdatetimepicker._WEEKNUMBER="<table role='grid' class='"+e.zdatetimepicker._CLASSES.weeknumbers+"'><thead><tr role='row'><th class='"+e.zdatetimepicker._CLASSES.weeknumber+"'></th></tr></thead><tbody></tbody></table>"}(ZComponents),ZComponents.localeInformation={decimalSeparator:{".":["ak","am","as","asa","bem","bez","bm","bn-IN","bn","bo-IN","bo","brx","ce","cgg","chr","cu","cy","dav","de-CH","de-LI","dje","dz","ebu","ee-TG","ee","en-001","en-AG","en-AI","en-AS","en-AU","en-BB","en-BI","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CK","en-CM","en-CX","en-CY","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IL","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZM","en-ZW","en","es-419","es-BR","es-BZ","es-CU","es-DO","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-US","fil","ga","gd","gsw-FR","gsw-LI","gsw","gu","guz","gv","ha-GH","ha-NE","ha","haw","he","hi","ig","ii","it-CH","ja","jmc","kam","kde","khq","ki","kln","kn","ko-KP","ko","kok","ksb","kw","lag","lg","lkt","luo","luy","mas-TZ","mas","mer","mfe","mg","mgo","ml","mn","mr","ms-SG","ms","mt","my","naq","nd","nds-NL","nds","ne-IN","ne","nus","nyn","om-KE","om","or","pa-Guru","pa","prg","qu-EC","qu","rm","rof","root","rwk","saq","sbp","ses","si","sn","so-DJ","so-ET","so-KE","so","sw-KE","sw-UG","sw","ta-LK","ta-MY","ta-SG","ta","te","teo-KE","teo","th","ti-ER","ti","to","twq","ur-IN","ur","vai-Latn","vai-Vaii","vai","vo","xog","yi","yo-BJ","yo","yue","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hans","zh-Hant-HK","zh-Hant-MO","zh-Hant","zh","zu"],",":["af-NA","af","agq","ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","ar","ast","az-Cyrl","az-Latn","az","bas","be","bg","br","bs-Cyrl","bs-Latn","bs","ca-AD","ca-ES-VALENCIA","ca-FR","ca-IT","ca","ckb-IR","ckb","cs","da-GL","da","de-AT","de-BE","de-IT","de-LU","de","dsb","dua","dyo","el-CY","el","en-150","en-AT","en-BE","en-CH","en-DE","en-DK","en-FI","en-NL","en-SE","en-SI","en-ZA","eo","es-AR","es-BO","es-CL","es-CO","es-CR","es-EA","es-EC","es-GQ","es-IC","es-PH","es-PY","es-UY","es-VE","es","et","eu","ewo","fa-AF","fa","ff-CM","ff-GN","ff-MR","ff","fi","fo-DK","fo","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fr","fur","fy","gl","hr-BA","hr","hsb","hu","hy","id","is","it-SM","it-VA","it","jgo","ka","kab","kea","kk","kkj","kl","km","ks","ksf","ksh","ky","lb","ln-AO","ln-CF","ln-CG","ln","lo","lrc-IQ","lrc","lt","lu","lv","mgh","mk","ms-BN","mua","mzn","nb-SJ","nb","nl-AW","nl-BE","nl-BQ","nl-CW","nl-SR","nl-SX","nl","nmg","nn","nnh","os-RU","os","pa-Arab","pl","ps","pt-AO","pt-CH","pt-CV","pt-GQ","pt-GW","pt-LU","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","pt","qu-BO","rn","ro-MD","ro","ru-BY","ru-KG","ru-KZ","ru-MD","ru-UA","ru","rw","sah","se-FI","se-SE","se","seh","sg","shi-Latn","shi-Tfng","shi","sk","sl","smn","sq-MK","sq-XK","sq","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-XK","sr-Cyrl","sr-Latn-BA","sr-Latn-ME","sr-Latn-XK","sr-Latn","sr","sv-AX","sv-FI","sv","sw-CD","tk","tr-CY","tr","tzm","ug","uk","uz-Arab","uz-Cyrl","uz-Latn","uz","vi","vun","wae","yav","zgh"]},thousandSeparator:{".":["ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","ar","ast","az-Cyrl","az-Latn","az","bs-Cyrl","bs-Latn","bs","ca-AD","ca-ES-VALENCIA","ca-FR","ca-IT","ca","chr","ckb-IR","ckb","da-GL","da","de-BE","de-IT","de-LU","de","dsb","el-CY","el","en-150","en-AT","en-BE","en-CH","en-DE","en-DK","en-NL","en-SI","es-AR","es-BO","es-CL","es-CO","es-EA","es-EC","es-GQ","es-IC","es-PH","es-PY","es-UY","es-VE","es","eu","fa-AF","fa","fo","fr-LU","fr-MA","fur","fy","gl","hr-BA","hr","hsb","id","is","it-SM","it-VA","it","jgo","kkj","kl","km","ks","lb","ln-AO","ln-CF","ln-CG","ln","lo","lrc-IQ","lrc","lu","mgh","mk","ms-BN","mua","mzn","nl-AW","nl-BE","nl-BQ","nl-CW","nl-SR","nl-SX","nl","nnh","pa-Arab","ps","pt","qu-BO","rn","ro-MD","ro","rw","seh","sg","sl","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-XK","sr-Cyrl","sr-Latn-BA","sr-Latn-ME","sr-Latn-XK","sr-Latn","sr","sw-CD","tr-CY","tr","ug","uz-Arab","vi","vun"],",":["ak","am","as","asa","bem","bez","bm","bn-IN","bn","bo-IN","bo","brx","ce","cgg","cu","cy","dav","dz","ebu","ee-TG","ee","en-001","en-AG","en-AI","en-AS","en-AU","en-BB","en-BI","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CK","en-CM","en-CX","en-CY","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IL","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZM","en-ZW","en","es-419","es-BR","es-BZ","es-CU","es-DO","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-US","fil","fo-DK","ga","gd","gu","guz","gv","ha-GH","ha-NE","ha","haw","he","hi","ig","ii","ja","jmc","kam","kde","ki","kln","kn","ko-KP","ko","kok","ksb","kw","lag","lg","lkt","luo","luy","mas-TZ","mas","mer","mg","mgo","ml","mn","mr","ms-SG","ms","mt","my","naq","nd","nds-NL","nds","ne-IN","ne","nus","nyn","om-KE","om","or","pa-Guru","pa","prg","qu-EC","qu","rof","root","rwk","saq","sbp","si","sn","so-DJ","so-ET","so-KE","so","sw-KE","sw-UG","sw","ta-LK","ta-MY","ta-SG","ta","te","teo-KE","teo","th","ti-ER","ti","to","ur-IN","ur","vai-Latn","vai-Vaii","vai","vo","xog","yi","yo-BJ","yo","yue","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hans","zh-Hant-HK","zh-Hant-MO","zh-Hant","zh","zu"]," ":["af-NA","af","agq","bas","be","bg","br","cs","de-AT","dje","dua","dyo","en-FI","en-SE","en-ZA","eo","es-CR","et","ewo","ff-CM","ff-GN","ff-MR","ff","fi","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fr","hu","hy","ka","kab","kea","khq","kk","ksf","ksh","ky","lt","lv","mfe","nb-SJ","nb","nmg","nn","os-RU","os","pl","pt-AO","pt-CH","pt-CV","pt-GQ","pt-GW","pt-LU","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","ru-BY","ru-KG","ru-KZ","ru-MD","ru-UA","ru","sah","se-FI","se-SE","se","ses","shi-Latn","shi-Tfng","shi","sk","smn","sq-MK","sq-XK","sq","sv-AX","sv-FI","sv","tk","twq","tzm","uk","uz-Cyrl","uz-Latn","uz","yav","zgh"],"'":["de-CH","de-LI","gsw-FR","gsw-LI","gsw","it-CH","rm","wae"]},timeSeparator:{":":["af-NA","af","agq","ak","am","ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","ar","as","asa","ast","az-Cyrl","az-Latn","az","bas","be","bem","bez","bg","bm","bn-IN","bn","bo-IN","bo","br","brx","bs-Cyrl","bs-Latn","bs","ca-AD","ca-ES-VALENCIA","ca-FR","ca-IT","ca","ce","cgg","chr","ckb-IR","ckb","cs","cu","cy","dav","de-AT","de-BE","de-CH","de-IT","de-LI","de-LU","de","dje","dsb","dua","dyo","dz","ebu","ee-TG","ee","el-CY","el","en-001","en-150","en-AG","en-AI","en-AS","en-AT","en-AU","en-BB","en-BE","en-BI","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CH","en-CK","en-CM","en-CX","en-CY","en-DE","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IL","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NL","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SE","en-SG","en-SH","en-SI","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZA","en-ZM","en-ZW","en","eo","es-419","es-AR","es-BO","es-BR","es-BZ","es-CL","es-CO","es-CR","es-CU","es-DO","es-EA","es-EC","es-GQ","es-GT","es-HN","es-IC","es-MX","es-NI","es-PA","es-PE","es-PH","es-PR","es-PY","es-SV","es-US","es-UY","es-VE","es","et","eu","ewo","fa-AF","fa","ff-CM","ff-GN","ff-MR","ff","fil","fo-DK","fo","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fr","fur","fy","ga","gd","gl","gsw-FR","gsw-LI","gsw","gu","guz","gv","ha-GH","ha-NE","ha","haw","he","hi","hr-BA","hr","hsb","hu","hy","ig","ii","is","it-CH","it-SM","it-VA","it","ja","jgo","jmc","ka","kab","kam","kde","kea","khq","ki","kk","kkj","kl","kln","km","kn","ko-KP","ko","kok","ksb","ksf","ksh","kw","ky","lag","lb","lg","lkt","ln-AO","ln-CF","ln-CG","ln","lo","lt","lu","luo","luy","lv","mas-TZ","mas","mer","mfe","mg","mgh","mgo","mk","ml","mn","mr","ms-BN","ms-SG","ms","mt","mua","my","mzn","naq","nb-SJ","nb","nd","nds-NL","nds","ne-IN","ne","nl-AW","nl-BE","nl-BQ","nl-CW","nl-SR","nl-SX","nl","nmg","nn","nnh","nus","nyn","om-KE","om","or","os-RU","os","pa-Arab","pa-Guru","pa","pl","prg","pt-AO","pt-CH","pt-CV","pt-GQ","pt-GW","pt-LU","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","pt","qu-BO","qu-EC","qu","rm","rn","ro-MD","ro","rof","root","ru-BY","ru-KG","ru-KZ","ru-MD","ru-UA","ru","rw","rwk","sah","saq","sbp","se-FI","se-SE","se","seh","ses","sg","shi-Latn","shi-Tfng","shi","sk","sl","sn","so-DJ","so-ET","so-KE","so","sq-MK","sq-XK","sq","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-XK","sr-Cyrl","sr-Latn-BA","sr-Latn-ME","sr-Latn-XK","sr-Latn","sr","sv-AX","sv-FI","sv","sw-CD","sw-KE","sw-UG","sw","ta-LK","ta-MY","ta-SG","ta","te","teo-KE","teo","th","ti-ER","ti","tk","to","tr-CY","tr","twq","tzm","uk","ur-IN","ur","uz-Arab","uz-Cyrl","uz-Latn","uz","vai-Latn","vai-Vaii","vai","vi","vo","vun","wae","xog","yav","yi","yo-BJ","yo","yue","zgh","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hans","zh-Hant-HK","zh-Hant-MO","zh-Hant","zh","zu"],".":["da-GL","da","en-DK","en-FI","fi","id","si","smn"],",":["ks","lrc-IQ","lrc","ps","ug"]},currencySymbolPosition:{left:["af-NA","af","ak","am","ar-AE","ar-BH","ar-DJ","ar-ER","ar-LB","as","en-US","az-Cyrl","az-Latn","az","bem","bm","bo-IN","bo","brx","cgg","chr","ckb-IR","ckb","cu","cy","dav","de-AT","de-CH","dz","ebu","ee-TG","ee","en-001","en-AG","en-AI","en-AS","en-AT","en-AU","en-BB","en-BI","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CH","en-CK","en-CM","en-CX","en-CY","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IL","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NL","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZA","en-ZM","en-ZW","en","eo","es-419","es-AR","es-BO","es-BR","es-BZ","es-CL","es-CO","es-CR","es-CU","es-DO","es-EC","es-GQ","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-PY","es-SV","es-US","es-UY","es-VE","fa-AF","fil","fur","fy","ga","gd","gu","guz","gv","ha-GH","ha-NE","ha","haw","hi","id","ig","ii","it-CH","ja","jgo","jmc","kam","kde","ki","kkj","kl","kln","kn","ko-KP","ko","kok","ks","kw","lag","lkt","lo","lrc-IQ","lrc","luy","mas-TZ","mas","mer","mfe","mg","mgh","ml","mn","mr","ms-BN","ms-SG","ms","mt","mua","mzn","naq","nb-SJ","nb","nd","nds-NL","nds","ne-IN","ne","nl-AW","nl-BQ","nl-CW","nl-SR","nl-SX","nl","nnh","nus","nyn","om-KE","om","or","os-RU","os","pa-Arab","pa-Guru","pa","prg","pt","qu-BO","qu-EC","qu","rof","root","rw","saq","sd","sg","si","sn","so-DJ","so-ET","so-KE","so","sw-CD","sw-KE","sw-UG","sw","ta-LK","ta-MY","ta-SG","ta","te","teo-KE","teo","th","ti-ER","ti","to","tr-CY","tr","ug","ur-IN","ur","uz-Arab","vai-Latn","vai-Vaii","vai","vo","vun","wae","wo","yi","yo-BJ","yo","yue-Hans","yue-Hant","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hans","zh-Hant-HK","zh-Hant-MO","zh-Hant","zh","zu"],right:["agq","ar-DZ","ar-EG","ar-EH","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","ar","asa","ast","bas","be","bez","bg","bn-IN","bn","br","bs-Cyrl","bs-Latn","bs","ca-AD","ca-ES-VALENCIA","ca-FR","ca-IT","ca","ce","cs","da-GL","da","de-BE","de-IT","de-LU","de","dje","dsb","dua","dyo","el-CY","el","en-150","en-BE","en-DE","en-DK","en-FI","en-SE","en-SI","es-EA","es-IC","es-PH","es","et","eu","ewo","fa","ff-CM","ff-GN","ff-MR","ff","fi","fo-DK","fo","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fr","gl","gsw-FR","gsw-LI","gsw","he","hr-BA","hr","hsb","hu","hy","is","it-SM","it-VA","it","ka","kab","kea","khq","kk","km","ksb","ksf","ksh","ky","lb","lg","ln-AO","ln-CF","ln-CG","ln","lt","lu","luo","lv","mk","my","nl-BE","nmg","nn","pl","ps","pt-AO","pt-CH","pt-CV","pt-GQ","pt-GW","pt-LU","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","rm","rn","ro-MD","ro","ru-BY","ru-KG","ru-KZ","ru-MD","ru-UA","ru","rwk","sah","sbp","se-FI","se-SE","se","seh","ses","shi-Latn","shi-Tfng","shi","sk","sl","smn","sq-MK","sq-XK","sq","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-XK","sr-Cyrl","sr-Latn-BA","sr-Latn-ME","sr-Latn-XK","sr-Latn","sr","sv-AX","sv-FI","sv","tg","tk","tt","twq","tzm","uk","uz-Cyrl","uz-Latn","uz","vi","xog","yav","zgh"]}},ZComponents.localeInfo={br:{days:["Sul","Lun","Meurzh","Mercher","Yaou","Gwener","Sadorn"],months:["Genver","Chwevrer","Meurzh","Ebrel","Mae","Mezheven","Gouere","Eost","Gwengolo","Here","Du","Kerzu"],monthsAbbreviated:["Gen.","Chwe.","Meur.","Ebr.","Mae","Mezh.","Goue.","Eost","Gwen.","Here","Du","Kzu."],daysAbbreviated:["Sul","Lun","Meu.","Mer.","Yaou","Gwe.","Sad."],dateFormat:{short:"yyyy-MM-dd",medium:"yyyy MMM d",long:"yyyy MMMM d",full:"yyyy MMMM d, dddd"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"yyyy MMM d HH:mm:ss z",medium:"yyyy MMM d HH:mm:ss z",long:"yyyy MMMM d, dddd HH:mm",full:"yyyy MMMM d, dddd HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"BRL",name:"Brazilian real",symbol:"R$",position:"right"},firstDayOfWeek:0},"ca-IT":{daysAbbreviated:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],months:["de gener","de febrer","de mar","dabril","de maig","de juny","de juliol","dagost","de setembre","doctubre","de novembre","de desembre"],monthsAbbreviated:["de gen.","de febr.","de mar","dabr.","de maig","de juny","de jul.","dag.","de set.","doct.","de nov.","de des."],dateFormat:{short:"d/M/yy",medium:"d/M/yyyy",long:"d MMMM 'de' yyyy",full:"dddd d MMMM 'de' yyyy"},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"d/M/yyyy,  H:mm:ss z",medium:"d/M/yyyy,  H:mm:ss z",long:"d/M/yyyy,  H:mm:ss z",full:"d/M/yyyy,  H:mm:ss z"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"},firstDayOfWeek:1},da:{days:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],months:["","","","","","","","","","","",""],monthsAbbreviated:[".",".",".",".","",".",".",".",".",".",".","."],daysAbbreviated:["sn.","man.","tir.","ons.","tor.","fre.","lr."],dateFormat:{short:"d/M/yyyy",medium:"d. MMM yyyy",long:"d. MMMM yyyy",full:"dddd d. MMMM yyyy"},timeFormat:{short:"HH.mm",medium:"HH.mm.ss",long:"HH.mm.ss z"},dateTimeFormat:{short:"d. MMM yyyy HH.mm.ss z",medium:"d. MMM yyyy HH.mm.ss z",long:"dddd d. MMMM yyyy HH.mm",full:"dddd d. MMMM yyyy HH.mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},de:{monthsAbbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysAbbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],dateFormat:{short:"dd.MM.yy",medium:"dd.MM.yyyy",long:"d. MMMM yyyy",full:"dddd, d. MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd.MM.yyyy HH:mm:ss z",medium:"dd.MM.yyyy HH:mm:ss z",long:"dddd, d. MMMM yyyy HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"},firstDayOfWeek:1},"de-IT":{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsAbbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],daysAbbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],dateFormat:{short:"dd.MM.yy",medium:"dd.MM.yyyy",long:"d. MMMM yyyy",full:"dddd, d. MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd.MM.yyyy, HH:mm:ss z",medium:"dd.MM.yyyy, HH:mm:ss z",long:"dddd, d. MMMM yyyy 'um' HH:mm",full:"dddd, d. MMMM yyyy 'um' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"},firstDayOfWeek:1},"de-BE":{daysAbbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsAbbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],dateFormat:{short:"dd.MM.yy",medium:"dd.MM.yyyy",long:"d. MMMM yyyy",full:"dddd, d. MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd.MM.yyyy, HH:mm",medium:"dd.MM.yyyy, HH:mm",long:"dddd, d. MMMM yyyy 'um' HH:mm",full:"dddd, d. MMMM yyyy 'um' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"},firstDayOfWeek:1},"en-GB":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],firstDay:1,dateFormat:{short:"dd/MM/yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd, d MMMM yyyy",other:{dateMonth:"d MMMM",yearMonth:"MMMM yyyy"}},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy, HH:mm:ss z",medium:"d MMM yyyy, HH:mm:ss z",long:"dddd, d MMMM yyyy 'at' HH:mm",full:"dddd, d MMMM yyyy 'at' HH:mm"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GBP",name:"Pound sterling",symbol:"",position:"left"},firstDayOfWeek:1},"en-HK":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:{short:"d/M/yy",medium:"d MMM, yyyy",long:"d MMMM, yyyy",full:"dddd, d MMMM, yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt z"},dateTimeFormat:{short:"d MMM, yyyy, h:mm:ss tt z",medium:"d MMM, yyyy, h:mm:ss tt z",long:"dddd, d MMMM, yyyy 'at' h:mm tt",full:"dddd, d MMMM, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"HKD",name:"Hong Kong Dollar",symbol:"$",position:"left"},firstDayOfWeek:0},"en-SE":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:{short:"yyyy-MM-dd",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd, d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM, yyyy, h:mm:ss tt z",medium:"d MMM, yyyy, h:mm:ss tt z",long:"dddd, d MMMM, yyyy 'at' h:mm tt",full:"dddd, d MMMM, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SEK",name:"Swedish krona",symbol:"kr",position:"right"},firstDayOfWeek:1},"en-US":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],firstDay:0,dateFormat:{short:"M/d/yyyy",medium:"MMM d, yyyy",long:"MMMM d, yyyy",full:"dddd, MMMM d, yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"hh:mm:ss tt"},dateTimeFormat:{short:"MMM d, yyyy, hh:mm:ss tt",medium:"MMM d, yyyy, hh:mm:ss tt",long:"dddd, MMMM d, yyyy 'at' h:mm tt",full:"dddd, MMMM d, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"},firstDayOfWeek:0},"en-IN":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:{short:"dd/M/yyyy",medium:"dd-MMM-yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt z"},dateTimeFormat:{short:"dd-MMM-yyyy, h:mm:ss tt z",medium:"dd-MMM-yyyy, h:mm:ss tt z",long:"dddd d MMMM yyyy 'at' h:mm tt",full:"dddd d MMMM yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"",position:"left"},firstDayOfWeek:0},es:{daysAbbreviated:["dom.","lun.","mar.","mi.","jue.","vie.","sb."],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dateFormat:{short:"d/M/yy",medium:"d/M/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"d/M/yyyy, H:mm:ss z",medium:"d/M/yyyy, H:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy H:mm",full:"dddd, d 'de' MMMM 'de' yyyy H:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MXN",name:"Mexican peso",symbol:"$",position:"right"},firstDayOfWeek:1},"es-AR":{days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],daysAbbreviated:["dom.","lun.","mar.","mi.","jue.","vie.","sb."],dateFormat:{short:"d/M/yy",medium:"d MMM yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy, HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy, HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ARS",name:"Argentine peso",symbol:"$",position:"left"}},"es-NI":{days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],daysAbbreviated:["dom.","lun.","mar.","mi.","jue.","vie.","sb."],dateFormat:{short:"dd/MM/yy",medium:"d/M/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d/M/yyyy HH:mm:ss z",medium:"d/M/yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy, HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy, HH:mm"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NIO",name:"Nicaraguan crdoba",symbol:"C$",position:"left"},firstDayOfWeek:0},"es-PR":{daysAbbreviated:["dom.","lun.","mar.","mi.","jue.","vie.","sb."],days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],dateFormat:{short:"MM/dd/yy",medium:"MM/dd/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"h:mm tt",medium:"h:mm:ss tt",long:"h:mm:ss tt z"},dateTimeFormat:{short:"MM/dd/yyyy h:mm:ss tt z",medium:"MM/dd/yyyy h:mm:ss tt z",long:"dddd, d 'de' MMMM 'de' yyyy, h:mm tt",full:"dddd, d 'de' MMMM 'de' yyyy, h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"},firstDayOfWeek:0},"es-SV":{daysAbbreviated:["dom.","lun.","mar.","mi.","jue.","vie.","sb."],days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],monthsAbbreviated:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],dateFormat:{short:"dd/MM/yy",medium:"d/M/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d/M/yyyy HH:mm:ss z",medium:"d/M/yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy, HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy, HH:mm"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SVC",name:"Salvadoran coln",symbol:"",position:"left"},firstDayOfWeek:0},fr:{daysAbbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],monthsAbbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],dateFormat:{short:"dd/MM/yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy '' HH:mm",full:"dddd d MMMM yyyy '' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"},firstDayOfWeek:1},"fr-BE":{months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthsAbbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],daysAbbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dateFormat:{short:"d/MM/yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"dddd d MMMM yyyy '' HH:mm",long:"dddd d MMMM yyyy '' HH:mm",full:"dddd d MMMM yyyy '' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"},firstDayOfWeek:1},"fr-BL":{days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthsAbbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],daysAbbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dateFormat:{short:"dd/MM/yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"dddd d MMMM yyyy '' HH:mm",long:"dddd d MMMM yyyy '' HH:mm",full:"dddd d MMMM yyyy '' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-HT":{days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthsAbbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],daysAbbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dateFormat:{short:"dd/MM/yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy '' HH:mm",full:"dddd d MMMM yyyy '' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"HTG",name:"Haitian gourde",symbol:"G",position:"right"}},"ha-GH":{days:["Lahadi","Litinin","Talata","Laraba","Alhamis","Jummaa","Asabar"],months:["Janairu","Faburairu","Maris","Afirilu","Mayu","Yuni","Yuli","Agusta","Satumba","Oktoba","Nuwamba","Disamba"],monthsAbbreviated:["Jan","Fab","Mar","Afi","May","Yun","Yul","Agu","Sat","Okt","Nuw","Dis"],daysAbbreviated:["Lah","Lit","Tal","Lar","Alh","Jum","Asa"],dateFormat:{short:"d/M/yy",medium:"d MMM, yyyy",long:"d MMMM, yyyy",full:"dddd, d MMMM, yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM, yyyy HH:mm:ss z",medium:"d MMM, yyyy HH:mm:ss z",long:"dddd, d MMMM, yyyy HH:mm",full:"dddd, d MMMM, yyyy HH:mm"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GHS",name:"Ghanaian cedi",symbol:"",position:"left"}},"hr-BA":{daysAbbreviated:["ned","pon","uto","sri","et","pet","sub"],days:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],monthsAbbreviated:["sij","velj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro"],months:["sijenja","veljae","oujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"],dateFormat:{short:"dd. MM. yyyy.",medium:"d. MMM yyyy.",long:"d. MMMM yyyy.",full:"dddd, d. MMMM yyyy."},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d. MMM yyyy. HH:mm:ss z",medium:"d. MMM yyyy. HH:mm:ss z",long:"dddd, d. MMMM yyyy. 'u' HH:mm",full:"dddd, d. MMMM yyyy. 'u' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BAM",name:"Bosnia and Herzegovina convertible mark",symbol:"KM",position:"right"},firstDayOfWeek:1},nl:{daysAbbreviated:["ned","pon","uto","sri","et","pet","sub"],days:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],monthsAbbreviated:["sij","velj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro"],months:["sijenja","veljae","oujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"],dateFormat:{short:"dd-MM-yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy 'om' HH:mm",full:"dddd d MMMM yyyy 'om' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"},firstDayOfWeek:1},"nl-AW":{days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsAbbreviated:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],daysAbbreviated:["zo","ma","di","wo","do","vr","za"],dateFormat:{short:"dd-MM-yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy 'om' HH:mm",full:"dddd d MMMM yyyy 'om' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AWG",name:"Aruban florin",symbol:"",position:"left"},firstDayOfWeek:1},"nl-SR":{days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsAbbreviated:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],daysAbbreviated:["zo","ma","di","wo","do","vr","za"],dateFormat:{short:"dd-MM-yy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy 'om' HH:mm",full:"dddd d MMMM yyyy 'om' HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SRD",name:"Surinamese dollar",symbol:"$",position:"left"},firstDayOfWeek:1},pl:{days:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"],months:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"],monthsAbbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],daysAbbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],dateFormat:{short:"dd.MM.yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd, d MMMM y"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy, HH:mm:ss z",medium:"d MMM yyyy, HH:mm:ss z",long:"d MMM yyyy HH:mm:ss z",full:"d MMM yyyy, HH:mm:ss z"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"PLN",name:"Polish zoty",symbol:"z",position:"right"},firstDayOfWeek:1},pt:{daysAbbreviated:["dom","seg","ter","qua","qui","sex","sb"],days:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],monthsAbbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],months:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],dateFormat:{short:"dd/MM/yyyy",medium:"dd/MM/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd/MM/yyyy HH:mm:ss z",medium:"dd/MM/yyyy HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"},firstDayOfWeek:1},"pt-CV":{days:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],months:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsAbbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],daysAbbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],dateFormat:{short:"d/M/yyyy",medium:"dd/MM/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd/MM/yyyy, HH:mm:ss z",medium:"dd/MM/yyyy, HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy 's' HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy 's' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CVE",name:"Cape Verdean escudo",symbol:"Esc",position:"right"},firstDayOfWeek:1},"pt-TL":{days:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],months:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsAbbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],daysAbbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],dateFormat:{short:"d/M/yyyy",medium:"dd/MM/yyyy",long:"d 'de' MMMM 'de' yyyy",full:"dddd, d 'de' MMMM 'de' yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"dd/MM/yyyy, HH:mm:ss z",medium:"dd/MM/yyyy, HH:mm:ss z",long:"dddd, d 'de' MMMM 'de' yyyy 's' HH:mm",full:"dddd, d 'de' MMMM 'de' yyyy 's' HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"right"},firstDayOfWeek:1},ru:{days:["","","","","","",""],months:["","","","","","","","","","","",""],monthsAbbreviated:[".",".",".",".","",".",".",".",".",".",".","."],daysAbbreviated:["","","","","","",""],dateFormat:{short:"dd.MM.yyyy",medium:"d MMM yyyy ''.",long:"d MMMM yyyy ''.",full:"dddd, d MMMM yyyy ''."},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy ''., H:mm:ss z",medium:"d MMM yyyy ''., H:mm:ss z",long:"dddd, d MMMM yyyy ''., H:mm",full:"dddd, d MMMM yyyy ''., H:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"",position:"right"},firstDayOfWeek:1},"ru-KG":{days:["","","","","","",""],months:["","","","","","","","","","","",""],monthsAbbreviated:[".",".",".",".","",".",".",".",".",".",".","."],daysAbbreviated:["","","","","","",""],dateFormat:{short:"dd.MM.yyyy",medium:"d MMM yyyy ''.",long:"d MMMM yyyy ''.",full:"dddd, d MMMM yyyy ''."},timeFormat:{short:"H:mm",medium:"H:mm:ss",long:"H:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy ''., H:mm:ss z",medium:"d MMM yyyy ''., H:mm:ss z",long:"d MMM yyyy ''., H:mm:ss z",full:"d MMM yyyy ''., H:mm:ss z"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KGS",name:"Kyrgyzstani som",symbol:"",position:"right"},firstDayOfWeek:1},"ru-UA":{days:["","","","","","",""],months:["","","","","","","","","","","",""],monthsAbbreviated:[".",".",".",".","",".",".",".",".",".",".","."],daysAbbreviated:["","","","","","",""],dateFormat:{short:"dd.MM.yyyy",medium:"d MMM yyyy ''.",long:"d MMMM yyyy ''.",full:"dddd, d MMMM yyyy ''."},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy ''., HH:mm:ss z",medium:"d MMM yyyy ''., HH:mm:ss z",long:"dddd, d MMMM yyyy ''., HH:mm",full:"dddd, d MMMM yyyy ''., HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UAH",name:"Ukrainian hryvnia",symbol:"",position:"right"},firstDayOfWeek:1},sv:{daysAbbreviated:["sn","mn","tis","ons","tors","fre","lr"],months:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],monthsAbbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],days:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],dateFormat:{short:"yyyy-MM-dd",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"dddd d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd d MMMM yyyy HH:mm",full:"dddd d MMMM yyyy HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SVC",name:"Salvadoran coln",symbol:"",position:"right"},firstDayOfWeek:0},tr:{days:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],months:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],monthsAbbreviated:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],daysAbbreviated:["Paz","Pzt","Sal","ar","Per","Cum","Cmt"],dateFormat:{short:"d.MM.yyyy",medium:"d MMM yyyy",long:"d MMMM yyyy",full:"d MMMM yyyy"},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"d MMMM yyyy HH:mm",full:"d MMMM yyyy HH:mm"},numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"TRY",name:"Turkish lira",symbol:"",position:"left"},firstDayOfWeek:1},uk:{daysAbbreviated:["","","","","","",""],days:["","","","","","",""],months:["","","","","","","","","","","",""],monthsAbbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],dateFormat:{short:"dd.MM.yy",medium:"d MMM yyyy",long:"d MMMM yyyy ''.",full:"dddd, d MMMM yyyy ''."},timeFormat:{short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z"},dateTimeFormat:{short:"d MMM yyyy HH:mm:ss z",medium:"d MMM yyyy HH:mm:ss z",long:"dddd, d MMMM yyyy ''. HH:mm",full:"dddd, d MMMM yyyy ''. HH:mm"},numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UAH",name:"Ukrainian hryvnia",symbol:"",position:"right"}},am:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AMD",name:"Armenian dram",symbol:"",position:"left"}},as:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},be:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},bm:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BMD",name:"Bermudian dollar",symbol:"$",position:"left"}},"bn-IN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"",position:"right"}},bn:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BND",name:"Brunei dollar",symbol:"$",position:"right"}},"bo-IN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"",position:"left"}},bo:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BOB",name:"Bolivian boliviano",symbol:"$b",position:"left"}},cu:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"CUP",name:"Cuban peso",symbol:"",position:"left"}},cy:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},"de-CH":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"left"}},"de-LU":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"left"}},ee:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},"en-AG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-AI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-AS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-AU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-BB":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BBD",name:"Barbadian dollar",symbol:"$",position:"left"}},"en-BI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BIF",name:"Burundian franc",symbol:"FBu",position:"left"}},"en-BM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BMD",name:"Bermudian dollar",symbol:"$",position:"left"}},"en-BS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BSD",name:"Bahamian dollar",symbol:"$",position:"left"}},"en-BW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BWP",name:"Botswana pula",symbol:"P",position:"left"}},"en-BZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BZD",name:"Belize dollar",symbol:"BZ$",position:"left"}},"en-CA":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"CAD",name:"Canadian dollar",symbol:"$",position:"left"}},"en-CC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-CK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-CM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},"en-CK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-CX":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-CY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"en-DM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-ER":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ERN",name:"Eritrean nakfa",symbol:"Na",position:"left"}},"en-FJ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"FJD",name:"Fijian dollar",symbol:"$",position:"left"}},"en-FK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"FKP",name:"Fijian dollar",symbol:"$",position:"left"}},"en-FM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-GD":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-GG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GBP",name:"Pound sterling",symbol:"",position:"left"}},"en-GH":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GHS",name:"Ghanaian cedi",symbol:"",position:"left"}},"en-GI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GIP",name:"Ghanaian cedi",symbol:"",position:"left"}},"en-GM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GMD",name:"Gambian dalasi",symbol:"D",position:"left"}},"en-GU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-GY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GYD",name:"Guyanaese Dollar",symbol:"$",position:"left"}},"en-IE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},"en-IL":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ILS",name:"Israeli New Shekel",symbol:"",position:"left"}},"en-IM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GBP",name:"Pound sterling",symbol:"",position:"left"}},"en-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},"en-IO":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-JE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GBP",name:"Pound sterling",symbol:"",position:"left"}},"en-JM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"JMD",name:"Jamaican dollar",symbol:"J$",position:"left"}},"en-KI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-KN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-KY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KYD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-LC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-LR":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"LRD",name:"Liberian dollar",symbol:"$",position:"left"}},"en-LS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"LSL",name:"Lesotho loti",symbol:"L",position:"left"}},"en-MG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MGA",name:"Malagasy ariary",symbol:"Ar",position:"left"}},"en-MH":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-MO":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MOP",name:"Macanese pataca",symbol:"P",position:"left"}},"en-MP":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-MS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-MT":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"en-MU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MUR",name:"Mauritian rupee",symbol:"",position:"left"}},"en-MW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MWP",name:"Mauritian rupee",symbol:"",position:"left"}},"en-MY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MYR",name:"Malaysian ringgit",symbol:"RM",position:"left"}},"en-NA":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NAD",name:"Namibian dollar",symbol:"$",position:"left"}},"en-NF":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-NG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NGN",name:"Nigerian naira",symbol:"",position:"left"}},"en-NR":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-NU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-NZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-PG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PGK",name:"Papua New Guinean kina",symbol:"K",position:"left"}},"en-PK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PKR",name:"Pakistani Rupee",symbol:"",position:"left"}},"en-PH":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PHP",name:"Philippine peso",symbol:"",position:"left"}},"en-PN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-PR":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-PW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-RW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"RWF",name:"Rwandan franc",symbol:"RF",position:"left"}},"en-SB":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SBD",name:"Solomon Islands dollar",symbol:"$",position:"left"}},"en-SC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SCR",name:"Seychellois rupee",symbol:"",position:"left"}},"en-SD":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SDG",name:"Sudanese pound",symbol:"Sd",position:"left"}},"en-SG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SGD",name:"Singapore dollar",symbol:"$",position:"left"}},"en-SH":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SHP",name:"Singapore dollar",symbol:"$",position:"left"}},"en-SL":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SLL",name:"Sierra Leonean leone",symbol:"Le",position:"left"}},"en-SS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SSP",name:"South Sudanese pound",symbol:"SSP",alternateSymbol:"",position:"left"}},"en-SX":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ANG",name:"Netherlands Antillean guilder",symbol:"",position:"left"}},"en-SZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SZL",name:"Swazi lilangeni",symbol:"L",position:"left"}},"en-TC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-TK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"NZD",name:"New Zealand dollar",symbol:"$",position:"left"}},"en-TO":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TOP",name:"Tongan paanga",symbol:"T$",position:"left"}},"en-TT":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TTD",name:"Trinidad and Tobago dollar",symbol:"TT$",position:"left"}},"en-TV":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},"en-TZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TZS",name:"Tanzanian shilling",symbol:"TSh",position:"left"}},"en-UG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"UGX",name:"Ugandan shilling",symbol:"USh",position:"left"}},"en-UM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-VC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"en-VG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-VI":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"en-VU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"VUV",name:"Vanuatu vatu",symbol:"VT",position:"left"}},"en-WS":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"WST",name:"Samoan tl",symbol:"T",position:"left"}},"en-ZM":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ZMW",name:"Zambian kwacha",symbol:"ZK",position:"left"}},"en-ZW":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ZWL",name:"Zambian kwacha",symbol:"ZK",position:"left"}},en:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"es-BR":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BRL",name:"Brazilian real",symbol:"R$",position:"left"}},"es-BZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"BZD",name:"Belize dollar",symbol:"BZ$",position:"left"}},"es-CU":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"CUP",name:"Cuban peso",symbol:"",position:"left"}},"es-DO":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"DOP",name:"Dominican peso",symbol:"RD$",position:"left"}},"es-GT":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"GTQ",name:"Guatemalan quetzal",symbol:"Q",position:"left"}},"es-HN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"HNL",name:"Honduran lempira",symbol:"L",position:"left"}},"es-MX":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MXN",name:"Mexican peso",symbol:"$",position:"left"}},"es-PA":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PAB",name:"Panamanian balboa",symbol:"B/.",position:"left"}},"es-PE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PEN",name:"Sol",symbol:"S/.",position:"left"}},"es-US":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},ga:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},gd:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"gsw-FR":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"gsw-LI":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"right"}},gu:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"ha-NE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},"it-CH":{numberFormat:{thousandSeparator:"'",decimalSeparator:"."},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"left"}},ki:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"AUD",name:"Australian dollar",symbol:"$",position:"left"}},kn:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},"ko-KP":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KPW",name:"North Korean won",symbol:"",position:"left"}},kw:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KWD",name:"Kuwaiti dinar",symbol:".",position:"left"}},"mas-TZ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TZS",name:"Tanzanian shilling",symbol:"TSh",position:"left"}},mg:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MGA",name:"Malagasy ariary",symbol:"Ar",position:"left"}},ml:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},mn:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MNT",name:"Mongolian tgrg",symbol:"",position:"left"}},mr:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MRO",name:"Mauritanian ouguiya",symbol:"UM",position:"right"}},"ms-SG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SGD",name:"Singapore dollar",symbol:"$",position:"left"}},ms:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XCD",name:"Eastern Caribbean dollar",symbol:"$",position:"left"}},mt:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},my:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MYR",name:"Malaysian ringgit",symbol:"RM",position:"right"}},"nds-NL":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},"ne-IN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"",position:"left"}},ne:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},"om-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},om:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"OMR",name:"Omani rial",symbol:"",position:"left"}},pa:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"PAB",name:"Panamanian balboa",symbol:"B/.",position:"left"}},"qu-EC":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},si:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},sn:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},"so-DJ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"DJF",name:"Djiboutian franc",symbol:"Fdj",position:"left"}},"so-ET":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ETB",name:"Ethiopian birr",symbol:"Br",position:"left"}},"so-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},so:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SOS",name:"Somali shilling",symbol:"S",position:"left"}},"sw-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},"sw-UG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"UGX",name:"Ugandan shilling",symbol:"USh",position:"left"}},"ta-LK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"LKR",name:"Sri Lankan rupee",symbol:"",position:"left"}},"ta-MY":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"MYR",name:"Malaysian ringgit",symbol:"RM",position:"left"}},"ta-SG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SGD",name:"Singapore dollar",symbol:"$",position:"left"}},"teo-KE":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"KES",name:"Kenyan shilling",symbol:"KSh",position:"left"}},th:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"THB",name:"Thai baht",symbol:"",position:"left"}},"ti-ER":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"ERN",name:"Eritrean nakfa",symbol:"Na",position:"left"}},to:{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"TOP",name:"Tongan paanga",symbol:"T$",position:"left"}},"ur-IN":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"INR",name:"Indian rupee",symbol:"",position:"left"}},"yo-BJ":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"left"}},"zh-Hans-HK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"HKD",name:"Hong Kong Dollar",symbol:"$",position:"left"}},"zh-Hans-SG":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"SGD",name:"Singapore dollar",symbol:"$",position:"left"}},"zh-Hant-HK":{numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"HKD",name:"Hong Kong Dollar",symbol:"$",position:"left"}},"af-NA":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"NAD",name:"Namibian dollar",symbol:"$",position:"left"}},af:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"AFN",name:"Afghan afghani",symbol:"",position:"left"}},"ar-AE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AED",name:"United Arab Emirates dirham",symbol:".",position:"left"}},"ar-BH":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BHD",name:"Bahraini dinar",symbol:"BD",position:"left"}},"ar-DJ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DJF",name:"Djiboutian franc",symbol:"Fdj",position:"left"}},"ar-DZ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DZD",name:"Algerian dinar",symbol:"/",position:"right"}},"ar-EG":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EGP",name:"Egyptian pound",symbol:"",position:"right"}},"ar-EH":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}},"ar-ER":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ERN",name:"Eritrean nakfa",symbol:"Na",position:"left"}},"ar-IL":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ILS",name:"Israeli New Shekel",symbol:"",position:"right"}},"ar-IQ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IQD",name:"Iraqi dinar",symbol:".",position:"right"}},"ar-JO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"JOD",name:"Jordanian dinar",symbol:"JOD",position:"right"}},"ar-KM":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"KMF",name:"Kuwaiti dinar",symbol:".",position:"right"}},"ar-KW":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"KWD",name:"Kuwaiti dinar",symbol:".",position:"right"}},"ar-LB":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"LBP",name:"Lebanese pound",symbol:"",position:"left"}},"ar-LY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"LYD",name:"Libyan dinar",symbol:".",position:"right"}},"ar-MA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}},"ar-MR":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MRO",name:"Mauritanian ouguiya",symbol:"UM",position:"right"}},"ar-OM":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"OMR",name:"Omani rial",symbol:"",position:"right"}},"ar-PS":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ILS",name:"Israeli New Shekel",symbol:"",position:"right"}},"ar-QA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"QAR",name:"Qatari Rial",symbol:"",position:"right"}},"ar-SA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SAR",name:"Saudi riyal",symbol:"",position:"right"}},"ar-SD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SDG",name:"Sudanese pound",symbol:"Sd",position:"right"}},"ar-SO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SOS",name:"Somali shilling",symbol:"S",position:"right"}},"ar-SS":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SSP",name:"South Sudanese pound",symbol:"SSP",alternateSymbol:"",position:"right"}},"ar-SY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SYP",name:"Syrian pound",symbol:"",position:"right"}},"ar-TD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"ar-TN":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"TND",name:"Tunisian dinar",symbol:".",position:"right"}},"ar-YE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"YER",name:"Yemeni rial",symbol:"",position:"right"}},ar:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ARS",name:"Argentine peso",symbol:"$",position:"right"}},"az-Cyrl":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AZN",name:"Azerbaijani manat",symbol:"",position:"left"}},"az-Latn":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AZN",name:"Azerbaijani manat",symbol:"",position:"left"}},az:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AZN",name:"Azerbaijani manat",symbol:"",position:"left"}},be:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},bg:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"BGN",name:"Bulgarian lev",symbol:"",position:"right"}},"ca-AD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"ca-ES-VALENCIA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"ca-FR":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},ca:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CAD",name:"Canadian dollar",symbol:"$",position:"right"}},"ckb-IR":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IRR",name:"Iranian rial",symbol:"",position:"left"}},cs:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CSD",name:"Danish krone",symbol:"kr",position:"right"}},"da-GL":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},"de-AT":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},"el-CY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},el:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"en-AT":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},"en-BE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"en-CH":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"left"}},"en-DE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"en-DK":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},"en-FI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"en-NL":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},"en-SI":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"en-ZA":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"ZAR",name:"South African Rand",symbol:"R",position:"left"}},eo:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},"es-BO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BOB",name:"Bolivian boliviano",symbol:"$b",position:"left"}},"es-CL":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CLP",name:"Chilean peso",symbol:"$",position:"left"}},"es-CO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"COP",name:"Colombian peso",symbol:"$",position:"left"}},"es-CR":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CRC",name:"Costa Rican coln",symbol:"",position:"left"}},"es-EA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"es-EC":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"es-GQ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},"es-IC":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"es-PH":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"PHP",name:"Philippine peso",symbol:"",position:"right"}},"es-PY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"PYG",name:"Paraguayan guaran",symbol:"Gs",position:"left"}},"es-UY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"UYU",name:"Uruguayan peso",symbol:"$U",position:"left"}},"es-VE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"VEF",name:"Venezuelan bolvar",symbol:"Bs",position:"left"}},et:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},eu:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},ewo:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fa-AF":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AFN",name:"Afghan afghani",symbol:"",position:"left"}},fa:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IRR",name:"Iranian rial",symbol:"",position:"right"}},"ff-CM":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"ff-GN":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"GNF",name:"Guinean franc",symbol:"FG",position:"right"}},"ff-MR":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MRO",name:"Mauritanian ouguiya",symbol:"UM",position:"right"}},ff:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},fi:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fo-DK":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},fo:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"right"}},"fr-BF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-BI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"BIF",name:"Burundian franc",symbol:"FBu",position:"right"}},"fr-BJ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-CA":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CAD",name:"Canadian dollar",symbol:"$",position:"right"}},"fr-CD":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},"fr-CF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-CG":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-CH":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"right"}},"fr-CI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-CM":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-DJ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"DJF",name:"Djiboutian franc",symbol:"Fdj",position:"right"}},"fr-DZ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"DZD",name:"Algerian dinar",symbol:"/",position:"right"}},"fr-GA":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-GF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-GN":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"GNF",name:"Guinean franc",symbol:"FG",position:"right"}},"fr-GP":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-GQ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-KM":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KMF",name:"Comorian franc",symbol:"CF",position:"right"}},"fr-LU":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-MA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}},"fr-MC":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-MF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-MG":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MGA",name:"Malagasy ariary",symbol:"Ar",position:"right"}},"fr-ML":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-MQ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-MR":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MRO",name:"Mauritanian ouguiya",symbol:"UM",position:"right"}},"fr-MU":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MUR",name:"Mauritian rupee",symbol:"",position:"right"}},"fr-NC":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XPF",name:"CFP Franc",symbol:"CFP",position:"right"}},"fr-NE":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-PF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XPF",name:"CFP Franc",symbol:"CFP",position:"right"}},"fr-PM":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-RE":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"fr-RW":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RWF",name:"Rwandan franc",symbol:"RF",position:"right"}},"fr-SC":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SCR",name:"Seychellois rupee",symbol:"",position:"right"}},"fr-SN":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-SY":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SYP",name:"Syrian pound",symbol:"",position:"right"}},"fr-TD":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"fr-TG":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"fr-TN":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"TND",name:"Tunisian dinar",symbol:".",position:"right"}},"fr-VU":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"VUV",name:"Vanuatu vatu",symbol:"VT",position:"right"}},"fr-WF":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XPF",name:"CFP Franc",symbol:"CFP",position:"right"}},"fr-YT":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},fur:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"SDG",name:"Sudanese pound",symbol:"Sd",position:"left"}},fy:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},gl:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},hr:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"HRK",name:"Croatian kuna",symbol:"kn",position:"right"}},hsb:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},hu:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"HUF",name:"Hungarian forint",symbol:"Ft",position:"right"}},hy:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"AMD",name:"Armenian dram",symbol:"",position:"right"}},id:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp",position:"left"}},is:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ISK",name:"Icelandic krna",symbol:"kr",position:"right"}},"it-SM":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"it-VA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},it:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},jgo:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},ka:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"GEL",name:"Georgian lari",symbol:"",position:"right"}},kab:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"DZD",name:"Algerian dinar",symbol:"/",position:"right"}},kea:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CVE",name:"Cape Verdean escudo",symbol:"Esc",position:"right"}},kk:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KZT",name:"Kazakhstani tenge",symbol:"",position:"right"}},kkj:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},kl:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"DKK",name:"Danish krone",symbol:"kr",position:"left"}},km:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"KHR",name:"Cambodian riel",symbol:"",position:"right"}},ks:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"INR",name:"Indian rupee",symbol:"",position:"left"}},ksf:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},ksh:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},ky:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KGS",name:"Kyrgyzstani som",symbol:"",position:"right"}},lb:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"ln-AO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AOA",name:"Angolan kwanza",symbol:"Kz",position:"right"}},"ln-CF":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"ln-CG":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},ln:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},lo:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"LAK",name:"Lao kip",symbol:"",position:"left"}},"lrc-IQ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IQD",name:"Iraqi dinar",symbol:".",position:"left"}},lrc:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"IRR",name:"Iranian rial",symbol:"",position:"left"}},lt:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},lu:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},lv:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},mgh:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MZN",name:"Mozambican metical",symbol:"MT",position:"left"}},mk:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MKD",name:"Macedonian denar",symbol:"",position:"right"}},"ms-BN":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BND",name:"Brunei dollar",symbol:"$",position:"left"}},mua:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},mzn:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"NOK",name:"Norwegian krone",symbol:"kr",position:"left"}},"nb-SJ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"NOK",name:"Norwegian krone",symbol:"kr",position:"left"}},nb:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"NOK",name:"Norwegian krone",symbol:"kr",position:"left"}},"nl-BE":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"nl-BQ":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"USD",name:"United States Dollar",symbol:"$",position:"left"}},"nl-CW":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ANG",name:"Netherlands Antillean guilder",symbol:"",position:"left"}},"nl-SX":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"ANG",name:"Netherlands Antillean guilder",symbol:"",position:"left"}},nmg:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},nn:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"NOK",name:"Norwegian krone",symbol:"kr",position:"right"}},nnh:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},"os-RU":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"",position:"left"}},os:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"",position:"left"}},"pa-Arab":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"INR",name:"Indian rupee",symbol:"",position:"left"}},ps:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"AFN",name:"Afghan afghani",symbol:"",position:"right"}},"pt-AO":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"AOA",name:"Angolan kwanza",symbol:"Kz",position:"right"}},"pt-CH":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",position:"right"}},"pt-GQ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"right"}},"pt-GW":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"XOF",name:"West African CFA franc",symbol:"CFA",position:"right"}},"pt-LU":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"pt-MO":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MOP",name:"Macanese pataca",symbol:"P",position:"right"}},"pt-MZ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MZN",name:"Mozambican metical",symbol:"MT",position:"right"}},"pt-PT":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"pt-ST":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"STD",name:"So Tom and Prncipe dobra",symbol:"Db",position:"right"}},"qu-BO":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"BOB",name:"Bolivian boliviano",symbol:"$b",position:"left"}},rn:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"",position:"right"}},"ro-MD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MDL",name:"Moldovan leu",symbol:"L",position:"right"}},ro:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RON",name:"Romanian leu",symbol:"lei",position:"right"}},"ru-BY":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"BYR",name:"Belarusian ruble",symbol:"p.",position:"right"}},"ru-KZ":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"KZT",name:"Kazakhstani tenge",symbol:"",position:"right"}},"ru-MD":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MDL",name:"Moldovan leu",symbol:"L",position:"right"}},rw:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RWF",name:"Rwandan franc",symbol:"RF",position:"left"}},sah:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"RUB",name:"Russian ruble",symbol:"",position:"right"}},"se-FI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"se-SE":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SEK",name:"Swedish krona",symbol:"kr",position:"right"}},se:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"SEK",name:"Swedish krona",symbol:"kr",position:"right"}},seh:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"MZN",name:"Mozambican metical",symbol:"MT",position:"right"}},sg:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"XAF",name:"Central African CFA franc",symbol:"CFA",position:"left"}},"shi-Latn":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},"shi-Tfng":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},shi:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"right"}},sk:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},sl:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},smn:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"sq-MK":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"ALL",name:"Albanian lek",symbol:"Lek",position:"right"}},"sq-XK":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"ALL",name:"Albanian lek",symbol:"Lek",position:"right"}},sq:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"ALL",name:"Albanian lek",symbol:"Lek",position:"right"}},"sr-Cyrl-BA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Cyrl-ME":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Cyrl-XK":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Cyrl":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Latn-BA":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Latn-ME":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Latn-XK":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sr-Latn":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},sr:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"RSD",name:"Serbian dinar",symbol:"RSD",position:"right"}},"sv-AX":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"sv-FI":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"right"}},"sw-CD":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CDF",name:"Congolese franc",symbol:"FC",position:"left"}},tk:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"TMT",name:"Turkmenistani Manat",symbol:"m",position:"right"}},"tr-CY":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"EUR",name:"Euro",symbol:"",position:"left"}},tzm:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}},ug:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"CNY",name:"Yuan Renminbi",symbol:"",position:"left"}},"uz-Arab":{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"UZS",name:"Uzbekistani som",symbol:"",position:"left"}},"uz-Cyrl":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UZS",name:"Uzbekistani som",symbol:"",position:"right"}},"uz-Latn":{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UZS",name:"Uzbekistani som",symbol:"",position:"right"}},uz:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"UZS",name:"Uzbekistani som",symbol:"",position:"right"}},vi:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"VND",name:"Vietnamese dong",symbol:"",position:"right"}},vun:{numberFormat:{thousandSeparator:".",decimalSeparator:","},currency:{code:"TZS",name:"Tanzanian shilling",symbol:"TSh",position:"left"}},wae:{numberFormat:{thousandSeparator:"'",decimalSeparator:","},currency:{code:"CHF",name:"Swiss franc",symbol:"Fr",alternateSymbol:"CHF",position:"right"}},yav:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"PEN",name:"Sol",symbol:"S/.",position:"right"}},zgh:{numberFormat:{thousandSeparator:" ",decimalSeparator:","},currency:{code:"MAD",name:"Moroccan dirham",symbol:"MAD",position:"right"}}};var ZDateUtil=function(t){return{monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],invalidInput:"Invalid date/time provided. Please provide correct input",century:21,AM:"AM",PM:"PM",_setMonth:function(t,e){var i=t.getDate();if(isNaN(t))return t;for(e-=1,e%=12,t.setMonth(e);e>0&&t.getMonth()!==e;)t.setDate(--i);return t},parsePattern:function(t){var e=/d(?:d{1,3})?|M(?:M{1,3})?|yy(?:yy)?|h(?:h)?|H(?:H)?|m(?:m)?|s(?:s)|t{2}/g,i=t.replace(e,"\0").split("\0"),s=t.match(e);return!!(i&&i.length&&s&&s.length)&&{dateSeperator:i,dateParts:s}},_parseDateValue:function(t,e,i){var e,s,o=!1,n=[];if(t instanceof Date)return{date:t,isValid:!0};i.length&&(n=i.slice()),n.unshift(e);for(var a=t,r=t.match(/[^ -\/:-@\u5e74\u6708\u65e5[-`{-~\t\n\r]+/g)||[],l=0,h=n.length;l<h;l++)if(t=a,"string"==typeof n[l]&&(n[l]=ZDateUtil.parsePattern(n[l])),s=ZDateUtil.parseDate(t,n[l]),s.isValid){o=!0;break}return o||(n[0].values=r,s=ZDateUtil.getDateFromOffset(a,s?s.date:void 0,n[0])),s},parseDate:function(e,i){var s,i,o,n={};if(e){if(e instanceof Date)return{date:e,isValid:!0};if("string"==typeof e&&("string"!=typeof e||e.length)){var a=function(t){var e=t.slice(0,h[c].length),i=h[c].slice(0,e.length);return e.toLowerCase()===i.toLowerCase()},r=e;e=r,"string"==typeof i&&(i=ZDateUtil.parsePattern(i));var l,h=e.match(/[^ -\/:-@\u5e74\u6708\u65e5[-`{-~\t\n\r]+/g)||[];h.indexOf("at")>-1&&h.splice(h.indexOf("at"),1);var d=i.dateParts.slice();if(e=new Date,h.length===d.length)for(var c=0;c<d.length;c++)if(s=parseInt(h[c],10),l=d[c],isNaN(s)){if("MMM"===l||"MMMM"===l){switch(l){case"MMM":case"MMMM":o=ZDateUtil.monthsAbbreviated.filter(a),s=t.inArray(o[0],ZDateUtil.monthsAbbreviated)+1}n[l]=s}else if("tt"===l&&("AM"===h[c]||"PM"===h[c])){var p=h[d.indexOf("hh")],u=parseInt(p),m=u%12;"AM"===h[c]&&(n.hh=0===m?0:u),"PM"===h[c]&&(n.hh=0===m?12:u+12),n[l]=p}}else{if("yyyy"!==l&&"yy"!==l||s>9999&&(h[c]="9999"),l.indexOf("d")>-1&&s>31||l.indexOf("M")>-1&&s>12||l.indexOf("y")>-1&&l.length!==h[c].length)break;n[l]=s}return Object.keys(n).length&&h.length===Object.keys(n).length?(e=ZDateUtil._getFormattedDate(n,e),i.dateParts.indexOf("s")!==-1&&i.dateParts.indexOf("ss")!==-1||e.setSeconds(0,0),e={date:e,isValid:!0}):e={date:e,isValid:!1},e}}},getDateFromOffset:function(t,e,i){var s;if(0===t.indexOf("TODAY"))s=t.substring(5);else{if(0!==t.indexOf("FROM_VALUE"))return{date:void 0,isValid:!1};s=t.substring(10)}var o=/([+-][0-9]+)(DAYS|MONTHS|YEARS|WEEKS)/g,n=o.exec(s),a=e.getDate(),r=e.getMonth(),l=e.getFullYear(),h=e.getHours(),d=e.getMinutes(),c=e.getSeconds();if(!n)try{var p={date:ZDateUtil._getDateByIntelligence(t,i),isValid:!0};return p}catch(t){var p={date:void 0,isValid:!1};return p}for(;n;){switch(n[2]||"DAYS"){case"DAYS":a+=parseInt(n[1],10);break;case"WEEKS":a+=7*parseInt(n[1],10);break;case"MONTHS":r+=parseInt(n[1],10),a=Math.min(a,new Date(l,r+1,0).getDate());break;case"YEARS":l+=parseInt(n[1],10),a=Math.min(a,new Date(l,r+1,0).getDate());break;case"HOURS":h+=parseInt(n[1],10);break;case"MINUTES":d+=parseInt(n[1],10);break;case"SECONDS":c+=parseInt(n[1],10)}n=o.exec(s)}e=ZDateUtil._getDate(l,r,a,h,d,c);var u={date:e,isValid:!0};return u},convertOffsetToValue:function(t){var e=/([+-]{1}([0-9])+$)/g,i=e.exec(t);return i?parseInt(i[0]):0},_getFormattedDate:function(t,e){for(var i,s,o=["yyyy","yy","M","MM","MMM","MMMM","d","dd","ddd","dddd","H","HH","h","hh","m","mm","s","ss"],n=0;n<o.length;n++)if(s=o[n],s in t&&!isNaN(t[s])){switch(i=new Date(e),s){case"M":case"MM":case"MMM":case"MMMM":i=ZDateUtil._setMonth(i,t[s]);break;case"yyyy":t[s]>9999?i.setFullYear(9999):i.setFullYear(t[s]);break;case"yy":var a=ZDateUtil.century-1,r=a.toString()+t[s];i.setFullYear(parseInt(r));break;case"d":case"dd":case"ddd":case"dddd":i.setDate(t[s]);break;case"H":case"HH":i.setHours(t[s]);break;case"h":case"hh":i.setHours(t[s]);break;case"m":case"mm":i.setMinutes(t[s]);break;case"s":case"ss":i.setSeconds(t[s])}isNaN(i)||(e=i)}return i},_getDateByIntelligence:function(t,e){var i,s=new Date(t),o=t.match(new RegExp("[-/. ?]","g"))||[];if(isNaN(s)){var n,a=e.values,r=t.match(new RegExp(":","g"));if(r){var l,h,d,c=!1;n=r.length;var p,u=["AM","PM","am","pm"];a&&(a[0]&&(a[0]=parseInt(a[0])),a[1]&&(a[1]=parseInt(a[1])),a[2]&&!isNaN(a[2])&&(a[2]=parseInt(a[2])));for(var m=0;m<u.length;m++)if(a.indexOf(u[m])>-1){p=a.indexOf(u[m]);break}if(0===n)c=!0;else if(1===n)if(p&&p>-1){var _=a[p].toUpperCase();if(a[0]>=1&&a[0]<=12&&a[1]>=0&&a[1]<=59){var f=a[0]%12;"AM"===_&&(l=0===f?0:a[0]),"PM"===_&&(l=0===f?12:a[0]+12),h=a[1]}else c=!0}else a[0]>=0&&a[0]<=23&&a[1]>=0&&a[1]<=59?(l=a[0],h=a[1]):c=!0;else if(2===n)if(p&&p>-1){var _=a[p].toUpperCase();if(a[0]>=1&&a[0]<=12&&a[1]>=0&&a[1]<=59&&a[2]>=0&&a[2]<=59){var f=a[0]%12;"AM"===_&&(l=0===f?0:a[0]),"PM"===_&&(l=0===f?12:a[0]+12),h=a[1],d=a[2]}}else a[0]>=0&&a[0]<=23&&a[1]>=0&&a[1]<=59&&a[2]>=0&&a[1]<=59?(l=a[0],h=a[1],d=a[2]):c=!0;else c=!0;c?i=!0:(t=new Date,void 0!==l&&t.setHours(l),void 0!==h&&t.setMinutes(h),void 0!==d?t.setSeconds(d):t.setSeconds(0))}else if(o.length){var v,g,b=t.split(o[0]);4===b[0].length?(g=parseInt(b[0]),v=parseInt(b[1])):4===b[1].length&&(v=parseInt(b[0]),g=parseInt(b[1])),void 0!==v&&void 0!==g?(t=new Date,t.setFullYear(g),t.setDate(1),t.setMonth(v)):i=!0}else i=!0;if(i)throw new Error(ZDateUtil.invalidInput);return t}return 1===o.length&&2001===s.getFullYear()&&s.setFullYear((new Date).getFullYear()),s},_getDate:function(t,e,i,s,o,n){return new Date(t,e,i,s,o,n)},getUTCDate:function(){return new Date(Date.UTC.apply(Date,arguments))},areDatesEqual:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},areTimesEqual:function(t,e){return t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()&&t.getSeconds()===e.getSeconds()},isGreater:function(t,e){return!(t.getTime()<e.getTime())},_appendZerosToValue:function(t,e,i){var s=["","0","00","000","0000"];return t=t.toString(),e=e||2,i=e-t.length,i?s[e].substring(0,i)+t:t},_replaceMatchedText:function(t,e){var i,s;switch(e){case"d":s=t.getDate();break;case"dd":var t=t.getDate();s=(t<10?"0":"")+t;break;case"ddd":s=ZDateUtil.daysAbbreviated[t.getDay()];break;case"dddd":s=ZDateUtil.days[t.getDay()];break;case"M":s=t.getMonth()+1;break;case"MM":var o=t.getMonth()+1;s=(o<10?"0":"")+o;break;case"MMM":s=ZDateUtil.monthsAbbreviated[t.getMonth()];break;case"MMMM":s=ZDateUtil.months[t.getMonth()];break;case"yy":s=this._appendZerosToValue(t.getFullYear()%100);break;case"yyyy":s=this._appendZerosToValue(t.getFullYear(),4);break;case"h":s=t.getHours()%12||12;break;case"hh":var n=t.getHours()%12||12;s=(n<10?"0":"")+n;break;case"H":s=t.getHours();break;case"HH":var n=t.getHours();s=(n<10?"0":"")+n;break;case"m":s=t.getMinutes();break;case"mm":var i=t.getMinutes();s=(i<10?"0":"")+i;break;case"s":s=t.getSeconds();break;case"ss":var a=t.getSeconds();s=(a<10?"0":"")+a;break;case"tt":s=t.getHours()<12?"AM":"PM";break;case"z":s=t.toString().match(/\(([A-Za-z\s].*)\)/)[1];break;case"zz":s=t.toString().match(/([A-Z]+[+-][0-9]+)/)[1];break;case"zzz":s=t.toString().match(/([A-Z]+[+-][0-9]+.*)/)[1]}return void 0!==s?s:e.slice(1,e.length-1)},formatDate:function(t,e){var i=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g;if(t instanceof Date)return e.replace(i,ZDateUtil._replaceMatchedText.bind(this,t))}}}(jQuery);!function(t){var e=t.DOMUtil,i={options:{fromValue:void 0,toValue:void 0,monthsPerView:2,selectionDirection:"both",excludeWeekend:!1,selectionType:"continuous",rangeType:"days",minDaysToSelect:0,maxDaysToSelect:0,fromLabel:"From",toLabel:"To",fromTimeLabel:"Time",toTimeLabel:"Time"},_closeHandled:!0,_create:function(i,o,n){var a=o.locale||t.locale;if(n&&n.navigationBar&&(this._yearNavigation=n.navigationBar.yearNavigationButtons),n&&(this._isPositionModified=n.position),this.options.locale=a,void 0==this._yearNavigation&&/^(drilldown|none)$/.test(this.options.navigationBar.monthYearSwitcherType)&&(this._yearNavigation=!0),this._rowsCount=[],o=this._normalizeOptions(o),this._EVENTS=e.extend({},!0,this._EVENTS,this.EVENTS),this._initialize(i,o,"separate"===o.selectionType),this.options.excludeWeekend&&this.element.addClass("zdatetimepicker__excludeweekend"),"separate"===this.options.selectionType&&this._hasDate){var r=this.options.appendTo;this.options.appendTo=void 0,this._monthsPerView=1;var l=e("<div class='zdatetimepicker zdatetimepicker--calendarsplit' ></div>"),h=e("<div class='zdatetimepicker zdatetimepicker--calendarsplit' ></div>"),d=e("<ul class='zdatetimepicker__container'><li class='zdatetimepicker__list'></li><li class='zdatetimepicker__list'></li></ul>"),c=e("<div class='zdatetimepicker__fromtolabel'>"+t.encodeHTML(this.options.fromLabel)+"</div>"),p=e("<div class='zdatetimepicker__fromtolabel'>"+t.encodeHTML(this.options.toLabel)+"</div>");e(d.find("li")[0]).append(c,l),e(d.find("li")[1]).append(p,h),this.element.empty().append(d),this._element1=e(s._TEMPLATE),this._element1.appendTo(l),this._buildElement(l),this._bindEvents(!0),this._monthYearNav=this._monthHeader=this._yearHeader=this._navBar=this._monthDrillDownElement=this._yearDrillDownElement=this._decadeDrillDownElement=void 0,this._element2=e(s._TEMPLATE),this._element2.appendTo(h),this.options.value=void 0,this._pointer&&this._pointer.remove(),this._buildElement(h),this._bindEvents(!0),this.element.addClass("zdatetimepicker--group zdatetimepicker--fromtocalendar");var u=this.element.children(".zdatetimepicker__monthcontainer");this.element.find(".zdatetimepicker__timebar")[0];l.append(u[0]),h.append(u[1]),this.element.addClass("zdatetimepicker--group zdatetimepicker--doublecalendar");var m=new Date(this._viewDate.getTime()),_=new Date(this._viewDate.getTime());m.setHours(0,0,0,0),_.setHours(0,0,0,0),this._fromDate=this.options.fromValue?this.options.fromValue:m,this._toDate=this.options.toValue?this.options.toValue:_,this._constructOtherElements(),r&&this.element.appendTo(e(r)),this.options.appendTo=r}else"separate"!==this.options.selectionType||this._hasDate?this._bindEvents():this.element.addClass("zdatetimepicker--group zdatetimepicker--fromtocalendar");this._hasTime&&this._buildTimePickerElements(o),this.element.hide(),this._normalizeFromValueToValue(),this._hasTime&&(this.options.fromValue&&this.options.fromValue.setHours(0,0,0,0),this.options.toValue&&this.options.toValue.setHours(0,0,0,0)),this._handleInitialSelection(this.options.fromValue,this.options.toValue)},EVENTS:{STARTDATESELECT:"fromvalueselect",ENDDATESELECT:"tovalueselect"},_initialize:function(t,e,i){this._super(t,e,i),this._userMinDate=this.options.minDate,this._userMaxDate=this.options.maxDate},_handleInitialSelection:function(){(this.options.fromValue||this.options.toValue)&&this._validateSelectionLimit(),"separate"===this.options.selectionType&&this.options.toValue&&(this.options.value=this.options.fromValue,this._viewDate=this.options.toValue,this._renderContent(void 0,e(this.element.find("li")[1])),this._fromDate=new Date(this.options.fromValue.getTime()),this._toDate=new Date(this.options.toValue.getTime())),this._hasTime&&this._validateTimePickers(),this.options.immediateCommit&&this.options.fromValue&&this.options.toValue&&this._applyClickHandler()},_normalizeFromValueToValue:function(){this.options.fromValue&&"object"!=typeof this.options.fromValue&&(this.options.fromValue=this._parseDateValue(this.options.fromValue,this.options.format).date,"continuous"===this.options.selectionType&&(this._lastFromValue=new Date(this.options.fromValue.getTime())),this.options.fromValue.setHours(0,0,0,0)),this.options.toValue&&"object"!=typeof this.options.toValue&&(this.options.toValue=this._parseDateValue(this.options.toValue,this.options.format).date,"continuous"===this.options.selectionType&&(this._lastToValue=new Date(this.options.toValue.getTime())),this.options.toValue.setHours(0,0,0,0)),this.options.minDate&&this.options.fromValue&&ZDateUtil.isGreater(this.options.minDate,this.options.fromValue)&&(this.options.fromValue=this.options.minDate),this.options.maxDate&&this.options.toValue&&ZDateUtil.isGreater(this.options.toValue,this.options.maxDate)&&(this.options.toValue=this.options.maxDate),"continuous"===this.options.selectionType&&this.options.fromValue&&this.options.toValue&&ZDateUtil.areDatesEqual(this.options.fromValue,this.options.toValue)&&(this.options.toValue=this._lastToValue=void 0,this._lastFromValue=new Date(this.options.fromValue.getTime()))},_buildInputElement:function(){this._super()},_buildTimePickerElements:function(t){"separate"===this.options.selectionType&&(this._removeTimeBar(),this.options.value=t.fromValue?"object"!=typeof t.fromValue?this._parseDateValue(t.fromValue,this.options.format).date:t.fromValue:void 0,this._buildTimePicker());var i=this._elementId;this._elementId=i+"-2",this.options.timeLabel=this.options.toTimeLabel,this.options.value=t.toValue?"object"!=typeof t.toValue?this._parseDateValue(t.toValue,this.options.format).date:t.toValue:void 0,this._buildTimePicker(),this.options.value=void 0,this._elementId=i;var s=e(this.element.find(".zdatetimepicker__timebar")[0]),o=e(this.element.find(".zdatetimepicker__timebar")[1]);column1=e("<div class='zdatetimepicker__starttime'></div>"),column2=e("<div class='zdatetimepicker__endtime'></div>"),column1.append(s.children()),column2.append(o.children()),s.addClass("zdatetimepicker--twocolumn").empty().append(column1,column2),o.remove()},_timeFieldChangeHandler:function(t,e){this._validateTimePickers(),this.options.immediateCommit&&this.options.fromValue&&this.options.toValue&&this._applyClickHandler(t,!0)},_spinEndHandler:function(t,e){this.options.immediateCommit&&this.options.fromValue&&this.options.toValue&&this._applyClickHandler(t,!0)},_combinedPeriodClickHandler:function(t,e){this._combinedPeriodElement=e.selectbox.prev("select"),this._super(t),this._validateTimePickers(),this.options.immediateCommit&&this._applyClickHandler(t,!0)},_combinedTimeClickHandler:function(t,i){var s=e(t.target).closest(".zdatetimepicker__starttime").length?e(t.target).closest(".zdatetimepicker__starttime"):e(t.target).closest(".zdatetimepicker__endtime");this._combinedTimeElement=e(s.find("select")[0]),this._combinedPeriodElement=e(s.find("select")[1]),this._super(t),this._validateTimePickers(),this.options.immediateCommit&&this._applyClickHandler(t,!0)},_validateTimePickers:function(t){if(this._hasTime&&"separate"===this.options.selectionType&&this.options.fromValue&&this.options.toValue||t){var i=!(!this.options.fromValue||!this.options.toValue)&&ZDateUtil.areDatesEqual(this.options.fromValue,this.options.toValue);if(i)this._changeTimePickerMinValue(),this._changeTimePickerMaxValue();else if(!i||t){var s,o,n=this.options.timeFieldType,a=this.element.find(".zdatetimepicker__timebar .zdatetimepicker__starttime"),r=this.element.find(".zdatetimepicker__timebar .zdatetimepicker__endtime");if("input"===n)s=a.find(".zinputfield").prev("input"),o=r.find(".zinputfield").prev("input"),s.zdatetimefield("setAttribute","max",this.options.maxTime),o.zdatetimefield("setAttribute","min",this.options.minTime);else if("single-select-box"===n){s=a.find("select"),o=r.find("select");var l=s.find("option"),h=o.find("option");s.zselectbox("setOptionAttributes",l.toArray(),"disabled",!1),o.zselectbox("setOptionAttributes",h.toArray(),"disabled",!1)}else"multiple-select-box"===n&&"h-m-t"===this.options.timeMultipleSelectBoxType&&(this._hourElement=e(a.find("select")[0]),this._minuteElement=e(a.find("select")[1]),this._periodElement=e(r.find("select")[2]),this._maxTime=!!this.options.maxTime||void 0,this._maxTime&&this._maxTime.setSeconds(0,0),this._checkTimeOptions(void 0,!1),this._minTime=!!this.options.minTime||void 0,this._minTime&&this._minTime.setSeconds(0,0),this._hourElement=e(r.find("select")[0]),this._minuteElement=e(r.find("select")[1]),this._periodElement=e(r.find("select")[2]),this._checkTimeOptions(void 0,!1))}}},_changeTimePickerMinValue:function(){var t,i,s,o=this.element.find(".zdatetimepicker__timebar .zdatetimepicker__starttime"),n=this.element.find(".zdatetimepicker__timebar .zdatetimepicker__endtime");switch(this.options.timeFieldType){case"input":t=o.find(".zinputfield").prev("input"),i=n.find(".zinputfield").prev("input"),s=t.zdatetimefield("getValue").dateString,i.zdatetimefield("setAttribute","min",s);break;case"single-select-box":t=o.find("select"),i=n.find("select");var a=t.zselectbox("getAttribute","selectedIndex"),r=i.find("option");i.zselectbox("setOptionAttributes",r.toArray(),"disabled",!1),r=r.map(function(t,i){if(itemIndex=e(i).index(),itemIndex<a)return e(i)}),i.zselectbox("setOptionAttributes",r.toArray(),"disabled",!0),""===i.zselectbox("getAttribute","selectedValue").trim()&&i.zselectbox("setAttribute","selectedIndex",r.length);break;case"multiple-select-box":var l,t=o,i=n,h=i.find("select"),d="h-m-t"!==this.options.timeMultipleSelectBoxType;if(d)this._combinedTimeElement=e(h[0]),this._combinedPeriodElement=e(h[1]),this._minTime=e(t.find("select")[0]).zselectbox("getAttribute","selectedValue"),this._is12HourFormat&&(this._minTime+=" "+e(t.find("select")[1]).zselectbox("getAttribute","selectedValue"));else{this._hourElement=e(h[0]),this._minuteElement=e(h[1]),this._periodElement=e(h[2]);var c=e(t.find("select")[0]).zselectbox("getAttribute","selectedValue"),p=e(t.find("select")[1]).zselectbox("getAttribute","selectedValue");this._minTime=c+":"+p;var u=parseInt(e(i.find("select")[0]).zselectbox("getAttribute","selectedValue")),m=e(i.find("select")[1]).zselectbox("getAttribute","selectedValue");if(this._is12HourFormat){this._minTime+=" "+e(t.find("select")[2]).zselectbox("getAttribute","selectedValue");var _=e(i.find("select")[2]).zselectbox("getAttribute","selectedValue");u=this._getHourValue(_,u)}l=new Date,l.setHours(u,m),l.setSeconds(0,0)}this._maxTime=this.options.maxTime?this._parseDateValue(this.options.maxTime,this._timeFormat).date:void 0,this._minTime=this._parseDateValue(this._minTime,this._timeFormat).date,this._minTime&&this._minTime.setSeconds(0,0),this._maxTime&&this._maxTime.setSeconds(0,0),d?this._checkCombinedTimeOptions():this._checkTimeOptions(void 0,!1,l)}},_changeTimePickerMaxValue:function(){var t,i,s,o,n=this.element.find(".zdatetimepicker__timebar .zdatetimepicker__starttime"),a=this.element.find(".zdatetimepicker__timebar .zdatetimepicker__endtime");switch(this.options.timeFieldType){case"input":t=n.find(".zinputfield").prev("input"),i=a.find(".zinputfield").prev("input"),s=t.zdatetimefield("getValue").dateString,o=i.zdatetimefield("getValue").dateString,s!==o&&t.zdatetimefield("setAttribute","max",o);break;case"single-select-box":if(t=n.find("select"),i=a.find("select"),s=t.find("option")[t.zselectbox("getAttribute","selectedIndex")!==-1?t.zselectbox("getAttribute","selectedIndex"):0].textContent,o=i.find("option")[i.zselectbox("getAttribute","selectedIndex")!==-1?i.zselectbox("getAttribute","selectedIndex"):0].textContent,s!==o){var r=i.zselectbox("getAttribute","selectedIndex"),l=t.find("option");t.zselectbox("setOptionAttributes",l.toArray(),"disabled",!1),l=l.map(function(t,i){if(itemIndex=e(i).index(),itemIndex>r)return e(i)}),t.zselectbox("setOptionAttributes",l.toArray(),"disabled",!0),""===t.zselectbox("getAttribute","selectedValue").trim()&&t.zselectbox("setAttribute","selectedIndex",l.length)}break;case"multiple-select-box":var h,t=n,i=a,d=t.find("select"),c="h-m-t"!==this.options.timeMultipleSelectBoxType;if(c)this._combinedTimeElement=e(d[0]),this._combinedPeriodElement=e(d[1]),this._maxTime=e(i.find("select")[0]).zselectbox("getAttribute","selectedValue"),this._is12HourFormat&&(this._maxTime+=" "+e(i.find("select")[1]));else{this._hourElement=e(d[0]),this._minuteElement=e(d[1]),this._periodElement=e(d[2]);var p=e(i.find("select")[0]).zselectbox("getAttribute","selectedValue"),u=e(i.find("select")[1]).zselectbox("getAttribute","selectedValue");this._maxTime=p+":"+u;var m=parseInt(e(t.find("select")[0]).zselectbox("getAttribute","selectedValue")),_=e(t.find("select")[1]).zselectbox("getAttribute","selectedValue");if(this._is12HourFormat){this._maxTime+=" "+e(i.find("select")[2]).zselectbox("getAttribute","selectedValue");var f=e(t.find("select")[2]).zselectbox("getAttribute","selectedValue");m=this._getHourValue(f,m)}h=new Date,h.setHours(m,_),h.setSeconds(0,0)}this._maxTime=this._parseDateValue(this._maxTime,this._timeFormat).date,this._maxTime&&this._maxTime.setSeconds(0,0),this._minTime=this.options.minTime?this._parseDateValue(this.options.minTime,this._timeFormat).date:void 0,this._minTime&&this._minTime.setSeconds(0,0),c?this._checkCombinedTimeOptions():this._checkTimeOptions(void 0,!1,h)}},_singleSelectClickHandler:function(t,e){var i=new Date(parseInt(e.selectedValue));this._viewDate.setHours(i.getHours(),i.getMinutes(),0,0),this._selectedTime=new Date(this._viewDate.getTime()),this.options.immediateCommit&&this.options.fromValue&&this.options.toValue&&this._applyClickHandler(t,!0),this._validateTimePickers()},_timeSelectClickHandler:function(t,i){var s=!1;this.options.fromValue&&this.options.toValue&&(s=ZDateUtil.areDatesEqual(this.options.fromValue,this.options.toValue));var o=e(t.target).closest(".zdatetimepicker__starttime").length?e(t.target).closest(".zdatetimepicker__starttime"):e(t.target).closest(".zdatetimepicker__endtime");if("separate"===this.options.selectionType&&s){var n=parseInt(i.selectedValue),a="backward"===this.options.selectionDirection;if(e(i.selectbox).attr("id").indexOf("hour")>-1){if(this._is12HourFormat){this._periodElement=e(o.find("select")[2]);var r=this._periodElement.zselectbox("getAttribute","selectedValue");n="PM"===r?n%12===0?12:n+12:n%12===0?0:n}this._viewDate.setHours(n),this._dispatchEvent("HOURCHANGE",t,{fromValueString:ZDateUtil.formatDate(a?this._lastToValue:this._lastFromValue,this.options.format),fromValue:a?this._lastToValue:this._lastFromValue,toValue:a?this._lastFromValue:this._lastToValue,toValueString:ZDateUtil.formatDate(a?this._lastFromValue:this._lastToValue,this.options.format),selectedValue:parseInt(i.selectedValue)})}else this._viewDate.setMinutes(n),this._dispatchEvent("MINUTECHANGE",t,{fromValueString:ZDateUtil.formatDate(a?this._lastToValue:this._lastFromValue,this.options.format),fromValue:a?this._lastToValue:this._lastFromValue,toValue:a?this._lastFromValue:this._lastToValue,toValueString:ZDateUtil.formatDate(a?this._lastFromValue:this._lastToValue,this.options.format),selectedValue:parseInt(i.selectedValue)});this._validateTimePickers(),this.options.immediateCommit&&this._applyClickHandler(t,!0)}else this._hourElement=e(o.find("select")[0]),this._minuteElement=e(o.find("select")[1]),this._periodElement=e(o.find("select")[2]),this._super(t,i),this.options.immediateCommit&&this.options.fromValue&&this.options.toValue&&this._applyClickHandler(event,!0)},_countWeekendDays:function(t,e){var i=1+Math.round((e.getTime()-t.getTime())/864e5),s=Math.floor((t.getDay()+i)/7);return 2*s+(0==t.getDay())-(6==e.getDay())},_periodClickHandler:function(t,i){var s=!1;this.options.fromValue&&this.options.toValue&&(s=ZDateUtil.areDatesEqual(this.options.fromValue,this.options.toValue));var o=e(t.target).closest(".zdatetimepicker__starttime").length?e(t.target).closest(".zdatetimepicker__starttime"):e(t.target).closest(".zdatetimepicker__endtime");if("separate"===this.options.selectionType&&s){this._hourElement=e(o.find("select")[0]);var n=parseInt(this._hourElement.zselectbox("getAttribute","selectedValue"));n=this._getHourValue(i.selectedValue,n),this._selectedPeriod=i.selectedValue,this._viewDate.setHours(n),this._dispatchEvent("PERIODCHANGE",t,{value:this.options.value,valueString:ZDateUtil.formatDate(this.options.value,this.options.format),selectedValue:i.selectedValue}),this._validateTimePickers(),this.options.immediateCommit&&this._applyClickHandler(t,!0)}else this._hourElement=e(o.find("select")[0]),this._minuteElement=e(o.find("select")[1]),this._periodElement=e(o.find("select")[2]),this._super(t,i),this.options.immediateCommit&&this.options.fromValue&&this.options.toValue&&this._applyClickHandler(event,!0)},_updateStartDateEndDateSelection:function(t,i){i=i||this.element,i.find(".is-selected").removeClass("is-selected is-start is-end");var s,o="is-selected ";i.closest("li").index();if("separate"===this.options.selectionType&&(i=this._element1),this.options.fromValue&&(s=Number(this.options.fromValue.getTime()),o+="forward"===this.options.selectionDirection||"weeks"===this.options.rangeType?"is-start":"backward"===this.options.selectionDirection?"is-end":this._movingForward?"is-start":"is-end",e(i.find("tbody .zdatetimepicker__date[data-time="+s+"]").removeClass("is-start is-end")[0]).addClass(o).attr("aria-selected",!0),this._startDate=i.find("tbody .zdatetimepicker__date[data-time="+s+"]").length?i.find("tbody .zdatetimepicker__date[data-time="+s+"]"):this._startDate,t&&t.originalEvent&&this._dispatchEvent("forward"===this.options.selectionDirection?"STARTDATESELECT":"backward"===this.options.selectionDirection?"ENDDATESELECT":this._movingForward?"STARTDATESELECT":"ENDDATESELECT",t,this.getFromValue())),"separate"===this.options.selectionType&&(i=this._element2),this.options.toValue&&(s=Number(this.options.toValue.getTime()),o="forward"===this.options.selectionDirection||"weeks"===this.options.rangeType?"is-selected is-end":"backward"===this.options.selectionDirection?"is-selected is-start":this._movingForward?"is-selected is-end":"is-selected is-start",i.find("tbody .zdatetimepicker__date[data-time="+s+"]").removeClass("is-start is-end").addClass(o).attr("aria-selected",!0),this._endDate=i.find("tbody .zdatetimepicker__date[data-time="+s+"]").length?i.find("tbody .zdatetimepicker__date[data-time="+s+"]"):this._endDate,t&&t.originalEvent&&this._dispatchEvent("forward"===this.options.selectionDirection?"ENDDATESELECT":"backward"===this.options.selectionDirection?"STARTDATESELECT":this._movingForward?"ENDDATESELECT":"STARTDATESELECT",t,this.getToValue())),this.options.fromValue&&this.options.toValue&&(this._getElements("td","lastChildOfHighlightClass").addClass("h-lastrange"),this._toggleCommandBarButtons()),this.options.fromValue&&(this.options.excludeWeekend?this._getElements("td","isStartBeforeWeekend").addClass("is-start-last"):this._getElements("td","isStartLastChild").addClass("is-start-last")),this.options.toValue&&this._getElements("td","isEndFirstChild").addClass("is-end-first"),"continuous"===this.options.selectionType&&"both"===this.options.selectionDirection&&this.options.fromValue&&this.options.toValue){var n=ZDateUtil.isGreater(this.options.fromValue,this.options.toValue);if(n){var a=new Date(this.options.fromValue.getTime());this.options.fromValue=new Date(this.options.toValue.getTime()),this.options.toValue=a,this._movingForward=!0}}},_showPicker:function(){this._super(),this._hasDate&&(this._updateStartDateEndDateSelection(),this._validateSelectionLimit(),"continuous"===this.options.selectionType&&this._highlightDates(),this._toggleCommandBarButtons(),"continuous"===this.options.selectionType&&this.options.fromValue&&this.options.toValue&&this._addExtraClasses()),this._closeHandled=!1},_toggleCommandBarButtons:function(){var t=this.element.find(".OKButton-zdatetimepicker"),e=this.element.find(".clearButton-zdatetimepicker"),i=!this._hasDate||(this.options.fromValue&&this.options.toValue||!this.options.fromValue&&!this.options.toValue);t.length&&(t[i?"removeClass":"addClass"]("is-disabled"),i?t.removeAttr("disabled"):t.attr("disabled","disabled")),e.length&&(e[this.options.fromValue?"removeClass":"addClass"]("is-disabled"),this.options.fromValue?e.removeAttr("disabled"):e.attr("disabled","disabled"))},_updateSelectionClasses:function(){if("continuous"===this.options.selectionType&&(this.options.fromValue||this.options.toValue)){var t=".zdatetimepicker__months";this.element.find(t).length&&this.element.find(t).is(":visible")&&(this.element.find(t).find("td.is-selected").removeClass("is-selected"),this.options.fromValue&&this._viewDate.getFullYear()===this.options.fromValue.getFullYear()&&this.element.find(t).find("td[data-month-index="+this.options.fromValue.getMonth()+"]").addClass("is-selected"),this.options.toValue&&this._viewDate.getFullYear()===this.options.toValue.getFullYear()&&this.element.find(t).find("td[data-month-index="+this.options.toValue.getMonth()+"]").addClass("is-selected")),t=".zdatetimepicker__years",this.element.find(t).length&&this.element.find(t).is(":visible")&&(this.element.find(t).find("td.is-selected").removeClass("is-selected"),this.options.fromValue&&this.element.find(t).find("td[data-year="+this.options.fromValue.getFullYear()+"]").addClass("is-selected"),this.options.toValue&&this.element.find(t).find("td[data-year="+this.options.toValue.getFullYear()+"]").addClass("is-selected"))}else if(this.options.fromValue||this.options.toValue){var i=e(this.element.find(".zdatetimepicker")[0]),t=".zdatetimepicker__months";i.find(t).length&&i.find(t).is(":visible")&&(i.find(t).find("td.is-selected").removeClass("is-selected"),this.options.fromValue&&this._viewDate.getFullYear()===this.options.fromValue.getFullYear()&&i.find(t).find("td[data-month-index="+this.options.fromValue.getMonth()+"]").addClass("is-selected")),t=".zdatetimepicker__years",i.find(t).length&&i.find(t).is(":visible")&&(i.find(t).find("td.is-selected").removeClass("is-selected"),this.options.fromValue&&i.find(t).find("td[data-year="+this.options.fromValue.getFullYear()+"]").addClass("is-selected")),i=e(this.element.find(".zdatetimepicker")[1]),t=".zdatetimepicker__months",i.find(t).length&&i.find(t).is(":visible")&&(i.find(t).find("td.is-selected").removeClass("is-selected"),this.options.toValue&&this._viewDate.getFullYear()===this.options.toValue.getFullYear()&&i.find(t).find("td[data-month-index="+this.options.toValue.getMonth()+"]").addClass("is-selected")),t=".zdatetimepicker__years",i.find(t).length&&i.find(t).is(":visible")&&(i.find(t).find("td.is-selected").removeClass("is-selected"),this.options.toValue&&i.find(t).find("td[data-year="+this.options.toValue.getFullYear()+"]").addClass("is-selected"))}},_fillMonths:function(t,e){this._super(t,e);var i=this;window.setTimeout(function(){i._updateSelectionClasses()},300)},_fillYears:function(t,i){if("separate"===this.options.selectionType&&t&&t.target){var s=e(t.target).closest("li"),o=s.find(".zdatetimepicker__years");this._yearDrillDownElement=o.length?o:void 0,this._monthDrillDownElement=s.find(".zdatetimepicker__months").length?s.find(".zdatetimepicker__months"):void 0,this._yearNavBar=o.find(".zdatetimepicker__navbar").length?o.find(".zdatetimepicker__navbar"):void 0;var n=s.index(),a=0===n?this._fromDate:this._toDate;this._elementId=s.find(".zdatetimepicker").attr("id"),this._superMethod=this._super,this._updateSeparateTypeMinMaxValues(n),this._viewDate=a,this._superMethod(t,t?s.find(".zdatetimepicker"):void 0)}else"separate"===this.options.selectionType?this._super(t,i):this._super(t);var r=this;window.setTimeout(function(){r._updateSelectionClasses()},300)},_fillDates:function(t,e,i){"separate"===this.options.selectionType&&(i=-1),this._super(t,e,i)},_dateClickHandler:function(t){if("separate"===this.options.selectionType){var i=e(t.target);this.options.navigationBar.monthYearSwitcherType;visibleView=e(t.target).closest("li").find(".zdatetimepicker__monthcontainer:visible"),this._viewMode=visibleView.index(),this.options.allowSelectionOfAdjacentMonthDates&&i.closest(".zdatetimepicker__adjacentmonthdate").length&&(i=i.closest(".zdatetimepicker__adjacentmonthdate"),this._viewDate=new Date(parseInt(i.attr("data-time"))),this._renderContent(0,i.closest("li")),this.element.find(".zdatetimepicker__date[data-time="+i.attr("data-time")+"]").trigger("click"));var o=e(t.target).closest("li").index();if(this._viewDate=0===o?this._fromDate:this._toDate,i.hasClass("zdatetimepicker__monthview")||i.hasClass("zdatetimepicker__year")){var n;new Date(this._viewDate.getTime());if(i.hasClass("zdatetimepicker__monthview")&&(n=!0,this._viewDate.setMonth(parseInt(i.attr("data-month-index")))),i.hasClass("zdatetimepicker__year")&&this._viewDate.setFullYear(parseInt(i.text())),0!==this._viewMode){var a=i.closest("li"),r=this._viewMode-1;i.hasClass("zdatetimepicker__year")&&(this.options.navigationBar.monthSwitcher||(r=0)),this._setViewMode(r,void 0,a.find(".zdatetimepicker")),0===this._viewMode&&this._renderContent(0,a),1===this._viewMode&&(a.find(".zdatetimepicker__months").find("."+s._CLASSES.yearNav).text(this._viewDate.getFullYear()),this._updateMonthClasses(),this._updateYearArrowState(1))}if(this.options.navigationBar.updateDateOnMonthYearSwitch&&this.options.immediateCommit&&"separate"===this.options.selectionType){var o=e(t.target).closest("li").index();(0===o&&this.options.fromValue||1===o&&this.options.toValue)&&(this.options[0===o?"fromValue":"toValue"].setMonth(this._viewDate.getMonth()),this.options[0===o?"fromValue":"toValue"].setFullYear(this._viewDate.getFullYear())),this._immediateCommitHandler(i.closest("li")),this._applyClickHandler(t,!0)}this._dispatchEvent(n?"MONTHCHANGE":"YEARCHANGE",t,{viewDate:this._viewDate,value:this.options.value,selectedValue:n?parseInt(i.attr("data-month-index")):parseInt(i.text())})}else i.hasClass("zdatetimepicker__decade")&&(this._viewDate.setFullYear(parseInt(i.text())),0!==this._viewMode&&(this._setViewMode(this._viewMode-1,void 0,i.closest("li").find(".zdatetimepicker")),2===this._viewMode&&this._fillYears(t)),this._dispatchEvent("DECADECHANGE",t,{viewDate:this._viewDate,value:this.options.value,selectedValue:parseInt(i.text())}));this._updateStartDateEndDateSelection()}else e(t.target).closest(".zdatetimepicker__date").length||(this._super(t),this._updateStartDateEndDateSelection(),this._validateSelectionLimit(),this._highlightDates());var l=this;window.setTimeout(function(){l._updateSelectionClasses()},300)},_fillDecades:function(t,i){if("separate"===this.options.selectionType&&t&&t.target){var s=e(t.target).closest("li"),o=s.find(".zdatetimepicker__decades");this._decadeDrillDownElement=o.length?o:void 0,this._yearDrillDownElement=s.find(".zdatetimepicker__years").length?s.find(".zdatetimepicker__years"):void 0,this._decadeNavBar=o.find(".zdatetimepicker__navbar").length?o.find(".zdatetimepicker__navbar"):void 0;var n=s.index(),a=0===n?this._fromDate:this._toDate;this._elementId=s.find(".zdatetimepicker").attr("id"),this._superMethod=this._super,this._updateSeparateTypeMinMaxValues(n),this._viewDate=a,this._superMethod(t,s.find(".zdatetimepicker"))}else this._super(t,i)},_monthYearNavClickHandler:function(t){if("separate"===this.options.selectionType){var i=e(t.target).closest(".zdatetimepicker"),s=i.closest("li").find(".zdatetimepicker__months");this._monthDrillDownElement=s.length?s:void 0;var o=i.closest("li").index(),n=0===o?this._fromDate:this._toDate;this._elementId=i.attr("id"),this._superMethod=this._super,this._updateSeparateTypeMinMaxValues(o),this._viewDate=n,this._superMethod(t,i),this[0===o?"_fromDate":"_toDate"]=this._viewDate}else this._super(t)},_setViewMode:function(t,e,i){if("separate"===this.options.selectionType&&i){s._CLASSES;i.is("li")&&(i=i.find(".zdatetimepicker")),this._super(t,e,i)}else this._super(t,e,i)},_selectClickHandler:function(t,i){if("separate"===this.options.selectionType){i.dropdownList&&i.dropdownList.attr("id").indexOf("month-header")>-1?this._monthHeader=e(t.currentTarget):this._yearHeader=e(t.currentTarget);var s=e(t.target).closest(".zdatetimepicker"),o=s.closest("li").index();0===o?this._fromDate:this._toDate;this._superMethod=this._super,this._elementId=s.attr("id"),this._updateSeparateTypeMinMaxValues(o),this._superMethod(t,i,e(t.target).closest(".zdatetimepicker")),this[0===o?"_fromDate":"_toDate"]=this._viewDate,this.options.maxDate&&ZDateUtil.isGreater(this._toDate,this.options.maxDate)&&1===o&&(this._toDate=new Date(this.options.maxDate.getTime()),this._maxDate=this._toDate,this._checkOptions(this._maxDate.getFullYear(),e(t.target).closest(".zdatetimepicker")),this._fillDates(this._toDate,s),this._updateArrowState(this._toDate,!0)),this.options.minDate&&ZDateUtil.isGreater(this.options.minDate,this._fromDate)&&0===o&&(this._fromDate=new Date(this.options.minDate.getTime()),this._minDate=this._fromDate,this._checkOptions(this._minDate.getFullYear(),e(t.target).closest(".zdatetimepicker")),this._fillDates(this._fromDate,s),this._updateArrowState(this._fromDate,!0)),this._updateStartDateEndDateSelection()}else this._super(t,i),this._updateStartDateEndDateSelection(),this._highlightDates()},_checkOptions:function(t,i,s){if("separate"===this.options.selectionType&&i){this._superMethod=this._super;var o=i.closest("li").index(),n=i.closest("li").find(".zdatetimepicker").attr("id");if(this._monthHeader=e("#"+n+"-month-header"),this._yearHeader=e("#"+n+"-year-header"),i.is(".zdatetimepicker__days")){var a=this._yearHeader.find("option");this._yearHeader.zcombobox("setOptionAttributes",a.toArray(),"disabled",!1);var r;a=a.map(function(i,s){if(s=e(s),r=parseInt(s.attr("value")),0===o?r>parseInt(t):r<parseInt(t))return s.attr("value")}),this._yearHeader.zcombobox("setOptionAttributes",a.toArray(),"disabled",!0),""===this._yearHeader.zcombobox("getAttribute","selectedValue").trim()&&this._yearHeader.zcombobox("setAttribute","selectedIndex",0===o?0:a.length),this._superMethod(this._yearHeader.zcombobox("getAttribute","selectedValue"))}else this._super(t)}else this._super(t,i,s)},_updateSeparateTypeMinMaxValues:function(t){var e,i;1===t?(e=this.options.fromValue?new Date(this.options.fromValue.getTime()):void 0,e&&this.options.minDaysToSelect&&(e=ZDateUtil.getDateFromOffset("FROM_VALUE+"+parseInt(this.options.minDaysToSelect-1)+"DAYS",e,this.options.format).date),i=this.options.maxDate,this.options.fromValue&&this.options.maxDaysToSelect&&(i=ZDateUtil.getDateFromOffset("FROM_VALUE+"+parseInt(this.options.maxDaysToSelect-1)+"DAYS",this.options.fromValue,this.options.format).date),this._minDate=e||this.options.minDate,this._maxDate=i):(i=this.options.toValue||this.options.maxDate,this.options.toValue&&this.options.minDaysToSelect&&(i=ZDateUtil.getDateFromOffset("FROM_VALUE-"+parseInt(this.options.minDaysToSelect-1)+"DAYS",this.options.toValue,this.options.format).date),e=this.options.minDate,this.options.toValue&&this.options.maxDaysToSelect&&(e=ZDateUtil.getDateFromOffset("FROM_VALUE-"+parseInt(this.options.maxDaysToSelect-1)+"DAYS",this.options.toValue,this.options.format).date),this._maxDate=i,this._minDate=e)},_handleMonthArrowClick:function(t){if(!e(t.target).closest(".zdatetimepicker__navbutton").is(".is-disabled")){if("separate"===this.options.selectionType){var i=e(t.target).closest(".zdatetimepicker"),s="dropdown"===this.options.navigationBar.monthYearSwitcherType;this._elementId=i.attr("id");var o=i.closest("li").index(),n=0===o?this._fromDate:this._toDate;this._superMethod=this._super,this._updateSeparateTypeMinMaxValues(o),s&&(this._monthHeader=e("#"+this._elementId+"-month-header"),this._yearHeader=e("#"+this._elementId+"-year-header")),this.options.value=this.options[0===o?"fromValue":"toValue"],this._superMethod(t,i,n),this[0===o?"_fromDate":"_toDate"]=this._viewDate}else this._super(t);this._handleNavigation(t),this._updateSelectionClasses()}},_handleYearClick:function(t,i,s){var o=e(t.target).closest("li");this._super(t,"separate"===this.options.selectionType?o:void 0,s),this[0===o.index()?"_fromDate":"_toDate"]=this._viewDate,this._updateSelectionClasses()},_handleYearArrowClick:function(t){if(!e(t.target).closest(".zdatetimepicker__navbutton").is(".is-disabled")){if("separate"===this.options.selectionType){var i=e(t.target).closest("li");this._elementId=i.find(".zdatetimepicker").attr("id");var s=i.index(),o=0===s?this._fromDate:this._toDate;this._superMethod=this._super,this._updateSeparateTypeMinMaxValues(s),"dropdown"===this.options.navigationBar.monthYearSwitcherType&&(this._yearHeader=e("#"+this._elementId+"-year-header")),this._superMethod(t,i,o),this[0===s?"_fromDate":"_toDate"]=this._viewDate}else this._super(t);this._handleNavigation(t),this._updateSelectionClasses()}},_handleDecadeArrowClick:function(t){if(!e(t.target).closest(".zdatetimepicker__navbutton").is(".is-disabled")){if("separate"===this.options.selectionType){var i=e(t.target).closest("li");this._elementId=i.find(".zdatetimepicker").attr("id");var s=i.index(),o=0===s?this._fromDate:this._toDate;this._superMethod=this._super,this._updateSeparateTypeMinMaxValues(s),this._superMethod(t,i,o),this[0===s?"_fromDate":"_toDate"]=this._viewDate}else this._super(t);this._updateSelectionClasses()}},_handleNavigation:function(t){"separate"===this.options.selectionType?(this._updateStartDateEndDateSelection(t,e(t.target).closest(".zdatetimepicker")),(this.options.fromValue||this.options.toValue)&&this._validateSelectionLimit(0===e(t.target).closest("li").index()?this._element1:this._element2,e(t.target).closest("li").index())):(this._updateStartDateEndDateSelection(t),(this.options.fromValue||this.options.toValue)&&this._validateSelectionLimit(),(this.options.fromValue||this.options.toValue)&&this._highlightDates())},_bindEvents:function(){this._super();var t=this,i=this.componentName,o=this._movingForward;delegateList="."+s._CLASSES.date+":not(.is-disabled):not(.zdatetimepicker--disabledreplica), .zdatetimepicker__adjacentmonthdate:not(.is-disabled), ."+s._CLASSES.trailing+":not(.is-disabled), ."+s._CLASSES.leading+":not(.is-disabled), .zdatetimepicker__monthview:not(.is-disabled), .zdatetimepicker__year:not(.is-disabled), .zdatetimepicker__decade:not(.is-disabled)","continuous"===this.options.selectionType?this.element.off("mouseenter."+i).on("mouseenter."+i,delegateList,function(i){if(t.options.excludeWeekend&&e(i.target).is(".zdatetimepicker--weekend"))return!1;if("weeks"===t.options.rangeType&&t._hoverAllDaysInAWeek(i),t.options.fromValue&&!t.options.toValue){var s=i.currentTarget,n=Number(s.getAttribute("data-time")),a=Number(e(t._startDate).attr("data-time")),r="forward"===t.options.selectionDirection?n>a:"backward"===t.options.selectionDirection?n<a:n>a||n<a;if(a===n&&t.element.find(".zdatetimepicker--dateinrange").removeClass("zdatetimepicker--dateinrange h-lastrange"),"both"===t.options.selectionDirection&&(o=t._movingForward,o?t._movingForward=n>=a:t._movingForward=n>a,o!==t._movingForward&&t._updateStartDateEndDateSelection()),t._startDate&&r)for(var l=t.element.find("tbody .zdatetimepicker__date"),h=0,d=l.length;h<d;h++){var c=Number(l[h].getAttribute("data-time"));validdate=!(e(l[h]).hasClass("zdisabled")||t.options.excludeWeekend&&e(l[h]).hasClass("zdatetimepicker--weekend")),validdate&&(e(l[h])[c===n?"addClass":"removeClass"]("zdatetimepicker--dateinrange"),e(l[h])[a<c&&n>=c||a>c&&n<=c?"addClass":"removeClass"]("zdatetimepicker--dateinrange"))}t.options.fromValue&&(t.element.find("td.is-start-last").removeClass("is-start-last"),t.options.excludeWeekend?t._getElements("td","isStartBeforeWeekend").addClass("is-start-last"):t._getElements("td","isStartLastChild").addClass("is-start-last")),t._addExtraClasses()}t.element.find("td.is-end-first").removeClass("is-end-first"),t._getElements("td","isEndFirstChild").addClass("is-end-first")}).off("mouseleave."+i).on("mouseleave."+i,delegateList,function(i){"weeks"===t.options.rangeType&&t._hoverAllDaysInAWeek(i);var s=e(i.relatedTarget);s&&!s.is(".is-selected")||(t.element.find(".zdatetimepicker__date.zdatetimepicker--dateinrange").removeClass("zdatetimepicker--dateinrange"),t._highlightDates())}).off("mousedown."+i).on("mousedown."+i,delegateList,function(i){var s=e(i.target),o=s.closest(".zdatetimepicker__date").length?s.closest(".zdatetimepicker__date"):s.closest(".zdatetimepicker__adjacentmonthdate");if(o.length&&(!t.options.excludeWeekend||!o.hasClass("zdatetimepicker--weekend"))&&(!t._startDate||t.options.toValue||t._startDate[0]!==o[0])){if(t.options.fromValue&&t.options.toValue&&(t._clearSelection(),t._toggleCommandBarButtons()),!t.options.fromValue&&"weeks"===t.options.rangeType)return void t._selectAllDaysInAWeek(i);t[t.options.fromValue?"_endDate":"_startDate"]=o,o.attr("aria-selected",!0),t.options[t.options.fromValue?"toValue":"fromValue"]=new Date(Number(o.attr("data-time"))),"backward"===t.options.selectionDirection&&t._endDate?t._endDate.hasClass("h-lastrange")&&t._endDate.removeClass("h-lastrange").addClass("h-disabledahead"):t._startDate&&t._startDate.length&&t._startDate.hasClass("h-lastrange")&&t._startDate.removeClass("h-lastrange").addClass("h-disabledahead"),t.options.fromValue&&!t.options.toValue?(t.options.maxDaysToSelect&&(t._minDate=ZDateUtil.getDateFromOffset("FROM_VALUE-"+parseInt(t.options.maxDaysToSelect-1)+"DAYS",t.options.fromValue,t.options.format).date,t._maxDate=ZDateUtil.getDateFromOffset("FROM_VALUE+"+parseInt(t.options.maxDaysToSelect-1)+"DAYS",t.options.fromValue,t.options.format).date),"forward"===t.options.selectionDirection?t._minDate=t.options.fromValue:"backward"===t.options.selectionDirection&&(t._maxDate=t.options.fromValue)):(t._maxDate=t._userMaxDate,t._minDate=t._userMinDate),!t.options.toValue&&o.hasClass("zdatetimepicker__adjacentmonthdate")&&(t._viewDate=new Date(t.options.fromValue.getTime())),t._renderContent(),t._updateStartDateEndDateSelection(i),t._highlightDates(),t._validateSelectionLimit(),t.options.fromValue&&t.options.toValue&&t.options.immediateCommit&&t._applyClickHandler(!t.options.closeOnDateSelect),t._toggleCommandBarButtons(),i.preventDefault(),i.stopPropagation()}}).on("click."+i,delegateList,function(i){var s=e(i.target),o=s.closest(".zdatetimepicker__date");o.length&&(i.preventDefault(),i.stopPropagation()),t._dateClickHandler(i)}):this.element.off("click."+i).on("click."+i,function(e){t._dateClickHandler(e)}).off("mousedown."+i).on("mousedown."+i).on("click."+i,delegateList,function(i){var s=e(i.target),o=s.closest(".zdatetimepicker"),n=o.attr("id")+"-year-header",a=o.closest("li"),r="dropdown"===t.options.navigationBar.monthYearSwitcherType?e("#"+n).zcombobox("getAttribute","selectedValue"):void 0,l=a.index(),h=s.closest(".zdatetimepicker__date");if(h.length&&(!t.options.excludeWeekend||!h.hasClass("zdatetimepicker--weekend"))){if(t._endDate&&h[0]===t._endDate[0])return t._endDate.removeClass("is-selected is-start is-end"),t._maxDate=t.options.maxDate,t._minDate=t.options.minDate,t.options.toValue=t._endDate=void 0,o=t._element1,t._elementId=o.closest(".zdatetimepicker").attr("id"),t.options.navigationBar&&"dropdown"===t.options.navigationBar.monthYearSwitcherType&&t._updateDropdownElements(!0),t._viewDate=t.options.fromValue?t.options.fromValue:t._fromDate,t._renderContent(void 0,o,void 0,!0),t._toDate=new Date,t._toDate.setHours(0,0,0,0),t._updateStartDateEndDateSelection(i,o),void t._validateTimePickers(!0);if(o.find(".is-selected").removeClass("is-selected is-start is-end"),t.options.fromValue&&t.options.toValue&&(t.options[0===l?"fromValue":"toValue"]=void 0,t[0===l?"_startDate":"_endDate"].removeClass("is-selected is-start is-end"),t._minDate=t.options.minDate,t._maxDate=t.options.maxDate),t.options[0===l?"fromValue":"toValue"]=new Date(Number(h.attr("data-time"))),o=0==l?t._element2:t._element1,a=o.closest("li"),0===l&&t.options.fromValue){var d=new Date(t.options.fromValue.getTime()),c=ZDateUtil.isGreater(d,t._toDate),p=t.options.maxDaysToSelect?ZDateUtil.getDateFromOffset("FROM_VALUE+"+parseInt(t.options.maxDaysToSelect-1)+"DAYS",t.options.fromValue,t.options.format).date:t.options.maxDate;t.options.minDaysToSelect&&(d=ZDateUtil.getDateFromOffset("FROM_VALUE+"+parseInt(t.options.minDaysToSelect-1)+"DAYS",t.options.fromValue,t.options.format).date),t._minDate=d,t._fromDate=d,t._maxDate=p,c&&(t._viewDate=new Date(t._fromDate.getTime()),t._renderContent(0,a,void 0,!1),t._toDate=d)}else if(1===l&&t.options.toValue){var d=new Date(t.options.toValue.getTime()),c=ZDateUtil.isGreater(t._fromDate,d),u=t.options.maxDaysToSelect?ZDateUtil.getDateFromOffset("FROM_VALUE-"+parseInt(t.options.maxDaysToSelect-1)+"DAYS",t.options.toValue,t.options.format).date:t.options.minDate;t.options.minDaysToSelect&&(d=ZDateUtil.getDateFromOffset("FROM_VALUE-"+parseInt(t.options.minDaysToSelect-1)+"DAYS",t.options.toValue,t.options.format).date),t._maxDate=d,t._minDate=u,t._toDate=d,c&&(t._viewDate=new Date(t._toDate.getTime()),t._renderContent(0,a,void 0,!1),t._fromDate=d)}t._elementId=o.closest(".zdatetimepicker").attr("id"),"dropdown"===t.options.navigationBar.monthYearSwitcherType&&(t._viewDate=0===l?t._toDate:t._fromDate,t._monthHeader=e("#"+t._elementId+"-month-header"),t._yearHeader=e("#"+t._elementId+"-year-header"),t._checkOptions(r,o)),t.options.value=t.options[0===l?"toValue":"fromValue"],t._fillDates(0===l?t._toDate:t._fromDate,o),t._updateStartDateEndDateSelection(i,o),t.options.fromValue&&t.options.toValue&&t._validateTimePickers();var m=0===l?t._toDate:t._fromDate;t._updateArrowState(m,!1),t._updateArrowState(m,!0),t._validateSelectionLimit(0==l?t._element2:t._element1,l),t.options.fromValue&&t.options.toValue&&t.options.immediateCommit&&t._applyClickHandler(!t.options.closeOnDateSelect),t._toggleCommandBarButtons(),i.preventDefault(),i.stopPropagation()}})},_addExtraClasses:function(){this.element.find("td.h-lastrange").removeClass("h-lastrange"),this._startDate=this._startDate&&this._startDate.length?this._startDate:this.element.find("[data-time="+this.options.fromValue.getTime()+"]"),this.element.find(".zdatetimepicker--dateinrange").length&&(this._startDate.addClass("zdatetimepicker--dateinrange"),this._getElements("td","lastChildOfHighlightClass").addClass("h-lastrange")),this._getElements("td","beforeDisabled").addClass("h-lastrange"),this._startDate.hasClass("h-lastrange")&&this._startDate.removeClass("h-lastrange").addClass("h-disabledahead")},_unbindEvents:function(){var t=this.componentName;this.element.off("mouseenter."+t+" mouseleave."+t+" mousedown."+t),e("#"+this._elementId+"-right-month-0, #"+this._elementId+"-left-month-0").off("click."+t),e("#"+this._elementId+"-right-year, #"+this._elementId+"-left-year").off("click."+t)},_hoverAllDaysInAWeek:function(t,i){var s=e(t.currentTarget),o=s.closest("tr"),n="td.zdatetimepicker__adjacentmonthdate:not(.is-disabled)"+(this.options.excludeWeekend?":not(.zdatetimepicker--weekend)":"")+", td.zdatetimepicker__date:not(.is-disabled)"+(this.options.excludeWeekend?":not(.zdatetimepicker--weekend)":""),a="td"+(this.options.excludeWeekend?":not(.zdatetimepicker--weekend)":"")+":not(.is-disabled)",r=o.find(n),l=o.find(a),h="td.is-disabled"+(this.options.excludeWeekend?":not(.zdatetimepicker--weekend)":""),d=o.find(h).length,c="mouseenter"===t.type&&!i,p=this.options.excludeWeekend?5-d:7-d;if(l=l.filter(function(t,i){if(!e(i).hasClass("is-disabled"))return e(i)}),!o.find(".is-selected").length||!s.hasClass("zdatetimepicker__adjacentmonthdate")&&!s.hasClass("zdatetimepicker--dateinrange")){if(l.length!==p&&r.length!==p||r.length!==l.length)if(l.length==r.length){var u=o.closest("li").next("li").find(".zdatetimepicker__month tbody tr:first");u&&u.find(n)[c?"addClass":"removeClass"]("zdatetimepicker--weekselection")}else{var m=o.closest("li").prev("li"),_=m.find(".zdatetimepicker__month tbody tr:last");_.find(".zdatetimepicker__date").length||(_=_.prev("tr")),_&&_.find(n)[c?"addClass":"removeClass"]("zdatetimepicker--weekselection")}r[c?"addClass":"removeClass"]("zdatetimepicker--weekselection"),this.element.find(".h-lastselection").removeClass("h-lastselection"),this._getElements("td.zdatetimepicker--weekselection","lastChildOfWeekSelectionClass")[c?"addClass":"removeClass"]("h-lastselection"),this._getElements("td.zdatetimepicker--weekselection","beforeDisabled")[c?"addClass":"removeClass"]("h-lastselection")}},_selectAllDaysInAWeek:function(t){var i=e(t.currentTarget),s=i.closest("tr"),o="td.zdatetimepicker__adjacentmonthdate:not(.is-disabled)"+(this.options.excludeWeekend?":not(.zdatetimepicker--weekend)":"")+", td.zdatetimepicker__date:not(.is-disabled)"+(this.options.excludeWeekend?":not(.zdatetimepicker--weekend)":""),n="td"+(this.options.excludeWeekend?":not(.zdatetimepicker--weekend)":"")+":not(.is-disabled)",a=s.find(o),r=s.find(n),l=e(s.find(o).first()),h="td.is-disabled"+(this.options.excludeWeekend?":not(.zdatetimepicker--weekend)":""),d=s.find(h).length;if(toValueEle=e(s.find(o).last()),limit=this.options.excludeWeekend?5-d:7-d,r.length!==limit&&a.length!==limit||!this.options.excludeWeekend&&a.length!==r.length)if(r.length===a.length){var c=s.closest("li").next("li").find(".zdatetimepicker__month tbody tr:first");if(c.length)toValueEle=c.find(o).last();else if(a.length){var p=new Date(Number(a[a.length-1].getAttribute("data-time")));p.setDate(p.getDate()+limit-a.length),this.options.toValue=new Date(Number(p.getTime())),toValueEle=void 0}}else{var u=s.closest("li").prev("li"),m=u.find(".zdatetimepicker__month tbody tr:last");if(m.find(".zdatetimepicker__date").length||(m=m.prev("tr")),m.length)l=m.find(o).first();else if(a.length){l=void 0;var p=new Date(Number(a[0].getAttribute("data-time")));p.setDate(p.getDate()-limit+a.length),this.options.fromValue=new Date(Number(p.getTime()))}}l&&l.length&&(this.options.fromValue=new Date(Number(l.attr("data-time"))),this._startDate=l,l.addClass("is-selected is-start")),toValueEle&&toValueEle.trigger("mousedown"),this._hoverAllDaysInAWeek(t,!0),this._highlightDates(),this._getElements("td.zdatetimepicker--dateinrange","beforeDisabled").addClass("h-lastrange"),this._startDate&&this._startDate.length&&this._startDate.hasClass("h-lastrange")&&this._startDate.removeClass("h-lastrange").addClass("h-disabledahead"),this.options.immediateCommit&&this._applyClickHandler(t)},_validateSelectionLimit:function(t,i){if(t=t||this.element,"days"===this.options.rangeType&&"continuous"===this.options.selectionType&&this.options.fromValue){var s,o,n=this.options.fromValue&&Number(this.options.fromValue.getTime()),a=0,r=this.options.toValue&&Number(this.options.toValue.getTime()),l=t.find("tbody .zdatetimepicker__date"),h=0;if(!(n&&t.find("[data-time="+n+"]").length||r&&t.find("[data-time="+r+"]").length))return;for(var d=0;d<l.length;d++){if(s=e(l[d]),o=Number(e(s).attr("data-time")),"forward"===this.options.selectionDirection&&this.options.maxDaysToSelect&&a===this.options.maxDaysToSelect)!s.hasClass("zdisabled")&&s[this.options.toValue?"removeClass":"addClass"]("is-disabled");else if("forward"===this.options.selectionDirection&&this.options.minDaysToSelect){if(s.hasClass("zdisabled")||this.options.excludeWeekend&&s.hasClass("zdatetimepicker--weekend")||(h+=1),this.options.minDaysToSelect&&h>1&&h<=this.options.minDaysToSelect-1&&(!s.hasClass("zdisabled")&&s[this.options.toValue?"removeClass":"addClass"]("zdatetimepicker--disabledreplica"),!this.options.toValue&&this.options.maxDate&&o===Number(this.options.maxDate.getTime()))){s.removeClass("is-disabled").trigger("mousedown"),this._highlightDates();break}this.options.maxDaysToSelect&&!s.hasClass("zdisabled")&&(!this.options.excludeWeekend||!s.hasClass("zdatetimepicker--weekend"))&&a++}else!s.hasClass("zdisabled")&&a++;if(this.options.minDate&&o<Number(this.options.minDate.getTime())&&s.addClass("is-disabled"),this.options.maxDate&&o>Number(this.options.maxDate.getTime())&&s.addClass("is-disabled"),this.options.disabledDates)for(var c=0;c<this.options.disabledDates.length;c++){var p=new Date(this.options.disabledDates[c].date);p.setHours(0,0,0,0),o===Number(p.getTime())&&s.addClass("is-disabled")}}if("backward"===this.options.selectionDirection&&this._startDate)for(var s,o,i=e.inArray(this._startDate[0],l),u=0,d=i;d>=0;d--)if(s=e(l[d]),o=Number(s.attr("data-time")),!s.is(".zdisabled")&&(!this.options.excludeWeekend||!s.hasClass("zdatetimepicker--weekend"))&&++u,this.options.minDaysToSelect&&u>1&&u<=this.options.minDaysToSelect-1){if(!s.is(".zdisabled")&&s[this.options.toValue?"removeClass":"addClass"]("zdatetimepicker--disabledreplica"),!this.options.toValue&&this.options.min&&o===Number(this.options.min.getTime())){s.removeClass("is-disabled").trigger("mousedown"),this._highlightDates();break}}else this.options.maxDaysToSelect&&u>this.options.maxDaysToSelect&&!s.is(".zdisabled")&&s[this.options.toValue?"removeClass":"addClass"]("is-disabled");if("both"===this.options.selectionDirection&&this._startDate&&(this.options.maxDaysToSelect||this.options.minDaysToSelect)){for(var m=e.inArray(this._startDate[0],l),_=minDaysCount=0,d=m;d>=0;d--)s=e(l[d]),s.hasClass("zdisabled")||this.options.excludeWeekend&&s.hasClass("zdatetimepicker--weekend")||(minDaysCount++,_++),this.options.maxDaysToSelect&&_>this.options.maxDaysToSelect&&!s.hasClass("zdisabled")&&s[this.options.toValue?"removeClass":"addClass"]("is-disabled"),this.options.minDaysToSelect&&minDaysCount>1&&minDaysCount<=this.options.minDaysToSelect-1&&!s.hasClass("zdisabled")&&s[this.options.toValue?"removeClass":"addClass"]("zdatetimepicker--disabledreplica");_=0,minDaysCount=1;for(var d=m+1;d<l.length;d++)s=e(l[d]),s.hasClass("zdisabled")||this.options.excludeWeekend&&s.hasClass("zdatetimepicker--weekend")||(_++,minDaysCount++),this.options.maxDaysToSelect&&_>=this.options.maxDaysToSelect&&!s.hasClass("zdisabled")&&s[this.options.toValue?"removeClass":"addClass"]("is-disabled"),this.options.minDaysToSelect&&minDaysCount<=this.options.minDaysToSelect-1&&!s.hasClass("zdisabled")&&s[this.options.toValue?"removeClass":"addClass"]("zdatetimepicker--disabledreplica")}}},_highlightDates:function(){if(this.options.fromValue&&this.options.toValue){var t,i,s,o=this.options.fromValue.getTime(),n=this.options.toValue.getTime(),a=this.element.find("tbody .zdatetimepicker__date[data-time]"),r=a.length;this.element.find("tbody .zdatetimepicker--dateinrange").removeClass("zdatetimepicker--dateinrange h-lastrange");for(var l=0;l<r;l++)s=Number(a[l].getAttribute("data-time")),i="forward"===this.options.selectionDirection||"weeks"===this.options.rangeType?s>=o&&s<=n:"backward"===this.options.selectionDirection?s<=o&&s>=n:s>=o&&s<=n||s<=o&&s>=n,t=!(e(a[l]).hasClass("zdisabled")||this.options.excludeWeekend&&e(a[l]).hasClass("zdatetimepicker--weekend")),i&&t&&t&&e(a[l]).addClass("zdatetimepicker--dateinrange");this._getElements("td","lastChildOfHighlightClass").addClass("h-lastrange"),this._getElements("td","isEndFirstChild").addClass("is-end-first"),this.options.excludeWeekend?this._getElements("td","isStartBeforeWeekend").addClass("is-start-last"):this._getElements("td","isStartLastChild").addClass("is-start-last")}},_normalizeOptions:function(t){return t.value=t.fromValue,t.timeLabel=t.fromTimeLabel,this._movingForward="backward"!==t.selectionDirection,t.minDaysToSelect=parseInt(t.minDaysToSelect),t.maxDaysToSelect=parseInt(t.maxDaysToSelect),t.minDaysToSelect>t.maxDaysToSelect&&(t.maxDaysToSelect=void 0),t},_retrieveTimeValue:function(t,i){var s,o,n=this.options.timeFieldType,a=i?".zdatetimepicker__timebar .zdatetimepicker__starttime":".zdatetimepicker__timebar .zdatetimepicker__endtime",r=this.element.find(a);if("input"===n)s=r.find(".zinputfield").prev("input"),o=s.zdatetimefield("getAttribute","value"),t.setHours(o.getHours(),o.getMinutes());else if("single-select-box"===n){s=r.find("select"),o=s.find("option")[s.zselectbox("getAttribute","selectedIndex")!==-1?s.zselectbox("getAttribute","selectedIndex"):0].textContent;var l=this._parseDateValue(o,this._timeFormat).date;l.setSeconds(0,0),t.setHours(l.getHours(),l.getMinutes())}else if("multiple-select-box"===n){var h,d,c;if("h-m-t"===this.options.timeMultipleSelectBoxType){if(s=parseInt(e(r.find("select")[0]).zselectbox("getAttribute","selectedValue")),h=parseInt(e(r.find("select")[1]).zselectbox("getAttribute","selectedValue")),d=s+":"+h,this._is12HourFormat){var p=e(r.find("select")[2]).zselectbox("getAttribute","selectedValue");d+=" "+p}}else{s=e(r.find("select")[0]),d=s.find("option")[s.zselectbox("getAttribute","selectedIndex")!==-1?s.zselectbox("getAttribute","selectedIndex"):0].textContent;var u=e(r.find("select")[1]).length?e(r.find("select")[1]).zselectbox("getAttribute","selectedValue"):"";d+=" "+u}c=this._parseDateValue(d,this._timeFormat).date,c&&(c.setSeconds(0,0),t.setHours(c.getHours(),c.getMinutes()))}return t},_createButtons:function(){this._super(),this._toggleCommandBarButtons()},_resetClickHandler:function(t){if(this._clearSelection(),"separate"===this.options.selectionType){var i=e(this.element.find("li")[0]);this._minDate=this.options.minDate,this._maxDate=this.options.maxDate,this._elementId=i.find(".zdatetimepicker").attr("id"),this.options.navigationBar&&"dropdown"===this.options.navigationBar.monthYearSwitcherType&&this._updateDropdownElements(!0),this._viewDate=this._fromDate,this._renderContent(void 0,i,!0,!0),i=e(this.element.find("li")[1]),this._elementId=i.find(".zdatetimepicker").attr("id"),this.options.navigationBar&&"dropdown"===this.options.navigationBar.monthYearSwitcherType&&this._updateDropdownElements(),this._viewDate=this._toDate,this._renderContent(void 0,i,!0,!0)}this.options.immediateCommit&&(this._lastFromValue=this._lastToValue=void 0),this._hasDate&&this._toggleCommandBarButtons(),this._viewDate=new Date,this._setViewDate(),this._hasTime&&(this._setSelectedTimeValues(void 0,this.element.find(".zdatetimepicker__starttime"),void 0,!0),this._setSelectedTimeValues(void 0,this.element.find(".zdatetimepicker__endtime"),void 0,!0)),"continuous"===this.options.selectionType&&(this._minDate=this.options.minDate,this._maxDate=this.options.maxDate,this._renderContent(0)),t&&this._dispatchEvent("RESET",t,{fromValueString:ZDateUtil.formatDate(this._lastFromValue,this.options.format),fromValue:this._lastFromValue,toValue:this._lastToValue,toValueString:ZDateUtil.formatDate(this._lastToValue,this.options.format)}),t&&t.stopPropagation()},_documentClickHandler:function(t){this._super(t),!this.options.immediateCommit&&this._closeHandled&&this._preserveOldValues(t)},_preserveOldValues:function(){this.options.fromValue=this._lastFromValue&&new Date(this._lastFromValue.getTime()),this.options.fromValue&&this.options.fromValue.setHours(0,0,0,0),this.options.toValue=this._lastToValue&&new Date(this._lastToValue.getTime()),this.options.toValue&&this.options.toValue.setHours(0,0,0,0),this._hasTime&&(this.options.value=this._lastFromValue,this._updateTimeElements(!0),this._setSelectedTimeValues(!0,this.element.find(".zdatetimepicker__starttime"),void 0,!1),this.options.value=this._lastToValue,this._updateTimeElements(),this._setSelectedTimeValues(!0,this.element.find(".zdatetimepicker__endtime"),void 0,!1),this.options.value=this._currentSelected=void 0)},_todayClickHandler:function(t){var i=new Date(this._viewDate.getTime());this._viewMode;if(this._viewDate=new Date,this._fromDate=new Date,this._toDate=new Date,this._viewDate.setHours(0,0,0,0),(0===this._viewMode&&!ZDateUtil.areDatesEqual(this._viewDate,i)||0!==this._viewMode)&&("separate"===this.options.selectionType?(this._setViewMode(0,!0,e(this.element.find("li")[0])),this._setViewMode(0,!0,e(this.element.find("li")[1])),this._renderContent(0,e(this.element.find("li")[0])),this._renderContent(0,e(this.element.find("li")[1]))):(this._setViewMode(0,!0),this._renderContent(0))),this._dispatchEvent("TODAYBUTTONCLICK",t,{fromValueString:ZDateUtil.formatDate(this.options.fromValue,this.options.format),fromValue:this.options.fromValue,toValueString:ZDateUtil.formatDate(this.options.toValue,this.options.format),toValue:this.options.toValue}),"navigate-and-select"===this.options.todayButtonAction&&"separate"===this.options.selectionType){this._clearSelection(),(this._minDate||this._maxDate)&&(this._fromDate=new Date,this._fromDate.setHours(0,0,0,0),this._toDate=new Date,this._toDate.setHours(0,0,0,0),this._setAttribute("minDate",this.options.minDate,e(this.element.find(".zdatetimepicker")[0])),this._setAttribute("maxDate",this.options.maxDate,e(this.element.find(".zdatetimepicker")[0])),this._setAttribute("minDate",this.options.minDate,e(this.element.find(".zdatetimepicker")[1])),this._setAttribute("maxDate",this.options.maxDate,e(this.element.find(".zdatetimepicker")[1])));var s=e(this.element.find("td.zdatetimepicker--today:not(.zdisabled)")[0]);s.length&&s.trigger("click"),s=e(this.element.find("td.zdatetimepicker--today:not(.zdisabled)")[1]),s.length&&s.trigger("click"),this.options.immediateCommit&&this._applyClickHandler(!this.options.closeOnDateSelect)}this._updateStartDateEndDateSelection(),"continuous"===this.options.selectionType&&(this._validateSelectionLimit(),this._highlightDates())},_cancelClickHandler:function(t){this._preserveOldValues(),this._closePicker(),"continuous"===this.options.selectionType&&(this._minDate=this.options.minDate,this._maxDate=this.options.maxDate,this._renderContent(0));var e="continuous"===this.options.selectionType&&"backward"===this.options.selectionDirection;this._dispatchEvent("CANCEL",t,{fromValueString:ZDateUtil.formatDate(e?this._lastToValue:this._lastFromValue,this.options.format),fromValue:e?this._lastToValue:this._lastFromValue,toValue:e?this._lastFromValue:this._lastToValue,toValueString:ZDateUtil.formatDate(e?this._lastFromValue:this._lastToValue,this.options.format)})},_applyClickHandler:function(t,i,s){s||(this._lastFromValue=this.options.fromValue?this.options.fromValue:this._hasDate?void 0:new Date,this._lastToValue=this.options.toValue?this.options.toValue:this._hasDate?void 0:new Date),!e(t).closest(".OKButton-zdatetimepicker").length||this.options.fromValue||this.options.toValue?s||(this._lastFromValue=this._lastFromValue&&this._hasTime?this._retrieveTimeValue(new Date(this._lastFromValue.getTime()),!0):this._lastFromValue,this._lastToValue=this._lastToValue&&this._hasTime?this._retrieveTimeValue(new Date(this._lastToValue.getTime())):this._lastToValue):this._lastFromValue=this._lastToValue=void 0,this._hasDate||(this.options.fromValue=new Date(this._lastFromValue.getTime()),this.options.toValue=new Date(this._lastToValue.getTime()));var o="continuous"===this.options.selectionType&&"backward"===this.options.selectionDirection;this._dispatchEvent("APPLY",t,{fromValueString:ZDateUtil.formatDate(o?this._lastToValue:this._lastFromValue,this.options.format),fromValue:o?this._lastToValue:this._lastFromValue,toValue:o?this._lastFromValue:this._lastToValue,toValueString:ZDateUtil.formatDate(o?this._lastFromValue:this._lastToValue,this.options.format)}),!i&&this._closePicker()},_immediateCommitHandler:function(t){if("separate"===this.options.selectionType){var e=t.index();if(0===e&&this.options.fromValue||1===e&&this.options.toValue){var i=this;clearTimeout(i._immediateTimer),i._immediateTimer=window.setTimeout(function(){t.find(".zdatetimepicker__date[data-time="+i._viewDate.getTime()+"]").trigger("click")},300)}}},_closePicker:function(t){if(!this._closeHandled){"continuous"===this.options.selectionType&&this.options.maxDaysToSelect&&(this._minDate=this.options.minDate,this._maxDate=this.options.maxDate),this._lastFromValue||(this.options.fromValue=void 0,this._startDate&&this._startDate.removeClass("is-selected is-start is-end"),this._startDate=void 0),this._lastToValue||(this.options.toValue=void 0,this._endDate&&this._endDate.removeClass("is-selected is-start is-end"),this._endDate=void 0),!this.options.toValue&&this._lastToValue&&(this.options.toValue=new Date(this._lastToValue.getTime()),this.options.toValue.setHours(0,0,0,0));var i;if(this._lastFromValue&&this.options.fromValue){var s=ZDateUtil.areDatesEqual(this._lastFromValue,this.options.fromValue);s||(this.options.fromValue=new Date(this._lastFromValue.getTime()),"continuous"===this.options.selectionType&&this.element.find("td.zdatetimepicker--disabledreplica").removeClass("zdatetimepicker--disabledreplica"),this._movingForward=i=!0)}else this.options.fromValue||(i=!0);if(this._lastToValue&&this.options.toValue){var o=ZDateUtil.areDatesEqual(this._lastToValue,this.options.toValue);o||(this.options.toValue=new Date(this._lastToValue.getTime()),"continuous"===this.options.selectionType&&this.element.find("td.zdatetimepicker--disabledreplica").removeClass("zdatetimepicker--disabledreplica"),this._movingForward=i=!0)}else this.options.toValue||(i=!0);this._superMethod=this._super,i&&(this.options.fromValue=this._lastFromValue&&new Date(this._lastFromValue.getTime()),this.options.toValue=this._lastToValue&&new Date(this._lastToValue.getTime()),this.options.fromValue&&this.options.fromValue.setHours(0,0,0,0),this.options.toValue&&this.options.toValue.setHours(0,0,0,0),"continuous"===this.options.selectionType&&(this._minDate=this.options.minDate,this._maxDate=this.options.maxDate,this._renderContent(0)));var n="separate"===this.options.selectionType?e(this.element.find(".zdatetimepicker__list")[0]):this.element;if("separate"===this.options.selectionType&&(this._elementId=n.find(".zdatetimepicker").attr("id")),(this.options.fromValue||!this.options.fromValue&&!this._hasDate)&&(this._valueUpdate=!0,this.options.value=this._lastFromValue?this._lastFromValue:this.options.fromValue?this.options.fromValue:new Date),"separate"===this.options.selectionType&&this._updateSeparateTypeMinMaxValues(0),this.options.value=this._lastFromValue&&new Date(this._lastFromValue.getTime()),this._hasTime&&(this._updateTimeElements(!0),this._setSelectedTimeValues(!0,this.element.find(".zdatetimepicker__starttime"),void 0,!1)),this.options.navigationBar&&"dropdown"===this.options.navigationBar.monthYearSwitcherType&&this._updateDropdownElements(!0),this._superMethod(t,n,this.element.find(".zdatetimepicker__starttime"),!0),"separate"===this.options.selectionType&&(n=e(this.element.find(".zdatetimepicker__list")[1]),this._elementId=n.find(".zdatetimepicker").attr("id"),this.options.navigationBar&&"dropdown"===this.options.navigationBar.monthYearSwitcherType&&this._updateDropdownElements()),(this._hasTime||"separate"===this.options.selectionType)&&(this.options.value=void 0,(this.options.toValue||!this.options.toValue&&!this._hasDate)&&(this._valueUpdate=!0,this.options.value=this._lastToValue?this._lastToValue:this.options.toValue?this.options.toValue:new Date),"separate"===this.options.selectionType&&this._updateSeparateTypeMinMaxValues(1),this._hasTime&&(this._updateTimeElements(),this.options.value=this._lastToValue&&new Date(this._lastToValue.getTime()),this._setSelectedTimeValues(!0,this.element.find(".zdatetimepicker__endtime"),void 0,!1)),"separate"===this.options.selectionType&&(this._viewDate=new Date(this._toDate.getTime())),this._superMethod(t,n,this.element.find(".zdatetimepicker__endtime"),"separate"!==this.options.selectionType)),"continuous"===this.options.selectionType){var a,r=new Date(this._viewDate.getTime());a="backward"===this.options.selectionDirection?this.options.toValue?new Date(this.options.toValue.getTime()):void 0:this.options.fromValue?new Date(this.options.fromValue.getTime()):void 0,r.setHours(0,0,0,0),a&&a.setHours(0,0,0,0),a&&!ZDateUtil.areDatesEqual(r,a)&&r.getMonth()!==a.getMonth()&&r.getFullYear()!==a.getFullYear()&&(this._viewDate=a,this._setViewDate(),this._renderContent())}else this._updateSeparateTypeMinMaxValues(1),this._renderContent(void 0,n,this.element.find(".zdatetimepicker__endtime"),!0);this.options.value=this._currentSelected=this._valueUpdate=void 0,this.element.find(".zdatetimepicker__date.zdatetimepicker--dateinrange").removeClass("zdatetimepicker--dateinrange h-lastrange"),this._closeHandled=!0}},_updateTimeElements:function(t){var i=t?".zdatetimepicker__starttime":".zdatetimepicker__endtime";if("single-select-box"===this.options.timeFieldType)this._singleTimeSelect=this.element.find(i).find("select");else if("multiple-select-box"===this.options.timeFieldType){var s=this.element.find(i).find("select");this._hourElement=e(s[0]),this._minuteElement=e(s[1]),this._periodElement=e(s[2])}},_updateDropdownElements:function(t){if("separate"===this.options.selectionType){var i=e(t?this.element.find("li")[0]:this.element.find("li")[1]);this._monthHeader=i.find("select").filter(function(t,i){if(e(i).attr("id").indexOf("month-header")!==-1)return i}),this._yearHeader=i.find("select").filter(function(t,i){if(e(i).attr("id").indexOf("year-header")!==-1)return i})}},getFromValue:function(){if(this.options.fromValue){var t=new Date(this.options.fromValue.getTime());return this._hasTime&&this._retrieveTimeValue(t,!0),{fromValue:t,fromValueString:t.toDateString(),options:this.options,element:this.element}}},getToValue:function(){if(this.options.toValue){var t=new Date(this.options.toValue.getTime());return this._hasTime&&this._retrieveTimeValue(t,!1),{toValue:t,toValueString:t.toDateString(),options:this.options,element:this.element}}},setToValue:function(t){this._setFromToDate(t,!0)},setFromValue:function(t){this._setFromToDate(t)},_setFromToDate:function(t,i){var s,o;"string"==typeof t?(o=t&&this._parseDateValue(t,this.options.format).date,s=t&&new Date(o.getTime()),o&&o.setHours(0,0,0,0)):(s=t&&new Date(t.getTime()),o=t&&new Date(t.getTime()),o&&o.setHours(0,0,0,0));var n=this[i?"_startDate":"_endDate"];if(i&&n&&n.length&&n.trigger("click"),!o)return void(this.options[i?"toValue":"fromValue"]=void 0);if(this._hasTime){this.options.value=new Date(s.getTime()),this._updateTimeElements(!i);var a=i?".zdatetimepicker__endtime":".zdatetimepicker__starttime";this._setSelectedTimeValues(!0,this.element.find(a)),this.options.value=this._currentSelected=void 0}var r="continuous"===this.options.selectionType?this.element:e(this.element.find("li")[i?1:0]),l=r.find("tbody .zdatetimepicker__date[data-time="+Number(o.getTime())+"]");!l.length||this._hasDate?this.options[i?"toValue":"fromValue"]=new Date(Number(o.getTime())):this._hasDate&&l.trigger("click"),!l.length&&this.element.is(":visible")&&this._hasDate&&(this._viewDate=this.options[i?"toValue":"fromValue"],"separate"===this.options.selectionType&&(this._minDate=i?this.options.fromValue:this.options.minDate,this._maxDate=i?this.options.maxDate:this.options.toValue),this._renderContent(void 0,"separate"===this.options.selectionType?r:this.element,void 0,!0),l=r.find("tbody .zdatetimepicker__date[data-time="+Number(t.getTime())+"]"),"separate"===this.options.selectionType&&(this.options[i?"toValue":"fromValue"]=void 0),l.length&&l.trigger("click")),!i&&n&&n.length&&n.trigger("click"),this._hasDate&&this._updateStartDateEndDateSelection(),"continuous"===this.options.selectionType&&this._highlightDates(),this[i?"_lastToValue":"_lastFromValue"]=new Date(s.getTime()),"continuous"===this.options.selectionType?(this._viewDate=this.options.fromValue,this._renderContent(0)):(this._viewDate=this.options.fromValue||new Date,this._fromDate=this.options.fromValue?new Date(this.options.fromValue.getTime()):new Date,this._updateSeparateTypeMinMaxValues(0),this._renderContent(0,e(this.element.find("li")[0])),this._viewDate=this.options.toValue||new Date,this._toDate=this.options.toValue?new Date(this.options.toValue.getTime()):new Date,this._updateSeparateTypeMinMaxValues(1),this._renderContent(0,e(this.element.find("li")[1])))},_clearSelection:function(){this.element.find(".zdatetimepicker__date.zdatetimepicker--dateinrange").removeClass("zdatetimepicker--dateinrange h-lastrange"),this.element.find(".zdatetimepicker__date.is-selected,.zdatetimepicker__date.is-start,.zdatetimepicker__date.is-end").removeClass("is-selected is-start is-end").removeAttr("aria-selected"),this.element.find("td.is-end-first, td.is-start-last").removeClass("is-end-first is-start-last"),this._startDate=this._endDate=this.options.fromValue=this.options.toValue=this.options.value=void 0},_getElements:function(t,i){var s=this.element.find(t);return s=s.filter(function(t,s){if(s=e(s),"lastChildOfHighlightClass"===i){if(0===s.nextAll(".zdatetimepicker--dateinrange").length&&s.hasClass("zdatetimepicker--dateinrange")&&!s.hasClass("is-selected"))return s}else if("lastChildOfWeekSelectionClass"===i){if(0===s.nextAll(".zdatetimepicker--weekselection").length&&s.hasClass("zdatetimepicker--weekselection")&&!s.hasClass("is-selected"))return s}else if("beforeDisabled"===i){if(s.next().hasClass("zdisabled")&&!s.hasClass("zdisabled"))return s}else if("isEndFirstChild"===i){if(0===s.prevAll(".zdatetimepicker--dateinrange").length&&s.hasClass("zdatetimepicker--dateinrange")&&s.hasClass("is-end"))return s}else if("isStartLastChild"===i){if(0===s.nextAll(".zdatetimepicker__date").length&&0===s.nextAll(".zdatetimepicker--dateinrange").length&&s.hasClass("is-start")&&0===s.prevAll(".zdatetimepicker--dateinrange").length)return s}else if("isStartBeforeWeekend"===i&&1===s.nextAll(".zdatetimepicker__date").length&&0===s.nextAll(".zdatetimepicker--dateinrange").length&&s.hasClass("is-start"))return s})},clearSelection:function(){this._resetClickHandler()},_setAttribute:function(i,s){var o=["selectionDirection","rangeType","excludeWeekend","minDaysToSelect","maxDaysToSelect","fromLabel","toLabel","valueType","selectionType","fromTimeLabel","toTimeLabel"];if("fromValue"===i||"toValue"===i)this._setFromToDate(s,"toValue"===i);else if("selectionDirection"===i){this.options[i];if(this.options[i]=s,this.options.fromValue&&!this.options.toValue&&(this.element.find("tbody .zdatetimepicker__date.is-disabled:not(.zdisabled)").removeClass("is-disabled"),this._validateSelectionLimit()),this.options.fromValue&&this.options.toValue){var n=ZDateUtil.isGreater(this.options.fromValue,this.options.toValue)||"backward"===s;if(n){var a=this.options.fromValue;this.options.fromValue=this.options.toValue,this.options.toValue=a,this._lastFromValue&&this._lastToValue&&(a=this._lastFromValue,this._lastFromValue=this._lastToValue,this._lastToValue=a),this._viewDate=new Date(this.options.fromValue.getTime())}}this._movingForward="backward"!==s}else if("rangeType"===i&&"days"!==s)this.options[i]=s,this.options.fromValue&&(this.element.find("tbody .zdatetimepicker__date:not(.zdisabled)").removeClass("is-disabled"),this._clearSelection());else if("excludeWeekend"===i)this.options[i]=s,this._unbindEvents(),this._bindEvents(),this.options.fromValue&&this._startDate&&this._startDate.is(".zdatetimepicker--weekend")&&this._clearSelection(),this.options.fromValue&&this.options.toValue&&(this._updateStartDateEndDateSelection(),"continuous"===this.options.selectionType&&this._highlightDates()),this.element[s?"addClass":"removeClass"]("zdatetimepicker__excludeweekend");else if("maxDaysToSelect"===i||"minDaysToSelect"===i){if(this.options[i]=parseInt(s),this.options.minDaysToSelect>this.options.maxDaysToSelect&&(this.options.maxDaysToSelect=void 0,"maxDaysToSelect"===i))return;if(this.options.fromValue&&!this.options.toValue&&this.element.is(":visible")){var r=this._startDate;this._clearSelection(),r.trigger("mousedown")}if(this.options.fromValue&&this.options.toValue){var n=ZDateUtil.isGreater(this.options.fromValue,this.options.toValue),l=n?this.options.fromValue.getTime()-this.options.toValue.getTime():this.options.toValue.getTime()-this.options.fromValue.getTime();l=Math.ceil(l/864e5),("minDaysToSelect"===i&&l<parseInt(s)||"maxDaysToSelect"===i&&l>parseInt(s))&&this._clearSelection()}}else if("fromLabel"===i)this._element1&&this._element1.find(".zdatetimepicker__fromtolabel").text(t.encodeHTML(s));else if("toLabel"===i)this._element2&&this._element2.find(".zdatetimepicker__fromtolabel").text(t.encodeHTML(s));else if("selectionType"===i||"monthsPerView"===i||"locale"===i||"navigationBar"===i||"format"===i){if("monthsPerView"===i&&"separate"===this.options.selectionType)return;var h=this.options;if(h[i]="object"==typeof s?e.extend(!0,{},h[i],s):s,this.destroy(),this.element.zdatetimerangepicker(h),this._hasTime=this._checkIfDateHasTime(),"separate"===this.options.selectionType&&this.options.fromValue&&this.options.toValue){this._monthsPerView=1;var d=e(this.element.find("li")[0]);this._hasTime&&this._updateTimeElements(!0),this._updateSeparateTypeMinMaxValues(0),this._elementId=e(this.element.find("li")[0]).children(".zdatetimepicker").attr("id"),this._renderContent(void 0,d,this.element.find(".zdatetimepicker__starttime"),!0),this._monthsPerView=1,this._elementId=e(this.element.find("li")[1]).children(".zdatetimepicker").attr("id"),d=e(this.element.find("li")[1]),this._hasTime&&this._updateTimeElements(),this._updateSeparateTypeMinMaxValues(1),this._renderContent(void 0,d,this.element.find(".zdatetimepicker__endtime"),!0)}}else if("fromTimeLabel"===i||"toTimeLabel"===i){var c="fromTimeLabel"===i?0:1,p=0===c?".zdatetimepicker__starttime":".zdatetimepicker__endtime",u=this.element.find(p);u.find(".zdatetimepicker__timelabel").text(s)}else if("timeFieldType"===i||"timeMultipleSelectBoxType"===i||"minTime"===i||"maxTime"===i||"hourStep"===i||"minuteStep"===i||"disabledTimeList"===i||"fixedTimeOptions"===i)this.options[i]=s,this.options.timeLabel=this.options.fromTimeLabel,"continuous"===this.options.selectionType&&this._super(i,s),this._buildTimePickerElements(this.options),this._lastFromValue&&this._lastToValue&&(this._updateTimeElements(!0),this.options.value=new Date(this._lastFromValue.getTime()),this._setSelectedTimeValues(!0,this.element.find(".zdatetimepicker__starttime")),this._updateTimeElements(),this.options.value=new Date(this._lastToValue.getTime()),this._setSelectedTimeValues(!0,this.element.find(".zdatetimepicker__endtime")),this.options.value=this._currentSelected=void 0,this._updateStartDateEndDateSelection());else if("timeLabelType"===i)this._superMethod=this._super,this._timeElement=this.element.find(".zdatetimepicker__starttime"),this.options.timeLabel=this.options.fromTimeLabel,this._superMethod(i,s,this.element.find(".zdatetimepicker__starttime")),this.options.timeLabel=this.options.toTimeLabel,this._timeElement=this.element.find(".zdatetimepicker__endtime"),this._superMethod(i,s,this.element.find(".zdatetimepicker__endtime")),this._superMethod=void 0;else if("minDate"!==i&&"maxDate"!==i||"separate"!==this.options.selectionType||!this._hasDate)this._super(i,s);else{this._superMethod=this._super;var d=e(this.element.find("li")[0]);this._elementId=d.find(".zdatetimepicker").attr("id"),this.options.navigationBar&&"dropdown"===this.options.navigationBar.monthYearSwitcherType&&this._updateDropdownElements(!0),this._superMethod(i,s),d=e(this.element.find("li")[1]),this._elementId=d.find(".zdatetimepicker").attr("id"),this.options.navigationBar&&"dropdown"===this.options.navigationBar.monthYearSwitcherType&&this._updateDropdownElements(),this._superMethod(i,s)}o.indexOf(i)!==-1&&(this.options[i]=s),"minDate"!==i&&"maxDate"!==i||(this._userMinDate=this.options.minDate,this._userMaxDate=this.options.maxDate)}},s=e.zdatetimepicker;t.registerComponent("zdatetimerangepicker",e.zdatetimepicker,i)}(ZComponents),function(t){var e=t.DOMUtil,i={_create:function(e,i){var s=i.locale||t.locale;this.options.locale=s,this._initialize(e,i),this._bindEvents()},options:{locale:"en-US",placeholderType:"date-format",placeholder:{year:"year",month:"month",date:"date",hour:"hours",minute:"minutes",second:"seconds",weekDay:"day",period:"AM/PM",AM:"AM",PM:"PM"},value:void 0,format:"dd/MM/yyyy",otherInputFormats:[],century:21,min:void 0,max:void 0,dateStep:1,monthStep:1,yearStep:1,hourStep:1,minuteStep:1,secondStep:1,jumpOnComplete:!0,incrementOnWrapAround:!0,clearButton:"focus",clearButtonSVGIconId:void 0,clearButtonIconClassName:void 0,spinButtons:"always",spinButtonsOrientation:"vertical",incrementButtonSVGIconId:void 0,incrementButtonIconClassName:void 0,decrementButtonSVGIconId:void 0,decrementButtonIconClassName:void 0,picker:!1,pickerId:void 0,pickerOptions:{},calendarIcon:!1,calendarSVGIconId:void 0,calendarIconClassName:void 0,calendarIconAlignment:"right",calendarIconUIType:"label",spinEventTriggerDelay:0,showPickerOnFocus:!1,labels:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],period:"AM/PM",AM:"AM",PM:"PM",invalidInput:"Invalid date/time provided. Please provide correct input",invalidNumber:"Not a number"},className:void 0,disabled:!1,readonly:!1,width:void 0},_EVENTS:{FOCUS:"focus",BLUR:"blur",CHANGE:"change",SPIN:"spin",SPINSTART:"spinstart",SPINEND:"spinend",BEFOREOPEN:"pickerbeforeopen",OPEN:"pickeropen",BEFORECLOSE:"pickerbeforeclose",CLOSE:"pickerclose",BEFOREDATECELLRENDER:"pickerbeforedatecellrender",DATECELLRENDER:"pickerdatecellrender",BEFOREMONTHOPEN:"pickerbeforemonthopen",BEFOREDRILLDOWN:"pickerbeforedrilldown",DRILLDOWN:"pickerdrilldown",DATEMOUSEOVER:"pickerdatemouseover",DATESELECT:"pickerdateselect",MONTHCHANGE:"pickermonthchange",YEARCHANGE:"pickeryearchange",HOURCHANGE:"pickerhourchange",MINUTECHANGE:"pickerminutechange",PERIODCHANGE:"pickerperiodchange",TIMECHANGE:"pickertimechange",DECADECHANGE:"pickerdecadechange",CANCEL:"pickercancel",RESET:"pickerreset",TODAYBUTTONCLICK:"pickertodaybuttonclick"},_initialize:function(t,i){if(this._currentDate=new Date,this._format=this.options.format,this._changeLocaleSpecifierToDateFormat(),this.element=t,this._allowedChars="dMyHhmstz",this.options.calendarIcon){var s=/^(right|left)$/.test(this.options.calendarIconAlignment);this.options.calendarIconAlignment=s?this.options.calendarIconAlignment:"right"}this._constructBaseElement(),this._hasTime=this._checkIfDateHasTime();for(var i=["min","max","value"],o=0,n=i.length;o<n;o++){var a=this.options[i[o]];if(a){if("string"==typeof a)if("TODAY"===a||"NOW"===a)this.options[i[o]]=new Date;else{var r=this._parseDateValue(a,this.options.format);this.options[i[o]]=r?r.date:void 0}else a instanceof Date||(this.options[i[o]]=void 0);"value"===i[o]&&void 0!==this.options.value&&!this._viewDate&&(this._viewDate=new Date(this.options.value.getTime()))}if("value"===i[o]&&!this._viewDate){var l=this.options.format;(this.options.min||this.options.max)&&l.indexOf("d")===-1&&(l.indexOf("H")>-1||l.indexOf("m")>-1||l.indexOf("h")>-1)?(this._viewDate=new Date,this._viewDate.setHours(0,0,0,0)):this._viewDate=this._resetViewDate()}}this._performValidations(),this.options.value&&(this._viewDate=new Date(this.options.value.getTime()),this._input.attr("aria-valuenow",ZDateUtil.formatDate(this.options.value,this.options.format))),this.options.min&&this._input.attr("aria-valuemin",ZDateUtil.formatDate(this.options.min,this.options.format)),this.options.max&&this._input.attr("aria-valuemax",ZDateUtil.formatDate(this.options.max,this.options.format)),this._dateModified=this._minutesModified=this._yearModified=this._monthModified=this._secondsModified=this._hoursModified=!0;for(var o=0;o<this.options.format.length;o++)this._isPartModified(this.options.format[o],!!this.options.value);if(this._updateElementValue(),this._hasPicker=this.options.picker,this.options.picker&&!this.options.pickerId&&this._initPicker(),this.options.pickerId){var h=e("#"+this.options.pickerId);if(h.length){var d=h.data("zdatetimepicker");Object.keys(d).length&&(this._hasPicker=!0,this._picker=h,this._picker.zdatetimepicker("setAttribute","forElement",this.container))}}this.options.calendarIcon&&this._createCalendarIcon(),this._hasDate=this._checkIfFormatHasDate(),this._hasDate||(this._hasPicker=!1),this._hasPicker&&(this._immediateCommit=this._picker.zdatetimepicker("getAttribute","immediateCommit")),this._checkIfAPartIsModified()},_checkIfFormatHasDate:function(){var t=this.options.format;return t.indexOf("d")>-1||t.indexOf("dd")>-1},_initPicker:function(){this._picker=e("<div id='"+this.container.attr("id")+"-picker'>").appendTo("body");var t,i;this.options.min&&(t=new Date(this.options.min.getTime()),t.setHours(0,0,0,0)),this.options.max&&(i=new Date(this.options.max.getTime()),i.setHours(0,0,0,0));var s=this.options.pickerOptions;s.timeFieldType=s.timeFieldType||"multiple-select-box",s.forElement=this.container,s.minDate=t,s.maxDate=i,s.value=this.options.value,s.format=this.options.format,s.hourStep=this.options.hourStep,s.minuteStep=this.options.minuteStep,this._picker.zdatetimepicker(s)},_changeLocaleSpecifierToDateFormat:function(){var e=this._format,i=/^(date-short|date-long|date-medium|time-short|time-medium|time-long|datetime-short|datetime-medium|datetime-long|datetime-full)$/.test(e),s=this.options.labels,o=this.options.locale,n=t.localeInfo;if(i){s.days=n[o].days,s.daysAbbreviated=n[o].daysAbbreviated,s.months=n[o].months,s.monthsAbbreviated=n[o].monthsAbbreviated;var a=e.split("-");switch(a[0]){case"date":e=e.replace("date","dateFormat");break;case"time":e=e.replace("time","timeFormat");break;case"datetime":e=e.replace("datetime","dateTimeFormat")}a=e.split("-");var r=n[o],l=r[a[0]],e=l[a[1]];this.options.format=r&&l&&e?e:"dd/MM/yyyy"}},_createClearButton:function(){this._clearButton=e("<div class='zinputfield__clearbutton' tabindex=-1/>");var t=e("<i class='zinputfield__icon'>").appendTo(this._clearButton),i=this.container.find(".zinputfield__spinbuttonpane");this._updateClearIcon(t),"none"!==this.options.spinButtons?"vertical"===this.options.spinButtonsOrientation?this._clearButton.insertAfter(i):this._clearButton.insertAfter(this.container.find(".zinputfield__spinbutton").last()):this._clearButton.insertAfter(this._input),this._clearButton.on("mouseup."+this.componentName,this._clearButtonClickHandler.bind(this)).on("mousedown."+this.componentName,this._clearButtonMousedownHandler.bind(this))},_clearButtonMousedownHandler:function(t){t.stopPropagation(),t.preventDefault(),clearInterval(this._mouseDownTimer),this._mouseDown=!1,this._getSegment()},_getSegment:function(){for(var t=[this._input[0].selectionStart,this._input[0].selectionEnd],e=t[0],i=t[0]-1,s=this._dateFormat.length;e<s||i>=0;e++,i--){if(e<this._dateFormat.length&&this._allowedChars.indexOf(this._dateFormat[e])!==-1)return void(this._segment=this._dateFormat[e]);if(i>=0&&this._allowedChars.indexOf(this._dateFormat[i])!==-1)return void(this._segment=this._dateFormat[e])}},_clearButtonClickHandler:function(t){return this._isClearButtonVisible?(t.preventDefault(),clearInterval(this._mouseDownTimer),this._mouseDown=!1,this._clearActionHandler(),!1):void this._mouseUpHandler()},_clearActionHandler:function(){this._input[0].value="";var e={type:"input",keyCode:t.keyCode.BACKSPACE,preventDefault:function(){}};document.activeElement!==this._input[0]&&this._input.focus(),this._keyUpHandler(e),this._selectText(this._segment),this._mouseUpHandler(),this._immediateCommit&&(this._lastValue=void 0),this.options.value=void 0,this._picker&&this._picker.zdatetimepicker("setAttribute","value",void 0)},_constructBaseElement:function(){this.container=e("<div class='zinputfield'>"),this.options.className&&this.container.addClass(this.options.className),this.element.attr("title")&&this.container.attr("title",this.element.attr("title")),this._input=e("<input class='zinputfield__textbox'>"),this.element.attr("tabindex")&&this._input.attr("tabindex",this.element.attr("tabindex")),this.container.append(this._input),this.container.insertAfter(this.element.hide()),"none"!==this.options.spinButtons&&(this._createSpinButtons(),this.container.attr("role","spinbutton")),"none"!==this.options.clearButton&&this._createClearButton(),(this.options.readonly||this.options.disabled)&&(this.options.readonly&&(this._input.attr({readonly:!0,"aria-readonly":!0}),this.container.addClass("is-readonly")),this.options.disabled&&this._input.attr({disabled:!0,"aria-disabled":!0}),this.container.addClass("is-disabled")),this.container.attr("id",(this.element.attr("id")?this.element.attr("id"):Math.floor(1e6*Math.random()))+"_"+this.componentName),this.container.outerWidth(this.options.width||this.element.width()),this._input.addClass("h-textboxwidth"),!t.Browser.isIE()&&!this.options.disabled&&this._input.addClass("h-hidecursor")},_createCalendarIcon:function(){this.container.addClass("zdatetimefield");var t={props:{viewBox:"0 0 14 14"},nodes:[{rect:{x:"-22.5",y:"3.5",width:"13",height:"10"}},{path:{d:"M-10,4v9h-12V4H-10 M-9,3h-14v11h14V3L-9,3z"}},{rect:{x:"-20.6",y:"1.4",width:"1.2",height:"3.2"}},{path:{d:"M-19.8,1.8v2.5h-0.5V1.8H-19.8 M-19,1h-2v4h2V1L-19,1z"}},{rect:{x:"-20.6",y:"7.4",width:"1.2",height:"1.2"}},{path:{d:"M-19.8,7.8v0.5h-0.5V7.8H-19.8 M-19,7h-2v2h2V7L-19,7z"}},{rect:{x:"-16.6",y:"1.4",width:"1.2",height:"3.2"}},{path:{d:"M-15.8,1.8v2.5h-0.5V1.8H-15.8 M-15,1h-2v4h2V1L-15,1z"}},{rect:{x:"-12.6",y:"1.4",width:"1.2",height:"3.2"}},{path:{d:"M-11.8,1.8v2.5h-0.5V1.8H-11.8 M-11,1h-2v4h2V1L-11,1z"}},{rect:{x:"-16.6",y:"7.4",width:"1.2",height:"1.2"}},{path:{d:"M-15.8,7.8v0.5h-0.5V7.8H-15.8 M-15,7h-2v2h2V7L-15,7z"}},{rect:{x:"-12.6",y:"7.4",width:"1.2",height:"1.2"}},{path:{d:"M-11.8,7.8v0.5h-0.5V7.8H-11.8 M-11,7h-2v2h2V7L-11,7z"}},{rect:{x:"-20.6",y:"10.4",width:"1.2",height:"1.2"}},{path:{d:"M-19.8,10.8v0.5h-0.5v-0.5H-19.8 M-19,10h-2v2h2V10L-19,10z"}},{rect:{x:"-16.6",y:"10.4",width:"1.2",height:"1.2"}},{path:{d:"M-15.8,10.8v0.5h-0.5v-0.5H-15.8 M-15,10h-2v2h2V10L-15,10z"}},{rect:{x:"-12.6",y:"10.4",width:"1.2",height:"1.2"}},{path:{d:"M-11.8,10.8v0.5h-0.5v-0.5H-11.8 M-11,10h-2v2h2V10L-11,10z"}},{path:{d:"M4,3c0.6,0,1-0.4,1-1V1H3v1C3,2.6,3.4,3,4,3z"}},{rect:{x:"2",y:"7",width:"2",height:"2"}},{rect:{x:"2",y:"10",width:"2",height:"2"}},{rect:{x:"6",y:"7",width:"2",height:"2"}},{rect:{x:"6",y:"10",width:"2",height:"2"}},{rect:{x:"10",y:"7",width:"2",height:"2"}},{rect:{x:"10",y:"10",width:"2",height:"2"}},{path:{d:"M12.8,2c0,1-0.8,1.8-1.8,1.8S9.2,3,9.2,2H5.8C5.8,3,5,3.8,4,3.8S2.2,3,2.2,2H0v3v9h14V5V2H12.8z M13,13H1V6h12V13z"}},{path:{d:"M11,3c0.6,0,1-0.4,1-1V1h-2v1C10,2.6,10.4,3,11,3z"}}]};"label"===this.options.calendarIconUIType?this._calendarIcon=e("<div class='zdatetimefield__iconlabel'><i class='zdatetimefield__icon'></i></div>")["right"===this.options.calendarIconAlignment?"insertAfter":"insertBefore"](this._input):(this.container.addClass("h-hasiconbutton"),this._calendarIcon=e("<button class='zdatetimefield__iconbutton'><i class='zdatetimefield__icon'></i></button>")["right"===this.options.calendarIconAlignment?"insertAfter":"insertBefore"](this._input));var i=this._calendarIcon.find(".zdatetimefield__icon");this._handleIcon(i,t,"calendarlabel",this.options.calendarIconClassName,this.options.calendarSVGIconId),"focus"===this.options.spinButtons||"none"===this.options.spinButtons&&this.container.addClass("zdatetimefield--buttonsonhover"),"button"===this.options.calendarIconUIType&&this._hasPicker&&this._calendarIcon.on("click."+this.componentName,this._calendarIconClickHandler.bind(this))},_calendarIconClickHandler:function(t){t.preventDefault(),this._picker&&this._picker.is(":visible")?this._picker.zdatetimepicker("close"):this._pickerOpenHandler(t),this._input.focus(),this._selectCaretPosition(this._input[0],0,0),this._mouseUpHandler(t),this.container.addClass("has-focus")},_compareDates:function(t,e){return!(t.getTime()<e.getTime())},_performValidations:function(){for(var t=["dateStep","monthStep","yearStep","hourStep","minuteStep","secondStep"],e=this.options.max,i=this.options.min,s=this.options.value,o=0,n=t.length;o<n;o++)this.options[t[o]]=Number(this.options[t[o]]),this.options[t[o]]<=0&&(this.options[t[o]]=1);i&&e&&!this._compareDates(e,i)&&(this.options.max=void 0),e&&s&&this._compareDates(s,e)&&(this.options.value=e),i&&s&&this._compareDates(i,s)&&(this.options.value=i)},_createSpinButtons:function(){var t=e("<button class='zinputfield__spinbutton h-up' tabindex=-1>"),i=e("<i class='zinputfield__icon' tabindex=-1>"),s=e("<button class='zinputfield__spinbutton h-down' tabindex=-1>"),o=e("<i class='zinputfield__icon'>");if(i.appendTo(t),o.appendTo(s),this._updateIcons(i,o),"vertical"===this.options.spinButtonsOrientation){var n=e("<div class='zinputfield__spinbuttonpane'>").append(t).append(s);n.insertAfter(this._calendarIcon&&"right"===this.options.calendarIconAlignment?this._calendarIcon:this._input)}else this.container.addClass("zinputfield--split"),this._calendarIcon&&"right"===this.options.calendarIconAlignment?(t.insertAfter(this._calendarIcon),s.insertAfter(t)):this.container.append(t,s);this._buttonPane=this.container.find(".zinputfield__spinbuttonpane"),"focus"===this.options.spinButtons&&this._buttonPane.hide(),this.container.find(".h-up,.h-down").on("mousedown."+this.componentName,this._spinButtonsMouseDownHandler.bind(this)).on("mouseup."+this.componentName,this._spinButtonsMouseUpHandler.bind(this))},_spinButtonsMouseUpHandler:function(t){this._mouseUp=!0,this._checkForChange(t,this._EVENTS.SPINEND)},_updateClearIcon:function(t){t.removeAttr("class").empty().attr("class","zinputfield__icon");var e={props:{viewBox:"0 0 21.9 21.9"},nodes:[{path:{d:"M14.1,11.3c-0.2-0.2-0.2-0.5,0-0.7l7.5-7.5c0.2-0.2,0.3-0.5,0.3-0.7s-0.1-0.5-0.3-0.7l-1.4-1.4C20,0.1,19.7,0,19.5,0  c-0.3,0-0.5,0.1-0.7,0.3l-7.5,7.5c-0.2,0.2-0.5,0.2-0.7,0L3.1,0.3C2.9,0.1,2.6,0,2.4,0S1.9,0.1,1.7,0.3L0.3,1.7C0.1,1.9,0,2.2,0,2.4  s0.1,0.5,0.3,0.7l7.5,7.5c0.2,0.2,0.2,0.5,0,0.7l-7.5,7.5C0.1,19,0,19.3,0,19.5s0.1,0.5,0.3,0.7l1.4,1.4c0.2,0.2,0.5,0.3,0.7,0.3  s0.5-0.1,0.7-0.3l7.5-7.5c0.2-0.2,0.5-0.2,0.7,0l7.5,7.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l1.4-1.4c0.2-0.2,0.3-0.5,0.3-0.7  s-0.1-0.5-0.3-0.7L14.1,11.3z"}}]};this._handleIcon(t,e,"clear",this.options.clearButtonSVGIconId,this.options.clearButtonIconClassName)},_updateIcons:function(t,e){if(t.removeAttr("class").empty().attr("class","zinputfield__icon"),e.removeAttr("class").empty().attr("class","zinputfield__icon"),"vertical"===this.options.spinButtonsOrientation){var i={props:{class:"zinputfield__svg",viewBox:"0 0 48 48",width:"100%",height:"100%"},nodes:[{path:{class:"cls-1",d:"M6,32l5,4L24,22,38,36l4-4L24,13Z"}}]};this._handleIcon(t,i,"upicon",this.options.incrementButtonIconClassName,this.options.incrementButtonSVGIconId);var s={props:{viewBox:"0 0 48 48",width:"100%",height:"100%"},nodes:[{path:{class:"cls-1",d:"M11.76,13L24,26.521,37.147,13,41,16.9,24,35,7,16.9Z"}}]};this._handleIcon(e,s,"downicon",this.options.decrementButtonIconClassName,this.options.decrementButtonSVGIconId)}else{var o={props:{viewBox:"1 2 9 9",class:"zinputfield__svg"},nodes:[{polygon:{points:"6.6,10.3 2.9,6.5 6.6,2.7 7.4,3.4 4.3,6.5 7.4,9.6"}}]},n={props:{viewBox:"1 2 9 9",class:"zinputfield__svg"},nodes:[{polygon:{points:"4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5"}}]};this._handleIcon(t,n,"lefticon",this.options.incrementButtonIconClassName,this.options.incrementButtonSVGIconId),this._handleIcon(e,o,"righticon",this.options.decrementButtonIconClassName,this.options.decrementButtonSVGIconId)}},_spinButtonsMouseDownHandler:function(i){if(this._handleMousedownOnControls(i)){i.preventDefault(),this._checkForChange(i,this._EVENTS.SPINSTART),this._input[0].selectionStart===this._input[0].value.length&&this._input[0].selectionEnd===this._input[0].value.length&&(this._selectCaretPosition(this._input[0],0,0),this._mouseUpHandler(i));var s={keyCode:e(i.target).closest(".h-up").length?t.keyCode.UP:t.keyCode.DOWN,preventDefault:function(){}};this._keyDownHandler(s),clearTimeout(this._mouseDownInitializeTimer),this._mouseDownInitializeTimer=setTimeout(this._continousMouseDownHandler.bind(this,i),250),t.$document.off("mouseup."+this.componentName).on("mouseup."+this.componentName,this._documentMouseUpHandler.bind(this))}else e(i.target).closest(".zinputfield__spinbutton").hasClass("is-disabled")&&i.preventDefault()},_continousMouseDownHandler:function(t){this._mouseDownTimer=setInterval(this._repititiveMouseDownHandler.bind(this,t),100)},_documentMouseUpHandler:function(){clearInterval(this._mouseDownTimer),t.$document.off("mouseup."+this.componentName),this._mouseDown=!1},_repititiveMouseDownHandler:function(i){if(this._mouseDown){var s={keyCode:e(i.target).closest(".h-up").length?t.keyCode.UP:t.keyCode.DOWN,preventDefault:function(){}};this._keyDownHandler(s)}else clearInterval(this._mouseDownTimer)},_handleMousedownOnControls:function(t){return!(this.options.disabled||t.which>1||this.options.readonly||e(t.target).closest(".zinputfield__spinbutton").hasClass("is-disabled"))&&(this._mouseDown=!0,this.container.addClass("has-focus"),!0)},_isPartModified:function(t,e){switch(t){case"y":this._yearModified=e;break;case"M":this._monthModified=e,e||(this._typedMonthChar="");break;case"d":this._dateModified=e;break;case"H":case"h":this._hoursModified=e,e||(this._typedPeriodChar="");break;case"m":this._minutesModified=e;break;case"s":this._secondsModified=e}},_bindEvents:function(){var e=this.componentName;("focus"===this.options.clearButton||"focus"===this.options.spinButtons&&"together"===this.options.spinButtonsType)&&this.container.off("mouseenter."+e).on("mouseenter."+e,this._mouseEnterHandler.bind(this)).off("mouseleave."+e).on("mouseleave."+e,this._mouseLeaveHandler.bind(this)),this.options.picker&&this._bindPickerEvents();var i=t.Browser.isIE()&&9===t.Browser.getIEVersion();this._hasPicker&&("label"===this.options.calendarIconUIType||"button"===this.options.calendarIconUIType&&this.options.showPickerOnFocus)&&this.container.on("click."+e,this._pickerOpenHandler.bind(this)),this.container.on((t.Browser.isFirefox()?"click.":"mouseup.")+e,this._containerMouseUpHandler.bind(this)),this._input.on("focus."+e,this._focusHandler.bind(this)).on((t.Browser.isFirefox()?"click.":"mouseup.")+e,this._mouseUpHandler.bind(this)).on((i?"keyup.":"input.")+e,this._keyUpHandler.bind(this)).on("keydown."+e,this._keyDownHandler.bind(this)).on("keyup."+e,this._spinKeyupHandler.bind(this)).on((i?"focus.":"focusin.")+e,this._focusInHandler.bind(this)).on((i?"blur.":"focusout.")+e,this._focusOutHandler.bind(this)).on("contextmenu."+e,this._preventDefault.bind(this)).on("paste."+e,this._pasteHandler.bind(this)).on("mousewheel."+e+" DOMMouseScroll."+e+"  MozMousePixelScroll."+e,this._mouseWheelHandler.bind(this))},_containerMouseUpHandler:function(t){var i=e(t.target);(i.closest(".zdatetimefield__icon").length||i.closest(".zdatetimefield__iconbutton").length)&&(t.preventDefault(),this._currentSegment?this._selectText(this._currentSegment):(this._selectCaretPosition(this._input[0],0,0),this._mouseUpHandler()))},_bindPickerEvents:function(){var t=this.componentName,e="zdatetimepicker";this._picker.off("zdatetimepickerbeforefocus zdatetimepickerchange zdatetimepickerclear zdatetimepickerclose zdatetimepickeropen zdatetimepickerbeforeclose zdatetimepickerbeforeopen"),this._picker.on("zdatetimepickerbeforefocus",function(t){t.preventDefault()}).on(e+"change."+t,this._applyHandler.bind(this)).on(e+"clear."+t,this._clearHandler.bind(this)).on(e+"close."+t,this._closeHandler.bind(this)).on(e+"open."+t,this._openHandler.bind(this)).on(e+"beforeclose."+t,this._beforeCloseHandler.bind(this)).on(e+"beforeopen."+t,this._beforeOpenHandler.bind(this));for(var i=["beforedatecellrender","beforedrilldown","drilldown","datemouseover","dateselect","monthchange","yearchange","hourchange","minutechange","periodchange","timechange","reset","todaybuttonclick"],s=0,o=i.length;s<o;s++)this._picker.on(e+i[s]+"."+t,this._dispatchPickerEvents.bind(this,i[s].toUpperCase()))},_dispatchPickerEvents:function(t,e,i){this._dispatchEvent(t,e,i)},_openHandler:function(t){this._dispatchEvent("OPEN",t,{value:this._input[0].value,dateValue:this.options.value})},_beforeCloseHandler:function(t){this._dispatchEvent("BEFOREOPEN",t,{value:this._input[0].value,dateValue:this.options.value})},_beforeOpenHandler:function(t){var e=this._dispatchEvent("BEFORECLOSE",t,{value:this._input[0].value,dateValue:this.options.value});return e},_closeHandler:function(t){this._getSegmentValue(),this._immediateCommit||this.setAttribute("value",this._applyClicked?this.options.value:this._lastValue),this._selectText(this._segment),this._mouseUpHandler(),this._applyClicked=!1,this._dispatchEvent("CLOSE",t,{value:this._input[0].value,dateValue:this.options.value})},_applyHandler:function(t,e){this._applyClicked=!0,this._lastValue=e.valueString,this._getSegmentValue(),this.setAttribute("value",e.value?e.valueString:void 0),this._selectText(this._segment),this._mouseUpHandler()},_getSegmentValue:function(){this._getSegment(),this._segment||(this._selectCaretPosition(this._input[0],0,0),this._getSegment())},_clearHandler:function(t,e){this.setAttribute("value",void 0),this._clearActionHandler()},_pickerOpenHandler:function(t){t.preventDefault(),!this._picker||this._picker.is(":visible")||this.options.readonly||this.options.disabled||(this.options.pickerId&&this._bindPickerEvents(),this._picker.zdatetimepicker("setAttributes",{forElement:this.container,value:this.options.value}),this._picker.zdatetimepicker("open"))},_mouseEnterHandler:function(t){document.activeElement===this._input[0]||this.options.readonly||this.options.disabled||("focus"===this.options.spinButtons&&this._buttonPane&&(this._buttonPane.show(),this.options.calendarIcon&&this.container.removeClass("zdatetimefield--buttonsonhover"),this._clearButton&&this._clearButton.removeClass("h-right")),"focus"===this.options.clearButton&&this._clearButton&&this._checkIfAPartIsModified())},_mouseLeaveHandler:function(t){document.activeElement!==this._input[0]&&("focus"===this.options.spinButtons&&(this._buttonPane&&this._buttonPane.hide(),this._clearButton&&this._clearButton.addClass("h-right"),this.options.calendarIcon&&this.container.addClass("zdatetimefield--buttonsonhover")),"focus"===this.options.clearButton&&this._clearButton&&this._clearButton.hide())},_spinKeyupHandler:function(e){this._keyUp=!0,e.keyCode!==t.keyCode.LEFT&&e.keyCode!==t.keyCode.RIGHT&&this._checkForChange(e,this._EVENTS.SPINEND)},_pasteHandler:function(t){this._pasteAction=!1;var e,i=t.originalEvent.clipboardData.getData("Text"),s=this._selectCaretPosition(this._input[0]);void 0!==s[0]&&void 0!==s[1]&&(e=s[1]-s[0]),e&&e===this._input[0].value.length?(this._pasteAction=!0,t.stopPropagation(),t.preventDefault(),this._input[0].value=i,clearTimeout(this._pasteTimeout),this._pasteTimeout=setTimeout(this._pasteTimeoutHandler.bind(this,i,t),500)):t.preventDefault()},_pasteTimeoutHandler:function(t,e){var i=this._parseDateValue(t,this.options.format);i&&i.isValid&&(this._viewDate=i.date);for(var s=0;s<this.options.format.length;s++)this._isPartModified(this.options.format[s],!(!i||!i.isValid));this._updateElementValue(),this._selectCaretPosition(this._input[0],0,0),this._mouseUpHandler(e),this._pasteAction=!1},_preventDefault:function(t){t.preventDefault()},_mouseWheelHandler:function(t){if(document.activeElement===this._input[0]){var e={preventDefault:function(){},type:"mousewheel"};this._preventDefault(t),t.stopPropagation();var i=0!==t.originalEvent.detail?t.originalEvent.detail>0:t.originalEvent.wheelDelta<0;e.keyCode=i?38:40,this._keyDownHandler(e)}},_focusHandler:function(e){return!this.options.disabled&&(t.Browser.isFirefox()||t.Browser.isSafari()||t.OS.isLinux()?setTimeout(this._selectionFocusHandler.bind(this),0):this._input[0].setSelectionRange(0,0),"focus"!==this.options.clearButton||this.options.readonly||this._checkIfAPartIsModified(),"none"!==this.options.spinButtons&&(this._buttonPane.show(),this.options.calendarIcon&&this.container.removeClass("zdatetimefield--buttonsonhover"),this._clearButton&&this._clearButton.removeClass("h-right")),this._isClearButtonVisible=!1,clearTimeout(this._clearButtonTimeout),this._clearButtonTimeout=setTimeout(this._clearButtonVisibilityHandler.bind(this),1e3),void this._dispatchEvent("FOCUS",e,{value:this._input[0].value,dateValue:this.options.value}))},_clearButtonVisibilityHandler:function(){this._isClearButtonVisible="none"!==this.options.clearButton&&this._clearButton.is(":visible")},_selectionFocusHandler:function(){this._input[0].setSelectionRange(0,0)},_focusInHandler:function(t){return!this.options.disabled&&(this.container.addClass("has-focus"),this._input[0].setSelectionRange(0,0),void(this._focusTimeout=setTimeout(this._focusTimeoutHandler.bind(this),10)))},_focusTimeoutHandler:function(){var e=this.componentName;t.$window.off("keydown."+e).on("keydown."+e,this._windowsKeyDownHandler.bind(this)),t.$window.on("keyup."+e,this._windowKeyUpHandler.bind(this))},_windowsKeyDownHandler:function(e){this._reverseShiftKey=e.keyCode===t.keyCode.TAB&&e.shiftKey,this._tabKey=e.keyCode===t.keyCode.TAB},_windowKeyUpHandler:function(e){(e.keyCode===t.keyCode.TAB&&e.shiftKey||this._reverseShiftKey)&&!this._reverseFocusset?(this._reverseFocusset=this._focusout=!0,this._selectText(this._dateFormat[this._dateFormat.length-1])):e.keyCode!==t.keyCode.TAB&&!this._tabKey||this._focusset||(this._focusset=this._focusout=!0,t.OS.isLinux()&&this._input[0].setSelectionRange(0,0),this._mouseUpHandler()),t.$window.off("keyup."+this.componentName)},_focusOutHandler:function(e){this._focusset=this._longPress=this._reverseFocusset=this._reverseShiftKey=this._tabKey=!1,this._focusout=!0,window.getSelection().removeAllRanges(),this.container.removeClass("has-focus"),this._viewDate=this._checkMinMaxLimit(this._viewDate,void 0,void 0,!1),this.container.find(".h-up, .h-down").removeClass("is-disabled"),this._updateElementValue(),t.Browser.isIE()||t.Browser.isSafari()||t.OS.isLinux()||(this._input[0].selectionStart=0),this._checkForChange(e,"change"),"focus"===this.options.clearButton&&this._clearButton.hide(),"focus"===this.options.spinButtons&&this._buttonPane&&(this._buttonPane.hide(),this._clearButton&&this._clearButton.addClass("h-right"),this.options.calendarIcon&&this.container.addClass("zdatetimefield--buttonsonhover")),this._dispatchEvent("BLUR",e,{value:this._input[0].value,dateValue:this.options.value})},_getDateValue:function(){var t;return t=this._dateModified&&this._monthModified&&this._yearModified&&this._hoursModified&&this._minutesModified&&this._secondsModified?new Date(this._viewDate.getTime()):void 0},_mouseUpHandler:function(t){"none"!==this.options.clearButton&&(this._isClearButtonVisible=this._clearButton.is(":visible"));var e=this._selectCaretPosition(this._input[0]);if(e[0]===e[1])for(var i=e[0],s=e[0]-1,o=this._dateFormat.length;i<o||s>=0;i++,s--){if(i<this._dateFormat.length&&this._allowedChars.indexOf(this._dateFormat[i])!==-1)return void this._selectText(this._dateFormat[i]);if(s>=0&&this._allowedChars.indexOf(this._dateFormat[s])!==-1)return void this._selectText(this._dateFormat[s])}else t&&"mouseup"===t.type&&window.getSelection().removeAllRanges()},_keyDownHandler:function(e){if(this.options.disabled)return!1;var i;if(e.keyCode!==t.keyCode.TAB||0===this._input[0].selectionStart&&e.shiftKey||this._input[0].selectionEnd===this._input.val().length&&!e.shiftKey||e.stopImmediatePropagation(),e.keyCode===t.keyCode.RIGHT||e.keyCode===t.keyCode.LEFT||e.keyCode===t.keyCode.TAB){e.keyCode!==t.keyCode.TAB&&e.preventDefault(),i=this._selectCaretPosition(this._input[0]),this._viewDate=this._checkMinMaxLimit(this._viewDate),this._isModified&&(this._updateElementValue(),this._selectCaretPosition(this._input[0],i[0],i[1])),i[0]!==i[1]&&this._mouseUpHandler();var s=e.keyCode===t.keyCode.RIGHT||e.keyCode===t.keyCode.TAB&&!e.shiftKey?1:-1;e.keyCode===t.keyCode.TAB&&e.shiftKey&&(this._focusout=!0,s=-1),i=this._selectCaretPosition(this._input[0]);for(var o=s===-1?i[0]-1:i[1]+1;o>=0&&o<this._dateFormat.length;){var n=this._dateFormat[o],a=this.options.format.lastIndexOf(n);if(this._allowedChars.indexOf(n)>=0){e.keyCode!==t.keyCode.TAB||a===this.options.format.length&&a+1===this.options.format.length||(e.preventDefault(),this._focusout=!0),this._selectText(this._dateFormat[o]);break}o+=s}}if(e.keyCode===t.keyCode.UP||e.keyCode===t.keyCode.DOWN){e.preventDefault(),i=this._selectCaretPosition(this._input[0]);var n=this._dateFormat[i[0]];this._allowedChars.indexOf(n)>=0&&(this._modifyPartValue(n,e.keyCode===t.keyCode.UP?1:-1),this._updateElementValue(),this._clearButton&&this._checkIfAPartIsModified(),this._selectText(n)),this._checkForChange(e,this._keyUp?"spinstart":"spin"),this._keyUp=!1}if(e.metaKey||e.ctrlKey)switch(e.keyCode){case 88:var r,l=this._selectCaretPosition(this._input[0]);void 0!==l[0]&&void 0!==l[1]&&(r=l[1]-l[0]),r!==this._input[0].value.length&&e.preventDefault();break;case 90:e.preventDefault();break;case t.keyCode.DOWN:this._hasPicker&&!this._picker.is(":visible")&&this._picker.zdatetimepicker("open")}e.keyCode!==t.keyCode.ESCAPE&&e.keyCode!==t.keyCode.ENTER||this._hasPicker&&this._picker.is(":visible")&&this._picker.zdatetimepicker("close")},_checkForChange:function(t,e){var i,s=void 0===this._getDateValue();if(!s){var o=this._viewDate.getDate(),n=this._viewDate.getMonth(),a=this._viewDate.getFullYear(),r=this._viewDate.getHours(),l=this._viewDate.getMinutes(),h=this._viewDate.getSeconds();1===o&&0===n&&a===(new Date).getFullYear()&&0===r&&0===l&&0===h&&(i=!0)}!s&&(i||this._viewDate&&this._oldDateValue&&this._oldDateValue.getTime()!==this._viewDate.getTime())&&("spinend"===e?this._dispatchEvent("SPINEND",t,{value:this._input[0].value,dateValue:this.options.value}):"spinstart"===e?this._dispatchEvent("SPINSTART",t,{value:this._input[0].value,dateValue:this.options.value}):"spin"===e?(clearTimeout(this._spinTimeout),this._spinTimeout=setTimeout(this._spinTimeoutHandler.bind(this,t),this.options.spinEventTriggerDelay)):"change"===e&&(this._dispatchEvent("CHANGE",t,{value:this._input[0].value,dateValue:this.options.value}),this._oldDateValue=new Date(this._viewDate.getTime())),this._hasPicker&&this._picker.zdatetimepicker("setValue",this.options.value))},_spinTimeoutHandler:function(t){this._dispatchEvent("SPIN",t,{value:this._input[0].value,dateValue:this.options.value})},_modifyPartValue:function(t,e,i){var s,o=new Date(this._viewDate.getTime()),n=this._getDateValue();switch(t){case"y":s="_yearModified",e=1===e?this.options.yearStep:-this.options.yearStep;var a=o.getFullYear()+e;a<0?a+=9999:a>9999&&(a%=1e4),0===a&&(a=1),this._yearModified&&o.setFullYear(a);break;case"M":if(e=1===e?this.options.monthStep:-this.options.monthStep,s="_monthModified",this._monthModified){var r=o.getMonth()+e;if(this.options.incrementOnWrapAround&&void 0!==n)o.setMonth(r),o.getMonth()%12!==(r+12)%12&&(o.setDate(1),o.setMonth(r));else{r<0?r+=12:r>11&&(r%=12);var l,h=new Date(o.getFullYear(),r+1,0).getDate();o.getDate()>h&&(l=!0),l&&o.setDate(h),o.setMonth(r)}}else e<0&&o.setMonth(11);break;case"d":s="_dateModified",e=1===e?this.options.dateStep:-this.options.dateStep;var d=o.getDate()+e;if(!this.options.incrementOnWrapAround||!n){var h=new Date(o.getFullYear(),o.getMonth()+1,0).getDate();d<1?d=h:d>h&&(d%=h)}this._dateModified?o.setDate(d):e<0&&o.setDate(31);break;case"h":case"H":s="_hoursModified",e=1===e?this.options.hourStep:-this.options.hourStep;var c=o.getHours()+e;this.options.incrementOnWrapAround&&n||(c>23&&(c%=24),c<0&&(c+=24)),this._hoursModified?o.setHours(c):e<0&&o.setHours(c);break;case"m":case"s":s=this._minuteSecondUpdate(t,e,o,n);break;case"t":o.setHours((o.getHours()+12)%24)}return o=this._validateDateValues(o),i?o:(o=this._checkMinMaxLimit(o,s,e),o=this._checkForDisabledDates(o,e),this._isPartModified(t,!0),this._oldDateValue=new Date(this._viewDate.getTime()),this._viewDate=o,void 0)},_minuteSecondUpdate:function(t,e,i,s){var o="m"===t?"_minutesModified":"_secondsModified";e=1===e?this.options["m"===t?"minuteStep":"secondStep"]:-this.options["m"===t?"minuteStep":"secondStep"];var n=i["m"===t?"getMinutes":"getSeconds"]()+e;return this.options.incrementOnWrapAround&&s||(n>59&&(n%=60),n<0&&(n+=60)),this[o]?i["m"===t?"setMinutes":"setSeconds"](n):e<0&&i["m"===t?"setMinutes":"setSeconds"](n),o},_validateDateValues:function(t){if(this.options.incrementOnWrapAround&&!this._hasDate){var e=this.options.value?new Date(this.options.value.getTime()):new Date;t.setDate(e.getDate()),t.setMonth(e.getMonth()),t.setFullYear(e.getFullYear())}return t},_checkForDisabledDates:function(t,e){e=e||1;var i,s=new Date(t.getTime());if(this._hasPicker&&(i=this._picker.zdatetimepicker("getAttribute","disabledDates")),i){var o=new Date(t.getTime());o.setHours(0,0,0,0);for(var n=1===e?this.options.dateStep:-this.options.dateStep,a=0,r=i.length;a<r;a++){var l,h,d=i[a];if(d.date instanceof Date)l=d.date;else if(d.date)h=!1,l=d.date.date,d.repeatEveryYear&&l.setFullYear(t.getFullYear()),d.repeatEveryMonth&&l.setMonth(t.getMonth());else if(d.startDate&&d.endDate){var c=d.startDate.date,p=d.endDate.date;d.repeatEveryYear&&(c.setFullYear(t.getFullYear()),p.setFullYear(t.getFullYear())),d.repeatEveryMonth&&(c.setMonth(t.getMonth()),p.setMonth(t.getMonth())),h=!(!ZDateUtil.isGreater(o,c)&&!ZDateUtil.areDatesEqual(c,o))&&!!ZDateUtil.isGreater(p,o)}if(l&&ZDateUtil.areDatesEqual(l,o)||h){var u=t.getDate()+n;if(!this.options.incrementOnWrapAround){var m=new Date(o.getFullYear(),o.getMonth()+1,0).getDate();u<1?u=m:u>m&&(u%=m)}o.setDate(u);var _=o.getTime();t=new Date(_),a=-1}}t.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),0)}return t},_checkIfDateHasTime:function(){var t=this.options.format,e=t.indexOf("H")>-1||t.indexOf("h")>-1||t.indexOf("m")>-1;return e&&(this._is12HourFormat=t.indexOf("h")>-1),e},_checkMinMaxLimit:function(t,e,i,s){s=void 0===s||s,this._isModified=!1;var o=new Date,n=o.getTime();if(this.options.max){var a,r,l;this._hasTime||(this.options.max.setHours(0,0,0,0),o.setHours(0,0,0,0),t.setHours(0,0,0,0)),a=this.options.max.getTime(),r=t.getTime(),l=a<n,r>=a||e&&!this[e]&&l&&!i?(this.options.value&&s&&"none"!==this.options.spinButtons&&this.container.find(".h-up").addClass("is-disabled"),this._isModified=!0,t=i&&r>a?new Date(this._viewDate.getTime()):new Date(this.options.max.getTime())):s&&"none"!==this.options.spinButtons&&r<a&&this.container.find(".h-up").removeClass("is-disabled")}if(this.options.min){var h,r,l;this._hasTime||(this.options.min.setHours(0,0,0,0),o.setHours(0,0,0,0),t.setHours(0,0,0,0)),h=this.options.min.getTime(),l=h>n,r=t.getTime(),r<=h||e&&!this[e]&&l&&!i?(this.options.value&&s&&"none"!==this.options.spinButtons&&this.container.find(".h-down").addClass("is-disabled"),this._isModified=!0,t=i&&r<h?new Date(this._viewDate.getTime()):new Date(this.options.min.getTime())):s&&"none"!==this.options.spinButtons&&r>h&&this.container.find(".h-down").removeClass("is-disabled")}return t},_getNumberOfDays:function(t,e){return new Date(t,e,0).getDate()},_addEffect:function(){this._input.addClass("zeffects--skew"),clearTimeout(this._effectTimeout),this._effectTimeout=setTimeout(this._effectTimeoutHandler.bind(this),1e3)},_effectTimeoutHandler:function(){this._input.removeClass("zeffects--skew")},_parseDate:function(t,e){if(!e)return this._isPartModified(t,!1),!0;var i=new Date(this._viewDate.getTime());switch(t){case"d":var s,o=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(s=this._isNewValue&&this._oldSegment!==this._currentSegment?0+parseInt(e):(this._dateModified?10*i.getDate():0)+parseInt(e),isNaN(s))return;this.options.jumpOnComplete&&s>=4&&(this._isNextSegment=!0);var n=s.toString();if(!this.options.jumpOnComplete&&s>o&&this._isFastInput){if(2===n.length)s=this._viewDate.getDate();else if(n.length>=3)for(;s>31;)s=parseInt(s.toString().slice(1))}else this.options.jumpOnComplete?s>o&&(s=parseInt(n[0])):s>o&&(s=parseInt(n[n.length-1]));if(s<1)this._dateModified=!1;else{if(i.setDate(s),i.getMonth()!==this._viewDate.getMonth())return;this._dateModified=!0}break;case"M":var s;if(s=this._isNewValue&&this._oldSegment!==this._currentSegment?0+parseInt(e):(this._monthModified?10*(i.getMonth()+1):0)+parseInt(e),isNaN(s)){var a=this._localize("months");for(this._typedMonthChar+=e.toLowerCase();this._typedMonthChar.length>0;){for(var r=0;r<a.length;r++)if(0===a[r].toLowerCase().indexOf(this._typedMonthChar)){if(i.setMonth(r),this.options.jumpOnComplete)switch(this._typedMonthChar){case"f":case"s":case"o":case"n":case"d":case"ja":case"may":case"mar":case"ap":case"au":case"jun":case"jul":this._isNextSegment=!0}return this._monthModified=!0,this._oldDateValue=new Date(this._viewDate.getTime()),this._viewDate=i,!0}this._typedMonthChar=this._typedMonthChar.substring(1,this._typedMonthChar.length)}return!1}if(this.options.jumpOnComplete&&s>=2&&(this._isNextSegment=!0),!this.options.jumpOnComplete&&s>12&&this._isFastInput){var l=parseInt(s.toString().slice(1));s=l>12?parseInt(l.toString()[0]):this._viewDate.getMonth()+1}else if(this.options.jumpOnComplete)s>12&&s<20?s=12:s>20&&(s=s.toString()[0]);else if(111===s||112===s){var n=s.toString();s=parseInt(n[n.length-1])}else for(;s>12;)s=parseInt(s.toString().slice(1));s<1?this._monthModified=!1:(i.setMonth(s-1),i.getMonth()!==s-1&&(i.setDate(1),i.setMonth(s-1)),this._monthModified=!0);break;case"y":var s;if(this._isYear2Digit){if(s=parseInt((this._yearModified?i.getFullYear().toString().slice(2):0)+e),isNaN(s))return;var h=s.toString();for(this.options.jumpOnComplete&&s>10&&2===h.length&&"0"!==h[1]&&(this._isNextSegment=!0);s>99;)s=parseInt(s.toString().slice(1));if(s<1)this._yearModified=!1;else{var d=this.options.century-1;s=parseInt(d.toString()+s.toString()),i.setFullYear(s),this._yearModified=!0}}else{if(s=(this._yearModified?10*i.getFullYear():0)+parseInt(e),isNaN(s))return;var h=s.toString();for(this.options.jumpOnComplete&&s>1001&&4===h.length&&"0"!==h[3]&&(this._isNextSegment=!0);s>9999;)s=parseInt(s.toString().slice(1));s<1?this._yearModified=!1:(i.setFullYear(s),this._yearModified=!0)}break;case"h":var s=(this._hoursModified?i.getHours()%12*10:0)+parseInt(e);if(isNaN(s))return;var c=s.toString();if(!this.options.jumpOnComplete&&s>12&&this._isFastInput)s=parseInt(c[0]);else if(this.options.jumpOnComplete)for(;s>12;)s=parseInt(s.toString().slice(1));else s>12&&(s=parseInt(c[c.length-1]));this._viewDate.getHours()>=12&&(s+=12),this.options.jumpOnComplete&&this._hoursModified&&"1"!==e&&(this._isNextSegment=!0),i.setHours(s),this._hoursModified=!0;break;case"H":var s;if(s=this._isNewValue&&this._oldSegment!==this._currentSegment?0+parseInt(e):(this._hoursModified?10*i.getHours():0)+parseInt(e),isNaN(s))return;var c=s.toString();this.options.jumpOnComplete&&(s>=23||2===c.length&&"0"!==c[1])&&(this._isNextSegment=!0);var n=s.toString();!this.options.jumpOnComplete&&s>23&&this._isFastInput?2===n.length?s=this._viewDate.getHours():n.length>=3&&(s>23&&(s=parseInt(s.toString().slice(1))),s>23&&(s=parseInt(s.toString()[0]))):this.options.jumpOnComplete?s>23&&(s=parseInt(n[0])):s>23&&(s=parseInt(n[n.length-1])),i.setHours(s),this._hoursModified=!0;break;case"m":case"s":this._parseMinuteSecondValue(t,e,i);break;case"t":if(this._hoursModified){for(this._typedPeriodChar+=e.toLowerCase();this._typedPeriodChar.length>0;){var p=this._localize("AM"),u=this._localize("PM");if(0===p.toLowerCase().indexOf(this._typedPeriodChar)&&i.getHours()>=12||0===u.toLowerCase().indexOf(this._typedPeriodChar)&&i.getHours()<12)return i.setHours((i.getHours()+12)%24),this._oldDateValue=new Date(this._viewDate.getTime()),this._viewDate=i,!0;this._typedPeriodChar=this._typedPeriodChar.substring(1,this._typedPeriodChar.length)}return i.setSeconds(s),this._hoursModified=!0,!0}}return i=this._validateDateValues(i),this._oldDateValue=new Date(this._viewDate.getTime()),i=this._checkForDisabledDates(i),this._viewDate=i,!0},_parseMinuteSecondValue:function(t,e,i){var s=(this["m"===t?"_minutesModified":"_secondsModified"]?10*i["get"+("m"===t?"Minutes":"Seconds")]():0)+parseInt(e);if(!isNaN(s)){var o=s.toString();this.options.jumpOnComplete&&(s>=59||2===o.length&&"0"!==o[1])&&(this._isNextSegment=!0);var n=s.toString();!this.options.jumpOnComplete&&s>23&&this._isFastInput?2===n.length?s=this._viewDate["get"+("m"===t?"Minutes":"Seconds")]():n.length>=3&&(s>59&&(s=parseInt(s.toString().slice(1))),s>59&&(s=parseInt(s.toString()[0]))):this.options.jumpOnComplete?s>59&&(s=parseInt(n[0])):s>59&&(s=parseInt(n[n.length-1])),i["set"+("m"===t?"Minutes":"Seconds")](s),this._secondsModified=!0}},_appendZerosToValue:function(t,e,i){var s=["","0","00","000","0000"];return t=t.toString(),e=e||2,i=e-t.length,i?s[e].substring(0,i)+t:t},_keyUpHandler:function(e){if("input"===e.type||"keyup"===e.type&&(e.keyCode>=186&&e.keyCode<=192||e.keyCode>=219&&e.keyCode<=222||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=65&&e.keyCode<=90||e.keyCode===t.keyCode.SPACE||e.keyCode===t.keyCode.BACKSPACE||e.keyCode===t.keyCode.DELETE)){var i=(new Date).getTime();if(this._isFastInput=!!(this._keyUpTime&&i-this._keyUpTime<500),this._keyUpTime=i,document.activeElement!==this._input[0])return;var s,o=this._approximateStringMatching(this._oldValue,this._dateFormat,this._input[0].value,this._selectCaretPosition(this._input[0])[0]),n=1===o.length&&(" "===o[0][1]||"/"===o[0][1]||"."===o[0][1]||"-"===o[0][1]||";"===o[0][1]);if(this._isNewValue&&this._allowedChars.indexOf(o[0][0])>-1&&this._currentSegment!==this._oldSegment&&this._resetValues(o[0][0],o[0][1]),n)this._viewDate=this._checkMinMaxLimit(this._viewDate);else for(s=0;s<o.length;s++)this._parseDate(o[s][0],o[s][1]);if(!this._pasteAction&&this._updateElementValue(),o.length&&" "!==o[0][0]&&"/"!==o[0][0]&&"."!==o[0][0]&&"-"!==o[0][0]&&";"!==o[0][0]&&(this._selectText(o[0][0]),this._isNextSegment)){var a=this._dateFormat.lastIndexOf(o[0][0])+1;if(a<this._dateFormat.length){for(;this._allowedChars.indexOf(this._dateFormat[a])===-1&&a<this._dateFormat.length;)a+=1;this._isNextSegment=!1,this._viewDate=this._checkMinMaxLimit(this._viewDate),!this._pasteAction&&this._updateElementValue(),this._selectText(this._dateFormat[a])}}if(n){var r={keyCode:t.keyCode.RIGHT,preventDefault:function(){}};this._keyDownHandler(r)}!n&&this._checkForChange(e,"spin"),"none"!==this.options.clearButton&&this._checkIfAPartIsModified()}},_checkIfAPartIsModified:function(){for(var t=[],e=0,i=0;i<this.options.format.length;i++){var s=this.options.format[i];switch(s){case"d":t[e++]=this._dateModified;break;case"M":t[e++]=this._monthModified;break;case"y":t[e++]=this._yearModified;break;case"H":case"h":t[e++]=this._hoursModified;break;case"m":t[e++]=this._minutesModified;break;case"s":t[e++]=this._secondsModified}}for(var o=!1,i=0;i<e;i++){if(t[i]){o=!0;break}o=!1}this._clearButton&&(this._clearButton[o?"show":"hide"](),this._isClearButtonVisible=this._clearButton.is(":visible"))},_approximateStringMatching:function(t,e,i,s){this._isNewValue=!1;var o,n=t[s+t.length-i.length],a=[];if(t=t.substring(0,s+t.length-i.length),i=i.substring(0,s),t===i&&s>0)return a.push([e[s-1],i[s-1]]),a;if(0===t.indexOf(i)&&(0===i.length||e[i.length-1]!==e[i.length])){var r="";for(o=i.length;o<t.length;o++)switch(t[o]!==r&&this._allowedChars.indexOf(e[o])>=0&&(r=e[o],a.push([r,""])),r){case"y":this._viewDate.setFullYear((new Date).getFullYear());break;case"d":this._viewDate.setDate(1);break;case"M":this._viewDate.setMonth(0);break;case"H":this._viewDate.setHours(0);break;case"m":this._viewDate.setMinutes(0);break;case"s":this._viewDate.setSeconds(0)}return a}var l=i[i.length-1];if(" "===l||"/"===l||"-"===l||"."===l||";"===l||l===n)return[[e[s-1],l]];if(this._focusout){switch(e[s-1]){case"y":this._viewDate.setFullYear(0);break;case"h":this._viewDate.setHours(0);break;case"m":this._viewDate.setMinutes(0)}this._focusout=!1}return this._isNewValue=!0,[[e[s-1],i[s-1]]]},_selectText:function(t){var e=-1,i=0;this._oldSegment=this._currentSegment;for(var s=0;s<this._dateFormat.length;s++)this._dateFormat[s]===t&&(i=s+1,e===-1&&(e=s));e<0&&(e=0),this._currentSegment=t,"none"!==this.options.spinButtons&&this._addDisabledClass(t),this._selectCaretPosition(this._input[0],e,i)},_addDisabledClass:function(t){var e=this.options.min,i=this.options.max;if(this.options.value){var s,o,n,a,r,l=this._modifyPartValue(t,-1,!0),h=this.container.find(".h-down"),d=this.container.find(".h-up");this._hasTime||(i&&i.setHours(0,0,0,0),e&&e.setHours(0,0,0,0),l.setHours(0,0,0,0)),n=l.getTime(),i&&(a=i.getTime()),e&&(r=e.getTime()),this.options.min&&n<=r&&(h.addClass("is-disabled"),s=!0),i&&n>=a&&(h.addClass("is-disabled"),s=!0),l=this._modifyPartValue(t,1,!0),n=l.getTime(),a&&n>=a&&(d.addClass("is-disabled"),o=!0),r&&n<=r&&(d.addClass("is-disabled"),o=!0),!s&&h.removeClass("is-disabled"),!o&&d.removeClass("is-disabled")}},_resetValues:function(t,e){if(!isNaN(e))switch(t){case"y":this._viewDate.setFullYear(0);break;case"H":this._viewDate.setHours(0);break;case"m":this._viewDate.setMinutes(0);break;case"s":this._viewDate.setSeconds(0)}},_selectCaretPosition:function(t,e,i){var s=void 0!==e;if(void 0===i&&(i=e),!s||!t.disabled){try{void 0!==t.selectionStart&&(s?(t.focus(),t.setSelectionRange(e,i)):e=[t.selectionStart,t.selectionEnd])}catch(t){throw t}return e}},_getPlaceHolderValue:function(t){switch(this.options.placeholderType){case"date-format":return t;case"date-format-in-upper":return t.toUpperCase();case"date-format-in-lower":return t.toLowerCase();case"underscore":return new Array(t.length+1).join("_ ");case"custom":switch(t){case"d":case"dd":return this.options.placeholder.date;case"ddd":case"dddd":return this.options.placeholder.weekDay;case"M":case"MM":case"MMM":case"MMMM":return this.options.placeholder.month;case"yy":case"yyyy":return this.options.placeholder.year;case"h":case"hh":case"HH":case"H":return this.options.placeholder.hour;case"m":case"mm":return this.options.placeholder.minute;case"s":case"ss":return this.options.placeholder.second}}},_replaceMatchedText:function(t){var e;switch(t){case"d":e=this._dateModified?this._viewDate.getDate().toString():this._getPlaceHolderValue(t);break;case"dd":var i=this._viewDate.getDate();e=this._dateModified?(i<10?"0":"")+i:this._getPlaceHolderValue(t);break;case"ddd":if(this._dateModified&&this._monthModified&&this._yearModified){var s=this._viewDate.getDay();e=this._localize("daysAbbreviated")[s]}else e=this._getPlaceHolderValue(t);break;case"dddd":if(this._dateModified&&this._monthModified&&this._yearModified){var s=this._viewDate.getDay();e=this._localize("days")[s]}else e=this._getPlaceHolderValue(t);break;case"M":e=this._monthModified?(this._viewDate.getMonth()+1).toString():this._getPlaceHolderValue(t);break;case"MM":if(this._monthModified){var o=this._viewDate.getMonth()+1;e=(o<10?"0":"")+o}else e=this._getPlaceHolderValue(t);break;case"MMM":if(this._monthModified){var o=this._viewDate.getMonth();e=this._localize("monthsAbbreviated")[o]}else e=this._getPlaceHolderValue(t);break;case"MMMM":var o=this._viewDate.getMonth();e=this._monthModified?this._localize("months")[o]:this._getPlaceHolderValue(t);break;case"yy":if(this._isYear2Digit=!0,this._yearModified){this._viewDate.getFullYear();e=this._appendZerosToValue(this._viewDate.getFullYear()%100)}else e=this._getPlaceHolderValue(t);break;case"yyyy":this._isYear2Digit=!1,e=this._yearModified?this._appendZerosToValue(this._viewDate.getFullYear(),4):this._getPlaceHolderValue(t);break;case"h":e=this._hoursModified?(this._viewDate.getHours()%12||12).toString():this._getPlaceHolderValue(t);break;case"hh":if(this._hoursModified){var n=this._viewDate.getHours()%12||12;e=(n<10?"0":"")+n}else e=this._getPlaceHolderValue(t);break;case"H":e=this._hoursModified?this._viewDate.getHours().toString():this._getPlaceHolderValue(t);break;case"HH":if(this._hoursModified){var n=this._viewDate.getHours();e=(n<10?"0":"")+n}else e=this._getPlaceHolderValue(t);break;case"m":e=this._minutesModified?this._viewDate.getMinutes().toString():this._getPlaceHolderValue(t);break;case"mm":if(this._minutesModified){var a=this._viewDate.getMinutes();e=(a<10?"0":"")+a}else e=this._getPlaceHolderValue(t);break;case"s":e=this._secondsModified?this._viewDate.getSeconds().toString():this._getPlaceHolderValue(t);break;case"ss":if(this._secondsModified){var r=this._viewDate.getSeconds();e=(r<10?"0":"")+r}else e=this._getPlaceHolderValue(t);break;case"tt":e=this._hoursModified?this._viewDate.getHours()<12?this._localize("AM"):this._localize("PM"):this.options.placeholder.period;break;case"z":e=this._viewDate.toString().match(/\(([A-Za-z\s].*)\)/)[1];break;case"zz":e=this._viewDate.toString().match(/([A-Z]+[+-][0-9]+)/)[1];break;case"zzz":e=this._viewDate.toString().match(/([A-Z]+[+-][0-9]+.*)/)[1]}if(e=void 0!==e?e:t.slice(1,t.length-1),this._retursFormat){var l="";"ddd"===t?t="EEE":"dddd"===t?t="EEEE":"z"===t?t="f":"zz"===t?t="ff":"zzz"===t&&(t="fff");for(var h=0;h<e.length;h++)l+=t[0];return l}return e},_updateElementValue:function(){var t=/dd{0,3}|MM{0,3}|yyyy|yy|HH|H|hh|h|mm|m|ss|s|tt|zz{0,2}|"[^"]*"|'[^']*'/g,e=this.options.format;this._retursFormat=!1;var i=e.replace(t,this._replaceMatchedText.bind(this));this._retursFormat=!0,this._dateFormat=e.replace(t,this._replaceMatchedText.bind(this)),this._input[0].value=i,this.options.value=this._getDateValue()?new Date(this._viewDate.getTime()):void 0,this._oldValue=i},_parseDateValue:function(t,e){return ZDateUtil._parseDateValue(t,e,this.options.otherInputFormats)},_resetViewDate:function(){return new Date((new Date).getFullYear(),0,1,0,0,0)},_setValue:function(t){var e=this._parseValue("value",t);return this._performValidations(),e&&this.options.value&&(this._viewDate=new Date(this.options.value.getTime()),this._input.attr("aria-valuenow",ZDateUtil.formatDate(this.options.value,this.options.format))),this.options.value||this._input.removeAttr("aria-valuenow"),this._checkIfAPartIsModified(),e},_parseValue:function(t,e){var i,s;return"string"==typeof e?("TODAY"===e||"NOW"===e?this.options[t]=new Date:(s=this._parseDateValue(e,this.options.format),this.options[t]=s?s.date:void 0),i=!0):e instanceof Date?(this.options[t]=e,i=!0):(this._oldValueOption&&(i=!0),this.options[t]=void 0),this.options[t]&&!this._hasTime&&this.options[t].setHours(0,0,0,0),"value"===t&&this.options.value&&(this._viewDate=new Date(this.options.value.getTime())),i},setAttribute:function(i,s){var o=this.componentName;if("object"!=typeof s||s instanceof Array||s instanceof Date||(s=e.extend(!0,{},this.options[i],s)),this.options[i]=s,"format"===i||"value"===i){var n;"format"===i&&(this.options.format=s),"value"===i&&(n=this._setValue(s)),this._dateModified=this._monthModified=this._yearModified=this._minutesModified=this._secondsModified=this._hoursModified=!0,"format"===i&&(this._format=s,this._changeLocaleSpecifierToDateFormat(),this._picker&&this._picker.zdatetimepicker("setAttribute","format",this.options.format));for(var a=0;a<this.options.format.length;a++)this._isPartModified(this.options.format[a],!!this.options.value);this._viewDate=this.options.value?new Date(this.options.value.getTime()):this._resetViewDate(),this._viewDate=this._checkMinMaxLimit(this._viewDate),this._updateElementValue(),"format"===i&&(this._hasTime=this._checkIfDateHasTime(),this._hasDate=this._checkIfFormatHasDate(),this._hasPicker=!!this._hasDate&&this.options.picker),this._hasPicker?(this._calendarIcon&&"button"===this.options.calendarIconUIType&&this._calendarIcon.off("click."+o).on("click."+o,this._calendarIconClickHandler.bind(this)),("button"!==this.options.calendarIconUIType||"button"===this.options.calendarIconUIType&&this.options.showPickerOnFocus)&&this.container.off("click."+o).on("click."+o,this._pickerOpenHandler.bind(this))):(this._calendarIcon&&"button"===this.options.calendarIconUIType&&this._calendarIcon.off("click."+o),("button"!==this.options.calendarIconUIType||"button"===this.options.calendarIconUIType&&this.options.showPickerOnFocus)&&this.container.off("click."+o))}else if("min"===i||"max"===i)this._parseValue(i,s),this._performValidations(),this._hasPicker&&this._picker.zdatetimepicker("setAttribute",i,this.options[i]),this.options[i]?this._input.attr("aria-value"+i,ZDateUtil.formatDate(this.options[i],this.options.format)):this._input.removeAttr("aria-value"+i),this._viewDate=this._checkMinMaxLimit(this._viewDate),this._updateElementValue();else if("placeholderType"===i)"date-format"!==s&&"underscore"!==s&&"date-format-in-upper"!==s&&"date-format-in-lower"!==s&&(s="date-format"),this.options.placeholerType=s,this.options.value||this._updateElementValue();else if("clearButton"===i)"none"!==s?(this._createClearButton(),"focus"===s&&this.container.off("mouseenter."+o).on("mouseenter."+o,this._mouseEnterHandler.bind(this)).off("mouseleave."+o).on("mouseleave."+o,this._mouseLeaveHandler.bind(this))):"none"===s&&(this._clearButton.off("mousedown."+o+" click."+o),this._clearButton.remove(),this._clearButton=void 0);else if("clearButtonSVGIconId"===i||"clearButtonIconClassName"===i)s.length&&"none"!==this.options.clearButton&&this._updateClearIcon(this._clearButton.find(".zinputfield__icon"));else if("spinButtons"===i||"decrementButtonSVGIconId"===i||"incrementButtonSVGIconId"===i||"incrementButtonIconClassName"===i||"decrementButtonIconClassName"===i)this._buttonPane&&(this._buttonPane.remove(),this._buttonPane=void 0),"none"===s?(this.container.removeAttr("role"),this.container.find(".h-up,.h-down").off("mousedown."+o+" mouseup."+o),"vertical"===this.options.spinButtonsOrientation&&this.container.find(".zinputfield__spinbuttonpane").remove(),this.container.find(".h-up,.h-down").remove(),this.container.removeClass("zinputfield--split"),t.$document.off("."+o),this.container.addClass("zdatetimefield--buttonsonhover")):(this.container.addClass("zdatetimefield"),this._createSpinButtons(),"focus"===s&&this.container.off("mouseenter."+o).on("mouseenter."+o,this._mouseEnterHandler.bind(this)).off("mouseleave."+o).on("mouseleave."+o,this._mouseLeaveHandler.bind(this)),this.container.attr("role","spinbutton"),"horizontal"===this.options.spinButtonsOrientation&&this.container.addClass("zinputfield--split zdatetimefield"),"always"===this.options.spinButtons&&this.container.removeClass("zdatetimefield--buttonsonhover"));else if("spinButtonsOrientation"===i){if("horizontal"!==s&&"vertical"!==s&&(s="vertical"),this.options.spinButtonsOrientation=s,"none"!==this.options.spinButtons){var r=this.container.find(".h-up"),l=this.container.find(".h-down");this.container.empty();var h="left"===this.options.calendarIconAlignment;if("vertical"===s){var d=e("<div class='zinputfield__spinbuttonpane'>");d.append(r,l),this.container.append(h&&this._calendarIcon?this._calendarIcon:void 0,this._input,!h&&this._calendarIcon?this._calendarIcon:void 0,d,"none"!==this.options.clearButton?this._clearButton:void 0).removeClass("zinputfield--split")}else this.container.append(h&&this._calendarIcon?this._calendarIcon:void 0,this._input,!h&&this._calendarIcon?this._calendarIcon:void 0,r,l,"none"!==this.options.clearButton?this._clearButton:void 0).addClass("zinputfield--split");this._updateIcons(r.find(".zinputfield__icon"),l.find(".zinputfield__icon")),this._bindEvents(),"none"!==this.options.clearButton&&(this._clearButton.on("mousedown."+o,this._clearButtonMousedownHandler.bind(this)),this._clearButton.on("click."+o,this._clearButtonClickHandler.bind(this))),this.container.find(".h-up,.h-down").on("mousedown."+o,this._spinButtonsMouseDownHandler.bind(this)).on("mouseup."+o,this._spinButtonsMouseUpHandler.bind(this))}"horizontal"===this.options.spinButtonsOrientation?this.container.addClass("zdatetimefield"):!this.options.calendarIcon&&this.container.removeClass("zdatetimefield")}else if("calendarIcon"===i||"calendarSVGIconId"===i||"calendarIconClassName"===i||"calendarIconUIType"===i)this._calendarIcon&&(this._calendarIcon.remove(),this._calendarIcon=void 0,this.container.removeClass("h-hasiconbutton")),s&&this.options.calendarIcon&&(this._createCalendarIcon(),"focus"===this.options.spinButtons&&this.container.addClass("zdatetimefield--buttonsonhover"),"button"===this.options.calendarIconUIType?!this.options.showPickerOnFocus&&this.container.off("click."+o):this.container.off("click."+o).on("click."+o,this._pickerOpenHandler.bind(this)));else if("calendarIconAlignment"===i)"left"!==s&&"right"!==s&&(s="right"),this.options.calendarIconAlignment=s,this.options.calendarIcon&&this._calendarIcon&&this._calendarIcon["right"===s?"insertAfter":"insertBefore"](this._input);else if("readonly"===i)this.container[s&&!this.options.disabled?"addClass":"removeClass"]("is-readonly"),this.container[s||this.options.disabled?"addClass":"removeClass"]("is-disabled"),this._input.attr("aria-readonly",s),s?(this._input.attr("readonly",!0),this._input.off("input."+o+" keydown."+o+" keyup."+o+" mouseup."+o+" mousewheel."+o),"none"!==this.options.clearButton&&this._clearButton.off("mouseup."+o+" mousedown."+o)):(this.options.disabled?this._input.removeAttr("readonly"):this._input.removeAttr("readonly disabled"),this._bindEvents(),"none"!==this.options.clearButton&&this._clearButton.on("mouseup."+o,this._clearButtonClickHandler.bind(this)).on("mousedown."+o,this._clearButtonMousedownHandler.bind(this)));else if("disabled"===i)this.container[s||this.options.readonly?"addClass":"removeClass"]("is-disabled"),this._input.attr("aria-disabled",s),s?(this.options.readonly&&this.container.removeClass("is-readonly"),this._input.removeClass("h-hidecursor"),this._input.attr("disabled",!0),"none"!==this.options.clearButton&&this._clearButton.off("mouseup."+o+" mousedown."+o)):(this.options.readonly&&this.container.addClass("is-readonly"),this._input.addClass("h-hidecursor"),!this.options.readonly&&this._input.removeAttr("disabled"),"none"!==this.options.clearButton&&this._clearButton.on("mouseup."+o,this._clearButtonClickHandler.bind(this)).on("mousedown."+o,this._clearButtonMousedownHandler.bind(this)));else if("className"===i)this.container.removeClass(this.options.className).addClass(s);else if("locale"===i)this._changeLocaleSpecifierToDateFormat();else if("century"===i){if(s-=1,isNaN(s)||2!==s.toString().length)throw new Error(this.options.labels.invalidNumber);var c=this._viewDate.getFullYear().toString().slice(2),p=parseInt(s.toString()+c);this._viewDate.setFullYear(p),this.options.value&&(this.options.value=new Date(this._viewDate.getTime())),this.options.century=s+1}else"title"===i?this.container[0].title=s:"width"===i?this.container.outerWidth(s):"picker"===i?s?(this._hasPicker=!0,this._initPicker(),this._bindPickerEvents(),("button"!==this.options.calendarIconUIType||"button"===this.options.calendarIconUIType&&this.options.showPickerOnFocus)&&this.container.on("click."+o,this._pickerOpenHandler.bind(this)),"button"===this.options.calendarIconUIType&&this._calendarIcon.off("click."+o).on("click."+o,this._calendarIconClickHandler.bind(this)),this._immediateCommit=this._picker.zdatetimepicker("getAttribute","immediateCommit")):(this._picker.zdatetimepicker("destroy"),this._picker.remove(),this._picker=void 0,this._hasPicker=!1,this.container.off("click."+o)):"pickerOptions"===i?(this._picker.zdatetimepicker("destroy"),this._picker.zdatetimepicker(this.options.pickerOptions)):"showPickerOnFocus"===i&&"button"===this.options.calendarIconUIType&&(this.container.off("click."+o),s&&this.container.on("click."+o,this._pickerOpenHandler.bind(this)))},getAttribute:function(t){return"pickerOptions"!==t?this._super(t):this._hasPicker&&this._picker?this._picker.zdatetimepicker("getAttributes"):void 0},getValue:function(){return{dateObject:this.options.value,dateString:this._input[0].value}},setValue:function(t){if(t){this._parseValue("value",t),this._viewDate=this._checkMinMaxLimit(this._viewDate);for(var e=0;e<this.options.format.length;e++)this._isPartModified(this.options.format[e],!!this._viewDate);this._updateElementValue(),this._hasPicker&&this._picker.zdatetimepicker("setValue",this.options.value)}else this._clearHandler()},openPicker:function(){this._hasPicker&&this._picker&&this._picker.zdatetimepicker("open")},closePicker:function(){this._hasPicker&&this._picker&&this._picker.zdatetimepicker("close")},parseDate:function(t,e){var i=this._parseDateValue(t,e||this.options.format);return i},formatDate:function(t,e){return ZDateUtil.formatDate(t,e||this.options.format)},getElement:function(){return this.container},getPickerElement:function(){if(this._hasPicker)return this._picker},destroy:function(){var e=this.componentName;this._input.off("."+e),this.container.remove(),this.element.show().removeData(e),t.$document.off("."+e),this.options.picker&&(this._picker.zdatetimepicker("destroy"),this._picker.remove(),this._picker=void 0),this._lastValue=void 0,this.container=this._input=void 0}};t.registerComponent("zdatetimefield",i),t.createDatetimefield=function(t){var i=e("input");t.id&&i.attr("id",t.id),i.appendTo?i.appendTo(e(t.appendTo)):i.appendTo("body"),i=i.zdatetimefield(t)}}(ZComponents),ZComponents.currencyInformation={AFN:{name:"Afghan afghani",symbol:""},ALL:{name:"Albanian lek",symbol:"Lek"},DZD:{name:"Algerian dinar",symbol:"/"},EUR:{name:"Euro",symbol:""},AOA:{name:"Angolan kwanza",symbol:"Kz"},XCD:{name:"Eastern Caribbean dollar",symbol:"$"},ARS:{name:"Argentine peso",symbol:"$"},AMD:{name:"Armenian dram",symbol:""},AWG:{name:"Aruban florin",symbol:""},AUD:{name:"Australian dollar",symbol:"$"},AZN:{name:"Azerbaijani manat",symbol:""},BSD:{name:"Bahamian dollar",symbol:"$"},BHD:{name:"Bahraini dinar",symbol:"BD"},BDT:{name:"Bangladeshi taka",symbol:""},BBD:{name:"Barbadian dollar",symbol:"$"},BYR:{name:"Belarusian ruble",symbol:"p."},BZD:{name:"Belize dollar",symbol:"BZ$"},XOF:{name:"West African CFA franc",symbol:"CFA",alternateSymbol:"."},BTN:{name:"Bhutanese ngultrum",symbol:"Nu."},BOB:{name:"Bolivian boliviano",symbol:"$b"},BAM:{name:"Bosnia and Herzegovina convertible mark",symbol:"KM"},BMD:{name:"Bermudian dollar",symbol:"$"},BWP:{name:"Botswana pula",symbol:"P"},BRL:{name:"Brazilian real",symbol:"R$"},BND:{name:"Brunei dollar",symbol:"$"},BGN:{name:"Bulgarian lev",symbol:""},MMK:{name:"Burmese kyat",symbol:"K"},BIF:{name:"Burundian franc",symbol:"FBu"},KHR:{name:"Cambodian riel",symbol:""},XAF:{name:"Central African CFA franc",symbol:"CFA"},XPF:{name:"CFP Franc",symbol:"CFA"},CAD:{name:"Canadian dollar",symbol:"$"},CVE:{name:"Cape Verdean escudo",symbol:"Esc"},CLP:{name:"Chilean peso",symbol:"$"},COP:{name:"Colombian peso",symbol:"$"},KMF:{name:"Comorian franc",symbol:"CF"},CDF:{name:"Congolese franc",symbol:"FC"},CRC:{name:"Costa Rican coln",symbol:""},HRK:{name:"Croatian kuna",symbol:"kn"},CUP:{name:"Cuban peso",symbol:""},ANG:{name:"Netherlands Antillean guilder",symbol:""},CZK:{name:"Czech koruna",symbol:"K"},DKK:{name:"Danish krone",symbol:"kr"},DJF:{name:"Djiboutian franc",symbol:"Fdj"},DOP:{name:"Dominican peso",symbol:"RD$"},USD:{name:"United States Dollar",symbol:"$"},EGP:{name:"Egyptian pound",symbol:""},ERN:{name:"Eritrean nakfa",symbol:"Na"},ETB:{name:"Ethiopian birr",symbol:"Br"},FJD:{name:"Fijian dollar",symbol:"$"},GMD:{name:"Gambian dalasi",symbol:"D"},GEL:{name:"Georgian lari",symbol:""},GHS:{name:"Ghanaian cedi",symbol:""},GTQ:{name:"Guatemalan quetzal",symbol:"Q"},GNF:{name:"Guinean franc",symbol:"FG"},GYD:{name:"Guyanaese Dollar",symbol:"$"},HTG:{name:"Haitian gourde",symbol:"G"},HNL:{name:"Honduran lempira",symbol:"L"},HKD:{name:"Hong Kong Dollar",symbol:"$"},HUF:{name:"Hungarian forint",symbol:"Ft"},ISK:{name:"Icelandic krna",symbol:"kr"},INR:{name:"Indian rupee",symbol:""},IDR:{name:"Indonesian Rupiah",symbol:"Rp"},IRR:{name:"Iranian rial",symbol:""},IQD:{name:"Iraqi dinar",symbol:"."},ILS:{name:"Israeli New Shekel",symbol:""},JMD:{name:"Jamaican dollar",symbol:"J$"},JPY:{name:"Japanese yen",symbol:""},JOD:{name:"Jordanian dinar",symbol:"JOD"},KZT:{name:"Kazakhstani tenge",symbol:""},KES:{name:"Kenyan shilling",symbol:"KSh"},KPW:{name:"North Korean won",symbol:""},KRW:{name:"South Korean Won",symbol:""},KWD:{name:"Kuwaiti dinar",symbol:"."},KGS:{name:"Kyrgyzstani som",symbol:""},LAK:{name:"Lao kip",symbol:""},LBP:{name:"Lebanese pound",symbol:""},LSL:{name:"Lesotho loti",symbol:"L"},LRD:{name:"Liberian dollar",symbol:"$"},LYD:{name:"Libyan dinar",symbol:"."},CHF:{name:"Swiss franc",symbol:"Fr",alternateSymbol:"CHF"},MOP:{name:"Macanese pataca",symbol:"P"},MKD:{name:"Macedonian denar",symbol:""},MGA:{name:"Malagasy ariary",symbol:"Ar"},MWK:{name:"Malawian kwacha",symbol:"MK"},MYR:{name:"Malaysian ringgit",symbol:"RM"},MVR:{name:"Maldivian rufiyaa",symbol:"Rf"},MRO:{name:"Mauritanian ouguiya",symbol:"UM"},MUR:{name:"Mauritian rupee",symbol:""},MXN:{name:"Mexican peso",symbol:"$"},MDL:{name:"Moldovan leu",symbol:"L"},MNT:{name:"Mongolian tgrg",symbol:""},MAD:{name:"Moroccan dirham",symbol:"MAD"},MZN:{name:"Mozambican metical",symbol:"MT"},NAD:{name:"Namibian dollar",symbol:"$"},NPR:{name:"Nepalese rupee",symbol:""},NZD:{name:"New Zealand dollar",symbol:"$"},NIO:{name:"Nicaraguan crdoba",symbol:"C$"},NGN:{name:"Nigerian naira",symbol:""},NOK:{name:"Norwegian krone",symbol:"kr"},OMR:{name:"Omani rial",symbol:""},PKR:{name:"Pakistani Rupee",symbol:""},PAB:{name:"Panamanian balboa",symbol:"B/."},PGK:{name:"Papua New Guinean kina",symbol:"K"},PYG:{name:"Paraguayan guaran",symbol:"Gs"},PEN:{name:"Sol",symbol:"S/."},PHP:{name:"Philippine peso",symbol:""},PLN:{name:"Polish zoty",symbol:"z"},QAR:{name:"Qatari Rial",symbol:""},RON:{name:"Romanian leu",symbol:"lei"},RUB:{name:"Russian ruble",symbol:""},RWF:{name:"Rwandan franc",symbol:"RF"},WST:{name:"Samoan tl",symbol:"T"},STD:{name:"So Tom and Prncipe dobra",symbol:"Db"},SVC:{name:"Salvadoran coln",symbol:""},SAR:{name:"Saudi riyal",symbol:""},SCR:{name:"Seychellois rupee",symbol:""},SLL:{name:"Sierra Leonean leone",symbol:"Le"},SGD:{name:"Singapore dollar",symbol:"$"},SBD:{name:"Solomon Islands dollar",symbol:"$"},SOS:{name:"Somali shilling",symbol:"S"},ZAR:{name:"South African Rand",symbol:"R"},SSP:{name:"South Sudanese pound",symbol:"SSP",alternateSymbol:""},LKR:{name:"Sri Lankan rupee",symbol:""},SDG:{name:"Sudanese pound",symbol:"Sd"},SRD:{name:"Surinamese dollar",symbol:"$"},SZL:{name:"Swazi lilangeni",symbol:"L"},SEK:{name:"Swedish krona",symbol:"kr"},SYP:{name:"Syrian pound",symbol:""},TWD:{name:"New Taiwan dollar",symbol:"NT$"},TJS:{name:"Tajikistani somoni",code:"TJS",symbol:"SM"},TZS:{name:"Tanzanian shilling",symbol:"TSh"},THB:{name:"Thai baht",symbol:""},TOP:{name:"Tongan paanga",symbol:"T$"},TTD:{name:"Trinidad and Tobago dollar",symbol:"TT$"},TND:{name:"Tunisian dinar",symbol:"."},TRY:{name:"Turkish lira",symbol:""},TMT:{name:"Turkmenistani Manat",symbol:"m"},TVD:{name:"Tuvaluan dollar",symbol:"$"},UGX:{name:"Ugandan shilling",symbol:"USh"},UAH:{name:"Ukrainian hryvnia",symbol:""},AED:{name:"United Arab Emirates dirham",symbol:"."},GBP:{name:"Pound sterling",symbol:""},UYU:{name:"Uruguayan peso",symbol:"$U"},UZS:{name:"Uzbekistani som",symbol:""},VUV:{name:"Vanuatu vatu",symbol:"VT"},VEF:{name:"Venezuelan bolvar",symbol:"Bs"},VND:{name:"Vietnamese dong",symbol:""},YER:{name:"Yemeni rial",symbol:""},ZMW:{name:"Zambian kwacha",symbol:"ZK"},ZWD:{name:"Zimbabwean Dollar",symbol:"Z$"}};var FontComboUtil=function(t,e){e.writer={};var i=[],s=[],o=4;e.registerComponent("zfontcombo",t.zcombobox,{_create:function(t,e){e.menuId="zfontcombo-menu",e.searchSettings.searchCriteria="contains",e.contentType="text",e.dropdownList={width:"231px"},this._super(t,e)},_updateCombobox:function(){},_onItemClick:function(){},_updateSTATE:function(){this._setState()},_onBlur:function(i){if(this.element.is(e.writer.lastActiveFontCombo))return t("#zwvariantsMenu").is(":visible")?(this._focussed=!1,void this._setState()):t("#fontSubMenuId").is(":visible")?(this._focussed=!0,void this._setState()):void this._super(i)},_closeHandler:function(t){this._super(t),this._focussed||this._valueSet||this._setValueBasedOnInput()},_onFocus:function(){e.writer.lastActiveFontCombo=this.element,this._super.apply(this,arguments)},_onMenuItemHover:function(){this.element.is(e.writer.lastActiveFontCombo)&&this._super.apply(this,arguments)},_onClick:function(){e.writer.lastActiveFontCombo=this.element,this._super.apply(this,arguments)},_onMenuHide:function(){this._super(),this._menu.off(".zfontcombo"),this._menu.find("."+this._CLASS.EMPTY).remove()},_onInput:function(t,e){this._valueSet=!1,this._super(t,e)},_keyPress:function(t){var i=this.currentKeyCode=t.charCode||t.keyCode;if(this._menu&&this._menu.length&&this._menu.is(":visible")&&(i===e.keyCode.RIGHT||i===e.keyCode.LEFT)){var s=this._menu.find(".zmenu__item.on-hover");(s.is(".zmenu--split")||s.is(".zmenu--submenu"))&&(t.target=s,this._menu.zmenu("handleKeyCode",i,t))}else i===e.keyCode.ESCAPE?this.setValue(this.options.selectedValue):i===e.keyCode.ENTER&&this._menu&&this._menu.is(":visible")&&!this._menu.find(".on-hover").length?(this.setValue(this.options.selectedValue),this._close()):this._super(t)},_setValueBasedOnInput:function(){var t=this.textspan.value.toLowerCase().trim(),e=J("#zfontcombo-menu [data-filter-label*='"+t.toLowerCase()+"']");e.length?this.setValue([e[0].getAttribute("data-name")]):this.setValue(this.options.selectedValue)},_onMenuShow:function(t){var i=this._super;if(this.element.is(e.writer.lastActiveFontCombo)){this._bindMenuEvents(),i.apply(this,arguments);var s=J(".zmenu__footer"),o=this._menu.find("."+this._CLASS.EMPTY),n=this.textspan.value.toLowerCase().trim();if(this._emptyResult=o.length,s.show(),this._emptyResult){var a=this.textspan.value.trim(),r=a.toLowerCase(),l=ZComponents.getOptions(this.element),h=J(document.createElement("span"));l.styletag.textContent+=" #zfontcombo-menu [disabled='disabled'] { display: none !important;} ";for(var d in editorProps.fonts){var c=editorProps.fonts[d];if(c.fallback&&c.fallback.toLowerCase().includes(r)){l.styletag.textContent+=" #zfontcombo-menu li.zmenu__item[data-alternate-font*='"+r+"'] { display: block !important;} ";var p=J.i18n("writer.common.COULDNOT_FIND_FONT_MSG",[a])+" "+J.i18n("writer.common.ALTERNATE_FONT_MSG");return o.empty().append(h.text(p)).prependTo(this._menu),s.hide(),void(this._emptyResult=!1)}}o.empty().append(h.text(J.i18n("writer.common.COULDNOT_FIND_FONT_MSG",[a])))}else{var u=e.getOptions(this.element).styletag;n&&n.length&&u&&(u.textContent+=" #RecentFonts,[name='RecentFonts'] {display:none !important;}")}}},_createMenu:function(){this._super();var e=t("#zfontcombo-menu");e.zmenu("setAttributes",{className:"ui-zfontcombo-menu",height:"378",contentType:"icon-text",checkedRadioItemSVGIconId:"zwmenu__checkedcheckbox zmenu__tick"})},_bindMenuEvents:function(){var e=(this.element.attr("id"),this);this._menu.off("zmenusubmenuitemclick.zfontcombo").on("zmenusubmenuitemclick.zfontcombo",function(i,s){var o=t(s.forElement),n=o.data();if(o=o.parent().parent().data("forElement"))e._handleChange(n.metadata,parseInt(s.data.value),o);else{var o=t(s.forElement);t(s.menuitem).data().metadata;e.close()}}).off("zmenuitemclick.zfontcombo").on("zmenuitemclick.zfontcombo",function(i,s){var o=t(s.forElement),n=t(s.menuitem).data().metadata;n.isFooter||e._handleChange(n,null,o)})},_handleChange:function(t,e,i){this._menu.find("."+this._CLASS.EMPTY).remove();var s,o=i.prev(),n=o.metadata().appData,a=n.action,r=t.properties&&t.properties.value||t.value,l=t.label;(s=Utils.getCustomFont(t.value))&&(l=s.value),this._updateText(l,e),"FontName"===n.params&&(this._addToRecentFonts({name:l,value:r}),r=[r],e&&r.push(e),o.zfontcombo("setValue",[t.customAttributes["data-name"],e]));var h=[n.params,r],d=Utils.getAsFunction(a);d.callable(h)},_addToRecentFonts:function(e){if(!/zwminor|zwmajor/.test(e.value)){var i=s.length;if(0===i){var n={id:"RecentFonts",label:J.i18n("writer.common.RECENT_FONTS"),itemType:"itemgroup",index:0};J("#zfontcombo-menu").zmenu("addMenuItem",n)}else{var a=s.indexOf(e.value);if(a!=-1){var r=t("#RecentFonts")[0],h=t("[data-value='"+e.value+"']")[0];return s.splice(0,0,s.splice(a,1)[0]),void r.nextSibling.parentNode.insertBefore(h,r.nextSibling)}if(i>=o){var d=s.splice(o-1,1)[0];J("#zfontcombo-menu").zmenu("removeMenuItem",t("[name='RecentFonts'][data-value='"+d+"']"))}}s.unshift(e.value);var c=l("RecentFonts",e.name,e.value);Utils.getCustomFont(e.name)&&(c.description="(Custom Font)",c.className+=" ui-zmenuitem-with-desc"),J("#zfontcombo-menu").zmenu("addMenuItem",c)}},_loadDropdown:function(){this._menu||this._createMenu(),this._completeMenuLoaded||(this._populateMenu(),this._completeMenuLoaded=!0)},setValue:function(e){if(!e||!e[0])return this._optArea.removeAttribute("title"),this.container.removeAttribute("aria-activedescendant"),this._setText(""),void this._includePlaceholder();var i=t("#"+this._menuID).find("[data-name='"+e[0]+"']");t("#zfontcombo-menu").zmenu("uncheckMenuItems");var s=t("#zfontcombo-menu [data-name='"+e[0]+"']");J("#zfontcombo-menu").zmenu("setMenuItemsAttribute",s,"checked",!0);var o,n;if((n=e[1])&&s.each(function(){this.setAttribute("data-zwvariantvalue",e[1])}),i.length)o=i.first()[0].getAttribute("data-label");else{var a,r=editorProps.fonts;for(var i in r)if(a=r[i],e===a.value){o=a.name;break}}this.options.selectedValue=e,this._updateText(o,n),this._valueSet=!0,this.options.triggerChange&&this._trigger("ONCHANGE",void 0,{value:e[0]})},_updateText:function(t,e){this._setText(t)},renderMenu:function(){this._loadDropdown()},_populateMenu:function(s,o){if(!s){n=!0;var a={100:"Thin",200:"Ultra Light",300:"Light",400:"Regular",500:"Medium",600:"Semibold",700:"Bold",800:"Extra Bold",900:"Black"};variantMenuObjects=[],menuId="zwvariantsMenu";for(var r in a)z={},z.id="zwf_variant"+r,z.label=a[r],z.value=r,z.itemType="radio",z.name="zwvariants",z.customAttributes={"data-value":r},variantMenuObjects.push(z);e.createMenu(menuId,variantMenuObjects,{contentType:"icon-text",checkedRadioItemSVGIconId:"zwmenu__checkedcheckbox zmenu__tick",menuitemclick:function(e,i){baseObj.textspan.innerText=t(i.forElement).data().label}});var h="fontSubMenuId",d=[];d.push({id:"fontLibrary",label:J.i18n("writer.common.FROM_FONT_LIBRARY"),itemtype:"button",value:"fontLibrary",action:FontLibrary.openFontLibraryDlg}),Macros.canCreateCustomFontSubMenu()&&d.push({id:"customFontMenu",label:J.i18n("writer.common.FROM_YOUR_COMPUTER"),itemtype:"button",value:"customFontMenu",action:UIUtils.openCustomFontSettingsDlg}),e.createMenu(h,d,{});var c=(editorProps.fonts,[{id:"ThemeFonts",label:J.i18n("writer.common.THEME_FONTS"),itemType:"itemgroup"},{itemType:"radio",name:"ThemeFonts",id:"minorFontOption",label:"(Body)",customAttributes:{"data-value":"zwminor","data-filter-label":"zwminor","data-name":"zwminor"},value:"zwminor"},{itemType:"radio",name:"ThemeFonts",id:"majorFontOption",label:"(Heading)",customAttributes:{"data-value":"zwmajor","data-filter-label":"zwmajor","data-name":"zwmajor"},value:"zwmajor"},{id:"AllFonts",label:J.i18n("writer.common.ALL_FONTS"),itemType:"itemgroup"}]);i.push("zwminor"),i.push("zwmajor");var p,u=extend({},editorProps.fonts),m=Utils.getUserCustomFonts();for(var _ in m)p=m[_],u[p.name.toLowerCase()]={name:p.name,value:p.value};for(var f,v,g=editorProps.userInfo.webFonts,b=0,y=g.length;b<y;b++)(f=g[b])&&((v=u[f])||(v=FontUtils.getWebFont(f))&&(f=v.getFontName(),u[f.toLowerCase()]={name:f,value:f}));for(var C,S,T=Object.keys(u).sort(),b=0,y=T.length;b<y;b++){S=u[T[b]],C=Utils.getCustomFont(S.name);var z=l("AllFonts",S.name,S.value);S.fallback&&(z.customAttributes["data-alternate-font"]=S.fallback.toLowerCase()),i.push(z.label.toLowerCase()),C&&(z.description="(Custom Font)",z.className+=" ui-zmenuitem-with-desc"),c.push(z)}var w=Macros.createAddFontButton();w&&(w.menuId="fontSubMenuId",c.push(w));var k=[];this._menu.zmenu("addMenuItems",c,function(t){k.push(t[0])}),DesignUI.updateFontCombo();var E=t("#"+menuId);return E.on("zmenubeforeshow",function(e,i){E.zmenu("uncheckMenuItems"),t(i.forElement).prop("checked")?checkedmenuitem=t(i.forElement)[0].getAttribute("data-zwvariantvalue"):checkedmenuitem=null,E.zmenu("hideMenuItems");var s=FontUtils.getWebFont(t(i.forElement).data().label),o=s.variants,n=[],a=[];for(var r in o)if(!/i$/.test(r)){var l="zwf_variant"+r;J("#"+l)[0].style.fontFamily=i.data.value,J("#"+l)[0].style.fontWeight=r,r===checkedmenuitem&&E.zmenu("setMenuItemsAttribute",[J("#"+l)],"checked",!0),!a.contains(s.family)&&a.push(s.family),n.push(l)}editor.addFonts(a,frames.metricsFrame),E.zmenu("showMenuItems",n)}),k}var M=this._constructResultSet(s);if(M.length){var c=this._constructMenuObject(M);c.length&&this._menu.zmenu("addMenuItems",c)}},destroy:function(){t("#zfontcombo-menu").removeData("isEventAdded"),this._super()}}),e.registerComponent("zcombo",t.zselectbox,{_create:function(t,e){this._super(t,e)}});var n=!1,a=function(t){return i.indexOf(t.toLowerCase())!==-1},r=function(e){for(var o=[],n=0,a=e.length;n<a;n++){var r=e[n].toLowerCase(),l=i.indexOf(r);if(l!==-1){var h=s.indexOf(r);h!==-1&&s.splice(h,1),i.splice(l,1),Utils.isCustomFont(r)&&(r=Utils.getCustomFont(r).name),o.push(t("#zfontcombo-menu [data-value='"+r+"']"))}}J("#zfontcombo-menu").zmenu("removeMenuItems",o)},l=function(t,e,i){var s,o={},n=i;if(o.itemType="radio",o.name=t,o.value=n,o.label=e,o.customAttributes={"data-value":n,"data-name":o.label.toLowerCase()},o.customAttributes.style="font-family:"+n,o.customAttributes["data-filter-label"]=e.toLowerCase(),"RecentFonts"===t&&(o.index=1),s=FontUtils.getWebFont(e))for(var a in s.variants)if(o.label=s.getFontName(),!/^(4|7)/.test(a)&&!/i$/.test(a)){o.splitmenu=!0,o.menuId="zwvariantsMenu";break}return o},h=function(t,e){if(!n&&J("#"+e).zfontcombo("renderMenu"),!a(t)&&"zwmajor"!==t&&"zwminor"!==t){var s=Utils.isCustomFont(t),o=Utils.getFontFamilies(t.toLowerCase());s&&(o=t);var r=l("AllFonts",t,o);i.push(r.label.toLowerCase()),s&&(r.description="(Custom Font)",r.className+=" ui-zmenuitem-with-desc"),J("#zfontcombo-menu").zmenu("addMenuItem",r)}},d=function(t,e,i){if(t&&i){t=t.split(",")[0],h(t,i);var s=Z(i),o=editor.doc.getSelection().getTargetRange(),n=o.isSameTextFormat(ATTR_TEXT.TS_FF,NODE_TYPE.TEXT);n?(J(".js-fontfamily-combo").removeClass("ui-fontfamily-combo-placeholder"),s.zfontcombo("setAttributes",{placeholder:""}),s.zfontcombo("setValue",[t.toLowerCase(),e])):(J(".js-fontfamily-combo").addClass("ui-fontfamily-combo-placeholder"),s.zfontcombo("setAttributes",{selectedIndex:-1,placeholder:"Multiple"}))}};return{addFont:h,removeFonts:r,updateFontFamily:d}}(jQuery,ZComponents);!function(t){var e=function(t,e){this.element=t,this.options=e,this._create()};e.prototype={_toolbarButtons:void 0,_lastRemovedButton:void 0,options:{widgetEventPrefix:"ztoolbar",enableAutoResize:!0},_eleArr:[],_ctypeElems:".ui-zoom-panel,.ui-hiddenslider,.ui-zslider-panel,.ui-zstate,.ui-zspinner,.ui-ztoggle",_create:function(){this._radioButtonAsMenu=!1,this.options.buttonsetLabelPosition=this.options.buttonsetLabelPosition||this.element.attr("buttonsetLabelPosition"),this.options=t.extend({},t.fn.ztoolbar.defaults,this.options),this.element.addClass("ui-ztoolbar-panel ui-ztoolbar-label-"+this.options.buttonsetLabelPosition),this._isDocumentResized=!1,this._fixToolbarWidth(),this._initItems(),this._eleArr=[],this._addEvents();var e=this,i=function(){e._onDocumentResized()};setTimeout(i,500)},widgetEventPrefix:"toolbar",_EVENTS:{ONINIT:"init",ONBUTTONCLICKED:"buttonclicked",ONTOOLBARSHRINK:"shrank",ONTOOLBAREXPAND:"expanded",ONBUTTONDOUBLECLICKED:"buttondblclicked",ONTOOLBARHIDE:"hide",ONTOOLBARSHOW:"show"},_addEvents:function(){var e=this;if(e.options.enableAutoResize){var i=function(){t(window).on("resize."+e.widgetName,t.debounce(500,function(t){e._onDocumentResized(t)}))};setTimeout(i,100)}this.element.on("click."+this.widgetName,function(t,i){t.data=i,e._fireEvent(t,e)}),this.element.on("dblclick."+this.widgetName,function(t,i){t.data=i,e._fireEvent(t,e)}),this._triggerEvent(this._EVENTS.ONINIT,!1,this.element)},_parseAndFixGroups:function(){var e=this.element.children("[ttype=group]");e.each(function(e,i){i=t(i);var s=i.children();s.each(function(e){var o=t(s[s.length-1-e]);o.insertAfter(i),o.attr("gname",i.attr("id"))}),i.remove()})},_initItems:function(){this._toolbarButtons=this.element.children();var e=t("<div>").addClass("ui-ztoolbar-inner-panel");this.element.append(e),this._toolbarButtons.each(function(t,i){e.append(i)}),this.innerPane=e;var i=this._toolbarButtons.filter(":not([ctype],select)"),s=this;i.each(function(e,i){var o=t(i),n=o.metadata();n.buttonset?(n.noseparator?o.addClass("ui-buttonset-nosep"):o.next().length||o.addClass("ui-buttonset-nosep"),o.zbutton({iconScope:"ui-components-toolbar-icon",labelPosition:s.options.buttonsetLabelPosition}),n.label&&"bottom"===s.options.buttonsetLabelPosition&&t("<span>").attr("class","ui-group-text").text(n.label).appendTo(o)):"custom"!==o.data("uitype")&&(o.is("select")?s._initCombo(o):o.zbutton({iconScope:"ui-components-toolbar-icon"}))});var o=this._toolbarButtons.children("select:not([ctype])");this._initCombo(o)},_initCombo:function(e){e.each(function(e,i){var s=t(i).metadata().componentOptions;t(i).zcombo(s)})},_registerShortcutkey:function(e){t.fn.shortcutkeys&&e.length&&(shortcut=t.fn.shortcutkeys.register(e))},_getLastEle:function(){return t(this.innerPane).children(":visible").last()},_fixToolbarWidth:function(){this.element.css("width",this.element.parent().width())},_getOffsets:function(t){t||(t=this._getLastEle());var e=t.length>0?Math.round(t.offset().left+t.outerWidth()):0,i=Math.round(this.element.width()+this.element.offset().left);return{buttonEnd:e,toolbarEnd:i}},_isInBounds:function(t){var e=this._getOffsets();return e.toolbarEnd>e.buttonEnd},_onDocumentResized:function(){return this.element.is(":hidden")||!t(this.innerPane).is(":visible")?void(this._isDocumentResized=!0):(this._fixToolbarWidth(),void(this._isInBounds()?(this._expandToolbar(),this._triggerEvent(this._EVENTS.ONTOOLBAREXPAND,!1,this.element)):(this._shrinkToolbar(),this._triggerEvent(this._EVENTS.ONTOOLBARSHRINK,!1,this.element))))},resizeTooolbar:function(){this._onDocumentResized()},_isButtonInButtonSet:function(e){return!!e.length&&(t(e).parent().hasClass("ui-button-splitbutton")?t(e).parent().parent().metadata().buttonset:t(e).parent().metadata().buttonset)},_isButtonSet:function(t){return t.metadata().buttonset},_addExtendedMenuButton:function(e){if(!this.extendMenuButton){var i=this._getLastVisibleButton();this.extendMenuButton=t("<button class='ui-ztoolbar-splitmenu'>"+t.i18n("zcommon","moreoptions.label")+"</button>"),this.extendMenuButton.attr("data","{'text': false, 'icons':{'primary': 'ui-icon-carat-1-e'}}"),this.extendMenuButton.zbutton();var s=this.element.attr("id")+"Menu";this.extendMenuButton.attr("popup",s),this.extendedMenuPopup=ZComponents.createMenu(s,t(e)),this.extendMenuButton.css("width","16px"),this.extendMenuButton.appendTo(t(i).parent())}},_removeExtendedMenuButton:function(){this.extendedMenuPopup.zmenu("destroy").remove(),this.extendMenuButton.button("destroy").remove(),this.extendedMenuPopup=this.extendMenuButton=void 0},_shrinkToolbar:function(){if(!this._isInBounds()){var e=this._getButton();if(!e.length)return;if(this._eleArr.push(e),this._isButtonInButtonSet(e)){var i=e.parent();i=i.metadata().innerButtonset?i.parent():i,i.hasClass("ui-button-splitbutton")&&(i=i.parent());var s=i.attr("id");if(i.hasClass("ui-zbutton-radioset")){i.zbutton("shrinkButtonSetAsMenu",i),this._eleArr.pop(e),this._eleArr.push(i);var o=s+"Menu",n=o+"Button";t("#"+o).off("menuitemclicked").on("menuitemclicked",function(t,e){var s=e.menuitem.metadata();i.zbutton("changeIcon",{primary:s.icons.primary+" ui-components-toolbar-icon"},n),i.zbutton("changeLabel",s.label,n)})}else i.zbutton("shrinkButtonSet",[e]);t("#"+s).off("element_state_changed").on("element_state_changed",function(e,i){var o=!i.disabled;t("#"+s+"Menu").zmenu("disableMenuItem","shrinked_menuitem_"+t(e.target).attr("id"),o);var n=!!i.checked;t("#"+s+"Menu").zmenu("check","shrinked_menuitem_"+t(e.target).attr("id"),n)})}else{var a=e.zbutton("getAsObject",e,!0);e.metadata().alteredId=a.id,this.extendMenuButton?this.extendedMenuPopup.zmenu("addMenuItem",a,0):this._addExtendedMenuButton(a),e.hide();var r=this;e.off("element_state_changed").on("element_state_changed",function(e,i){var s=!i.disabled;r.extendedMenuPopup.zmenu("disableMenuItem","shrinked_menuitem_"+t(this).attr("id"),s);var o=!!i.checked;r.extendedMenuPopup.zmenu("check","shrinked_menuitem_"+t(this).attr("id"),o)})}this._shrinkToolbar()}},_expandToolbar:function(){if(this._eleArr&&this._eleArr.length>0){var e=t(this._eleArr[this._eleArr.length-1]),i=e.outerWidth(!0),s=0;if(this.innerPane.children(":visible").each(function(){s+=t(this).outerWidth(!0)}),s+i<this.element.width()){if(this._isButtonSet(e))e.zbutton("expandButtonSet",[e],!0),e.hasClass("ui-zbutton-radioset")&&(this._radioButtonAsMenu=!1);else if(this._isButtonInButtonSet(e)){var o=e.parent();o.hasClass("ui-button-splitbutton")?o.parent().zbutton("expandButtonSet",[e]):o.metadata().innerButtonset?o.parent().zbutton("expandButtonSet",[e]):o.zbutton("expandButtonSet",[e])}else e.show(),this.extendedMenuPopup.zmenu("removeMenuItem",e.metadata().alteredId);this._eleArr.splice(this._eleArr.length-1,1),this._expandToolbar()}}this.extendedMenuPopup&&0==this.extendedMenuPopup.zmenu("getItemCount")&&this._removeExtendedMenuButton()},_isSplitButton:function(t){return t.is("div.ui-buttonset")},_getLastVisibleButton:function(){return t(this.innerPane).children(".ui-button:visible:not(.ui-buttonset-sep,.ui-splitbutton,.ui-ztoolbar-splitmenu)").last()},_getButton:function(){var e="",i=void 0,s="",o=(this._radioButtonAsMenu?".ui-buttonset:visible:not(div.ui-button-splitbutton)":".ui-zbutton-radioset:visible",this._radioButtonAsMenu?".ui-buttonset":".ui-zbutton-radioset"),n=t(this.innerPane).children(o+",.ui-zbutton-group:visible:not(.ui-buttonset-sep,div.ui-button-splitbutton)");if(t(n.get().reverse()).each(function(e,o){if(!i){var n=t(o);if(n.is(".ui-buttonset")){var a=n.children(":visible:not(.ui-group-text,.ui-buttonset-sep,.ui-extended-buttonset,input,.ui-buttonset-label, .ui-zcombo)");n.metadata().mainButtonset?t(a).each(function(e,o){if(s=t(o),s.children(":visible:not(.ui-group-text,.ui-buttonset-sep,.ui-extended-buttonset,input,.ui-buttonset-label, .ui-zcombo)").length>1)return void(i=s)}):s=n}else s=n;return s&&s.children(":visible:not(.ui-group-text,.ui-buttonset-sep,.ui-extended-buttonset,input,.ui-buttonset-label, .ui-zcombo)").length>1?void(i=s):void 0}}),i&&(e=i.hasClass("ui-button")?i:i.children(":visible:not(.ui-group-text,.ui-buttonset-sep,.ui-extended-buttonset,.ui-buttonset-label, input)").last()),!e.length){if(!this._radioButtonAsMenu)return this._radioButtonAsMenu=!0,this._getButton();e=this._getLastVisibleButton()}return!!e.length&&e},_getCorrespondingToolbarButton:function(e){var i=e;do{if(t.inArray(i,this._toolbarButtons))return i;i=i.parent()}while(i==this.element)},_fireEvent:function(e,i){var s=t(e.target),o=s.is("input")?s:s.closest(".ui-button");o.is(":not(input)")&&o.is(":not(button)")||o.is(":disabled")||this._triggerEvent(this._getEvent(e),e,o)},_getEvent:function(t){var e=void 0;switch(t.type){case"click":e=this._EVENTS.ONBUTTONCLICKED;break;case"mouseover":e=this._EVENTS.ONMOUSEOVER;break;case"mouseout":e=this._EVENTS.ONMOUSEOUT;break;case"dblclick":e=this._EVENTS.ONBUTTONDOUBLECLICKED}return e},_getGroupBtnAsObj:function(t,e){var i=t.attr("data"),s={};return s.data=i,s.label=t.metadata().label,e?s.submenu="#"+t.parent().attr("id")+"menu":s.mtype="group",s},_filterCtypeElems:function(e){var i=[];return t.each(e,function(e,s){var o=t(s).parent();(o.hasClass("ui-zbutton-group")||o.hasClass("ui-buttonset"))&&i.push(s)}),i},_initAsMenu:function(){var t=this.element.parent().parent().find("a[href='#"+this.element.attr("id")+"']").parent().find(".ui-ztab-dropdown");if(t){var e=this.getToolbarAsMenu();e.attr("relativeto","parent"),t.attr("popup",t.attr("toolbar")),t.removeAttr("toolbar")}},getToolbarAsMenu:function(){var e=t(this.element.children()[0]).children(":not([ctype],select,"+this._ctypeElems+",.ui-zcolorchooser)"),i=t(this.element).attr("id")+"menu",s=this;this._menuArray=new Array,t(e).each(function(e,i){var o=t(i),n=o.children().filter(":not([ctype],select,"+s._ctypeElems+",.ui-zcolorchooser,.ui-zslider-panel,.ui-buttonset-sep,.ui-buttonset-sub-sep,.ui-zcombo,.ui-buttonset-label,.ui-group-text)").length;o.hasClass("ui-buttonset")&&!n||"custom"===o.data("uitype")||s.getButtonAsObj(o,void 0)});var o=ZComponents.createMenu(i,this._menuArray,{positionAlterable:!1,menuClass:"ui-ztab-toolbar-menu"});o.on("menuitemiconchange",function(e,i){var s=i.menuitem.metadata().relatedButton,o=t(s);o.parent().hasClass("ui-buttonset")?o.parent().zbutton("changeIcon",i.icon,s):o.zbutton("changeIcon",i.icon)}).on("menuitemlabelchange",function(e,i){var s=i.menuitem.metadata().relatedButton,o=t(s);o.parent().hasClass("ui-buttonset")?o.parent().zbutton("changeLabel",i.label,s,!0):o.zbutton("changeLabel",i.label,void 0,!0)}).on("menuitemhovered",function(e,i){t.ZContextMenu.displayMenuComponents(e,i)});var n=this.element.parent().parent().find("a[href='#"+this.element.attr("id")+"']").parent();return o.data("tabId",n.attr("id")),this._initButtonsEvents(this.element,o),o},getGroupAsObj:function(e,i,s){var o=this;e=e.filter(":not([ctype],select,"+o._ctypeElems+")"),t(e).each(function(t,e){o.getButtonAsObj(e,i,s)})},getButtonAsObj:function(e,i){var s=this,o=t(e),n=void 0,a=o.metadata(),r=o.hasClass("ui-buttonset")&&!o.hasClass("ui-button-splitbutton");if(r){var l=o.next(),h=!!a.innerButtonset&&!!o.next(":not(.ui-buttonset-sep)").length,d=o.children(":not([ctype],select,"+s._ctypeElems+",.ui-extended-buttonset,.ui-group-text,.ui-buttonset-label,.ui-buttonset-sep,.ui-buttonset-sub-sep,.ui-zcolorchooser,.ui-zcombo)");"bottom"!==this.options.buttonsetLabelPosition||i?"left"===this.options.buttonsetLabelPosition&&(i||a.mainButtonset||d.children().length&&(n=o.zbutton("getAsObject",void 0,!1,s.options.setGroupAsSubmenu),n.mtype="group",s._menuArray.push(n))):d.children().length&&(n=o.zbutton("getAsObject",void 0,!1,s.options.setGroupAsSubmenu),n.mtype="group",s._menuArray.push(n)),t(d).each(function(e,o){o=t(o);var a=void 0,r=!1;if(!o.is("input")&&!o.is("select")){if(i)a=i;else if(o.hasClass("ui-button")||o.hasClass("ui-button-splitbutton"))a=o.parent();else{if(!o.hasClass("ui-buttonset"))return;a=o.parent(),r=!0}if(n=a.zbutton("getAsObject",o,!1,s.options.setGroupAsSubmenu),o.hasClass("ui-buttonset-container")||(n.externalAssociation=o,o.data("associatedMenuItem",n.id),s._menuArray.push(n)),r){if("left"===s.options.buttonsetLabelPosition){var l=o.children(":not([ctype],select,"+s._ctypeElems+",.ui-extended-buttonset,.ui-group-text,.ui-buttonset-label,.ui-buttonset-sep,.ui-buttonset-sub-sep,.ui-zcolorchooser,.ui-zcombo)");l.length&&(n.mtype="group",s._menuArray.push(n))}s.getButtonAsObj(o,a)}}});var c=l.children().filter(":not([ctype],select,"+s._ctypeElems+",.ui-zcolorchooser,.ui-zcombo,.ui-buttonset-label,.ui-group-text)"),p=o.children().filter(":not([ctype],select,"+s._ctypeElems+",.ui-zcolorchooser,.ui-buttonset-sep,.ui-icon-dot-separator,.ui-zcombo,.ui-buttonset-label,.ui-group-text)");if(!l.hasClass("ui-zcombo")&&!l.is("select")&&!l.hasClass("ui-buttonset-sep")&&c.length&&p.length){var u=l.metadata();u.buttonset?u.label||s._menuArray.push({mtype:"separator",isGroupSep:h}):s._menuArray.push({mtype:"separator",isGroupSep:h})}}else{if(o.hasClass("ui-ztoolbar-splitmenu"))return;if(!o.hasClass("ui-zcombo")){var m=o.hasClass("ui-button-splitbutton")?o.children("button:first"):o;if(m.is("input"))return;n=m.zbutton("getAsObject"),n.externalAssociation=m,m.data("associatedMenuItem",n.id),s._menuArray.push(n)}}},_initButtonsEvents:function(t,e){t.on("buttoniconchange",function(t,i){i.button.data("association")&&e.zmenu("changeIcon",i.button.data("association"),i.icons.primary)}).on("buttonlabelchange",function(t,i){i.button.data("association")&&e.zmenu("changeLabel",i.button.data("association"),i.label)})},_triggerEvent:function(t,e,i){e||(e=t);var s={target:i};e.data&&(s.eventData=e.data),ZComponents._trigger(t,e,s)},destroy:function(){this.element.off("."+this.widgetName),this.element.off("click."+this.widgetName),this.element.off("mouseover."+this.widgetName),this.element.off("mouseout."+this.widgetName)},_getGroupButtons:function(e){var i=t("[gname="+e+"]",this.element);return i},_hideButton:function(e,i){var s="string"==typeof e?t("#"+e,this.element):t(e),o=this._getElementType(s),n=i?"show":"hide";o?t(s)[o]("widget")[n]():t(s)[n]()},_hideButtons:function(t,e){var i=this;t.each(function(t,s){i._hideButton(s,e)})},_hideGroup:function(t,e){var i=this._getGroupButtons(t);this._hideButtons(i,e)},showGroup:function(t){this._hideGroup(t,!0)},hideGroup:function(t){this._hideGroup(t)},hideButton:function(t){this._hideButton(t)},showButton:function(t){this._hideButton(t,!0)},hideButtons:function(e){var i=this;t(e).each(function(t,e){i._hideButton(e)})},showButtons:function(e){var i=this;t(e).each(function(t,e){i._hideButton(e,!0)})},_getElementType:function(t){return(t.is("input")||t.is("select"))&&(t=t.next()),t.is(".ui-zcombo")?"zcombo":t.is(".ui-button")?"button":void 0},_disableButton:function(e,i){var s="string"==typeof e?t("#"+e,this.element):t(e),o=this._getElementType(s);o?s[o](i?"enable":"disable"):s[i?"enable":"disable"]();var n=s.data("menuButton");n&&n.zbutton(i?"enable":"disable");var a={element:s,disabled:!i};s.removeClass("ui-state-hover"),s.trigger("element_state_changed",a)},_disableButtons:function(t,e){var i=this;t.each(function(t,s){i._disableButton(s,e)})},_disableGroup:function(t,e){var i=this._getGroupButtons(t);this._disableButtons(i,e)},enableGroup:function(t){this._disableGroup(t,!0)},disableGroup:function(t){this._disableGroup(t)},disableButton:function(t){this._disableButton(t)},enableButton:function(t){this._disableButton(t,!0)},disableButtons:function(e){var i=this;t(e).each(function(t,e){i._disableButton(e)})},enableButtons:function(e){var i=this;t(e).each(function(t,e){i._disableButton(e,!0)})},checkAndFixToolbar:function(){this._onDocumentResized()},_disable:function(e){var i=this.getToolbarButtons();this._disableButtons(i,!!e);var s=this.element.find("[ctype]");t.each(s,function(i,s){t(s)[t(s).attr("ctype")](e?"enable":"disable")});var o=this.element.find("select");t.each(o,function(i,s){t(s).data("zcombo")&&t(s).zcombo(e?"enable":"disable")})},disable:function(){this._disable()},enable:function(){this._disable(!0)},getToolbarButtons:function(){var e=t(this.element).find("label.ui-button").not(".ui-buttonset-label").prev("input"),i=t(this.element).find("button.ui-button").not(".ui-buttonset-label");return e.push(i),t(e)},setExcludeElements:function(t,e){t&&(e?this._ctypeElems=t:this._ctypeElems=this._ctypeElems+t)},show:function(){var e=this,i=this.element.parent();i.removeClass("ui-ztab-toolbar-border").animate({height:i.data("tabHeight")},100,void 0,function(){e._triggerEvent(e._EVENTS.ONTOOLBARSHOW,t(e))})},hide:function(){var e=this.element.parent();e.css("height","").data("tabHeight",e.innerHeight()).addClass("ui-ztab-toolbar-border");var i=this;e.animate({height:0},100,void 0,function(){i._triggerEvent(i._EVENTS.ONTOOLBARHIDE,t(i))})}},t.fn.ztoolbar=function(){var i=ZComponents.createComponent({element:t(this),component:e,componentName:"ztoolbar",parameters:arguments});return i},t.fn.ztoolbar.Constructor=e,ZComponents.createToolbar=function(e){return element=t("<input>").attr("id",e.id),e.customAttributes&&element.attr(e.customAttributes),e.appendTo&&element.appendTo(t(e.appendTo)),element.ztoolbar(e)},t.fn.ztoolbar.defaults={buttonClickedEvent:"toolbar_button_clicked",valueChangedEvent:"combo_value_changed"}}(jQuery),function(t,e){var i={options:{eventPrefix:"zvalidation"},validateNow:!1,validationObj:{},componentEvents:{ztabpanel:"ztabpanelswitch",zspinner:"zspinnerchange",znumberfield:"znumberfieldchange",zbuttonset:"zbuttonsetchange",zslider:"zsliderchange",zcolorpalette:"zcolorpaletteselect",zcolorpicker:"zcolorpickerchange",zadvancedcolorpicker:"zadvancedcolorpickerchange",zselectbox:"zselectboxchange",zcombobox:"zcomboboxchange",zstatebutton:"statechange",zspinnerslider:"zspinnersliderchange",zcolorfield:"zcolorfieldselected",zmenu:"zmenuitemclick",zlinearprogress:"zlinearprogresschange",zcircularprogress:"zcircularprogresschange",zsuggestfield:"change",ztokenfield:"ztokenfieldchange",zcombo:"combochange"},_REGEX:{name:/^[A-Za-z0-9_.]+$/,nameWithSpace:/^[A-Za-z0-9_.\s]+$/,email:/^[a-zA-Z0-9]([\w\-\.\+]*)@([\w\-\.]*)(\.[a-zA-Z]{2,8}(\.[a-zA-Z]{2}){0,2})$/,url:/^((ht|f)tp(s?)|(HT|F)TP(S?))\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\:\'\/\\\+=&amp;%\$#_]*)?$/i,date:/^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])\/((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\/(0[13456789]|1[012])\/((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\/02\/((19|[2-9]\d)\d{2}))|(29\/02\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/,nonEmpty:/\S/},_create:function(){var e=this.options.validationOptions||this.options;this.options=t.extend({},t.fn.zvalidation.defaults,e),this.element.find("input[type=text]").attr("autocomplete","off"),this.bindEvents()},bindEvents:function(){var e=this,i=t(this.element.find("input, textarea, button").get(0)),s=this.element.find("input[tabindex], textarea[tabindex], button[tabindex]");if(s.length){var i=t(s.get(0)),o=i.prop("tabindex");s.each(function(e,s){t(s).prop("tabindex")<o&&(i=t(s),o=t(s).prop("tabindex"))})}i.focus();var n=this.element,a=this.options,r=a.submitButton,l=t(n).find("[data]");a.interactive&&l.on("blur",function(i){var s=t(i.target);if(e.beforeValidate(s),!r&&(e.validationObj=e.getValidationObj(l),e.options.validate)){var o=e.options.validate(e.validationObj);if(!o)return!1}});var h=t(n).find("[ctype]").not("[ctype=zstatebutton]");t.each(h,function(i,s){var o=t(s).attr("ctype"),n=e.componentEvents[o];n&&t(s).metadata().validateOptions&&t(s).on(n,function(i,n){var a=n?n.value:this.value;/^(zselectbox|zcombobox)$/.test(o)?a=n.selectedValue:"zmenu"===o?a=t(n.menuitem)[0]:"zstatebutton"===o?a=n.checked:"zcolorpalette"===o?a=n.selectedColor:"ztokenfield"===o?a=n.value.currentTokenList:"ztabpanel"===o&&(a=n.activeTab),e.isEmpty(a)?e.showErrorMessage(t(s)):e.hideErrorMessage(t(s))})});var d=t(n).find("input[type=radio],input[type=checkbox]");d.on("click",function(t){e.validateNonComponentField(t)}),t(n).find("select:not([ctype])").on("change",function(t){e.validateNonComponentField(t)}),r&&r.on("click",function(t){e.validateNow=!0;var i=e.validateAllFields(n);if(!i)return!1;if(a.validate){e.validationObj=e.getValidationObj(l);var s=e.options.validate(e.validationObj);if(!s)return!1}})},bindKeyDown:function(e){var i=this;e.off("keydown.zv").on("keydown.zv",function(e){var s=t(e.target);s.attr("modified",!0),window.setTimeout(function(){i.beforeValidate(s)},1)})},beforeValidate:function(t){if(!t.attr("ctype")){var e=!0;if(this.isEmpty(t.val())){if(t.is("[valuemodified=true]")){var i=t.metadata()&&t.metadata().validateOptions;this.showErrorMessage(t,i&&i.required?"required":null),e=!i||!i.required}}else t.attr("valuemodified",!0),e=this.validateField(t);return e}},getValidationObj:function(e){var i=this;return t.each(e,function(e,s){t(s).is("input[type=radio]")||t(s).is("input[type=checkbox]")||(i.validationObj[t(s).attr("name")]=t(s).val())}),i.validationObj},validateNonComponentField:function(e){if(this.validateNow){var i=t(e.target);if(!i.is("select")){var s="input[type="+i.attr("type")+"][name="+i.attr("name")+"]:first";i=t(this.element).find(s)}this.validateField(i)?this.hideErrorMessage(i):this.showErrorMessage(i)}},showErrorMessage:function(e,i,s){var o=e.metadata().validateOptions;if(i=i?i:o.required,s||(s="object"==typeof o.message&&o.message[i]?o.message[i]:"required"!=i?o.message:this.options.requiredMessage),i){e.addClass("ui-validation-error");var n=this.getRelativeToEle(e),a=n.next("label.ui-validation-error-message");if(a.show(),!a.length){var r="string"==typeof e.attr("id")?e.attr("id"):e.attr("name");a=t("<label>").attr("for",r).addClass("ui-validation-error-message"),a.insertAfter(n)}a.text(s),e.focus()}else this.hideErrorMessage(e)},getRelativeToEle:function(t){var e=t.metadata().validateOptions.relativeTo;if(e){for(var i=e.split("."),s=t,o=0;o<i.length;o++){try{var n=s[i[o]]();if(!n||!n.length)break}catch(t){break}s=n}s&&(t=s)}return t},hideErrorMessage:function(t){t.removeClass("ui-validation-error");var e=this.getRelativeToEle(t),i=e.next("label.ui-validation-error-message");i.length&&i.hide()},validateAllFields:function(e){var i=t(e).find("[data]:visible"),s=!0,o=!0,n=this;return t.each(i,function(e,i){t(i).metadata().validateOptions&&(s=n.validateField(t(i)),s||(o=!1))}),o},validateField:function(e){e.attr("modified")||this.bindKeyDown(e);var i=e.metadata().validateOptions;if("object"==typeof i){var s=e.val(),o=!0,n=!1,a=e.attr("ctype");"zstatebutton"!=a&&void 0!=a&&(s=e[a]("getValue"));var r=e.is("input[type=radio]")||e.is("input[type=checkbox]"),l=!this.isEmpty(s)&&!(r&&!i.required);if(l){switch(i.type){case"number":o=this.isNumberOnly(s);break;case"name":o=this.isValidName(s),o&&(o=this.hasValidLength(s,i),n=!0);break;case"email":o=this.isValidEmail(s);break;case"url":o=this.isValidURL(s);break;case"regex":o=this.checkRegex(s,i);break;case"radio":case"checkbox":o=this.isChecked(e)}o?this.hideErrorMessage(e):this.showErrorMessage(e,n?"length":"invalid")}else if(i.required)o=!1,this.showErrorMessage(e,"required");else if(r){var h="input[type="+e.attr("type")+"][name="+e.attr("name")+"]";t.each(t(this.element).find(h),function(e,i){base.validationObj[t(i).attr("name")]=t(i).is(":checked")})}return o}},isEmpty:function(t){var e=this._REGEX.nonEmpty;return t.toString().search(e)==-1},isValidName:function(t){var e=this._REGEX.name;return e.test(t)},isNumberOnly:function(t){return!isNaN(t)},checkRegex:function(t,e){var i="/",s=e.regex;return s instanceof RegExp||(s=0==s.indexOf(i)?s.substring(i.length):s,s=s.lastIndexOf(i)==s.length-1?s.substring(0,s.length-1-i.length):s,s=new RegExp(s)),!s||s.test(t)},hasValidLength:function(t,e){return!(e.minlength&&t.length<e.minlength)&&!(e.maxlength&&t.length>e.maxlength)},isValidEmail:function(t){var e=this._REGEX.email;return e.test(t)},isValidURL:function(t){var e=this._REGEX.url;return e.test(t)},isValidDate:function(t){var e=this._REGEX.date;return e.test(t)},isChecked:function(e){var i="input[type="+e.attr("type")+"][name="+e.attr("name")+"]",s=(this.element.find(i),this.element.find(i+":checked").length),o=!1;if(t(e).is("input[type=radio]"))o=s>0,o&&(this.validationObj[t(e).attr("name")]=t(e).attr("value"));else if(o=e.metadata().validateOptions.length?s>=e.metadata().validateOptions.length:s>0){var n=this;t.each(n.element.find(i+":checked"),function(e,i){n.validationObj[t(i).attr("name")]?n.validationObj[t(i).attr("name")]+=","+t(i).attr("value"):n.validationObj[t(i).attr("name")]=t(i).attr("value")})}return o}};e.registerComponent("zvalidation",i),e.initValidation=function(e){return element=t("<input>").attr("id",e.id),e.customAttributes&&element.attr(e.customAttributes),e.appendTo&&element.appendTo(t(e.appendTo)),element.zvalidation(e)},t.fn.zvalidation.defaults={requiredMessage:"This field is required",submitButton:void 0,interactive:!0}}(jQuery,ZComponents),jQuery(function(t){function e(e,i,n){var a=e.data("menuButton");a&&a.button(i?"disable":"enable"),e=t(e);var r=void 0,l=void 0;if(e.is(".zmenu__item")?(r=t(e.parents(".zmenu").get(0)),l="zmenu"):(r=e.is("[ctype]")?e:t(e.parents("[ctype]").get(0)),l=r.attr("ctype")),!r.length)return!1;switch(l){case"ztoolbar":r[l](i?"disableButton":"enableButton",e.attr("id"));break;case"zmenu":r.data(l)?r[l]("setMenuItemsAttribute",[e],"disabled",i):i?e.attr("disabled",!0):e.removeAttr("disabled");break;case"zbutton":case"zmenubutton":case"zsplitbutton":i?s(e):o(e);break;default:return!!e.is("[ctype]")&&(e[e.attr("ctype")](i?"disable":"enable"),!0)}return!0}function i(e,i,s){return!!e.is(".zbutton")&&(t(e).each(function(e,s){s=t(s);var o=s.attr("ctype");o=o?o:"zbutton",s[o]("setAttribute","disabled",!i)}),!0)}function s(e){i(e)||t(e).is(":disabled")||(t(e).prop("disabled",!0),t(e).addClass("is-disabled"),h[d]=t(e),d++)}function o(e,s){i(e,!0)||(s?n(e):t(e).removeAttr("disabled"),t(e).removeClass("is-disabled"))}function n(e){t(h).each(function(e,i){t(i).removeAttr("disabled")})}function a(t){return t.is("input")||t.is("button")||t.is("select")||t.is("textarea")?t.is(":disabled"):t.hasClass("is-disabled")}function r(t,e,i){i=i?i:{},i.element=t,i.disabled=e,t.trigger("element_state_changed",i)}function l(e,i,s,o,n){1===e.length?c(e,i,s):e.each(function(e,o){c(t(o),i,s)}),(void 0==o||o)&&r(e,i,n)}var h=[],d=0,c=function(n,a,r,l){if(!e(n,a)){if(!r)return void(a?s(t(n)):o(t(n),!0,void 0,l));var h=t(n).find("[ctype]");t(h).each(function(e,s){s=t(s);var o=s.attr("ctype");i(s,!a)||s[o](a?"disable":"enable")}),h=t(n).find("select,div,button,input:not([ctype]):not(.ui-widget)"),t(h).each(function(e,i){i=t(i);var r=i.closest(".ui-widget");n.has(r[0]).length||(a?s(i):o(i,l))}),a?s(n):o(n)}};t.fn.isDisabled=function(){var e=t(this);return a(e)},t.fn.disable=function(e,i,s){l(t(this),!0,e,i,s)},t.fn.enable=function(e,i,s,o){l(t(this),!1,e,i,s)}}),function(t,e){var t=e.DOMUtil,i={options:{value:"rgba(0,0,0,1)",type:"selectbox",colorModel:"auto",pickerId:void 0,pickerOptions:{},pickerType:"basic",appliedFor:"fill",icon:!1,iconClassName:void 0,SVGIconId:void 0,arrowIcon:!0,arrowIconClassName:void 0,arrowSVGIconId:void 0,className:void 0,disabled:!1,previewBorderStyle:void 0,previewBorderWidth:void 0,resetPickerOptions:!1},_EVENTS:{ONCHANGE:"change",ONSELECT:"select",ONBEFOREOPEN:"beforepickeropen",ONPICK:"pick",ONOPEN:"pickeropen",ONBEFORECLOSE:"beforepickerclose",ONCLOSE:"pickerclose",ONCOLORMOUSEOVER:"colorpanmouseover",ONCOLORMOUSEOUT:"colorpanmouseout",ONCOLORPANCLICK:"colorpanclick",ONBEFOREFOCUS:"beforefocus",ONFOCUS:"focus",ONBLUR:"blur",ONCLICK:"click",ONARROWCLICK:"arrowclick"},_REGEX:{colorMode:/^(rgb|rgba|hsl|hsla|hsv|hsva|hex|hex8|cmyk)$/},_CLASS:{DISABLED:"is-disabled",ARROW:"zcolorfield__arrow",WITHOUTARROW:"zcolorselect--withoutarrow",PREVIEW:"zcolorfield__colorpreview",SELECTBOXCONTAINER:"zselectbox zcolorselect zselectbox--icononly",SELECTBOXOPTAREA:"zselectbox__selected",SELECTBOXICON:"zselectbox__icon",SPLITBUTTONCONTAINER:"zbutton--split zcolorbutton zbutton--splitnormal",BUTTON:"zbutton",ICONONLYBUTTON:"zbutton--icononly",BUTTONICON:"zbutton__icon",SELECTBOXPREVIEW:"zcolorselect__preview",SPLITBUTTONPREVIEW:"zcolorbutton__preview",TRANSPARENTBG:"h-transparentbg"},_TEMPLATE:{SPLITBUTTONARROW:'<svg class="zbutton__svg zbutton__splitarrow" viewBox="0 0 48 48" width="100%" height="100%"> <path class="cls-1" d="M12,19.478L15.571,16l9.286,9.739L34.143,16,37,19.478,24.857,32Z"></path> </svg>',SELECTBOXARROW:'<svg class="zselectbox__arrow" viewBox="0 0 48 48" width="100%" height="100%"> <path class="cls-1" d="M12,19.478L15.571,16l9.286,9.739L34.143,16,37,19.478,24.857,32Z"></path> </svg>'},_create:function(t,e){this.element.hide(),this._frominit=!0,this._namespace="."+this.componentName,this._constructContainer(),this._setInitial(),this._bindEvents(),this._frominit=!1},_bindEvents:function(){this.container.on("focusin"+this._namespace,this._onFocus.bind(this)).on("click"+this._namespace,this._onClick.bind(this)).on("focusout"+this._namespace,this._onBlur.bind(this)),this._toggler.on("mousedown"+this._namespace,this._togglePicker.bind(this)).on("keydown"+this._namespace,this._onKeyDown.bind(this))},_onKeyDown:function(t){var i=t.keyCode;i!==e.keyCode.DOWN&&(i!==e.keyCode.ENTER||"splitbutton"===this.options.type)||this._lastActiveColorField===this.element[0]&&this._picker&&this._picker.is(":visible")||this._open(void 0,t)},_onFocus:function(t){"splitbutton"!==this.options.type&&this.container.addClass("has-focus"),this._trigger("ONFOCUS",t)},_onBlur:function(t){this.container.removeClass("has-focus"),this._trigger("ONBLUR",t)},_onClick:function(t){this._trigger("ONCLICK",t)},_constructContainer:function(){this._previewBox=this._createPreviewIcon(),"splitbutton"===this.options.type?(this.container=t("<div class='"+this._CLASS.SPLITBUTTONCONTAINER+"'><button class='"+this._CLASS.BUTTON+"  "+this._CLASS.ICONONLYBUTTON+"'></button><button class='"+this._CLASS.BUTTON+"  "+this._CLASS.ICONONLYBUTTON+"'></button></div>"),t(this.container[0].children[0]).append(this._previewBox),this._arrowButton=t(this.container[0].children[1]),this._arrowButton.append(this._createArrowIcon()).attr("aria-haspopup",!0),this._toggler=this._arrowButton):(this.container=t('<div class="'+this._CLASS.SELECTBOXCONTAINER+'"> <div class="'+this._CLASS.SELECTBOXOPTAREA+'"></div></div>'),this.container.find("."+this._CLASS.SELECTBOXOPTAREA).append(this._previewBox),this.options.arrowIcon?(this._arrowIcon=this._createArrowIcon(),this.container.append(this._arrowIcon)):this.container.addClass(this._CLASS.WITHOUTARROW),this._toggler=this.container,this._setTabIndex()),this.options.className&&this.container.addClass(this.options.className),this.container.insertAfter(this.element)},_setTabIndex:function(){void 0===this.element.attr("tabindex")&&this.container.attr("tabindex",0)},_createIcon:function(i,s,o){var n=t('<i class="'+("splitbutton"===this.options.type?this._CLASS.BUTTONICON:this._CLASS.SELECTBOXICON)+'">');return i||s?e.createIcon(n,i,s):n[0].innerHTML=o,n},_createArrowIcon:function(){return this._createIcon(this.options.arrowIconClassName,this.options.arrowSVGIconId,this._TEMPLATE["splitbutton"===this.options.type?"SPLITBUTTONARROW":"SELECTBOXARROW"]).addClass(this._CLASS.ARROW)},_createPreviewIcon:function(){var e=t("<span>",{class:"splitbutton"===this.options.type?this._CLASS.SPLITBUTTONPREVIEW:this._CLASS.SELECTBOXPREVIEW});this.options.icon||"stroke"===this.options.appliedFor||e.addClass(this._CLASS.TRANSPARENTBG).append(t("<canvas>"));var i;return i=this.options.icon?this._createIcon(this.options.iconClassName,this.options.SVGIconId):t('<i class="'+("splitbutton"===this.options.type?this._CLASS.BUTTONICON:this._CLASS.SELECTBOXICON)+'">'),e.append(i)},_setInitial:function(){var e=this.options;(this.element[0].disabled||e.disabled)&&this._setAttribute("disabled",!0),this.element[0].title&&this.container.attr("title",this.element[0].title);var i=this.element[0].style.display;this.element[0].style.display="";var s=this.element.attr("style");this.element[0].style.display=i,s&&this.container.attr("style",s);var o=this._getClrInstance(e.value),n=this.element.attr("value");n&&(e.value=n),e.value="none"===e.value||o.isValid()?e.value:t[this.componentName].prototype.options.value,o=this._getClrInstance(e.value),this._colorMode=this._REGEX.colorMode.test(e.colorModel)?e.colorModel:o.format,this._setValue(e.value)},_getClrInstance:function(t){return new zoho.zcolor(t)},_createPicker:function(e){var i=this.options;this._pickerComponent="advanced"===i.pickerType?"zadvancedcolorpicker":"zcolorpicker",i.pickerId&&(this._picker=t("#"+i.pickerId),this._toggler.attr("aria-owns",i.pickerId)),this._picker&&this._picker.length||(this._picker=t("<div>",{id:i.pickerId}).appendTo("body"))},_setPickerAttributes:function(){var e=this.options,i={valueColorModel:e.colorModel,type:"popup"};e.pickerOptions&&(i=t.extend(!0,{},e.pickerOptions,i)),i.noColorButtonLabel||(i.noColorButtonLabel="stroke"===e.appliedFor?"No Stroke":"No Fill"),this._picker||this._createPicker(),this._picker.off(".zcolorfield");var s=this._picker.data().componentName;if(s){if(this._pickerComponent===s)return void(e.pickerId&&(e.resetPickerOptions&&(i=t.extend({},t[this._pickerComponent].prototype.options,i),delete i.otherUsedColorsList,delete i.value),"zcolorpicker"===this._pickerComponent?(i.advancedPickerOptions||(i.advancedPickerOptions={}),i.advancedPickerOptions.currentColorField=this._currentColorField||!1):i.currentColorField=this._currentColorField||!1,this._picker[this._pickerComponent]("setAttributes",i)));this._picker[s]("destroy")}this._picker.show().css({width:"",height:""}),this._picker[this._pickerComponent](i),this._picker.hide()},_destroyPicker:function(){this._picker&&(this._picker[this._pickerComponent]("destroy"),this._picker.remove(),this._picker=void 0)},_bindPickerEvents:function(){var t=this;this._picker.off(".zcolorfield").on(this._pickerComponent+"change.zcolorfield",function(){t._opened&&t._onChange.apply(t,arguments)}).on(this._pickerComponent+"select.zcolorfield",function(){t._opened&&t._onSelect.apply(t,arguments)}).on(this._pickerComponent+"pick.zcolorfield",function(){t._opened&&t._onPick.apply(t,arguments)}).on(this._pickerComponent+"close.zcolorfield",this._onClose.bind(this)).on(this._pickerComponent+"beforeclose.zcolorfield",this._onBeforeClose.bind(this)).on(this._pickerComponent+"open.zcolorfield",this._onOpen.bind(this)).on(this._pickerComponent+"beforeopen.zcolorfield",this._onBeforeOpen.bind(this)).on(this._pickerComponent+"colorpanmouseover.zcolorfield",this._onColorPanMouseOver.bind(this)).on(this._pickerComponent+"colorpanmouseout.zcolorfield",this._onColorPanMouseOut.bind(this)).on(this._pickerComponent+"colorpanclick.zcolorfield",this._onColorPanClick.bind(this)).on(this._pickerComponent+"colorfieldlistchange.zcolorfield",this._onColorFieldListChange.bind(this))},_onColorFieldListChange:function(t,e){this._currentColorField=e.currentColorField},_onColorPanMouseOver:function(t,e){this._trigger("ONCOLORMOUSEOVER",t,e)},_onColorPanMouseOut:function(t,e){this._trigger("ONCOLORMOUSEOUT",t,e)},_onColorPanClick:function(t,e){this._trigger("ONCOLORPANCLICK",t,e)},_onOpen:function(t,i){this._opened=!0,this._toggler.attr("aria-expanded",!0),e._lastActiveColorField=this.element[0],e._lastActiveColorFieldComponent=this.componentName,this._trigger("ONOPEN",t,i)},_onBeforeOpen:function(t,e){var i=this._trigger("ONBEFOREOPEN",t,e);return i&&this._picker[this._pickerComponent]("setValue",this._noFill?"none":this.getValue()),i},_onClose:function(t,i){this._toggler.attr("aria-expanded",!1),this._picker.off(".zcolorfield"),e._lastActiveColorField=e._lastActiveColorFieldComponent=void 0,this._opened=!1,this._trigger("ONCLOSE",t,i)},_onBeforeClose:function(e,i){var s=this._trigger("ONBEFORECLOSE",e,i);if(s){e=e&&e.originalEvent;var o=this.container.add(this._picker);e&&t(document.activeElement).closest(o).length&&t(e.target).closest(o).length&&this.setFocus(e)}return s},_open:function(i,s){e._lastActiveColorField&&t(e._lastActiveColorField)[e._lastActiveColorFieldComponent]("closePicker"),this._opened=!1,this._setPickerAttributes(),this._bindPickerEvents(),this._picker[this._pickerComponent]("open",{forElement:this.options.forElement||this.container},s)},_close:function(t){this._picker&&this._picker[this._pickerComponent]("close",t)},_onChange:function(t,e){},_onPick:function(t,e){this._setValue(e.rgb,t,e),this._trigger("ONPICK",t,e)},_onSelect:function(t,e){this._trigger("ONSELECT",t,e)},_applyPreviewBorder:function(){var t=this.options.previewBorderStyle,e=this.options.previewBorderWidth;t||(t="solid"),e||(e=this.options.icon?"0px 0px 2px 0px":"3px"),this._previewBox[0].style.borderStyle=t,this._previewBox[0].style.borderWidth=e},_updateUI:function(t){if(this._previewBox){t=t||this._selectedInstance.getColor(),this._previewBox.removeAttr("style"),this._previewBox.removeClass("h-nofill "+this._CLASS.TRANSPARENTBG);var e="splitbutton"===this.options.type?this._CLASS.BUTTONICON:this._CLASS.SELECTBOXICON;if(this.options.icon)this._applyPreviewBorder(),this._previewBox[0].style.borderColor=t;else if("stroke"===this.options.appliedFor)this._noFill?(this._previewBox[0].style.borderColor="",this._previewBox.addClass("h-nofill"),this._previewBox.find("i").remove()):(this._previewBox[0].style.borderColor=t,this._previewBox.find("i").length||(this._previewBox[0].innerHTML="<i class='"+e+"'></i>"),this._applyPreviewBorder());else if(this._noFill)this._previewBox.addClass("h-nofill"),this._previewBox.find("canvas, i").remove();else{var i=this._previewBox.find("canvas");i.length?i.css("backgroundColor",t):this._previewBox[0].innerHTML="<canvas style='background-color:"+t+";' ></canvas><i class='"+e+"'></i>",this._previewBox.addClass(this._CLASS.TRANSPARENTBG)}}},_setValue:function(t,e,i){var s=this._getClrInstance("none"===t?"transparent":t);if(s.isValid()){var o=this._selectedInstance&&this._selectedInstance.getColor();this._selectedInstance=s,this._noFill=i&&i.noColorButtonClick||"none"===t,this._updateElementValue(),this._updateUI(),o!==this._selectedInstance.getColor()&&this._trigger("ONCHANGE",e,i)}},_updateElementValue:function(){this.options.value=this._noFill?"transparent":this._selectedInstance.getColor(this._colorMode,void 0,!1),this.element[0].value=this._selectedInstance.getColor("hex",void 0,!1)},_trigger:function(t,e,i){if(!this._frominit)return i=i||{},i.value=i.color=this.getValue(),i.rgb=this._selectedInstance.getColor(),i.opacity=this._selectedInstance.getAlpha(),i.colorData=this._selectedInstance.getObject(this._colorMode),i.picker=this._picker,e=e&&e.originalEvent?e.originalEvent:void 0,this._dispatchEvent(t,e,i,void 0,!!e)},_togglePicker:function(t){this._isDisabled()||(e._lastActiveColorField===this.element[0]&&this._picker&&this._picker.is(":visible")?this._close(t):this._open(t))},_isDisabled:function(){return this.container.hasClass(this._CLASS.DISABLED)},_setAttribute:function(e,i){var s=this.options;if("disabled"===e){s[e]=i,this.closePicker(),this.element[0].disabled=i;var n=this.container;"splitbutton"!==this.options.type?i?this.container.removeAttr("tabIndex"):this._setTabIndex():n=this.container.find("button").prop("disabled",i),n[i?"addClass":"removeClass"](this._CLASS.DISABLED).attr("aria-disabled",i)}else if("value"===e)this.setValue(i);else if(/^(pickerId|pickerType)$/.test(e))s[e]=i,this._destroyPicker();else if("pickerOptions"===e)"object"==typeof i&&(o.pickerOptions&&t.extend(o.pickerOptions,i),this._picker&&this._picker[this._pickerComponent]("setAttributes",i));else if("appliedFor"===e){s[e]=i;var a;a="stroke"===i?"No Stroke":"No Fill",s.pickerOptions&&s.pickerOptions.noColorButtonLabel||this._picker&&this._picker[this._pickerComponent]("setAttribute","noColorButtonLabel",a),this._setAttribute("icon",this.options.icon)}else if(/^(icon|iconClassName|SVGIconId)$/.test(e)){s[e]=i;var r=this._createPreviewIcon();this._previewBox.replaceWith(r),this._previewBox=r,this._updateUI()}else/^(arrowIcon|arrowIconClassName|arrowSVGIconId)$/.test(e)?(s[e]=i,"arrowIcon"===e?"splitbutton"!==s.type&&(this.container.find("."+this._CLASS.ARROW).remove(),i?this.container.removeClass(this._CLASS.WITHOUTARROW).append(this._createArrowIcon()):this.container.addClass(this._CLASS.WITHOUTARROW)):this.container.find("."+this._CLASS.ARROW).replaceWith(this._createArrowIcon())):"className"===e?(this.container.removeClass(s.className),"string"==typeof i&&(s[e]=i,this.container.addClass(i))):"colorModel"===e&&(this._REGEX.colorMode.test(i)||(i=this._colorMode),s[e]=i,this._updateElementValue())},setFocus:function(e){if(this._trigger("ONBEFOREFOCUS",e)){clearTimeout(this._focusTimer);var i=this;this._focusTimer=setTimeout(function(){t(document.activeElement).closest(i.container).length||i._toggler.focus()},100)}},openPicker:function(t,e){this._open(t,e)},closePicker:function(t){this._picker&&this._close(t)},getValue:function(){return this.options.value},setValue:function(t,i){this._setValue(t,i),e._lastActiveColorField===this.element[0]&&this._picker[this._pickerComponent]("setValue",t)},setAttribute:function(t,e){e!==this.options[t]&&(e="string"==typeof e?e.trim():e,this._setAttribute(t,e))},destroy:function(){this._destroyPicker(),this.container.remove(),this.element.removeData(this.componentName)}};e.registerComponent("zcolorfield",i);var s={options:t.extend({},i.options,{tabIndex:0}),_create:function(){this.options.type="selectbox",this._super()}};e.registerComponent("zcolorselectbox",t.zcolorfield,s);var n={options:t.extend({},i.options),_create:function(){this.options.type="splitbutton",this._super()},_onClick:function(e){t(e.target).closest(this._toggler).length?this._trigger("ONARROWCLICK",e):(this._trigger("ONCLICK",e),this._close(e))}};e.registerComponent("zcolorsplitbutton",t.zcolorfield,n);var a=function(e,i){if("object"==typeof e){var s=t("#"+e.id);if(s.length){if(s.data(i))return s}else s=t("<input>").appendTo(t(e.appendTo).length?e.appendTo:"body").attr("id",e.id),e.customAttributes&&s.attr(e.customAttributes);return s[i](e),s}};e.createColorSplitButton=function(t){a(t,"zcolorsplitbutton")},e.createColorSelectbox=function(t){a(t,"zcolorselectbox")}}(jQuery,ZComponents),function(t){var e=t.DOMUtil,i={options:{value:"rgba(0,0,0,1)",defaultValue:"rgba(0,0,0,1)",valueColorModel:"auto",defaultColorButton:!0,noColorButton:!0,noColorIconClassName:void 0,noColorSVGIconId:void 0,paletteColumns:10,defaultPaletteType:"preset",customPalette:void 0,standardColors:!0,standardColorsPalette:"ms-office",otherPalettes:void 0,colorField:!1,colorFieldOptions:{colorMode:"auto",readonly:!1,preview:!0},opacity:!1,opacitySlider:{thumbIconClassName:void 0,thumbSVGIconId:void 0},opacityFieldType:"percent",advancedPicker:!0,advancedPickerIconClassName:void 0,advancedPickerSVGIconId:void 0,advancedPickerOptions:{},otherUsedColors:!0,otherUsedColorsHasLimit:!0,otherUsedColorsLimit:10,otherUsedColorsList:[],title:"",isTitleHTMLEncoded:!1,closeButton:!1,closeIconClassName:void 0,closeSVGIconId:void 0,closeOnSelect:!0,closeOnBodyClick:!0,position:"auto",forElement:void 0,displayType:"box",offset:void 0,margin:void 0,appendTo:void 0,type:"popup",className:void 0,draggable:!1,animation:!1,labels:{noColorButtonLabel:"No Fill",defaultColorButtonLabel:"Default Color",defaultColorsHeading:"Preset Colors",standardColorsHeading:"Standard Colors",otherUsedColorsHeading:"Other Used Colors",advancedPickerButtonLabel:"More Colors",closeButtonLabel:"Close",colorFieldLabel:"Color Field",opacityFieldLabel:"Opacity Field"}},_CLASS:{CONTAINER:"zcolorpicker",ICON:"zcolorpicker__icon",TEXT:"zcolorpicker__text",ARROW:"zcolorpicker__pointer",TITLEBAR:"zcolorpicker__titlebar",TITLE:"zcolorpicker__title",CLOSE:"zcolorpicker__close",COMMONCONTAINER:"zcolorpicker__showhidecontainer",BASICPICKER:"zcolorpicker__default",NOCOLORBUTTON:"zcolorpicker__nocolorbutton",DEFAULTCOLORBUTTON:"zcolorpicker__defaultcolorbutton",MORECOLORSBUTTON:"zcolorpicker__morecolorbutton",PALETTE:"zcolorpicker__palette",PALETTECONTAINER:"zcolorpicker__palettecontainer",PALETTEHEADING:"zcolorpicker__paletteheading",WITHSHADES:"zcolorpicker__shades",COLORBOX:"zcolorpicker__colorpan",PREVIEW:"zcolorpicker__colorfieldpreview",INNERPREVIEW:"zcolorpicker__dynamiccolor",TRANSPARENTBG:"zcolorpicker__transparentbg",COLORFIELDTEXTBOX:"zcolorpicker__textbox",COLORFIELD:"zcolorpicker__colorfield",COLORFIELDCONTAINER:"zcolorpicker__colorfieldcontainer",OPACITYCONTAINER:"zcolorpicker__opacitycontainer",SLIDER:"zslider",SLIDERTRACK:"zslider__track",SLIDERTHUMB:"zslider__thumb",OPACITYFIELD:"zcolorpicker__opacityfield",ACTIVE:"is-selected",DISABLED:"is-disabled",EMPTYCOLOR:"zcolorpicker__emptycolor",CUSTOM:"zcolorpicker__custom",NAVIGATABLE:"zcolorpicker__navigatable",DEFAULTPALETTE:"zcolorpicker__palette-default",STANDARDPALETTE:"zcolorpicker__palette-standard"},_EVENTS:{ONCHANGE:"change",ONSELECT:"select",ONBEFOREOPEN:"beforeopen",ONOPEN:"open",ONBEFORECLOSE:"beforeclose",ONCLOSE:"close",ONCOLORMOUSEOVER:"colorpanmouseover",ONCOLORMOUSEOUT:"colorpanmouseout",ONCOLORPANCLICK:"colorpanclick",ONBEFORERECENTCOLORADD:"beforeotherusedcoloradd",ONRECENTCOLORADD:"otherusedcoloradd",ONBEFOREFOCUS:"beforefocus",ONFOCUS:"focus",ONBLUR:"blur",ONPICK:"pick",ONMODECHANGE:"colorfieldlistchange"},_REGEX:{position:/^(bottom-right|bottom-left|top-right|top-left|top|bottom|left|right|center|auto|right-bottom|right-top|left-bottom|left-top)$/,colorMode:/^(rgb|rgba|hsl|hsla|hsv|hsva|hex|hex8|cmyk)$/},_ANIMATION:{slide:{show:"slideDown",hide:"slideUp"},fade:{show:"fadeIn",hide:"fadeOut"},end:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",transitionEnd:"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"},_TEMPLATE:{close:'<svg viewBox="0 0 16 16"> <rect x="1.5" y="7.4" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)" class="st0" width="13" height="1.1"></rect> <rect x="1.5" y="7.4" transform="matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)" class="st0" width="13" height="1.1"></rect> </svg>',noColor:'<svg viewBox="0 0 16 16"> <path d="M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M8,1c1.8,0,3.3,0.7,4.6,1.7l-9.9,9.9C1.7,11.3,1,9.8,1,8 C1,4.1,4.1,1,8,1z M8,15c-1.8,0-3.3-0.7-4.6-1.7l9.9-9.9C14.3,4.7,15,6.2,15,8C15,11.9,11.9,15,8,15z"></path> </svg>',advancedPicker:'<svg viewBox="0 0 600 598"> <path d="M299.7-0.2C128.3-0.2-7,134,0.2,305.2C7.4,476.9,138,577.3,259.7,595.9c88.2,13.4,107.8-45.1,87.3-67.3 c-35.5-38.3-22.6-68.6-7.3-82.5c17.4-15.7,50.3-17.3,77.3-13.8c65.5,8.5,175-40,182.2-144.8C611,116.5,471.1-0.2,299.7-0.2z M118.1,299.7c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1 C168.2,277.3,145.8,299.7,118.1,299.7z M217.6,166.6c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1 c27.7,0,50.1,22.4,50.1,50.1C267.7,144.1,245.2,166.6,217.6,166.6z M384.9,166.9c-27.7,0-50.1-22.4-50.1-50.1 c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C435,144.4,412.6,166.9,384.9,166.9z M485.2,299.9 c-27.7,0-50.1-22.4-50.1-50.1c0-27.7,22.4-50.1,50.1-50.1c27.7,0,50.1,22.4,50.1,50.1C535.2,277.5,512.8,299.9,485.2,299.9z"></path> </svg>',arrowIcon:'<svg viewBox="0 0 5 12"> <polygon points="4.4,10.3 3.7,9.6 6.7,6.5 3.6,3.4 4.4,2.7 8.1,6.5  "></polygon> </svg>'},_create:function(t,e){this._frominit=!0,this._initialize(t,e),this._validation(),this._constructContainer(),this._bindEvents(),this._setInitial(),this._frominit=!1},_setDimension:function(){var t=0;this._titleBar&&(t=this._titleBar.outerHeight());var e=this._container[0].offsetWidth;this._basicPickerWd=e?e+"px":"";var i=this._container[0].offsetHeight;if(this._basicPickerHt=i?i+t+"px":"",this.picker){var s=this.picker[0].offsetWidth,o=this.picker[0].offsetHeight;this._pickerWidth=s?s+"px":"",this._pickerHeight=o?o+t+"px":""}},_resetDimension:function(){var t=this.element.is(":visible");t||this.element.show(),this._setElementWidthHeight("auto","auto"),this._setDimension(),t||this.element.hide(),this._advPickerVisible?this._setElementWidthHeight(this._pickerWidth,this._pickerHeight):this._setElementWidthHeight(this._basicPickerWd,this._basicPickerHt)},_initialize:function(t,e){this._paletteCount=1,this._namespace="."+this.componentName,this._floating="inline"!==this.options.type,this._appendComponent()},_appendComponent:function(){var t=e(this.options.appendTo);t&&t.length&&t.append(this.element)},_validation:function(){var t=this.options;t.paletteColumns=this._validateCount(t.paletteColumns),t.otherUsedColorsHasLimit&&(t.otherUsedColorsLimit=this._validateCount(t.otherUsedColorsLimit));var i=this._getClrInstance(t.value);t.value="none"===t.value||i.isValid()?t.value:e[this.componentName].prototype.options.value,t.defaultValue||(t.defaultValue=t.value),this._setColorMode(t.value)},_validateCount:function(t){return Math.max(+t||0,0)},_constructContainer:function(){var t=this,i=this._CLASS.CONTAINER+" "+("string"==typeof this.options.className?this.options.className:"");this.element.addClass(i).on("focus",function(e){t._trigger("ONFOCUS",e)}).on("blur",function(e){t._trigger("ONBLUR",e)}),void 0===this.element.attr("tabindex")&&this.element.attr("tabindex",0),this.paletteHolders=e(),this._createArrow(),this._constructTitleBar(),this._constructMainBody()},_createArrow:function(){"callout"===this.options.displayType&&this.element.prepend(e('<div class="'+this._CLASS.ARROW+'"></div>'))},_arrowCallback:function(t,e){this.element.removeClass("zcolorpicker--top zcolorpicker--bottom zcolorpicker--left zcolorpicker--right").addClass("zcolorpicker--"+e)},_encoder:function(e,i){return i?e:t.encodeHTML(e)},_constructTitleBar:function(){if(this.options.title){var t='<div class="'+this._CLASS.TITLEBAR+'">';if(this.options.title&&(t+='<span class="'+this._CLASS.TITLE+'">'+this._encoder(this.options.title,this.options.isTitleHTMLEncoded)+"</span>"),this.options.closeButton){var i=this._createIcon(this.options.closeIconClassName,this.options.closeSVGIconId,this._TEMPLATE.close)[0].outerHTML;t+='<button type=button role="button" title="'+this._localize("closeButtonLabel")+'" class="'+this._CLASS.CLOSE+'">'+i+"</button>"}if(t+="</div>",this._titleBar=e(t).prependTo(this.element),this.options.closeButton){var s=this;this._titleBar.find("."+this._CLASS.CLOSE).on("click",function(t){s.close(t)})}this._setDraggable()}},_constructMainBody:function(){this._container=e("<div>",{class:this._CLASS.BASICPICKER}).appendTo(e("<div>",{class:this._CLASS.COMMONCONTAINER}).appendTo(this.element)),this._createNoColorButton(),this._createDefaultButton(),this._createPalettes(),this._createRecentColorsPalette(),this._createAdvColorsButton(!0),this._createColorField(),this._createOpacitySection(),this._setDimension(),this._setElementWidthHeight(this._basicPickerWd,this._basicPickerHt),this.picker&&this.picker.css("visibility","hidden")},_setElementWidthHeight:function(t,e){this.element[0].style.width=t,this.element[0].style.height=e},_setDraggable:function(){this.options.draggable&&this.options.title&&e.zdraggable&&this.element.on("zdraggabledrag",this._onDrag.bind(this)).zdraggable({handle:this._titleBar})},_onDrag:function(){this.element.find("."+this._CLASS.ARROW).hide(),this._currentOpenedConfig&&(this._currentOpenedConfig.dragged=!0)},_createPalettes:function(){this._paletteContainer||(this._paletteContainer=e("<div>").appendTo(this._container)),this._createDefaultPalette(),this._createStandardPalette(),this._addPalettes(this.options.otherPalettes)},_createDefaultPalette:function(){var t,e="custom"===this.options.defaultPaletteType;if(e&&this.options.customPalette)t=this.options.customPalette;else{var i=this._getPresetColors(this.options.defaultPaletteType);i||(i=this._getPresetColors("preset")),t={heading:this.options.defaultPaletteHeading||this._localize("defaultColorsHeading"),colors:i&&i.colors,hasTones:!0,tones:i.tones}}this._defaultPalette=this._addPalette(t,"prepend",this._paletteContainer).addClass(this._CLASS.DEFAULTPALETTE)},_createStandardPalette:function(){if(this.options.standardColors){var t=this._getPresetColors(this.options.standardColorsPalette);if(t){var e={heading:this.options.standardColorsHeading||this._localize("standardColorsHeading"),colors:t.colors};this._standardPalette=this._addPalette(e,"after",this._defaultPalette).addClass(this._CLASS.STANDARDPALETTE)}}},_getPresetColors:function(t){return ZComponents.COLORPALETTE[t]},_bindEvents:function(){this.element.on("keydown"+this._namespace,this._onKeyPress.bind(this)),this._bindColorBoxEvents()},_bindColorBoxEvents:function(){this._container.on("click"+this._namespace,"."+this._CLASS.COLORBOX,this._colorPanClickHandler.bind(this)).on("mouseover","."+this._CLASS.COLORBOX,this._colorPanMouserOverHandler.bind(this)).on("mouseout","."+this._CLASS.COLORBOX,this._colorPanMouseOutHandler.bind(this))},_onKeyPress:function(i){var s=i.keyCode,o=document.activeElement;e(o);s===t.keyCode.ENTER?"INPUT"===o.tagName?this.close(i):"LI"===o.tagName&&o.click():"INPUT"!==o.tagName&&(!this._container.is(":visible")||s!==t.keyCode.DOWN&&s!==t.keyCode.UP&&s!==t.keyCode.RIGHT&&s!==t.keyCode.LEFT||i.preventDefault())},_setInitial:function(){this._floating&&this.element.hide(),this._setValue(this.options.value)},_addPalettes:function(t,e,i){if(t){var s=this;t=Array.isArray(t)?t:[t],"after"===e&&(t=t.reverse()),t.forEach(function(t){s._addPalette(t,e,i)})}},_removePalettes:function(t,i){if(t){var s=this;t=Array.isArray(t)?t:[t],t.forEach(function(t){var o=s._getPalette(t),n=e(o);if(o&&(i||!n.is(s._standardPalette)&&!n.is(s._defaultPalette)&&!n.is(s._recentColorsPalette))){s._getPaletteData(o);n.remove(),s.paletteHolders=s.paletteHolders.not(o)}}),this._resetDimension()}},_addPalette:function(t,i,s){if("object"==typeof t&&!this._getPalette(t.name)){var o=t.heading||t.name||"",n=e('<div class="'+this._CLASS.PALETTECONTAINER+'">');i&&s?("string"==typeof s&&(s=this._getPalette(s)),e(s)[i](n)):n.appendTo(this._paletteContainer);var a=t.customAttributes||{},r=a["data-palettename"]=t.name||"palette_"+this._paletteCount++;n.attr(a),o&&(n[0].innerHTML='<span class="'+this._CLASS.PALETTEHEADING+'">'+this._encoder(o,t.isLabelHTMLEncoded)+"</span >");var l=t.colors||[];t.colors=[],n.data("metadata",t);var h=this._validateCount(t.maxColorsCount);return h&&(t.maxColorsCount=h,l=l.slice(0,h)),this._paletteCreation=!0,this._addColorsToPalette(r,l),this._paletteCreation=!1,this.paletteHolders=this.paletteHolders.add(n[0]),n}},_addColorsToPalette:function(t,i,s,o){var n=this._getPalette(t),a=e(n);if(n&&(this._paletteCreation||!a.is(this._standardPalette))){var r=a.find("."+this._CLASS.PALETTE);r.length||(r=e("<div>",{class:this._CLASS.PALETTE}).appendTo(n)),i=Array.isArray(i)?i:[i];var l,h,d=this._getPaletteData(n),c="append",p="",u="",m="";d.hasTones?(u='<ul class="'+this._CLASS.WITHSHADES+'">',m="</ul>",h="ul",l=r.find("div."+this._CLASS.NAVIGATABLE+":last"),l.length||(l=e('<div class="'+this._CLASS.NAVIGATABLE+'">').appendTo(r))):(h="li",l=r.find("ul:last"),l.length||(l=e("<ul>").appendTo(r.addClass(this._CLASS.NAVIGATABLE)))),void 0!==s&&(o=r.find(h+":not( ."+this._CLASS.CUSTOM+" )")[s]),o&&(l=o,c="before");for(var _=0;_<i.length;_++){i[_].color||(i[_]={color:i[_]});var f=this._getClrInstance(i[_].color);if(f.isValid()){i[_].color=f.getColor(this._colorMode),i[_].title=i[_].title||f.getColor("hex").toUpperCase();var v=!0;if(v){var g=this._createColorBox(i[_]);g&&(p+=u+g,d.hasTones&&(p+=this._drawShades(i[_],d)),p+=m,"before"===c?d.colors.splice(s,0,i[_]):d.colors.push(i[_]))}}}e(l)[c](e(p)),this._repositionColorsInPalette(n),!this._frominit&&this._selectColorbox()}},_getClrInstance:function(t){return new zoho.zcolor(t)},_repositionColorsInPalette:function(i){var s,o=t.getOptions(i),n=e(i).find("."+this._CLASS.PALETTE),a="li",r="<ul>";o.hasTones?(a="ul",r='<div class="'+this._CLASS.NAVIGATABLE+'"></div>',s=n.find("."+this._CLASS.NAVIGATABLE).toArray()):s=n.find("ul").toArray();var l=n.find(a),h=l.length,d=this.options.paletteColumns;if(!this._paletteCreation){var c=o.maxColorsCount;this._paletteCreation||(h=l.length,c&&l.length>c&&(e(l.splice(c-l.length)).remove(),o.colors=o.colors.slice(0,c),h=l.length))}var p=0;for(d=d||l.length;l.length>0;){var u=e(s[p]);u.length||(u=e(r).appendTo(n)),u.append(l.splice(0,d)),p++}p&&p<s.length&&e(s.splice(p)).remove(),!this._frominit&&this._resetDimension()},_drawShades:function(t,e){for(var i=this._getShades(t,t.tones||e.tones),s="",o=0;o<i.length;o++)s+=this._createColorBox(i[o],!0);return s},_getPalette:function(t){if(t instanceof e?t=t[0]:"string"==typeof t&&(t=this.element[0].querySelector('[data-palettename="'+t+'"]')),t&&1===t.nodeType)return t},_getPaletteData:function(e){if(Array.isArray(e)){var i=this,s=[];return e.forEach(function(t){s.push(i._getPaletteData(t))}),s}return e&&t.getOptions(e)},_removeColorsFromPalette:function(t,i){var s=this._getPalette(t);if(s){var o=(this._getPaletteData(s),this),n=e();i=Array.isArray(i)?i:[i],i.forEach(function(t){n=n.add(o._getColorBox(t,s))}),this._removeColorBoxes(t,n.toArray())}},_removeColorBoxes:function(t,i){var s=this._getPalette(t);if(s){var o,n=this._getPaletteData(s),a=[];o=n.hasTones?e(s).find("ul").toArray():e(s).find("li."+this._CLASS.COLORBOX+":not(."+this._CLASS.EMPTYCOLOR+")").toArray(),i=Array.isArray(i)?i:[i],i.forEach(function(t){t&&"true"!==t.getAttribute("data-shade")&&(t=n.hasTones?t.parentElement:t,a.push(o.indexOf(t)),e(t).remove())}),this._removeColorsFromPaletteData(a,n),this._repositionColorsInPalette(s)}},_removeColorsFromPaletteAt:function(t,i){var s=this._getPalette(t);if(s){var o=this._getPaletteData(s);i=Array.isArray(i)?i:[i];var n;n=o.hasTones?e(s).find("ul"):e(s).find("li."+this._CLASS.COLORBOX+":not(."+this._CLASS.EMPTYCOLOR+")"),i.forEach(function(t){e(n[t]).remove()}),this._removeColorsFromPaletteData(i,o),this._repositionColorsInPalette(s)}},_removeColorsFromPaletteData:function(t,e){t.forEach(function(t){e.colors[t]=void 0}),e.colors=e.colors.filter(function(t){return void 0!==t})},_createColorBox:function(t,e){if(t){var i="",s="",o="",n=this._CLASS.COLORBOX;t.SVGIconId&&(i=this._createIcon(void 0,t.SVGIconId)[0]),"string"==typeof t.title&&(s="title='"+t.title+"'"),"string"==typeof t.className&&(n+=" "+t.className);var a=this._getClrInstance(t.color).getColor();return e&&(o="data-shade=true"+(t.baseColor?' data-base-color="'+t.baseColor+'"':"")+(t.toneType?' data-tone-type="'+t.toneType+'"':"")+(t.percent?' data-tone-percent="'+t.percent+'"':"")),"<li "+o+' tabindex="'+this.element.attr("tabindex")+'" class="'+n+'" '+s+' data-zcolor="'+a+'"  style="background:'+a+'">'+i+" </li>"}},_colorPanClickHandler:function(t){var i=e(t.target).closest("."+this._CLASS.COLORBOX);return this._setValue(i[0].style.backgroundColor,t),this._trigger("ONCOLORPANCLICK",t,{colorpan:i[0],colorpanData:this._getColorPanData(i)}),this._closeOnSelect(t),!this._floating},_colorPanMouserOverHandler:function(t){var i=e(t.target).closest("."+this._CLASS.COLORBOX);this._trigger("ONCOLORMOUSEOVER",t,{colorpan:i[0],colorpanData:this._getColorPanData(i)})},_colorPanMouseOutHandler:function(t){var i=e(t.target).closest("."+this._CLASS.COLORBOX);this._trigger("ONCOLORMOUSEOUT",t,{colorpan:i[0],colorpanData:this._getColorPanData(i)})},_getColorPanData:function(t){return{color:this._getClrInstance(t.data("zcolor")).getColor(this._colorMode)}},_createColorField:function(){if(this.options.colorField){this._colorFieldPartition||(this._colorFieldPartition=e("<div>",{class:this._CLASS.COLORFIELDCONTAINER}).appendTo(this._container));var t=this.options.colorFieldOptions,i=e("<div>",{class:this._CLASS.COLORFIELD});if(t.preview){var s=e('<span class="'+this._CLASS.PREVIEW+" "+this._CLASS.TRANSPARENTBG+'"><div class="'+this._CLASS.INNERPREVIEW+'"></div></span>');this._previewBox=e(s[0].children[0])}var o=this;this._colorCodeBox=e('<input aria-label="'+this._localize("colorFieldLabel")+'" class="'+this._CLASS.COLORFIELDTEXTBOX+'">').on("focus"+this._namespace,function(){!o.options.colorFieldOptions.readonly&&i.addClass("has-focus")}).on("blur"+this._namespace,function(){i.removeClass("has-focus")}),t.readonly?this._colorCodeBox.attr("readonly",!0).addClass("h-hidecursor"):this._colorCodeBox.addClass(this._CLASS.NAVIGATABLE).on("input"+this._namespace+" change"+this._namespace,this._validateInput.bind(this)),this._colorFieldPartition.prepend(i.append(s,this._colorCodeBox))}},_validateInput:function(t){var e=this._colorCodeBox.val(),i=this._getClrInstance(e);this._ignoreHexFieldUpdate="input"===t.type,i.isValid()?this._setValue(i.getObject(),t):this._updateColorField()},_createSlider:function(t){var i=e('<div class="'+this._CLASS.SLIDER+'"><div class="'+this._CLASS.SLIDERTRACK+'"><canvas></canvas></div></div>'),s=e('<div role="slider" class="'+this._CLASS.SLIDERTHUMB+'"></div>').appendTo(i);if(t&&(t.thumbIconClassName||t.thumbSVGIconId)){var o=this._createIcon(t.thumbIconClassName,t.thumbSVGIconId);s.append(o)}else s.addClass("zslider__circlethumb");return{slider:i,track:e(i[0].querySelector("."+this._CLASS.SLIDERTRACK)),thumb:e(i[0].querySelector("."+this._CLASS.SLIDERTHUMB)),canvasContext:i[0].querySelector("canvas").getContext("2d")}},_createOpacitySection:function(){this.options.opacity&&(this._colorFieldPartition||(this._colorFieldPartition=e("<div>",{class:this._CLASS.COLORFIELDCONTAINER}).appendTo(this._container)),this._sliderContainer=e("<div>",{class:this._CLASS.OPACITYCONTAINER}).appendTo(this._colorFieldPartition),this._createOpacitySlider(),this._createOpacityField())},_createOpacityField:function(){var t="<input type=measurement min=0 data-suffix='%' max=100>",i="decimal"===this.options.opacityFieldType;i&&(t="<input data-decimal-places=2 min=0 max=1 step=0.01>");var s=this;this._opacityField=e(t).appendTo(this._sliderContainer).znumberfield({className:this._CLASS.NAVIGATABLE+" "+this._CLASS.OPACITYFIELD,spinButtons:"none",clearButton:"none"}).on("znumberfieldspin znumberfieldchange znumberfieldinput",function(t,e){s._ignoreOpacityFieldUpdate=!0,s._setAlpha.call(s,i?e.value:e.value/100,t),s._ignoreOpacityFieldUpdate=!1}),this._opacityField.znumberfield("getElement").removeAttr("style").find("input").removeAttr("style").attr("aria-label",this._localize("opacityFieldLabel"))},_createOpacitySlider:function(t){if(this.options.opacity){var e=this._createSlider(t||this.options.opacitySlider);e.track.addClass(this._CLASS.TRANSPARENTBG),this._opacityBar=e.slider.appendTo(this._sliderContainer).on("mousedown"+this._namespace,this._onMouseDown.bind(this)),this._opacityPicker=e.thumb,this._opacityContext=e.canvasContext}},_onMouseDown:function(t){3!==t.which&&(this._onPickerDragged(t),this._trigger("ONDRAGSTART",t),ZComponents.$document.off("mousemove"+this._namespace+" mouseup"+this._namespace).on("mousemove"+this._namespace,this._onMouseMove.bind(this)).on("mouseup"+this._namespace,this._onMouseUp.bind(this)))},_onMouseMove:function(t){return this._onPickerDragged(t),this._trigger("ONDRAG",t),!1},_onMouseUp:function(t){ZComponents.$document.off("mousemove"+this._namespace+" mouseup"+this._namespace),this._trigger("ONDRAGSTOP",t)},_onPickerDragged:function(t){t.preventDefault();var e=this._opacityBar.offset(),i=t.pageX-e.left,s=this._opacityBar.width(),o=100*this._limit(i/s,0,1);this._opacityPicker.css("left",o+"%"),this._ignoreSliderUpdate=!0,this._setAlpha(Math.round(o)/100,t),this._ignoreSliderUpdate=!1},_setAlpha:function(t,e){var i=this._colorInstance.getObject();i.a=t,this._setValue(i,e)},_limit:function(t,e,i){return Math.max(Math.min(t,i),e)},_setGradientColors:function(t,e){e=e.slice(0);for(var i=Math.round(1/(e.length-1)*100)/100,s=0;e.length>1;)t.addColorStop(s,e.shift()),s+=i;t.addColorStop(1,e.shift())},_updateOpacitySlider:function(){if(this.options.opacity&&!this._ignoreSliderUpdate){var t=this._colorInstance.getObject();this._opacityPicker.css("left",Math.round(100*t.a)+"%");var e=this._opacityContext,i=this._colorInstance.getColor("rgb",void 0,!1);e.rect(0,0,e.canvas.width,e.canvas.height),e.clearRect(0,0,e.canvas.width,e.canvas.height);var s=e.createLinearGradient(0,0,e.canvas.width,0);this._setGradientColors(s,["rgba("+t.r+","+t.g+","+t.b+", 0)",i]),e.fillStyle=s,e.fill()}},_updateOpacityField:function(){if(this.options.opacity&&!this._ignoreOpacityFieldUpdate){var t=this._colorInstance.getAlpha();this._opacityField.znumberfield("setValue","decimal"===this.options.opacityFieldType?t:Math.round(100*t))}},_createNoColorButton:function(){if(this.options.noColorButton){this._noColorButton=this._createActionButton("noColorButtonLabel",this.options.noColorButtonLabel,this._onNoColorButtonClick);var t=this._createIcon(this.options.noColorIconClassName,this.options.noColorSVGIconId,this._TEMPLATE.noColor);this._noColorButton.addClass(this._CLASS.NOCOLORBUTTON).prepend(t).prependTo(this._container)}},_onNoColorButtonClick:function(t){this._setValue("transparent",t,{noColorButtonClick:!0}),this._closeOnSelect(t)},_createDefaultButton:function(){if(this.options.defaultColorButton){this._defaultButton=this._createActionButton("defaultColorButtonLabel",this.options.defaultColorButtonLabel,this._onDefaultButtonClick),this._defaultButton.addClass(this._CLASS.DEFAULTCOLORBUTTON);var e=document.createElement("span");e.className=this._CLASS.ICON;var i,s=this._getClrInstance(this.options.defaultValue);i=s.isValid()?s.getColor():t.zcolorpicker.prototype.options.defaultValue,e.style.backgroundColor=this.options.defaultValue=i,this._defaultButton.prepend(e),this._noColorButton?this._defaultButton.insertAfter(this._noColorButton):this._defaultButton.prependTo(this._container)}},_onDefaultButtonClick:function(t){this._setValue(this.options.defaultValue,t,{defaultColorButtonClick:!0}),this._closeOnSelect(t)},_createActionButton:function(t,i,s){i=i||this._localize(t);var o=e('<button role=button aria-label="'+i+'" class="'+this._CLASS.NAVIGATABLE+'" ><span class="'+this._CLASS.TEXT+'">'+i+"</span></button>").on("click"+this._namespace,s.bind(this));return o},_createIcon:function(i,s,o){var n=e('<i class="'+this._CLASS.ICON+'">');return i||s?t.createIcon(n,i,s):n[0].innerHTML=o,n},_getShades:function(t,i){var s=this._getClrInstance(t.color);if(s.isValid()){var o=s.getObject(),n=this,a=[],r=[o.r,o.g,o.b],l=function(e,i,n){if(/^(lighten|darken|tint|shade)$/.test(e)){var l=zoho.color[e](r,i/100);s.setColor({r:l[0],g:l[1],b:l[2],a:o.a}),a.push({color:s.getColor(),title:n||s.getColor("hex").toUpperCase(),toneType:e,percent:i,baseColor:t.color})}};if(Array.isArray(i))i.forEach(function(e){var i=e.color||e;if("string"==typeof i){var s=n._getClrInstance(i);a.push({color:s.getColor(),baseColor:t.color,title:e.title||s.getColor("hex").toUpperCase()})}else l(e.function,e.percent,e.title)});else{var h=zoho.color.isDark(r),d=zoho.color.brightness(r),c=!(d>=210&&d<=255||d>=0&&d<=38),p=d>=240&&d<=255?[.05,.15,.25,.35,.5]:d>=0&&d<=15?[.5,.35,.25,.15,.05]:d>=224&&d<240?[.1,.25,.5,.75,.9]:d>15&&d<=31?[.9,.75,.5,.25,.1]:[.8,.6,.4,.25,.5];e.each(p,function(t,e){c&&(h=t<=2),l(h?"lighten":"darken",100*e)})}return a}},_getColorBox:function(t,i){var s=this._getClrInstance(t);if(s.isValid())return e("."+this._CLASS.COLORBOX+'[data-zcolor="'+s.getColor()+'"]',i||this.element)},_createRecentColorsPalette:function(){if(this.options.otherUsedColors){var t={colors:this.options.otherUsedColorsList,name:"otherusedcolors",type:"otherused",heading:this.options.otherUsedColorsHeading||this._localize("otherUsedColorsHeading"),maxColorsCount:this.options.otherUsedColorsHasLimit&&this.options.otherUsedColorsLimit};this._recentColorsPalette=this._addPalette(t,"after",this._paletteContainer),t.colors.length||this._recentColorsPalette.hide().attr("aria-hidden",!0)}},_createAdvColorsButton:function(t){var i=this.options;if(i.advancedPicker&&e.fn.zadvancedcolorpicker){var s=this._createIcon(i.advancedPickerIconClassName,i.advancedPickerSVGIconId,this._TEMPLATE.advancedPicker),o=this._createIcon(i.advancedPickerIconClassName,i.advancedPickerSVGIconId,this._TEMPLATE.arrowIcon);this._advancedColorsButton=this._createActionButton("advancedPickerButtonLabel",i.advancedPickerButtonLabel,this._onAdvancedColorsButtonClick),this._advancedColorsButton.addClass(this._CLASS.MORECOLORSBUTTON).append(o.addClass("h-alignright")).prepend(s).insertAfter(this._recentColorsPalette||this._paletteContainer),t&&this._createAdvPicker()}else i.advancedPicker=!1},_createAdvPicker:function(){var t=this.options,i={isFromPicker:!0,type:"inline",value:this.options.value,valueColorModel:this.options.valueColorModel,immediateCommit:!1,closeButton:!1,appendTo:!1,draggable:!1,animation:!1,palettes:!1,customAttributes:{tabindex:this.element.attr("tabindex")}};t.advancedPickerOptions&&(i=e.extend({},t.advancedPickerOptions,i)),void 0===i.hideCancelButton&&(i.hideCancelButton=!0),i.commandBar||(i.commandBar={leftColumn:{commands:["back"]},rightColumn:{commands:["cancel","OK"]},middleColumn:!1}),this.picker=e("<div>").appendTo(this.element.find("."+this._CLASS.COMMONCONTAINER)).zadvancedcolorpicker(i).removeClass(this._CLASS.CONTAINER).on("zadvancedcolorpickerok",this._onPickerChange.bind(this)).on("zadvancedcolorpicker"+this._EVENTS.ONMODECHANGE,this._onModeChange.bind(this)).on("zadvancedcolorpickerselect",this._onPickerSelect.bind(this)).on("zadvancedcolorpickercancel",this.close.bind(this)).on("zadvancedcolorpickerback",this._onBackClick.bind(this))},_onAdvancedColorsButtonClick:function(t){this._advPickerVisible=!0,this._setElementWidthHeight(this._pickerWidth,this._pickerHeight),this.picker.css("visibility","visible"),this._container.css("margin-left","-"+this._basicPickerWd);var e=this;this.element.addClass("zcolorpicker--transition").off(this._ANIMATION.transitionEnd).on(this._ANIMATION.transitionEnd,function(t){e._container.is(t.target)&&(e.picker.zadvancedcolorpicker("setFocus"),e._container.css("visibility","hidden"),e.element.removeClass("zcolorpicker--transition"))}),this._reposition(this._pickerWidth,this._pickerHeight)},_onBackClick:function(t,e){e.fromUI&&(this._showBasicPicker(t.originalEvent,!0),this.setFocus())},_onPickerChange:function(t,e){e.fromUI&&(this._setValue(e.rgb,t.originalEvent),this.close(t.originalEvent))},_onModeChange:function(t,e){e.fromUI&&this._trigger("ONMODECHANGE",t,e)},_onPickerSelect:function(t,e){e.fromUI&&(this._trigger("ONSELECT",t.originalEvent,e),this._lastAdvSelectValue=e.currentRGB)},_addToRecentColors:function(t,e){if(this.options.otherUsedColors&&!this._noFill&&!this._defaultColor){var i=this._getColorBox(t,this.paletteHolders);if(i.length)return;this._trigger("ONBEFORERECENTCOLORADD",e)&&(this._addColorsToPalette("otherusedcolors",t,this.options.otherUsedColorsHasLimit?0:void 0),this.options.otherUsedColorsList=this._getPaletteData(this._recentColorsPalette).colors,this.options.otherUsedColorsList.length&&"none"===this._recentColorsPalette[0].style.display&&(this._recentColorsPalette.show().removeClass("aria-hidden",!1),this._resetDimension()),this._trigger("ONRECENTCOLORADD",e))}},_triggerChange:function(t,e){(this._frominit||this._currentColor!==this._selectedInstance.getColor())&&(this._updateSelectedColor(),this._trigger("ONCHANGE",t,e)),this._trigger("ONPICK",t,e)},_triggerSelect:function(t,e,i){i=i||{},i.currentValue=this._colorInstance.getColor(this._colorMode),i.currentOpacity=this._colorInstance.getAlpha(),i.currentRGB=this._colorInstance.getColor(),this._trigger("ONSELECT",t,i,e)},_updateColorField:function(){this.options.colorField&&(this._previewBox&&this._previewBox.css("background-color",this._currentColor),!this._ignoreHexFieldUpdate&&this._colorCodeBox.val(this._noFill?"":this._colorInstance.getColor(this._displayColorMode,void 0,!1))),this._ignoreHexFieldUpdate=void 0},_selectColorbox:function(t){if(this.paletteHolders&&(e("."+this._CLASS.COLORBOX,this.element).removeClass(this._CLASS.ACTIVE).attr("aria-selected",!1),this._selectedPan=[],!this._noFill))return this._selectedPan=this._getColorBox(this._currentColor,this.paletteHolders).addClass(this._CLASS.ACTIVE).attr("aria-selected",!0),this._selectedPan},_setColorMode:function(t){var e=this._getClrInstance(t||this.options.value);this._colorMode=this._REGEX.colorMode.test(this.options.valueColorModel)?this.options.valueColorModel:e.format,this._displayColorMode=this._REGEX.colorMode.test(this.options.colorFieldOptions.colorMode)?this.options.colorFieldOptions.colorMode:this._colorMode},_updateUI:function(){this._updateColorField(),this._selectColorbox(),this._updateOpacitySlider(),this._updateOpacityField()},_setValue:function(t,e,i){var s=this._getClrInstance("none"===t?"transparent":t);if(s.isValid()){var o=this._currentColor;this._colorInstance=s,this._noFill=i&&i.noColorButtonClick||"none"===t,this._defaultColor=i&&i.defaultColorButtonClick,this._currentColor=s.getColor(),this._updateUI(),o!==this._currentColor&&this._triggerSelect(e,void 0,i),this._triggerChange(e,i),this.options.advancedPicker&&this.picker.zadvancedcolorpicker("setValue",s.getObject())}},_updateSelectedColor:function(){this._selectedInstance=e.extend(!0,{},this._colorInstance),this.options.value=this._noFill?"transparent":this._colorInstance.getColor(this._colorMode,void 0,!1)},_trigger:function(t,e,i,s){if(!this._frominit){e=e&&e.preventDefault?e:void 0,i=i||{},i.value=i.color=this.getValue(),i.rgb=this._colorInstance.getColor(),i.opacity=this._colorInstance.getAlpha(),i.colorData=this._colorInstance.getObject(this._colorMode),i.otherData={},i.otherData.colorPan=this._selectedPan;var o=this._selectedPan[0];return o&&o.getAttribute("data-shade")&&(i.otherData.isShade=!0,i.otherData.baseColor=o.getAttribute("data-base-color"),i.otherData.toneType=o.getAttribute("data-tone-type"),i.otherData.tonePercent=o.getAttribute("data-tone-percent")),this._dispatchEvent(t,e,i,void 0,!!e||s)}},_animate:function(t,e,i,s){if(e&&"object"==typeof e){var o,n;"string"==typeof e?o=this._ANIMATION[e][i]:e.name?this._ANIMATION[e.name]&&(o=this._ANIMATION[e.name][i]):e[i]&&("string"==typeof e[i]?o=e[i]:e[i].name?o=e[i].name:e[i].className&&(n=e[i].className));var a=e.duration?e.duration:e[i]&&e[i].duration?e[i].duration:void 0;"object"==typeof o?t.animate(o,a,s):/^(fadeIn|fadeOut|slideDown|slideUp)$/.test(o)?t[o](a,s):"string"==typeof n?("open"===i&&t.css("display",""),t.removeClass(t.data("css-effect")).addClass(n).data("css-effect",n).off(this._ANIMATION.end).on(this._ANIMATION.end,function(){"close"===i&&t.hide(),t.removeClass(n).removeData("css-effect"),s&&s()})):(t.css("display","close"===i?"none":"block"),s&&s())}else t.css("display","close"===i?"none":"block"),s&&s()},setFocus:function(t){if(this._trigger("ONBEFOREFOCUS")&&this.element.attr("tabindex")!==-1){var e=this;clearTimeout(this._focusTimer),this._focusTimer=setTimeout(function(){e.element[0].focus()},100)}},_onOpen:function(t){this.options.closeOnBodyClick&&ZComponents.bindDocumentEvents({element:this.element,forElement:this.options.forElement,ctype:this.componentName,closeMethodName:"close"}),this.setFocus(t),this.element.attr("aria-hidden",!1),this._bindDocumentEvents(),this._trigger("ONOPEN",t)},_bindDocumentEvents:function(){var e=this;t.$document.on("keydown"+this._namespace,function(i){var s=i.keyCode;s===t.keyCode.ESCAPE&&e.close(i)})},_unBindDocumentEvents:function(){t.$document.off(this._namespace)},_closeOnSelect:function(t){!this.options.opacity&&this.options.closeOnSelect&&this.close(t)},_showBasicPicker:function(t,e){if(this._advPickerVisible){if(this._advPickerVisible=!1,this.element.off(this._ANIMATION.transitionEnd),this.picker){this._lastAdvSelectValue&&this._lastAdvSelectValue!==this._currentColor&&(this.picker.zadvancedcolorpicker("setValue",this._currentColor),this._triggerSelect(t,!0));var i=this;this.element.on(this._ANIMATION.transitionEnd,function(t){i._container.is(t.target)&&(i.picker.css("visibility","hidden"),i.element.removeClass("zcolorpicker--transition"))})}this._lastAdvSelectValue=!1,this._setElementWidthHeight(this._basicPickerWd,this._basicPickerHt),this._container.css({visibility:"visible","margin-left":0}),e?(this.element.addClass("zcolorpicker--transition"),this._reposition(this._basicPickerWd,this._basicPickerHt)):this.picker.css("visibility","hidden")}},_reposition:function(t,e){var i=this._currentOpenedConfig;i&&!i.dragged&&this._floating&&this._setPosition(i,!0,t,e)},_onClose:function(t){this._addToRecentColors(this._selectedInstance.getColor(),t),this._showBasicPicker(t),this._unBindDocumentEvents(),this.element.attr("aria-hidden",!0).removeClass("zcolorpicker--transition").find(".zcolorpicker__pointer").removeClass("zcolorpicker--pointertransition"),this._trigger("ONCLOSE",t)},_getPaletteAt:function(t){var e=this.paletteHolders.not(this._defaultPalette).not(this._standardPalette),i=[];t=Array.isArray(t)?t:[t];return t.forEach(function(t){i.push(e[t])}),i},_updatePaletteOptions:function(){var t=this.paletteHolders.not(this._defaultPalette).not(this._standardPalette).not(this._recentColorsPalette);t.length&&(this.options.otherPalettes=this._getPaletteData(t.toArray()))},getValue:function(){return this.options.value},setValue:function(t,e){this._setValue(t,e),this._addToRecentColors(this._currentColor,e)},open:function(t,e){this._floating&&this._trigger("ONBEFOREOPEN",e)&&(t=t||{},this._currentOpenedConfig={forElement:t.forElement||this.options.forElement,offset:t.offset||this.options.offset,margin:t.offset||this.options.margin,position:t.position||this.options.position},this._setPosition(this._currentOpenedConfig),this._animate(this.element,this.options.animation,"open",this._onOpen.bind(this,e)))},_setPosition:function(t,i,s,o){if(t.offset)return void this.element.css(t.offset);if(window.ZPosition){var n=!1,a=!!i&&"fit",r=e(t.forElement);if(!r.length)return;this.options.forElement=r;var l="center"===t.position;this._REGEX.position.test(t.position)||(t.position="auto"),"auto"===t.position&&(t.position="callout"===this.options.displayType?"bottom":"bottom-left",a="flipsideallfit");var h=this.element.find("."+this._CLASS.ARROW).show(),d={direction:t.position,showWithinTarget:l,within:t.appendTo,positionAlterable:a,arrow:{element:h,callback:this._arrowCallback.bind(this)}};if(a&&!l){if(i)this.element.find(".zcolorpicker__pointer").addClass("zcolorpicker--pointertransition");else if(this.options.advancedPicker){n=!0;var o=parseFloat(this._basicPickerHt),s=parseFloat(this._basicPickerWd);this._pickerHeight&&(o=Math.max(o,parseFloat(this._pickerHeight)),s=Math.max(s,parseFloat(this._pickerWidth)))}s&&o&&(d.callbacks={dimensionModifier:function(t,e,i){e.width=parseInt(s),e.height=parseInt(o)}})}var c=ZPosition.get(l?window:r,this.element,d);if(c&&c.elementPosition){var p=c.elementPosition;if(t.margin){var u=+t.margin.top||0,m=+t.margin.left||0,_=c.direction.split("-");"top"===_[0]?p.top-=u:"bottom"===_[0]?p.top+=u:"right"===_[0]?p.left+=m:"left"===_[0]&&(p.left-=m)}this.element.css(p),h.length&&h.css(c.arrowPosition),t.position=c.direction,n&&this._setPosition(t,!0,this._basicPickerWd,this._basicPickerHt)}}},close:function(t){if("inline"!==this.options.type&&(this._currentOpenedConfig=void 0,clearTimeout(this._focusTimer),this.element.is(":visible"))){if(!this._trigger("ONBEFORECLOSE",t))return;this._animate(this.element,this.options.animation,"close",this._onClose.bind(this,t))}},addPalette:function(t){this._addPalettes(t),this._updatePaletteOptions()},insertPaletteBefore:function(t,e){this._addPalettes(t,"before",e),this._updatePaletteOptions()},insertPaletteAt:function(t,e){this.insertPaletteBefore(t,this._getPaletteAt(e)[0])},removePalette:function(t){this._removePalettes(t),this._updatePaletteOptions()},removePaletteAt:function(t){this.removePalette(this._getPaletteAt(t))},addColor:function(t,e){this._addColorsToPalette(t,e)},insertColorAt:function(t,e,i){this._addColorsToPalette(t,e,i)},removeColor:function(t,e){this._removeColorsFromPalette(t,e)},removeColorAt:function(t,e){this._removeColorsFromPaletteAt(t,e)},getPaletteColors:function(t){if(t=this._getPalette(t))return e.extend({},this._getPaletteData(t).colors)},setPaletteColors:function(t,i){if(t=this._getPalette(t)){var s=e(t);s.is(this._standardPalette)||s.is(this._defaultPalette)||s.is(this._recentColorsPalette)||(s.find("ul").remove(),this._getPaletteData(t).colors=[],this._addColorsToPalette(t,i))}},destroy:function(){this.element.removeClass(this._CLASS.CONTAINER).off(this._namespace).removeData(this.componentName).empty()},setAttribute:function(t,e){e!==this.options[t]&&(e="string"==typeof e?e.trim():e,this._setAttribute(t,e),this._resetDimension())},_destroyPicker:function(){this.picker&&(this.picker.zadvancedcolorpicker("destroy"),this.picker.remove(),this.picker=void 0)},_isArrayEquals:function(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}},_isObjectEquals:function(t,e){var i=Object.keys(t),s=Object.keys(e);if(i.length===s.length){for(var o=0;o<i.length;o++)if(t[i[o]]!==e[i[o]])return!1;return!0}},_setAttribute:function(t,i){var s=this.options,o=/^(defaultValue|defaultColorButton|defaultColorButtonLabel)$/,n=/^(noColorButton|noColorButtonLabel|noColorIconClassName|noColorSVGIconId)$/,a=/^(defaultPaletteHeading|defaultPaletteType|customPalette)$/,r=/^(standardColors|standardColorsHeading|standardColorsPalette)$/,l=/^(colorField|colorFieldOptions)$/,h=/^(opacity|opacitySlider|opacityFieldType)$/,d=/^(paletteColumns|otherPalettes)$/,c=/^(advancedPicker|advancedPickerIconClassName|advancedPickerSVGIconId|advancedPickerButtonLabel)$/,p=/^(advancedPickerOptions)$/,u=/^(otherUsedColors|otherUsedColorsHeading|otherUsedColorsList|otherUsedColorsHasLimit|otherUsedColorsLimit)$/,m=/^(title|isTitleHTMLEncoded|closeButton|closeIconClassName|closeSVGIconId)$/;if("value"===t)return void this.setValue(i);var _=s[t];if(/^(colorFieldOptions|advancedPickerOptions|opacitySlider|animation|offset|margin|customPalette|keys)$/.test(t))if("object"==typeof i){if("object"==typeof _&&(i=e.extend(!0,{},_,i),this._isObjectEquals(i,_)))return}else if(!/(animation)/.test(t))return;s[t]=i,"valueColorModel"===t?(this._setColorMode(),this.options.value=this._selectedInstance.getColor(this._colorMode,void 0,!1),this._updateColorField()):o.test(t)?(this._defaultButton&&(this._defaultButton.remove(),this._defaultButton=void 0),this._createDefaultButton()):n.test(t)?(this._noColorButton&&(this._noColorButton.remove(),this._noColorButton=void 0),this._createNoColorButton()):a.test(t)?(this._removePalettes(this._defaultPalette,!0),this._defaultPalette=void 0,this._createDefaultPalette()):r.test(t)?(this._removePalettes(this._standardPalette,!0),this._standardPalette=void 0,this._createStandardPalette()):l.test(t)?(this._container.find("."+this._CLASS.COLORFIELD).remove(),this._previewBox&&(this._previewBox.remove(),this._previewBox=void 0),this._colorCodeBox&&(this._colorCodeBox.remove(),this._colorCodeBox=void 0),this._setColorMode(),this._createColorField(),this._updateColorField(),s.opacity||s.colorField||!this._colorFieldPartition||(this._colorFieldPartition.remove(),this._colorFieldPartition=void 0)):h.test(t)?(this._sliderContainer&&(this._sliderContainer.remove(),this._sliderContainer=void 0),this._createOpacitySection(),this._updateOpacitySlider(),this._updateOpacityField(),s.opacity||s.colorField||!this._colorFieldPartition||(this._colorFieldPartition.remove(),this._colorFieldPartition=void 0)):d.test(t)?(this._paletteContainer.empty(),this._standardPalette=void 0,this._defaultPalette=void 0,this._createPalettes()):c.test(t)?("advancedPicker"!==t||i||this._showBasicPicker(),this._advancedColorsButton&&(this._advancedColorsButton.remove(),this._advancedColorsButton=void 0),s.advancedPicker?this._createAdvColorsButton(!this.picker):this._destroyPicker()):p.test(t)?this.picker&&this.picker.zadvancedcolorpicker("setAttributes",i):u.test(t)?(this._removePalettes("otherusedcolors",!0),this._recentColorsPalette=void 0,this._createRecentColorsPalette()):m.test(t)?(this.element.data("zdraggable")&&this.element.zdraggable("destroy"),this._titleBar&&(this._titleBar.remove(),this._titleBar=void 0),this._constructTitleBar()):"draggable"===t?(this.element.data("zdraggable")&&this.element.zdraggable("destroy"),this._setDraggable()):"appendTo"===t?this._appendComponent():"className"===t?this.element.removeClass(_).addClass(this._CLASS.CONTAINER+" "+("string"==typeof i?i:"")):"type"===t?"inline"===i?(this._floating=!1,this.element.show(),this._unBindDocumentEvents()):(this._floating=!0,this._bindDocumentEvents()):"displayType"===t&&(this.element.find("."+this._CLASS.ARROW).remove(),this._createArrow())}};t.registerComponent("zcolorpicker",i),t.createColorPicker=function(t){if("object"==typeof t){var i=e("#"+t.id);if(i.length){if(i.data("zcolorpicker"))return i}else i=e("<div>").appendTo(e(t.appendTo).length?t.appendTo:"body").attr({id:t.id}),t.customAttributes&&i.attr(t.customAttributes);return i.zcolorpicker(t),i}}}(ZComponents),function(t){var e=t.DOMUtil,i={options:e.extend({},e.zcolorpicker.prototype.options,{opacity:!0,slider:void 0,mapMarkerIconClassName:void 0,mapMarkerSVGIconId:void 0,colorPreview:!0,previousColorInPreview:!0,colorFields:!0,colorFieldsList:void 0,defaultColorField:"hex",currentColorField:void 0,opacityFieldType:"percent",palettes:!1,palettesList:void 0,paletteColumns:0,customColorLibraries:void 0,addIconClassName:void 0,addSVGIconId:void 0,removeIconClassName:void 0,removeSVGIconId:void 0,immediateCommit:!1,closeOnSelect:!1,commandBar:{leftColumn:void 0,centerColumn:void 0,rightColumn:{commands:["cancel","OK"]}},OKButtonClassName:void 0,cancelButtonClassName:void 0,hideCancelButton:!1,backButton:!0,backButtonClassName:void 0,backButtonIconClassName:void 0,backButtonSVGIconId:void 0,labels:{closeButtonLabel:"Close",colorFieldLabel:"Color Field",addButtonLabel:"Add Button",HSVLabel:"HSV",RGBLabel:"RGB",HSLLabel:"HSL",CMYKLabel:"CMYK",HEXLabel:"HEX",opacityFieldLabel:"A",hexFieldLabel:"HEX",hueFieldLabel:"H",saturationFieldLabel:"S",valueFieldLabel:"V",lightnessFieldLabel:"L",redFieldLabel:"R",greenFieldLabel:"G",blueFieldLabel:"B",cyanFieldLabel:"C",magentaFieldLabel:"M",yellowFieldLabel:"Y",keyFieldLabel:"K",OKButtonLabel:"OK",cancelButtonLabel:"Cancel",backButtonLabel:"Back"},boxSelectionTypeDefaultColorModel:"HSV",boxSpectrumHSVColorModel:{xAxis:"saturation",yAxis:"value"},boxSpectrumHSLColorModel:{xAxis:"hue",yAxis:"saturation"}}),_CLASS:{CONTAINER:"zcolorpicker zcolorpicker--advanced",SWATCH:"zcolorpicker__maparea",PICKERPOINTER:"zcolorpicker__mapmarker",COLORMODECONTAINER:"zcolorpicker__colormodecontainer",PREVIEWBOX:"zcolorpicker__previewbox",INNERPREVIEW:"zcolorpicker__dynamiccolor",NEWPREVIEW:"zcolorpicker__newcolorpreview",PREVIOUSPREVIEW:"zcolorpicker__currentcolorpreview",SLIDERCONTAINER:"zcolorpicker__slidercontainer",SLIDER:"zslider",BARSLIDER:"zcolorpicker__slider",OPACITYSLIDER:"zcolorpicker__opacityslider",COLORFIELDCONTAINER:"zcolorpicker__colorfieldcontainer",COLORFIELD:"zcolorpicker__colorfield",SMALLCOLORFIELD:"zcolorpicker__othercolormodefield",SMALLFIELDLABELCONTAINER:"zcolorpicker__othercolormodefieldlabelcontainer",SMALLFIELDLABEL:"zcolorpicker__othercolormodefieldlabel",HEXCOLORFIELD:"zcolorpicker__hexcolorfield",HEXFIELDLABELCONTAINER:"zcolorpicker__hexcolorfieldlabelcontainer",HEXFIELDLABEL:"zcolorpicker__hexcolorfieldlabel",CUSTOMISABLEPALETTE:"zcolorpicker__palette-customisable",ADDBUTTON:"zcolorpicker__addcolor",REMOVEBUTTON:"zcolorpicker__deletecolor",ADDCOLORICON:"zcolorpicker__addcoloricon",COMMANDBAR:"zcolorpicker__commandbar",COMMANDBAR_L:"zcolorpicker__commandbaractionsleft",COMMANDBAR_R:"zcolorpicker__commandbaractionsright",COMMANDBAR_C:"zcolorpicker__commandbaractionscenter"},_EVENTS:{ONCHANGE:"change",ONSELECT:"select",ONPICK:"pick",ONDRAGSTART:"dragstart",ONDRAGSTOP:"dragstop",ONDRAG:"drag",CANCEL:"cancel",BACK:"back",OK:"ok",ONBEFORECOLORPANADD:"beforecolorpanadd",ONCOLORPANADD:"colorpanadd",ONBEFORECOLORPANREMOVE:"beforecolorpanremove",ONCOLORPANREMOVE:"colorpanremove",ONMODECHANGE:"colorfieldlistchange"},_colorFieldsList:["hex","rgb","hsv","hsl","cmyk"],_TEMPLATES:{addColorIcon:'<svg viewBox="0 0 16 16"> <polygon points="13,7.3 8.7,7.3 8.7,3 7.3,3 7.3,7.3 3,7.3 3,8.7 7.3,8.7 7.3,13 8.7,13 8.7,8.7 13,8.7 "></polygon> </svg>'},_REGEX:{mode:/^(hue|saturation|value|red|green|blue)$/},_MODEPROPS:{hsv:["h","s","v"],rgb:["r","g","b"],hex:["hex"],hsl:["h","s","l"],cmyk:["c","m","y","k"],a:["a"]},_PROP_EXPANSION:{h:"hue",s:"saturation",v:"value",l:"lightness",r:"red",g:"green",b:"blue",a:"opacity",hex:"hex",c:"cyan",m:"magenta",y:"yellow",k:"key"},_bindEvents:function(){this._super()},_resetDimension:function(){},_setWidth:function(){if(!this.element[0].style.width){var t=this.options.width||this._swatch[0].offsetWidth;t&&(this.element[0].style.width=isNaN(t)?t:t+"px")}},_onKeyPress:function(i){var s=i.keyCode;if(s===t.keyCode.ENTER){var o=document.activeElement;if("BUTTON"===o.tagName)return;e(o);if("INPUT"===o.tagName)return void this._onOkButtonClick(i);"LI"===o.tagName&&o.click()}},_onClick:function(t){var i=e(t.target).closest("."+this._CLASS.COLORBOX);i.length&&this._setValue(i[0].style.backgroundColor,t)},_setColorMode:function(t){var e=this._getClrInstance(t||this.options.value);this._colorMode=this._REGEX.colorMode.test(this.options.valueColorModel)?this.options.valueColorModel:e.format},_constructMainBody:function(){this._container=this.element,this._configurePickerMethods(),this._constructPaletteArea(),this.options.colorPreview&&this._createPreview(),this.options.colorFields&&this._createColorField(),this.options.palettes&&this._createPalettes(),this.options.immediateCommit||this._createCommandBar(),this._setWidth()},_createCommandBar:function(){var t=this.options,i={OK:this._onOkButtonClick,cancel:this._onCancelButtonClick,back:this._onBackButtonClick},s=this;this._commandBarContainer=e("<div>",{class:this._CLASS.COMMANDBAR});var o=t.commandBar||e.zadvancedcolorpicker.prototype.options.commandBar,n=[],a=[this._CLASS.COMMANDBAR_L,this._CLASS.COMMANDBAR_C,this._CLASS.COMMANDBAR_R];["leftColumn","centerColumn","rightColumn"].forEach(function(r,l){if(o[r]){var h,d=o[r].commands;d.forEach(function(o){if(/(OK|back|cancel)/.test(o)&&n.indexOf(o)===-1&&("back"!==o||t.isFromPicker)){var r="zbutton zbutton--small  zactionbutton--"+o;"OK"===o&&(r+=" zbutton--primary"),s.options[o+"ButtonClassName"]&&(r+=" "+s.options[o+"ButtonClassName"]);var d=t[o+"ButtonLabel"]||s._localize(o+"ButtonLabel"),c=e('<button  type=button role=button aria-label="'+d+'" class="'+r+'"> <span class="zbutton__text">'+d+"</span> </button>").on("click"+s._namespace,i[o].bind(s));h||(h=e("<div>",{class:a[l]})),h.append(c).appendTo(s._commandBarContainer),n.push(o)}})}}),this._commandBarContainer.appendTo(this._container),this._commandButtonsDisplay()},_commandButtonsDisplay:function(){this.options.hideCancelButton&&this._commandBarContainer&&this._commandBarContainer.find(".zactionbutton--cancel").hide()},_onOkButtonClick:function(t){this._triggerChange(t),this._trigger("OK",t),this.close(t)},_onCancelButtonClick:function(t){this._revertColor(t),this._trigger("CANCEL",t),this.close(t)},_onBackButtonClick:function(t){this._trigger("BACK",t)},_revertColor:function(t){this._selectedInstance.getColor()!==this._currentColor&&this._setValue(this._selectedInstance.getObject(),t)},_createPalettes:function(){this._addPalettes(this.options.palettesList),this._addCustomLibraries(this.options.customColorLibraries)},_addPalettes:function(t,i,s){this.options.palettes&&(this._paletteContainer||(this._paletteContainer=e("<div>").insertAfter(this._colorFieldPartition||this._sliderPartition)),this._super(t,i,s))},_addCustomLibraries:function(t,i,s){if(this.options.palettes&&t){var o=this;i&&s||(i="append",this._customLibrariesContainer||(this._customLibrariesContainer=e("<div>").insertAfter(this._paletteContainer||this._colorFieldPartition||this._sliderPartition)),s=this._customLibrariesContainer),t=Array.isArray(t)?t:[t],"after"===i&&(t=t.reverse()),t.forEach(function(t){o._addPalette(t,i,s,!0)})}},_constructPaletteArea:function(){this._createSwatch(),this._sliderPartition=e("<div>",{class:this._CLASS.COLORMODECONTAINER}).appendTo(this.element),this._sliderContainer=e("<div>",{class:this._CLASS.SLIDERCONTAINER}).appendTo(this._sliderPartition),this._createBar(),this.options.opacity&&this._createOpacitySlider()},_createOpacitySlider:function(){this._super(this.options.slider),this._opacityBar.addClass(this._CLASS.OPACITYSLIDER).off(this._namespace).on("mousedown"+this._namespace,this._onMouseDown.bind(this,this._opacityBar,this._opacityPicker))},_setInitial:function(){this._super(),this.options.colorFields&&this._switchColorField(this.options.defaultColorField),this._updateSelectedColor(),this._updatePreviousPreview()},_createSwatch:function(){this._swatch=e('<div class="'+this._CLASS.SWATCH+'"> <canvas></canvas> </div>').appendTo(this.element),this.options.mapMarkerIconClassName||this.options.mapMarkerSVGIconId?this._swatchPicker=this._createIcon(this.options.mapMarkerIconClassName,this.options.mapMarkerSVGIconId):this._swatchPicker=e('<span class="'+this._CLASS.PICKERPOINTER+'"></span>'),this._swatch.append(this._swatchPicker),this._swatchCanvas=this._swatch[0].children[0],this._swatchContext=this._swatchCanvas.getContext("2d"),this._swatch.on("mousedown"+this._namespace,this._onMouseDown.bind(this,this._swatch,this._swatchPicker))},_createBar:function(){var t=this._createSlider(this.options.slider);this._bar=t.slider.prependTo(this._sliderContainer).addClass(this._CLASS.BARSLIDER),this._barPicker=t.thumb,this._barContext=t.canvasContext,this._bar.on("mousedown"+this._namespace,this._onMouseDown.bind(this,this._bar,this._barPicker))},_createPreview:function(){var t=e("<div>",{class:this._CLASS.PREVIEWBOX}),i=e('<div class="'+this._CLASS.NEWPREVIEW+" "+this._CLASS.TRANSPARENTBG+'"> <span class="'+this._CLASS.INNERPREVIEW+'"></span> </div>').appendTo(t);if(this._previewBox=i.find("."+this._CLASS.INNERPREVIEW),this.options.previousColorInPreview){var s=e('<div class="'+this._CLASS.PREVIOUSPREVIEW+" "+this._CLASS.TRANSPARENTBG+'"> <span class="'+this._CLASS.INNERPREVIEW+'"></span> </div>').appendTo(t);this._previousPreview=s.find("."+this._CLASS.INNERPREVIEW).on("click",this._previousPreviewClick.bind(this))}this._sliderPartition.prepend(t)},_previousPreviewClick:function(t){this._setValue(t.target.style.backgroundColor,t)},_updatePreview:function(){this.options.colorPreview&&(this._previewBox[0].style.backgroundColor=this._currentColor)},_hueColors:["rgba(255, 0, 0, 1)","rgba(255, 255, 0, 1)","rgba(0, 255, 0, 1)","rgba(0, 255, 255, 1)","rgba(0, 0, 255, 1)","rgba(255, 0, 255, 1)","rgba(255, 0, 0, 1)"],_setHueStops:function(t){this._setGradientColors(t,this._hueColors)},_fillCanvas:function(t,e){t.fillStyle=e,t.fill()},_clearCanvas:function(){var t=this._swatchContext,e=this._barContext;t.clearRect(0,0,t.canvas.width,t.canvas.height),e.clearRect(0,0,e.canvas.width,e.canvas.height),t.rect(0,0,t.canvas.width,t.canvas.height),e.rect(0,0,e.canvas.width,e.canvas.height)},_configurePickerMethods:function(){"HSL"===this.options.boxSelectionTypeDefaultColorModel?(this._paintPicker=this._HSLUtils.paintPicker.bind(this),this._axisProps=this._HSLUtils.getXYProps(this.options.boxSpectrumHSLColorModel)):(this._paintPicker=this._HSVUtils.paintPicker.bind(this),this._axisProps=this._HSVUtils.getXYProps(this.options.boxSpectrumHSVColorModel))},_HSLUtils:{fill:function(t,e,i,s){var o=e===i?this._barContext:this._swatchContext,n=e===i&&"vertical"===this.options.barOrientation||t===i,a=this._createGradient(o,n);switch(i){case"hue":this._setHueStops(a);break;case"saturation":this._setGradientColors(a,["rgba(128,128,128,1)",s||"rgba(128,128,128,0)"]);break;case"lightness":a.addColorStop(0,"rgb(0,0,0)"),s?a.addColorStop(.5,s):(a.addColorStop(.5,"rgba(0,0,0,0)"),a.addColorStop(.5,"rgba(255,255,255,0)")),a.addColorStop(1,"rgb(255,255,255)")}this._fillCanvas(o,a)},getLightnessLayer:function(t){return t<50?"rgba(0, 0, 0, "+(1-t/50)+")":t>50?"rgba(255, 255, 255, "+(t-50)/50+")":void 0},paintPicker:function(t,e,i){this._clearCanvas();var s=this._getColorFromCoords(),o=this._swatchContext,n=this._barContext,a=this._HSLUtils.fill.bind(this,e,i),r=this._HSLUtils.getLightnessLayer.bind(this,parseFloat(s.l));switch(i){case"lightness":a("hue"),a("saturation"),a("lightness",this._getClrInstance({h:s.h,s:s.s,l:"50%"}).getColor());break;case"hue":this._fillCanvas(o,this._getClrInstance({h:s.h,s:"100%",l:"50%"}).getColor()),a("saturation"),a("lightness"),a("hue");break;case"saturation":a("hue"),a("lightness"),a("saturation",this._getClrInstance({h:s.h,s:"100%",l:"50%"}).getColor());var l=r();l&&this._fillCanvas(n,l)}},getXYProps:function(t){var e,i,s;switch(t.xAxis+"-"+t.yAxis){case"saturation-hue":e="saturation",i="hue",s="lightness";break;case"hue-lightness":e="hue",i="lightness",s="saturation";break;case"lightness-hue":e="lightness",i="hue",s="saturation";break;case"lightness-saturation":e="lightness",i="saturation",s="hue";break;case"saturation-lightness":e="saturation",i="lightness",s="hue";break;default:e="hue",i="saturation",s="lightness"}return{x:e,y:i,z:s}}},_HSVUtils:{fill:function(t,e,i,s){var o=e===i?this._barContext:this._swatchContext,n=e===i&&"vertical"===this.options.barOrientation||t===i,a=this._createGradient(o,n);switch(i){case"hue":this._setHueStops(a);break;case"saturation":this._setGradientColors(a,["rgba(255,255,255,1)",s||"rgba(255,255,255,0)"]);break;case"value":this._setGradientColors(a,["rgba(0,0,0,1)",s||"rgba(0,0,0,0)"])}this._fillCanvas(o,a)},getValueLayer:function(t){return"rgba(0, 0, 0, "+(1-t/100)+")"},paintPicker:function(t,e,i){this._clearCanvas();var s=this._colorInstance.getObject("hsv"),o=this._swatchContext,n=this._barContext,a=(this._axisProps,this._HSVUtils.fill.bind(this,e,i)),r=this._HSVUtils.getValueLayer.bind(this,parseFloat(s.v));switch(i){case"value":a("hue"),a("saturation"),this._fillCanvas(o,r()),a("value",this._getClrInstance({h:s.h,s:s.s,v:"100%"}).getColor());break;case"hue":this._fillCanvas(o,this._getClrInstance({h:s.h,s:"100%",v:"100%"}).getColor()),a("saturation"),a("value"),a("hue");break;case"saturation":a("hue"),this._fillCanvas(o,"rgba(255,255,255,"+(1-parseFloat(s.s)/100)+")"),a("value"),a("saturation",this._getClrInstance({h:s.h,s:"100%",v:"100%"}).getColor()),this._fillCanvas(n,r())}},getXYProps:function(t){var e,i,s;switch(t.xAxis+"-"+t.yAxis){case"hue-saturation":e="hue",i="saturation",s="value";break;case"saturation-hue":e="saturation",i="hue",s="value";break;case"hue-value":e="hue",i="value",s="saturation";break;case"value-hue":e="value",i="hue",s="saturation";break;case"value-saturation":e="value",i="saturation",s="hue";break;default:e="saturation",i="value",s="hue"}return{x:e,y:i,z:s}}},_createGradient:function(t,e){return e?t.createLinearGradient(0,t.canvas.height,0,0):t.createLinearGradient(0,0,t.canvas.width,0)},_paintOpacity:function(){var t=this._opacityContext;t.clearRect(0,0,t.canvas.width,t.canvas.height),t.rect(0,0,t.canvas.width,t.canvas.height);var e=this._createGradient(t,"vertical"===this.options.barOrientation),i=this._colorInstance.getObject();this._setGradientColors(e,["rgba("+i.r+","+i.g+","+i.b+", 0)","rgb("+i.r+","+i.g+","+i.b+")"]),this._fillCanvas(t,e)},_getCoords:function(){var t=function(t){return t?Math.round(100*parseFloat(t))/100:0},e=this.options,i="vertical"===e.barOrientation;return{x:t(this._swatchPicker[0].style.left),y:100-t(this._swatchPicker[0].style.top),z:i?100-t(this._barPicker[0].style.top):t(this._barPicker[0].style.left),o:e.opacity?i?100-t(this._opacityPicker[0].style.top):t(this._opacityPicker[0].style.left):100}},_getCoordsFromColor:function(){var t=this._colorInstance.getPercentageObject(this.options.boxSelectionTypeDefaultColorModel.toLowerCase());return{x:parseFloat(t[this._axisProps.x[0]]),y:parseFloat(t[this._axisProps.y[0]]),z:parseFloat(t[this._axisProps.z[0]]),o:parseFloat(t.a)}},_updatePickerPosition:function(){if(!this._ignorePickerUpdate){var t=this._getCoordsFromColor();return this._swatchPicker[0].style.left=t.x+"%",this._swatchPicker[0].style.top=100-t.y+"%","vertical"!==this.options.barOrientation?(this._barPicker[0].style.left=t.z+"%",this.options.opacity&&(this._opacityPicker[0].style.left=t.o+"%")):(this._barPicker[0].style.top=100-t.z+"%",this.options.opacity&&(this._opacityPicker[0].style.top=100-t.o+"%")),t}},_addPalette:function(t,i,s,o){o&&(t.hasTones=!1);var n=this._super.apply(this,arguments);if(o){n.addClass(this._CLASS.CUSTOMISABLEPALETTE).on("keydown"+this._namespace,this._onDeleteKeyPress.bind(this,n));var a=e('<button role=button aria-label="'+this._localize("addButtonLabel")+'">').append(this._createIcon(this.options.addIconClassName,this.options.addSVGIconId,this._TEMPLATES.addColorIcon).addClass(this._CLASS.ADDCOLORICON).removeClass(this._CLASS.ICON)),r=e("<li>",{class:this._CLASS.ADDBUTTON}).append(a);r.on("click",this._onAddIconClick.bind(this,r,n));var l=n.find("li:last");l.length?r.insertAfter(l):n.find("ul:last").append(r),this._repositionColorsInPalette(n[0])}return n},_onDeleteKeyPress:function(i,s){if(s.keyCode===t.keyCode.DELETE){var o=e(s.target).closest("li."+this._CLASS.COLORBOX+":not([data-shade=true])");if(o.length&&this._trigger("ONBEFORECOLORPANREMOVE",s,{colorpan:o[0],colorpanData:this._getColorPanData(o)})){var n=o.next();n=n.is("."+this._CLASS.ADDBUTTON)?n.find("button"):n,this._removeColorBoxes(i,o[0]),n.focus(),this._trigger("ONCOLORPANREMOVE",s,{colorpan:o[0],colorpanData:this._getColorPanData(o)})}}},_onAddIconClick:function(t,e,i){var s=this._getPaletteData(e);this._trigger("ONBEFORECOLORPANADD",i,{paletteName:s.name})&&(this._addColorsToPalette(e,this._colorInstance.getObject(),void 0,t),this._selectColorbox(),t.find("button").focus(),this._trigger("ONCOLORPANADD",i,{paletteName:s.name}))},_createColorField:function(){this._colorFieldSelectbox=void 0,this._colorFieldPartition=e("<div>",{class:this._CLASS.COLORFIELDCONTAINER}).insertAfter(this._sliderPartition);var t=this,i=/^(hex|rgb|cmyk|hex|hsv|hsl)$/,s=this.options.defaultColorField,o=this.options.colorFieldsList||this._colorFieldsList,n=[];if(Array.isArray(o)&&o.forEach(function(t){i.test(t)&&n.indexOf(t)===-1&&n.push(t)}),n.length){if(n.indexOf(s)===-1&&(s=n[0]),n.length>1){var a="";if(n.forEach(function(e){a+="<option value="+e+">"+t._localize(e.toUpperCase()+"Label")+"</option>"}),""!==a){a="<select>"+a+"</select>",this._colorFieldSelectbox=e(a).appendTo(this._colorFieldPartition).zselectbox({selectedValue:s}).on("zselectboxchange",function(e,i){t._switchColorField.call(t,i.selectedValue,e)}).one("zselectboxbeforedropdownlistopen",function(e,i){t._menu=i.dropdownList.on("click",function(){return!1})});var r=this._colorFieldSelectbox.zselectbox("getElement");r.removeAttribute("style")}}}else i.test(s)||(s="hex"),n.push(s);this.options.colorFieldsList=Array.prototype.slice.call(n),this.options.defaultColorField=s,this.options.opacity&&n.push("a"),n.forEach(function(e){t._MODEPROPS[e].forEach(function(i){t._createAndBindInput(i,t._colorFieldPartition,e)})}),this._switchableInputs=this._colorFieldPartition.find(".zinputfield"),this._valueChangableInputs=this._colorFieldPartition.find(">input, .zcolormode--hex input"),this._labelContainers={},n.forEach(function(i){var s,o=t.options.opacity;"hex"===i?(s=e("<div class='"+t._CLASS.HEXFIELDLABELCONTAINER+"'>"),s.append(e("<label class='"+t._CLASS.HEXFIELDLABEL+"'>"+t._localize(t._PROP_EXPANSION[i]+"FieldLabel")+"</label>"))):(s=e("<div class='"+t._CLASS.SMALLFIELDLABELCONTAINER+"'>"),t._MODEPROPS[i].forEach(function(i){s.append(e("<label class='"+t._CLASS.SMALLFIELDLABEL+"'>"+t._localize(t._PROP_EXPANSION[i]+"FieldLabel")+"</label>"))})),"cmyk"!==i&&(o||t._colorFieldSelectbox)&&s.append(e("<label class='"+t._CLASS.SMALLFIELDLABEL+"'>"+(o?t._localize("opacityFieldLabel"):"")+"</label>")),s.appendTo(t._colorFieldPartition),t._labelContainers[i]=s}),this._colorFieldSelectbox||this._colorFieldPartition.addClass("h-aligncenter")},_switchColorField:function(t,e){t=t||this.options.defaultColorField,this._colorFieldSelectbox&&!e&&this._colorFieldSelectbox.zselectbox("setAttribute","selectedValue",t);var i=this._switchableInputs.hide().attr("aria-hidden",!0),s=".zcolormode--"+t;"cmyk"!==t&&(s+=",.zcolormode--a"),i.filter(s).css("display","").attr("aria-hidden",!1),this._colorFieldPartition.find("."+this._CLASS.SMALLFIELDLABELCONTAINER+",."+this._CLASS.HEXFIELDLABELCONTAINER).hide().attr("aria-hidden",!0),this._labelContainers[t]&&this._labelContainers[t].show(),this.options.currentColorField!==t&&(this.options.currentColorField=t,this._trigger("ONMODECHANGE",e,{currentColorField:t}))},_inputFieldHTMLs:function(){var t="<input type=measurement min=0 data-suffix='%' max=100>",e="<input type=number min=0 max=255>";return{hex:"<div class='zinputfield zcolormode--hex zcolorpicker__colorfield'> <input maxlength=7 class='zinputfield__textbox zcolormode--hex'> </div>",h:"<input type=number min=0 max=359>",s:t,l:t,v:t,r:e,g:e,b:e,c:t,m:t,y:t,k:t,a:t}}(),_createAndBindInput:function(t,i,s){var o,n,a=this._localize(this._PROP_EXPANSION[t]+"FieldLabel"),r="change"+this._namespace+" input"+this._namespace;"hex"!==t?(o="a"===t&&"decimal"===this.options.opacityFieldType?"<input data-decimal-places=2 min=0 max=1 step=0.01>":this._inputFieldHTMLs[t],o=e(o).addClass("zcolormode--"+s).appendTo(i),r="znumberfieldchange znumberfieldspin znumberfieldinput znumberfieldspinend",o.znumberfield({className:this._CLASS.SMALLCOLORFIELD+" "+this._CLASS.COLORFIELD,spinButtons:"none",clearButton:"none",bindedSpinAndChange:!0,width:"a"===t?"52px":"45px"}),n=o.znumberfield("getElement"),n.addClass("zcolormode--"+s).removeAttr("style"),n.find("input").removeAttr("style").attr("aria-label",a)):(n=e(this._inputFieldHTMLs[t]).appendTo(i),o=n.find("input").attr("aria-label",a).on("focus"+this._namespace,function(){n.addClass("has-focus")}).on("blur"+this._namespace,function(){n.removeClass("has-focus")}),this.options.opacity&&n.addClass(this._CLASS.HEXCOLORFIELD)),o.on(r,this._colorFieldChangeHandler.bind(this,t,s))},_colorFieldChangeHandler:function(t,i,s,o){var n,a=o?o.value:s.target.value;if("a"===i)n=this._colorInstance.getObject(),n.a="decimal"===this.options.opacityFieldType?a:a/100;else if("hex"===i)n=a;else{n=this._colorInstance.getObject(i);var r=this._valueChangableInputs.filter(".zcolormode--"+i);r.length&&this._MODEPROPS[i].forEach(function(t,i){var s=e(r[i]).znumberfield("getValue");/(s|v|l|c|m|y|k)/.test(t)&&(s+="%"),n[t]=s})}var l=this._getClrInstance(n);l.isValid()&&("hex"===i&&(l.setAlpha(this._colorInstance.getAlpha()),n=l.getColor()),this._activeColorFieldMode=i,this._setValue(n,s),this._activeColorFieldMode=!1)},_updateUI:function(){this._updatePreview(),this._updateColorFields(),this._updatePickerPosition(),this._selectColorbox(),this._updatePaletteColor()},_trigger:function(t,e,i){if(!this._frominit)return i=i||{},i.currentValue=this._colorInstance.getColor(this._colorMode),i.currentOpacity=this._colorInstance.getAlpha(),i.currentRGB=this._colorInstance.getColor(),this._super.call(this,t,e,i)},_onMouseDown:function(t,e,i){3!==i.which&&(this._activeContainer={picker:e,offset:t.offset(),height:t.height(),width:t.width(),isOpacity:t.is(this._opacityBar),isSwatch:t.is(this._swatch)},this._model=this.options.boxSelectionTypeDefaultColorModel.toLowerCase(),this._onPickerDragged(i),this._trigger("ONDRAGSTART",i),ZComponents.$document.off("mousemove"+this._namespace+" mouseup"+this._namespace).on("mousemove"+this._namespace,this._onMouseMove.bind(this)).on("mouseup"+this._namespace,this._onMouseUp.bind(this)),this.setFocus(),i.preventDefault())},_onMouseMove:function(t){return this._onPickerDragged(t),this._trigger("ONDRAG",t),!1},_onMouseUp:function(t){this._onPickerDragged(t),ZComponents.$document.off("mousemove"+this._namespace+" mouseup"+this._namespace),this._trigger("ONDRAGSTOP",t)},_onPickerDragged:function(t){t.preventDefault();var e,i,s=this._activeContainer,o="vertical"===this.options.barOrientation;e=t.pageX-s.offset.left,i=s.width;var n=100*this._limit(e/i,0,1)+"%";e=t.pageY-s.offset.top,i=s.height;var a=100*this._limit(e/i,0,1)+"%";s.isSwatch?(s.picker[0].style.top=a,s.picker[0].style.left=n):o?s.picker[0].style.top=a:s.picker[0].style.left=n;var r=function(){var e=this._getColorFromCoords();if(s.isOpacity){var i=e.a;e=this._colorInstance.getObject(this._model),e.a=i}this._ignorePickerUpdate=!0,this._setValue(e,t),this._ignorePickerUpdate=!1};clearTimeout(this._updateTimer),!this._startTimer||this._delay<=0?(this._startTimer=(new Date).getTime(),this._delay=200):this._delay-=(new Date).getTime()-this._startTimer,this._delay<=0||"mouseup"===t.type?(r.call(this),this._startTimer=void 0):this._updateTimer=setTimeout(r.bind(this),this._delay)},_getColorFromCoords:function(){var t=this._axisProps,e=this._getCoords(),i={};return i[t.x[0]]=e.x+"%",i[t.y[0]]=e.y+"%",i[t.z[0]]=e.z+"%",i.a=e.o+"%",i},_updateColorFields:function(t){if(this.options.colorFields){var i=this;t=t||this._colorInstance;var s=function(t){return i._valueChangableInputs.filter(".zcolormode--"+t)};if("a"!==this._activeColorFieldMode){if(["hsv","rgb","hsl","cmyk"].forEach(function(o){if(i._activeColorFieldMode!==o){var n=s(o);if(n.length){var a=t.getObject(o);i._MODEPROPS[o].forEach(function(t,i){e(n[i]).znumberfield("setValue",parseInt(a[t]))})}}}),"hex"!==this._activeColorFieldMode){var o=s("hex");o.length&&o.val(t.getColor("hex",void 0,!1))}if(!this._activeColorFieldMode){var n=s("a");if(n.length){var a=t.getAlpha();n.znumberfield("setValue","decimal"===this.options.opacityFieldType?a:Math.round(100*a))}}}}},_triggerSelect:function(t,e,i){e!==this._currentColor&&this._trigger("ONSELECT",t),!this.options.immediateCommit&&!i||t&&/^(mousedown|mousemove|znumberfieldspin|znumberfieldinput)$/.test(t.type)||this._triggerChange(t)},_triggerChange:function(t){var e=this._selectedInstance&&this._selectedInstance.getColor();this._updateSelectedColor(),!this.options.immediateCommit&&this._updatePreviousPreview(),e!==this._currentColor&&this._trigger("ONCHANGE",t),this._trigger("ONPICK",t)},_updatePaletteColor:function(){this._paintPicker(this._axisProps.x,this._axisProps.y,this._axisProps.z),this.options.opacity&&this._paintOpacity()},_setValue:function(t,e,i){var s=this._getClrInstance("none"===t?"transparent":t);if(s.isValid()){var o=this._currentColor;return this._colorInstance=s,this._currentColor=this._colorInstance.getColor(),this._updateUI(),this._triggerSelect(e,o,i),!0}},_onClose:function(t){this._unBindDocumentEvents(),clearTimeout(this._focusTimer),this._revertColor(t),this.options.immediateCommit&&this._updatePreviousPreview(),this._trigger("ONCLOSE",t)},_updatePreviousPreview:function(){this._previousPreview&&this._previousPreview.css("background-color",this._selectedInstance.getColor())},setValue:function(t,e){this._setValue(t,e,!0)},getColor:function(){return this.options.value},_getCustomLibraries:function(){return this.paletteHolders.filter("."+this._CLASS.CUSTOMISABLEPALETTE)},_getPalettes:function(){return this.paletteHolders.filter(":not(."+this._CLASS.CUSTOMISABLEPALETTE+")")},_getPaletteAt:function(t,e){var i=e?this._getCustomLibraries():this._getPalettes(),s=[];t=Array.isArray(t)?t:[t];return t.forEach(function(t){s.push(i[t])}),s},_getCustomLibraryAt:function(t){return this._getPaletteAt(t,!0)},_updatePaletteOptions:function(){this.options.palettes&&(this.options.palettesList=this._getPaletteData(this._getPalettes().toArray()),this.options.customColorLibraries=this._getPaletteData(this._getCustomLibraries().toArray()))},addCustomColorsLibrary:function(t){this._addCustomLibraries(t),this._updatePaletteOptions()},insertCustomColorsLibraryBefore:function(t,e){this._addCustomLibraries(t,"before",e),this._updatePaletteOptions()},insertCustomColorsLibraryAt:function(t,e){this.insertCustomColorsLibraryBefore(t,this._getCustomLibraryAt(e)[0])},removeCustomColorsLibrary:function(t){this.removePalette(t)},removeCustomColorsLibraryAt:function(t){this.removeCustomColorsLibrary(this._getCustomLibraryAt(t))},destroy:function(){var t=this._super;this._colorFieldSelectbox&&this._colorFieldSelectbox.zselectbox("destroy"),t.call(this)},_setAttribute:function(t,i){var s=this.options,o=/^(opacity|slider|opacityFieldType)$/,n=/^(paletteColumns|palettes|palettesList|customColorLibraries|addIconClassName|addSVGIconId)$/,a=/^(immediateCommit|commandBar|OKButtonLabel|OKButtonClassName|cancelButtonLabel|cancelButtonClassName|hideCancelButton|backButtonLabel|backButtonClassName)$/,r=/^(colorPreview|previousColorInPreview)$/,l=/^(colorFields|colorFieldsList)$/;if(/^(value|title|isTitleHTMLEncoded|closeButton|closeIconClassName|closeSVGIconId|draggable|displayType|appendTo|className)$/.test(t))return void this._super(t,i);var h=s[t];if(/^(slider|animation|commandBar|boxSpectrumHSLColorModel|boxSpectrumHSVColorModel)$/.test(t)){if("object"==typeof i){if("object"==typeof h&&(i=e.extend(!0,{},h,i),this._isObjectEquals(i,h)))return}else if(!/(animation)/.test(t))return}else if(/^(colorFieldsList)$/.test(t)&&Array.isArray(i)&&Array.isArray(h)&&this._isArrayEquals(i,h))return;return s[t]=i,/^(boxSelectionTypeDefaultColorModel|boxSpectrumHSLColorModel|boxSpectrumHSVColorModel)$/.test(t)?(s[t]=i,this._configurePickerMethods(),void this._updateUI()):void("valueColorModel"===t?(this._setColorMode(),s.value=this._selectedInstance.getColor(this._colorMode,void 0,!1)):o.test(t)?(this._opacityBar&&(this._opacityBar.remove(),this._opacityBar=void 0),this.options.opacity&&this._createOpacitySlider(),"slider"===t&&(this._bar.remove(),this._createBar()),this._updatePaletteColor(),this._updatePickerPosition(),s.colorFields&&(this._setAttribute("colorFields",s.colorFields),this._switchColorField(this.options.currentColorField))):r.test(t)?(this.element.find("."+this._CLASS.PREVIEWBOX).remove(),this._previewBox=this._previousPreview=void 0,this.options.colorPreview&&(this._createPreview(),this._updatePreview(),this._updatePreviousPreview())):"currentColorField"===t?this.options.colorFields&&this._switchColorField(i):l.test(t)?(this._colorFieldPartition&&(this._colorFieldPartition.remove(),this._colorFieldPartition=void 0),this.options.colorFields&&(this._createColorField(),this._updateColorFields(),this._switchColorField(this.options.defaultColorField))):n.test(t)?(this._paletteContainer&&this._paletteContainer.empty(),this._customLibrariesContainer&&this._customLibrariesContainer.empty(),this.options.palettes&&this._createPalettes()):a.test(t)&&(this._commandBarContainer&&(this._commandBarContainer.remove(),this._commandBarContainer=void 0),this.options.immediateCommit||this._createCommandBar()))}};ZComponents.registerComponent("zadvancedcolorpicker",e.zcolorpicker,i),t.createAdvancedColorPicker=function(t){if("object"==typeof t){var i=e("#"+t.id);if(i.length){if(i.data("zadvancedcolorpicker"))return i}else i=e("<div>").appendTo(e(t.appendTo).length?t.appendTo:"body").attr({id:t.id}),t.customAttributes&&i.attr(t.customAttributes);return i.zadvancedcolorpicker(t),i}}}(ZComponents),function(t){var e=t.DOMUtil,i={options:{totalItems:50,itemsPerPage:5,combo:!0,info:!0,numberOfPages:void 0,navigateButtonsType:"icon_only",navigateButtonsText:{prev:"Prev",next:"Next",first:"First",last:"Last"},visiblePagesCount:2,showEllipsis:!1},_EVENTS:{ONCHANGE:"change"},_create:function(){this.element.addClass("zc-pagination"),this._buttons={},this._getPagesCount(),this.options.combo&&this._createCombo(this._totalPages),this.options.info&&this._createInfoDiv(),this._createNavigators()},_getPagesCount:function(){var t=parseInt(this.options.totalItems/this.options.itemsPerPage);return t+=this.options.totalItems%this.options.itemsPerPage>0?1:0,this._totalPages=this.options.numberOfPages?this.options.numberOfPages:t,this.options.numberOfPages&&(this.options.itemsPerPage=this.options.totalItems/this.options.numberOfPages),this._totalPages},_createCombo:function(t){this._comboDiv=e("<div style='display:inline-block;'/>"),this._combo=e("<select>").attr({id:e(this.element).attr("id")+"select"});for(var i=1;i<=t;i++)this._combo.append(e("<option>").val(i).text(i));this.element.append(this._comboDiv.append(this._combo)),e(this._combo).zselectbox({type:"text"});var s=this;e(this._combo).on("combochange",function(t,e){s._goToPage(parseInt(e.value))})},_createInfoDiv:function(){this._infoDiv=e("<div class='zc-pagination-info'><b></b></div>"),this.element.append(this._infoDiv),this._updateInformation(1)},_updateInformation:function(t){var e=this.options,i=e.itemsPerPage*parseInt(t)>=e.totalItems?e.totalItems:e.itemsPerPage*parseInt(t),s=e.itemsPerPage*parseInt(t-1);s=s>i?Math.floor(i/e.itemsPerPage)*e.itemsPerPage:s;var o=s+1+" - "+i+" of "+e.totalItems;this._infoDiv.children("b").text(o)},_createNavigators:function(){var t=this;this._navigateDiv=e("<div class='zc-pagination-navigate'>"),this._navigateDiv.on("click."+this.componentName,function(i){if(!t._isDisabled()){var s=e(i.target);if(s.is(".zc-pagination-link"))t._goToPage(s.text());else{s=s.closest(".zc-btn").not(".zc-btn-disabled");var o=s&&s.data("action");o&&t[o].call(t,i)}}}),"text_only"===this.options.navigateButtonsType?this._buttons={first:e("<button class='zc-btn btn-first'><span class='zc-btn-text'>"+this.options.navigateButtonsText.first+"</span></button>").data("action","_goToFirstLink"),prev:e("<button class='zc-btn btn-prev'><span class='zc-btn-text'>"+this.options.navigateButtonsText.prev+"</span></button>").data("action","_goToPrevLink"),next:e("<button class='zc-btn btn-next'><span class='zc-btn-text'>"+this.options.navigateButtonsText.next+"</span></button>").data("action","_goToNextLink"),last:e("<button class='zc-btn btn-last'><span class='zc-btn-text'>"+this.options.navigateButtonsText.last+"</span></button>").data("action","_goToLastLink")}:this._buttons={first:e("<button class='zc-btn zc-icon-only btn-first'><span class='zc-icon-primary zc-icon ui-components-toolbar-icon ui-icon ui-icon-seek-first'></span></button>").data("action","_goToFirstLink"),prev:e("<button class='zc-btn zc-icon-only btn-prev'><span class='zc-icon-primary zc-icon ui-components-toolbar-icon ui-icon ui-icon-seek-prev'></span></button>").data("action","_goToPrevLink"),next:e("<button class='zc-btn zc-icon-only btn-next'><span class='zc-icon-primary zc-icon ui-components-toolbar-icon ui-icon ui-icon-seek-next'></span></button>").data("action","_goToNextLink"),last:e("<button class='zc-btn zc-icon-only btn-last'><span class='zc-icon-primary zc-icon ui-components-toolbar-icon ui-icon ui-icon-seek-end'></span></button>").data("action","_goToLastLink")},this._navigateDiv.append(this._buttons.first,this._buttons.prev),this._pageLinks=e("<span class='zc-pagination-links'>"),this._createLinks(1,this.options.visiblePagesCount,1),this._navigateDiv.append(this._pageLinks,this._buttons.next,this._buttons.last),this.options.showEllipsis&&(this._buttons.ellipsisFirst=e("<button class='zc-btn zc-text-only btn-ellipsis'><span class='zc-btn-text'>...</span></button>"),this._buttons.ellipsisLast=this._buttons.ellipsisFirst.clone(),this._buttons.ellipsisFirst.insertBefore(this._pageLinks),this._buttons.ellipsisLast.insertAfter(this._pageLinks)),this.element.append(this._navigateDiv),this._goToPage(1)},_createLinks:function(t,i,s){this._pageLinks.empty();var o;i=1===this._totalPages||i>this._totalPages?this._totalPages:i,i>this._totalPages&&(i=this._totalPages);for(var n=t;n<=i;n++){var a=e("<span class='zc-pagination-link'>").text(n).attr("value",n);a.appendTo(this._pageLinks),n===s&&(o=a,a.addClass("zc-pagination-link-highlight"))}return o},_goToNextLink:function(){this._goToPage(this._currentPage+1)},_goToPrevLink:function(){this._goToPage(this._currentPage-1)},_goToFirstLink:function(){this._goToPage(1)},_goToLastLink:function(){this._goToPage(this._totalPages)},_goToPage:function(t){if(this._currentPage===t)return!1;t<=0?t=1:t>this._totalPages&&(t=this._totalPages),this._currentPage=parseInt(t);var e=this._pageLinks.children("[value="+t+"]");if(!e.length){var i,s=1===this.options.visiblePagesCount?t:t-1;t===this._totalPages?s=t-this.options.visiblePagesCount+1:1===t&&(s=t),i=s+(this.options.visiblePagesCount-1),e=this._createLinks(s,i,t)}this._updateUI(e)},_updateUI:function(t){return this._pageLinks.find(".zc-pagination-link-highlight").removeClass("zc-pagination-link-highlight"),this._toggleButtons(this._currentPage),this.options.combo&&e(this._combo).zselectbox("setValue",this._currentPage-1),e(t).addClass("zc-pagination-link-highlight"),this.options.info&&this._updateInformation(this._currentPage),this._dispatchEvent("ONCHANGE",void 0,{value:this._currentPage})},_toggleButtons:function(t){this._totalPages<=this.options.visiblePagesCount&&(this._buttons.first.remove(),this._buttons.last.remove()),1===t?this._navigateDiv.find(".btn-first, .btn-prev").addClass("zc-btn-disabled").attr("disabled",!0):this._navigateDiv.find(".btn-first, .btn-prev").removeClass("zc-btn-disabled").removeAttr("disabled"),t===this._totalPages?this._navigateDiv.find(".btn-next, .btn-last").addClass("zc-btn-disabled").attr("disabled",!0):this._navigateDiv.find(".btn-next, .btn-last").removeClass("zc-btn-disabled").removeAttr("disabled"),this.options.showEllipsis&&(this._buttons.ellipsisFirst[this._pageLinks.find(".zc-pagination-link[value=1]").length?"hide":"show"](),this._buttons.ellipsisLast[this._pageLinks.find(".zc-pagination-link[value="+this._totalPages+"]").length?"hide":"show"]())},getCurrentPage:function(){return this._currentPage},selectPage:function(t){this._isDisabled(this.element)||(t=parseInt(t)<1?1:parseInt(t),this._goToPage(t))},updateItems:function(t,i){if(!this._isDisabled()){var s=Math.floor(t/this.options.itemsPerPage);s=t%this.options.itemsPerPage>0?s+1:s,i=i>s?s:i,this._totalPages=s,this.options.totalItems=t;var o=this;if(this._combo){this._combo.empty();for(var n=1;n<=s;n++){var a=e("<option>").val(n).text(n);a.appendTo(o._combo)}this._combo.zselectbox("refresh"),this._combo.zselectbox("setValue",i-1)}this._infoDiv&&this._updateInformation(i),this._updateNavigatorDiv(t,i),this._currentPage=i}},_isDisabled:function(){return this.element.is("[disabled=true]")||this.element.is("[disabled=disabled]")||this.element.hasClass("zc-state-disabled")},_updateNavigatorDiv:function(t,e){this._createLinks(1===e?e:e-1,e+this.options.visiblePagesCount,e),this._toggleButtons(e)},widget:function(){return this.element},destroy:function(){this._navigateDiv.remove(),this._comboDiv&&this._comboDiv.remove(),this._infoDiv&&this._infoDiv.remove(),this.element.removeClass("zc-pagination").removeData("zpagination").off("."+this.componentName)},enable:function(){this._isDisabled()&&(this.element.removeClass("zc-state-disabled").removeAttr("disabled"),this._combo&&this._combo.zselectbox("setAttribute","disabled",!1),this._navigateDiv.find(".zc-btn").removeClass("zc-btn-disabled"),this._toggleButtons(this._currentPage))},disable:function(){this.element.addClass("zc-state-disabled").attr("disabled",!0),this._combo&&this._combo.zselectbox("setAttribute","disabled",!0),this._navigateDiv.find(".zc-btn").addClass("zc-btn-disabled")},option:function(i,s){if("object"==typeof i){var o=this;e.each(i,function(t,e){o.option(t,e)})}else void 0!==i&&void 0!==s&&("totalItems"===i&&s!==this.options.totalItems?this.updateItems(s,this._currentPage):"combo"===i&&s!==this.options.combo?s?this._createCombo(this._totalPages):(this._comboDiv.remove(),this._comboDiv=void 0):"info"===i&&s!==this.options.info&&(s?this._createInfoDiv():(this._infoDiv.remove(),this._infoDiv=void 0)),t._changeOptions(this.options,i,s));return t._changeOptions(this.options,i,s)}};t.registerComponent("zpagination",i)}(ZComponents),function(t){var e=t.DOMUtil,i={options:{orientation:"horizontal",locale:void 0,thumbIconStyle:"circle",thumbIconClassName:void 0,thumbSVGIconId:void 0,min:0,max:100,step:1,valuesType:"range",value:0,minValueAllowed:void 0,maxValueAllowed:void 0,values:[],showTooltip:"never",tooltip:{position:"top",displayType:"callout",text:"#value#",isHTMLEncoded:!1},showTicks:!1,ticks:{splitBy:"count",count:4,step:void 0,randomValues:void 0,position:"bottom",showLabels:!0,showLabelsFor:void 0,labelPattern:"#value#",customLabels:void 0,isLabelHTMLEncoded:!1},valueDisplayFormat:{type:"number",currencyCode:void 0,prefix:void 0,suffix:void 0,decimalPlaces:void 0,thousandSeparator:!1},snapToTicks:!0,rangeGroups:{groups:[],isLabelHTMLEncoded:!1,labelPosition:"top"},animation:{slide:{className:void 0,duration:200}},stepBehavior:"w3",selectionStartValue:void 0,blurOnRelease:!1,className:void 0,disabled:!1,tabIndex:0,widgetEventPrefix:"zslider"},_MEASUREMENTS:["minValueAllowed","maxValueAllowed"],_CLASS:{SLIDER:"zslider",VERTICAL:"zslider--vertical",HANDLE:"zslider__thumb",TRACK:"zslider__track",FILL:"zslider__selection",PIPES:"zslider__scale",PIPE:"zslider__tick",LABELS:"zslider__labels",LABEL:"zslider__label",DISABLED:"is-disabled"},_EVENTS:{ONINIT:"init",ONFOCUS:"focus",ONBLUR:"blur",ONCHANGE:"change",ONSLIDESTART:"slidestart",ONSLIDE:"slide",ONSLIDEEND:"slideend"},_TEMPLATE:{bottom:'<svg class="zslider__pointerthumbsvg" viewBox="0 0 21 32" width="22" height="32"> <path class="pointerthumb__border" d="M16.5,15.2l-6.5,7l-6.5-7V5c0-0.9,0.7-1.6,1.6-1.6H15c0.8,0,1.5,0.7,1.5,1.6V15.2z"></path> <path class="pointerthumb__innerborder" d="M15.5,14.4l-5.5,6l-5.5-6V5.7c0-0.7,0.6-1.3,1.3-1.3h8.3c0.8,0,1.4,0.6,1.4,1.3V14.4z"></path> <path class="pointerthumb" d="M14.5,13.9L10,18.8l-4.5-4.9V6.5c0-0.6,0.5-1.1,1.1-1.1h6.8c0.6,0,1.1,0.5,1.1,1.1V13.9z"></path> </svg>',top:'<svg class="zslider__pointerthumbsvg" viewBox="0 0 21 32" width="22" height="32"><path class="pointerthumb__border" d="M3.5,12.8l6.5-7l6.5,7V23c0,0.9-0.7,1.6-1.6,1.6H5c-0.8,0-1.5-0.7-1.5-1.6V12.8z"></path> <path class="pointerthumb__innerborder" d="M4.5,13.6l5.5-6l5.5,6v8.7c0,0.7-0.6,1.3-1.3,1.3H5.9c-0.8,0-1.4-0.6-1.4-1.3V13.6z"></path> <path class="pointerthumb" d="M5.5,14.1L10,9.2l4.5,4.9v7.4c0,0.6-0.5,1.1-1.1,1.1H6.6c-0.6,0-1.1-0.5-1.1-1.1V14.1z"></path> </svg>',left:'<svg class="zslider__pointerthumbsvg" viewBox="0 0 32 21"  width="32" height="22"><path class="pointerthumb__border" d="M12.8,16.5l-7-6.5l7-6.5l10.2,0c0.9,0,1.6,0.7,1.6,1.6l0,9.9c0,0.8-0.7,1.5-1.6,1.5L12.8,16.5z"></path> <path class="pointerthumb__innerborder" d="M13.6,15.5l-6-5.5l6-5.5l8.7,0c0.7,0,1.3,0.6,1.3,1.3l0,8.3c0,0.8-0.6,1.4-1.3,1.4L13.6,15.5z"></path> <path class="pointerthumb" d="M14.1,14.5L9.2,10l4.9-4.5l7.4,0c0.6,0,1.1,0.5,1.1,1.1l0,6.8c0,0.6-0.5,1.1-1.1,1.1L14.1,14.5z"></path> </svg>',right:'<svg class="zslider__pointerthumbsvg" viewBox="0 0 32 21" width="32" height="22"><path class="pointerthumb__border" d="M15.2,3.5l7,6.5l-7,6.5L5,16.5c-0.9,0-1.6-0.7-1.6-1.6V5c0-0.8,0.7-1.5,1.6-1.5L15.2,3.5z"></path> <path class="pointerthumb__innerborder" d="M14.4,4.5l6,5.5l-6,5.5H5.7c-0.7,0-1.3-0.6-1.3-1.3l0-8.3c0-0.8,0.6-1.4,1.3-1.4H14.4z"></path> <path class="pointerthumb" d="M13.9,5.5l4.9,4.5l-4.9,4.5H6.5c-0.6,0-1.1-0.5-1.1-1.1l0-6.8c0-0.6,0.5-1.1,1.1-1.1H13.9z"></path> </svg>'},_create:function(e,i){this._frominit=!0,this.element.hide(),this._eventNamespace="."+i.widgetEventPrefix;var s=this;["min","max","step","value","title","tabIndex"].forEach(function(t){null!==s.element[0].getAttribute(t)&&(i[t]=s.element[0][t])}),this.element[0].disabled&&(i.disabled=!0),/^(range|fixed)$/.test(i.valuesType)||(i.valuesType="range"),/^(never|always|onslide)$/.test(i.showTooltip)||(i.showTooltip="never"),"vertical"===i.orientation&&(this.vertical=!0),i.locale=i.locale||t.locale,this._cacheMeasurements(),this._setFixedValues(),this._validateProperty(),this._constructLayout(),this._showHiddenParent(),this._constructThumb(),this._constructScale(),this._constructRangeLabels(),this._constructLimitLayout(),this._positionHandle(),this._resetParent(),this._bindEvents(),this._setInitial(),i.disabled&&this._setAttribute("disabled",!0),this._trigger("ONINIT"),this._frominit=!1},_getFromLocale:function(e,i){var s=this["_"+e];if(void 0===s)if(i)"currency_code"===e?s=this.options.valueDisplayFormat.currencyCode?this.options.valueDisplayFormat.currencyCode:t.localeInfo?t.localeInfo[this.options.locale].currency.code:void 0:(!this._currencyData&&t.currencyInformation&&(this._currencyData=t.currencyInformation[this._getFromLocale("currency_code",!0)]),this._currencyData&&(s=this._currencyData[e.replace("currency_","")]));else if(t.localeInformation){var o=this;Object.keys(t.localeInformation[e]).some(function(i){var n=t.localeInformation[e][i];return n.indexOf(o.options.locale)!==-1&&(s=i)})}return this["_"+e]=!!s&&s},_cacheMeasurements:function(){this.actualProps={};var t=this;this._MEASUREMENTS.forEach(function(e){t.actualProps[e]=t.options[e]})},_constructLayout:function(){var t=this.options,i=this.element[0].className+" "+this._CLASS.SLIDER+(this.vertical?" zslider--vertical":" ")+("string"==typeof t.className?" "+t.className:" ");this.container=e(document.createElement("div")).attr({class:i,style:this.element[0].getAttribute("style"),title:t.title}).insertAfter(this.element),this.container[0].style.display="",this.container[0].innerHTML='<div class="zslider__shadowtrack"></div><div class="'+this._CLASS.TRACK+'"> <div class="'+this._CLASS.FILL+'"></div></div>',this._innerSlider=e(this.container[0].querySelector("."+this._CLASS.TRACK)),this._range=e(this.container[0].querySelector("."+this._CLASS.FILL)),this._shadowTrack=e(this.container[0].querySelector(".zslider__shadowtrack"))},_constructThumb:function(){this.container.append(this._createThumb()),this._handles=Array.prototype.slice.call(this.container[0].querySelectorAll("."+this._CLASS.HANDLE),0),this._updateDimensions()},_createThumb:function(){var i=this.options,s=e('<div role="slider" class="'+this._CLASS.HANDLE+'" aria-orientation="'+i.orientation+'" aria-valuemin="'+i.min+'" aria-valuemax="'+i.max+'"></div>');if(i.disabled?s.addClass(this._CLASS.DISABLED).attr("aria-disabled",!0):s[0].tabIndex=i.tabIndex,i.thumbIconClassName||i.thumbSVGIconId)return t.createIcon(s,void 0,i.thumbSVGIconId,i.thumbIconClassName);if("pointer"===i.thumbIconStyle){s.addClass("zslider__pointerthumb");var o=i.showTicks?i.ticks.position:"",n="";/^(left|top)$/.test(o)?(n=this.vertical?"left":"top",s.addClass("h-inverted")):n=this.vertical?"right":"bottom",s.html(this._TEMPLATE[n])}else s.addClass("zslider__circlethumb");return s},_updateDimensions:function(){this.vertical?(this.innerDim="height",this.outerDim="outerHeight",this.marginDir="bottom",this.oppOuterDim="outerWidth",this.oppMargin="left"):(this.innerDim="width",this.outerDim="outerWidth",this.marginDir="left",this.oppOuterDim="outerHeight",this.oppMargin="top");var t=e(this._handles[0]);this.sliderDim={height:this._innerSlider.height(),width:this._innerSlider.width(),outerHeight:this._innerSlider.outerHeight(),outerWidth:this._innerSlider.outerWidth()},this.handleDim={outerHeight:t.outerHeight(),outerWidth:t.outerWidth()}},_showHiddenParent:function(){if(this.container.is(":hidden")){var t=1;this.hiddenParents=[],this.prevStyles=[];for(var e=this.container;t&&e&&!e.is("body");)"none"===e.css("display")&&(this.hiddenParents.push(e),this.prevStyles.push(e.attr("style")||""),e.css({display:"block",position:"absolute",visibility:"hidden"}),t=e.is(":hidden")),e=e.parent()}},_resetParent:function(){if(this.hiddenParents){var t=this;this.hiddenParents.forEach(function(e,i){e.attr("style",t.prevStyles[i])}),this.hiddenParents=this.prevStyles=void 0}},_positionHandle:function(){var t=this._innerSlider.position(),i=parseInt(t[this.oppMargin]),s=this.sliderDim[this.oppOuterDim]/2,o=this.handleDim[this.oppOuterDim]/2,n=this._shadowTrack[this.oppOuterDim]()/2;e(this._handles).css(this.oppMargin,i-(o-s)+"px").css("margin-"+this.marginDir,-this.handleDim[this.outerDim]/2+"px"),this._shadowTrack.css(this.oppMargin,i-(n-s)+"px"),!this._frominit&&this._updateTip()},_setInitial:function(){this._setInitialValue(),this._updateLayout()},_setInitialValue:function(){this.setValue(this.options.value)},_constructLimitLayout:function(){var t=this.options;"fixed"!==t.valuesType&&(t.minValueAllowed!==t.min&&this._createLimitBox(t.min,t.minValueAllowed,"zslider__selected"),t.maxValueAllowed!==t.max&&this._createLimitBox(t.maxValueAllowed,t.max,"zslider__notallowedrange"))},_constructRangeLabels:function(){var t,i=this.options;if("fixed"!==i.valuesType&&Array.isArray(t=this._parseArray(i.rangeGroups.groups))&&t.length){var s=this;this._range.hide(),this.container.addClass("zslider--range"),this._rangeLayout=e('<div class="zslider__rangelabels"></div>'),this._rangeBgs=[],this._rangeTicks=[];var o=0,n=[],a=[],r=function(t){if(void 0!==t){if(/%$/.test(t)&&(t=i.min+(i.max-i.min)*parseFloat(t)/100),isNaN(t)||t<i.min||t>i.max)return;if(+t!==i.max)return s._getPercent(+t)}};i.rangeGroups.groups.forEach(function(t){var e=0;t.from!==i.min&&(e=r(t.from)),isNaN(e)||(o=e);var l=100;if(t.to!==i.max&&(l=r(t.to)),!isNaN(l)){var h=s.marginDir+":"+o+"%;"+s.innerDim+":"+(l-o)+"%;";if(a.push('<div class="zslider__rangegroup '+(t.className?t.className:"")+'" style="'+h+(t.background?"background:"+t.background:"")+';" ></div>'),s.vertical){var d="max-"+s.innerDim+":"+s.sliderDim[s.outerDim]*(l-o)/100+"px";n.push('<div class="zslider__rangelabel" style="'+h+'"><span class="zslider__textcontainer" > <span class="zslider__text" style="'+d+'">'+t.label+"</span></span></div>")}else n.push('<div class="zslider__rangelabel" style="'+h+'">'+t.label+"</div>");o=l}});var l=".zslider__rangelabel";this.vertical&&(a=a.reverse().join(""),n=n.reverse().join(""),l=".zslider__text"),this._innerSlider.prepend(a),this._rangeLayout.append(n),this._positionRangeLabels(),Array.prototype.slice.call(this._rangeLayout[0].querySelectorAll(l),0).forEach(function(t){(t.offsetWidth<t.scrollWidth-2||t.offsetHeight<t.scrollHeight-2)&&t.setAttribute("title",t.textContent)})}},_positionRangeLabels:function(){var t=this.options.rangeGroups;if(this._rangeLayout){var e=t.labelPosition;/^(bottom|right)$/.test(e)?(this.container.append(this._rangeLayout),this._rangeLayout.addClass("h-inverted")):(this.container.prepend(this._shadowTrack,this._rangeLayout),this._rangeLayout.removeClass("h-inverted"))}},_createLimitBox:function(t,i,s){var o={},n=e('<div class="'+(s||"")+'"></div>');this._innerSlider.append(n);var a=parseFloat(t)===this.options.min?0:this._getPercent(t),r=parseFloat(i)===this.options.max?100:this._getPercent(i);o[this.marginDir]=a+"%",o[this.innerDim]=r-a+"%",n.css(o);var l=this.options;Array.prototype.slice.call(this.container[0].querySelectorAll(".zslider__tick,.zslider__label"),0).forEach(function(s){var o=+s.getAttribute("data-val");o<t||o>i||o===t&&t!==l.min||o===i&&i!==l.max||e(s).addClass("is-disabled")})},_bindEvents:function(){this.container.on("mousedown"+this._eventNamespace,".zslider__shadowtrack,.zslider__track,.zslider__thumb,.zslider__tick,.zslider__label",this._onMouseDown.bind(this)).on("keydown"+this._eventNamespace,"."+this._CLASS.HANDLE,this._onSlide.bind(this)).on("keyup"+this._eventNamespace,"."+this._CLASS.HANDLE,this._onSlideEnd.bind(this)).on("mouseenter"+this._eventNamespace,"."+this._CLASS.HANDLE,this._onThumbEnter.bind(this)).on("mouseleave"+this._eventNamespace,"."+this._CLASS.HANDLE,this._onThumbLeave.bind(this)).on("focusin"+this._eventNamespace,this._onFocus.bind(this)).on("focusout"+this._eventNamespace,this._onFocusout.bind(this))},_onFocus:function(t){this.container.addClass("has-focus"+(this._mouseActive?"":" on-tabfocus")),this._trigger("ONFOCUS")},_onFocusout:function(t){var i=this;clearTimeout(this.blurtimer),this.blurtimer=setTimeout(function(){e(i._handles).is(":focus")||e(document.activeElement).closest(".zslider").length||(i.container.removeClass("is-active on-tabfocus has-focus"),e(i._activeHandle).removeClass("is-active"),i._mouseActive=i._animate=!1,i._trigger("ONBLUR"))},1)},_onThumbEnter:function(t){if(!this.container.hasClass(this._CLASS.DISABLED)){var i=e(t.target).closest("."+this._CLASS.HANDLE);i.addClass("on-mouseover"),this._showTip(t)}},_onThumbLeave:function(t){if(!this.container.hasClass(this._CLASS.DISABLED)){var i=e(t.target).closest("."+this._CLASS.HANDLE);i.removeClass("on-mouseover"),!this._dragStarted&&!this._dragSelectionStarted&&this._hideTip()}},_showTip:function(t){var e=this.options;"fixed"!==e.valuesType&&"never"!==e.showTooltip&&this._tooltip&&(this._tooltip[0].style.display="","at-cursor"===e.tooltip.position&&t&&("vertical"===e.orientation?this._tooltip[0].style.top=Math.max(Math.min(t.pageY-this.container.offset().top,this.sliderDim.outerHeight),0)+"px":this._tooltip[0].style.left=Math.max(Math.min(t.pageX-this.container.offset().left,this.sliderDim.outerWidth),0)+"px"))},_hideTip:function(){"always"!==this.options.showTooltip&&this._tooltip&&(this._tooltip[0].style.display="none")},_keyPress:function(e){var i,s=e.keyCode;if(s===t.keyCode.HOME)i=this.options.minValueAllowed;else if(s===t.keyCode.END)i=this.options.maxValueAllowed;else if(s===t.keyCode.RIGHT||s===t.keyCode.UP||s===t.keyCode.PAGE_UP)i=this._increase(this.options.value);else{if(s!==t.keyCode.LEFT&&s!==t.keyCode.DOWN&&s!==t.keyCode.PAGE_DOWN)return;i=this._decrease(this.options.value)}return e.preventDefault(),i},_getActiveHandle:function(){return this._handles[0]},_onMouseDown:function(i){this.container.hasClass(this._CLASS.DISABLED)||(this._mouseActive=!0,this.container.removeClass("on-tabfocus"),e(this._activeHandle).removeClass("is-active"),this._activeHandle=this._getActiveHandle(i),e(this._activeHandle).addClass("is-active"),!this.options.blurOnRelease&&this._activeHandle.focus(),this.container.addClass("is-active"),e(i.target).closest(".zslider__thumb").length||this._dragSelectionStarted||this._onSlide(i),t.$document.off(this._eventNamespace).on("mousemove"+this._eventNamespace,this._onSlide.bind(this)).on("mouseup"+this._eventNamespace,this._onSlideEnd.bind(this)),i.preventDefault())},_onSlide:function(t){if(!this.container.hasClass(this._CLASS.DISABLED)){var e=this._getValueFromEvent(t);this._showTip(t),void 0!==e&&(this._animate="mousemove"!==t.type,this._dragStarted||(this._storeInitialValue(),this._dragStarted=!0,this._trigger("ONSLIDESTART",t)),this._setValue(e,t),this._trigger("ONSLIDE",t),t.preventDefault())}},_onSlideEnd:function(i){this.container.hasClass(this._CLASS.DISABLED)||(t.$document.off(this._eventNamespace),this._dragStarted&&(this._trigger("ONSLIDEEND",i),this._isChangeInValue()&&this._updateLayout(i)),!e(this._activeHandle).hasClass("on-mouseover")&&this._hideTip(),this.container.removeClass("is-active"),this._animate=this._mouseActive=this._dragStarted=!1)},_storeInitialValue:function(){this._startValue=this.getValue()},_isChangeInValue:function(){return this._startValue!==this.getValue()},_getValueFromEvent:function(t){var i=e(t.target);if("mousedown"===t.type&&i.hasClass("zslider__label")){if(i.hasClass("is-disabled"))return;return this._getInnerVal(i[0].getAttribute("data-val"))}if("keydown"===t.type)return this._keyPress(t);var s,o,n,a=this.sliderDim[this.innerDim],r=this.handleDim[this.outerDim],l=a-r,h=1,d=this._innerSlider.offset();if("function"==typeof this.options.getCustomValue&&(n=this.options.getCustomValue,r=0),this.vertical?(s=t.pageY-(d.top+r/2),h=-1,o=1-s/l):(s=t.pageX-(d.left+r/2),o=s/l),o<0?o=0:o>1&&(o=1),n)return n(100*o,this.options.min,this.options.max,this._handles.indexOf(this._activeHandle));var c=this.options.min+o*(this.options.max-this.options.min);return c=this._trimDecimal(this.options.min,this.options.step,c),this.options.snapToTicks&&this._dragStarted&&(c=this._trimForSnap(c,s+r/2)),c},_trimValue:function(t){var e=this.options,i=(parseFloat(t)-e.min)%e.step;if(0!==i){var s=parseFloat(t)-i;2*Math.abs(i)>e.step&&(s+=i>0?e.step:-e.step),t=s}return this._trimDecimal(e.min,e.step,t)},_trimForSnap:function(t,e){if(this._ticksLayout&&this._gridValues&&this._gridValues.length){t=parseFloat(t);for(var i=this._gridValues[0],s=Math.abs(this._gridValues[0]-t),o=1;o<this._gridValues.length;o++){var n=Math.abs(this._gridValues[o]-t);n<s&&(i=this._gridValues[o],s=n)}if(i%this.options.step===0&&i!==t){var a,r=this._ticksLayout.find('[data-val="'+i+'"]');a=this.vertical?r.position().top:r.position().left,Math.abs(a-e)<7&&(t=this._getActualVal(i))}}return t},_trimDecimal:function(t,e,i){var s=String(t).split(".")[1],o=String(e).split(".")[1],n=Math.max(s&&s.length||0,o&&o.length||0);return+(+i).toFixed(n)},_validateProperty:function(){var t=this.options;if("fixed"!==t.valuesType)t.step=parseFloat(t.step),t.min=parseFloat(t.min),t.max=parseFloat(t.max),t.value=parseFloat(t.value),t.minValueAllowed=parseFloat(t.minValueAllowed),t.maxValueAllowed=parseFloat(t.maxValueAllowed),(isNaN(t.step)||t.step<=0)&&(t.step=1),isNaN(t.min)&&(t.min=0),isNaN(t.max)&&(t.max=100),t.max<=t.min&&(t.max=t.min+t.step),t.max-t.min<t.step&&(t.step=t.max-t.min),(isNaN(t.minValueAllowed)||t.minValueAllowed<t.min||t.max-t.minValueAllowed<t.step)&&(t.minValueAllowed=t.min),(isNaN(t.maxValueAllowed)||t.maxValueAllowed>t.max||t.maxValueAllowed<t.minValueAllowed||t.maxValueAllowed-t.minValueAllowed<t.step)&&(t.maxValueAllowed=t.max),isNaN(t.value)||t.value<t.minValueAllowed?t.value=t.minValueAllowed:t.value>t.maxValueAllowed&&(t.value=t.maxValueAllowed);else{t.step=1,t.min=t.minValueAllowed=0,t.max=t.maxValueAllowed=t.values.length-1;var e=this._getInnerVal(t.value);e<0&&(t.value=this._getInnerVal(0))}},_setValue:function(t,e){var i=this.options.value;this.options.value=this._getActualVal(this._getCorrectedValue(t,this.options.minValueAllowed,this.options.maxValueAllowed)),i!==this.options.value&&this._updateLayout(e)},_getCorrectedValue:function(t,e,i){t=+t;var s=this.options;if("fixed"===s.valuesType?(e=s.min,i=s.max):(e<s.min&&(e=s.min),i>s.max&&(i=s.max)),"default"===s.stepBehavior&&(t<=e||t>=i||isNaN(t)))t<e||isNaN(t)?t=e:t>i&&(t=i);else{if(t=this._trimValue(t),t<e||isNaN(t)){var o=(e-s.min)%s.step||s.step;t=e+s.step-o}else t>i&&(t=i-(i-s.min)%s.step);t=this._trimDecimal(s.min,s.step,t)}return t},_setFixedValues:function(){if("fixed"===this.options.valuesType){this._values=[],this._labels=[];var t=this;this.options.values.forEach(function(e){"string"==typeof e||"number"==typeof e?(t._values.push(String(e)),t._labels.push(e)):void 0!==e.value&&(t._values.push(String(e.value)),t._labels.push(e.label||e.value))})}},_getInnerVal:function(t){return"fixed"===this.options.valuesType?this._values.indexOf(String(t)):t},_getActualVal:function(t){return"fixed"===this.options.valuesType?this._values[t]:t},_updateLayout:function(t){var i={},s=this.options,o=function(){this._animate=!1,this._frominit||t&&/(keydown|mousedown|mousemove)/.test(t.type)||this._trigger("ONCHANGE",t)},n=this._getPercent(s.value);i[this.marginDir]=n+"%";var a={},r=0,l=n,h=parseFloat(s.selectionStartValue);!isNaN(h)&&h>s.min&&h<=s.max&&(r=h===s.max?100:this._getPercent(s.selectionStartValue),s.selectionStartValue>=s.value&&(l=[r,r=l][0])),a[this.marginDir]=r+"%",a[this.innerDim]=l-r+"%";var d={"data-val":this._getInnerVal(s.value),"aria-valuenow":this._getInnerVal(s.value),"aria-valuetext":s.value};this._handleAnimation(e(this._handles[0]).attr(d),i),this._handleAnimation(this._range,a,o.bind(this)),this._updateTip(i)},_handleAnimation:function(t,e,i){var s=this.options.animation.slide.duration,o=this.options.animation.slide.className;t.stop();var n="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";this._animate&&(s||o)?o?t.addClass(o).off(n).on(n,function(){t.removeClass(o),i&&i()}):t.animate(e,s,i):(t.css(e),i&&i())},_updateTip:function(t){if(this._tooltip||this._createTooltip(),this._tooltip&&"fixed"!==this.options.valuesType){this._tooltip.find(".ztooltip__content").text(this._getTipText());var e=this._getTipPosition(t);this._handleAnimation(this._tooltip,e)}},_getLabel:function(e,i,s){return i=this._getFormattedLabel(i),"string"==typeof e&&""!==e.trim()&&(i=e.replace(new RegExp("#value#","gi"),i)),s?t.encodeHTML(i):i},_getFormattedLabel:function(t){if("fixed"!==this.options.valuesType&&void 0!==t){var e=this,i=this.options.valueDisplayFormat,s=parseInt(i.decimalPlaces),o=this._getFromLocale("thousandSeparator"),n=this._getFromLocale("decimalSeparator");t=t.toString(),s>=0&&s<=20&&!isNaN(s)&&(t=(+t).toFixed(s));var a=t.split(".");i.thousandSeparator&&(a[0]=a[0].replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+(o||","))),t=a.join(n||".");var r=t;"string"==typeof i.prefix?r=i.prefix+r:"currency"===i.type&&(r="#symbol#"+r),"string"==typeof i.suffix&&(r+=i.suffix),r!==t&&(t=r.replace(/#value#/gi,t),"currency"===i.type&&["code","symbol","name"].forEach(function(i){var s=new RegExp("#"+i+"#","gi");if(s.test(r)){var o=e._getFromLocale("currency_"+i,!0);o&&(t=t.replace(s,o))}}))}return t},_resetLocaleData:function(){this._thousandSeparator=this._decimalSeparator=this._currencyData=this._currency_code=this._currency_name=this._currency_symbol=void 0},_getTipText:function(){var t=this.options;return this._getLabel(t.tooltip.text,t.value,!t.tooltip.isHTMLEncoded)},_getTipPosition:function(t){var e={},i=this.options.tooltip.position,s=/^(top|left)$/.test(i)?-1:1,o="outerHeight",n="outerWidth",a="top";/^(left|right)$/.test(i)&&(o="outerWidth",n="outerHeight",a="left");var r=this.sliderDim[o],l=this._tooltip[o](),h=this.pointer?this.pointer[o]():0,d=this.handleDim[o],c=(r>d?0:(d-r)/2)+h+0;return c+=i===a?l:r,e[a]=this._innerSlider.position()[a]+c*s+"px","at-cursor"!==i&&(e["margin-"+this.marginDir]=-(this._tooltip[n]()/2)+"px",e[this.marginDir]=t?t[this.marginDir]:this._handles[0].style[this.marginDir]),e},_createTooltip:function(){var t=this.options;if("fixed"!==t.valuesType&&"never"!==t.showTooltip){var i=t.tooltip.position;this.pointer=!1;var s={left:"h-right",right:"h-left",top:"h-bottom",bottom:"h-top","at-cursor":"h-top"};"at-cursor"===i&&"onslide"===t.showTooltip?t.tooltip.displayType="box":this.vertical?/^(left|right)$/.test(i)||(i="bottom"===i?"right":"left"):/^(top|bottom)$/.test(i)||(i="right"===i?"bottom":"top"),t.tooltip.position=i,this._tooltip=e("<div class='ztooltip ztooltip--"+("at-cursor"===i?"bottom":i)+"'><div class='ztooltip__content'></div>"+("callout"===t.tooltip.displayType?'<div class="ztooltip__pointer '+s[i]+'"></div>':"")+"</div>").appendTo(this.container),"callout"===t.tooltip.displayType&&(this.pointer=e(this._tooltip[0].querySelector(".ztooltip__pointer")),this.vertical&&this.pointer.css({top:"auto"}),this.pointer[0].style[this.marginDir]="calc(50% - "+this.pointer[this.outerDim]()/2+"px)"),"always"!==t.showTooltip&&this._hideTip()}},_getPercent:function(t){if(t=this._getInnerVal(t),this.options.getCustomPosition)return this.options.getCustomPosition(t,this.options.min,this.options.max);var e=(parseFloat(t)-this.options.min)/(this.options.max-this.options.min),i=this.sliderDim[this.innerDim],s=this.handleDim[this.outerDim];return e=100*(e*(1-s/i)+.5*s/i)},_constructScale:function(){(this.options.showTicks||"fixed"===this.options.valuesType)&&(this._ticksLayout=e("<div>",{class:this._CLASS.PIPES}).appendTo(this.container),this._constructGrids(),this._constructLabel(),this._positionScale())},_positionScale:function(){if(this.options.showTicks){var t=this.options.ticks.position,i=e(this._handles).add(this._ticksLayout).add(this._labelsLayout);/^(left|top)$/.test(t)?(i.addClass("h-inverted"),this._innerSlider.before(this._labelsLayout,this._ticksLayout)):(i.removeClass("h-inverted"),this._innerSlider.after(this._ticksLayout,this._labelsLayout))}},_constructGrids:function(){var t,i=this,s=this.options,o=this._gridValues=[],n=s.ticks.splitBy;if("fixed"===s.valuesType&&(s.ticks.step=1,n="step"),"step"===n&&s.ticks.step>0){s.ticks.step=parseFloat(s.ticks.step);for(var a=s.min;a<=s.max;a+=s.ticks.step)o.push(i._getActualVal(i._trimDecimal(s.min,s.ticks.step,a)))}else if("random"===n&&Array.isArray(t=this._parseArray(s.ticks.randomValues)))t.forEach(function(t){t=parseFloat(t),!isNaN(t)&&t>=s.min&&t<=s.max&&o.indexOf(t)===-1&&o.push(t)}),this._gridValues=o=o.sort(function(t,e){return+t-+e});else{s.ticks.count=parseInt(s.ticks.count);for(var r=s.ticks.count>1?s.ticks.count:4,l=(s.max-s.min)/(r-1),h=0;h<r;h++){var d;d=0===h?s.min:h===r-1?s.max:this._trimDecimal(s.min,l,h*l+s.min),o.push(d)}}var c="";o.forEach(function(t){var e=i._getPercent(t)+"%";c=c+"<div class='"+i._CLASS.PIPE+"' data-val='"+t+"' style='"+i.marginDir+":"+e+"'></div>"}),this._ticksLayout[0].innerHTML=c,this._ticks=Array.prototype.slice.call(this._ticksLayout[0].children,0);var p=e(this._ticks[0])[this.outerDim]();e(this._ticks).css("margin-"+this.marginDir,-p/2+"px")},_constructLabel:function(){var i=this.options;if(i.showTicks&&i.ticks.showLabels||"fixed"===i.valuesType){this._labelsLayout=e("<div>",{class:this._CLASS.LABELS}).appendTo(this.container);var s=this._ticks;if(s&&s.length){var o=this,n=this.sliderDim[this.innerDim],a="fixed"===i.valuesType?this._labels:this._parseArray(i.ticks.customLabels),r=[],l=[],h=[],d=this._parseArray(i.ticks.showLabelsFor),c=e("<div>",{class:this._CLASS.LABEL}).appendTo(this._labelsLayout),p=function(t){c.text(t),h.push(c[o.outerDim]()+1),r.push(t)};if(Array.isArray(a)&&a.length)for(var u=0,m=0;m<s.length&&u!==a.length;m++){var _=s[m].getAttribute("data-val");if(!Array.isArray(d)||!d.length||d.indexOf(_)>-1){var f=a[u++];p(i.ticks.isLabelHTMLEncoded?f:t.encodeHTML(f)),l.push(s[m])}}else l=s,s.forEach(function(t,e){var s=t.getAttribute("data-val");(!Array.isArray(d)||!d.length||d.indexOf(s)>-1)&&p(o._getLabel(i.ticks.labelPattern,s,!i.ticks.isLabelHTMLEncoded))});if(c.remove(),l.length){if(this.vertical)l.forEach(function(t,i){var s=e('<div class="'+o._CLASS.LABEL+'" data-val="'+t.getAttribute("data-val")+'" style="bottom:"'+t.style.bottom+'";">'+r[i]+"</div>").appendTo(o._labelsLayout);s[0].style.bottom="calc("+t.style.bottom+" - "+s[0].offsetHeight/2+"px)"});else{for(var v=60,g="",b=l.length,y=parseInt(e(l[0]).css(this.marginDir))+v,m=0;m<b;m++){var C=e(l[m]),S=e(l[m+1]),T=Math.abs((S.length?parseInt(S.css(this.marginDir)):n+v)-parseInt(C.css(this.marginDir)));S.length&&h[m+1]<T&&(T=Math.abs(T+(T-h[m+1])));var z=Math.min(y,T,h[m]);if(z){y=T+(T-z);var w=o._getPercent(C.attr("data-val"))+"%";w="calc("+w+" - "+z/2+"px)",g=g+"<div  class='"+this._CLASS.LABEL+"' data-val='"+C[0].getAttribute("data-val")+"' style = '"+this.innerDim+":"+z+"px; "+this.marginDir+":"+w+"'>"+r[m]+"</div>"}}this._labelsLayout.append(g)}Array.prototype.slice.call(this._labelsLayout[0].children,0).forEach(function(t){t.offsetWidth<t.scrollWidth&&t.setAttribute("title",t.textContent)})}}}},_increase:function(t,e){return e=e||this.options.step,t=this._getInnerVal(t),t+=e-(t-this.options.min)%e},_decrease:function(t,e){return e=e||this.options.step,t=this._getInnerVal(t),t-=e-(t-this.options.min)%e},_trigger:function(t,e,i){return i=i||{},i.slider=this.getElement(),i.options=this.options,i.value=this.getValue(),this._dispatchEvent(t,e,i,void 0,!!e)},_restoreMeasurements:function(){var t=this;this._MEASUREMENTS.forEach(function(e){t.options[e]=t.actualProps[e]})},_resetValues:function(){this._values=this._labels=void 0,this._setFixedValues(),this._validateProperty(),e(this._handles).attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max}),this._setInitial(),this._resetScale(),this._resetRangeLabels(),this._resetLimitLayout(),this._resetTooltip(),this._positionHandle()},_resetLimitLayout:function(){e(this.container[0].querySelectorAll(".zslider__notallowedrange,.zslider__selected")).remove(),e(this.container[0].querySelectorAll(".zslider__label, .zslider__tick")).removeClass("is-disabled"),this._constructLimitLayout()},_resetScale:function(){this._ticksLayout&&this._ticksLayout.remove(),this._labelsLayout&&this._labelsLayout.remove(),this._ticks=this._ticksLayout=this._labelsLayout=this._gridValues=void 0,this._constructScale(),this._resetLimitLayout(),this._positionHandle()},_resetThumb:function(){e(this._handles).remove(),this._constructThumb()},_resetRangeLabels:function(){this._rangeLayout&&(e(this._innerSlider[0].querySelectorAll(".zslider__rangegroup")).remove(),this.container.removeClass("zslider--range"),this._rangeLayout.remove(),this._rangeLayout=this._rangeBgs=this._rangeTicks=void 0),this._range.show(),this._constructRangeLabels()},_resetTooltip:function(){this._tooltip&&this._tooltip.remove(),this._tooltip=void 0,this._updateTip()},_parseArray:function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t},_setAttribute:function(i,s){this._showHiddenParent();var o=this.options;switch(i){case"disabled":o[i]=!!s;this.container.add(this._handles);s?(this.element[0].setAttribute("disabled","disabled"),this.container.add(e(this._handles).removeAttr("tabIndex").attr("aria-disabled",!0)).addClass(this._CLASS.DISABLED),this._tooltip&&this._tooltip.remove()):(this.element[0].removeAttribute("disabled"),this.container.add(e(this._handles).attr("tabIndex",o.tabIndex).removeAttr("aria-disabled")).removeClass(this._CLASS.DISABLED),"always"===o.showTooltip&&this._resetTooltip());break;case"orientation":/^(horizontal|vertical)$/.test(s)&&(o[i]=s,this.vertical="vertical"===s,this.container[this.vertical?"addClass":"removeClass"](this._CLASS.VERTICAL),this._range.removeAttr("style"),this._shadowTrack.css({left:"auto",top:"auto"}),this._resetThumb(),this._resetValues());break;case"className":"string"==typeof s&&(this.container.removeClass(o[i]).addClass(s),o[i]=s);break;case"min":case"max":case"minValueAllowed":case"maxValueAllowed":case"step":this._restoreMeasurements(),o[i]=s,this._cacheMeasurements(),this._resetValues();break;case"locale":o.locale=s||t.locale,this._resetLocaleData(),this._setAttribute("showTicks",o.showTicks);break;case"selectionStartValue":o[i]=s,this._updateLayout();break;case"value":this.setValue(s);break;case"valuesType":/^(range|fixed)$/.test(s)&&(o[i]=s,"range"===s?o.ticksStep=this.actualProps.ticksStep:this.actualProps.ticksStep=o.ticksStep,this._resetValues());break;case"values":Array.isArray(s)&&(o[i]=s,this._resetValues());break;case"showTooltip":o[i]=s,this._resetTooltip();break;case"tooltip":var n;Object.keys(s).forEach(function(t){/^(position|displayType|text|isHTMLEncoded)$/.test(t)&&(o.tooltip[t]=s[t],n=!0)}),n&&this._setAttribute("showTooltip",o.showTooltip);break;case"ticks":var n;Object.keys(s).forEach(function(t){/^(splitBy|step|count|randomValues|position|showLabels|showLabelsFor|customLabels|labelPattern|isLabelHTMLEncoded)$/.test(t)&&(o.ticks[t]=s[t],n=!0)}),n&&this._setAttribute("showTicks",o.showTicks);break;case"valueDisplayFormat":var n;Object.keys(s).forEach(function(t){/^(type|decimalPlaces|thousandSeparator|pattern)$/.test(t)&&(o.valueDisplayFormat[t]=s[t],n=!0)}),n&&(this._resetLocaleData(),this._setAttribute("showTicks",o.showTicks));break;case"rangeGroups":var n;Object.keys(s).forEach(function(t){/^(groups|isLabelHTMLEncoded|labelPosition)$/.test(t)&&(o.rangeGroups[t]=s[t],n=!0)}),n&&(this._resetRangeLabels(),this._positionHandle());break;case"showTicks":case"thumbIconStyle":case"thumbSVGIconId":case"thumbIconClassName":o[i]=s,this._resetThumb(),this._resetValues();break;default:o[i]=s}this._resetParent()},increase:function(t){this._setValue(this._increase(this.options.value),t)},decrease:function(t){this._setValue(this._decrease(this.options.value),t)},setValue:function(t,e){void 0!==t&&(t=this._getInnerVal(t),this._setValue(t,e))},getValue:function(){return this.options.value},destroy:function(){this.container.remove(),this.element.show().removeData(this.options.widgetEventPrefix)},setAttribute:function(t,e){e="string"==typeof e?e.trim():e,e!==this.options[t]&&this._setAttribute(t,e)}};t.registerComponent("zslider",i),t.createSlider=function(t){if("object"==typeof t){var i=e("#"+t.id);if(i.length){if(i.data("zslider"))return i}else i=e("<input>").appendTo(e(t.appendTo).length?t.appendTo:"body").attr({id:t.id,style:t.style,title:t.title,tabIndex:t.tabIndex});return i.zslider(t),i}}}(ZComponents),function(t){var e=function(t,e){this._create(t,e)};e.prototype={options:{step:1,quickstep:5,rotate:!1,decimalAllowed:!1,floatLength:0,nullValue:void 0,editable:!0,unit:"",min:0,max:void 0,value:void 0,onchangeEvent:void 0,onchange:void 0,widgetEventPrefix:"zspinner"},widgetName:"zspinner",_EVENTS:{ONSTART:"start",ONSPIN:"spin",ONCHANGE:"change",ONSTOP:"stop"}},e.prototype._create=function(t,e){this._initialize(t,e),this._constructContainer(),this._setInitialValue(),this._bindEvents()},e.prototype._initialize=function(e,i){this._selectionMade=!1,this.element=e,this.options=i,this._hasValidValue=!0,this._userAgent=navigator.userAgent.toLowerCase(),this._mac=this._isMac(),this.options.max=void 0!=t(this.element).attr("max")?parseFloat(t(this.element).attr("max")):this.options.max,this.options.min=void 0!=t(this.element).attr("min")?parseFloat(t(this.element).attr("min")):this.options.min,this.options.step=void 0!=t(this.element).attr("step")?parseFloat(t(this.element).attr("step")):this.options.step;var s=(this.options.max-this.options.min)%this.options.step;this.options.max=this.options.max-s,this.options.min>this.options.max&&(this.options.max=void 0)},e.prototype._constructContainer=function(){var e=this.options.width?this.options.width:this.element.width()>=50?this.element.width():50;this.container=t("<div>").css({width:e,display:"inline-block"}).attr("class","zspinner"),this._input=t(this.options.editable?"<input>":"<div>").attr(this.options.editable?"type":"contentEditable",!!this.options.editable&&"text"),this.container.append(this._input.attr("class","zspinner__textbox")),this.options.editable||this._input.addClass("zspinner--noneditable");var i=t("<span>").attr("class","zspinner__up"),s=t("<i>").attr("class","zspinner__icon zicon--arrow");s.appendTo(i);var o=t("<span>").attr("class","zspinner__down"),n=t("<i>").attr("class","zspinner__icon zicon--arrow");n.appendTo(o);var a=t("<div>").attr("class","zspinner__handle").append(i).append(o);a.insertAfter(this._input),this.container.insertAfter(this.element)},e.prototype._setInitialValue=function(){var e=t(this.element)[this.options.editable?"val":"text"]();if(!e.match("[0-9]"))if(isNaN(this.options.defaultValue)&&isNaN(this.options.value))e=this.options.nullValue?this.options.nullValue:this.options.min+this.options.unit;else{var i=this._checkMinimumAndMaximum(void 0!=this.options.value?this.options.value:this.options.defaultValue);e=i+this.options.unit}e=this._checkMinimumAndMaximum(e),this.options.value=this.options._lastValue=this.options.unit?e.toString().split(this.options.unit)[0]:e,this._input[this.options.editable?"val":"text"](parseFloat(this.options.value).toFixed(this.options.floatLength)+this.options.unit),this.element.hide()},e.prototype._bindEvents=function(){var e=this,i=0;this.options.editable||this._input.on("mousedown."+this.widgetName,function(t){e._input.attr("tabindex",0)}),this._input.on("focus."+this.widgetName,function(t){return!e._isDisabled(e.element)&&void e.container.addClass("has-focus")}).on("keydown."+this.widgetName,function(t){if(i&&window.clearInterval(i),e._isDisabled(e.element))return!1;var s=void 0;switch(t.keyCode){case ZComponents.keyCode.UP:s=!0;break;case ZComponents.keyCode.DOWN:s=!1;break;case ZComponents.keyCode.LEFT:case ZComponents.keyCode.RIGHT:e._hideCursor(!1)}return void 0!==s&&(e._hideCursor(!0),e.options.value=e._checkMinimumAndMaximum(e.options.value),e._setSpinning(s,t.shiftKey)),e._checkEditable(t)}).on("keyup."+this.widgetName,function(t){function s(){var t=(new Date).getTime();(void 0!==e._prevKeydownTime&&void 0!==e._currentKeyDownTime&&e._currentKeyDownTime-e._prevKeydownTime>1e3||t-e._currentKeyDownTime>1e3)&&(e._stopSpinning(),window.clearInterval(i))}return e._prevKeydownTime=e._currentKeyDownTime||void 0,e._currentKeyDownTime=(new Date).getTime(),!e._isDisabled(e.element)&&(window.clearInterval(i),void(t.keyCode!==ZComponents.keyCode.UP&&t.keyCode!==ZComponents.keyCode.DOWN&&t.keyCode!==ZComponents.keyCode.LEFT&&t.keyCode!==ZComponents.keyCode.RIGHT?i=window.setInterval(s,300):t.keyCode!==ZComponents.keyCode.LEFT&&t.keyCode!==ZComponents.keyCode.RIGHT&&e._stopSpinning()))}).on("mousedown."+this.widgetName,function(t){e._hideCursor(!1)}).on("mousewheel."+this.widgetName,function(t){return!e._isDisabled(e.element)&&(t.originalEvent.wheelDelta>0?e._setSpinning(!1,t.shiftKey):e._setSpinning(!0,t.shiftKey),void e._stopSpinning(t))}).on("blur."+this.widgetName,function(t){e._mouseDown||e.container.removeClass("has-focus");var i=e._input[e.options.editable?"val":"text"]();i=e.options.unit?i.toString().split(e.options.unit)[0]:i;var s=/^[. 0-9]+$/,o=!1;if(isNaN(parseFloat(i))||!s.test(i))o=!0,i=e.options._lastValue;else{var n=e._checkMinimumAndMaximum(i);n!==i&&(o=!0,e.options._lastValue=i=n)}var a=e._getDecimalPointLength(i);a<=e.options.floatLength&&(o=!0,i=parseFloat(i).toFixed(e.options.floatLength)),o&&(e._input[e.options.editable?"val":"text"](e.options.unit?i+e.options.unit:i),e._handleValueChanged())});var s=this.container.find(".zspinner__handle");s.find(".zspinner__up,.zspinner__down").on("mousedown."+this.widgetName,function(i){e._handleMousedownOnControls(i)&&(e._hasValidValue=!0,e._setSpinning(t(i.target).closest(".zspinner__up").length,i.shiftKey))}).on("mouseup."+this.widgetName,function(t){return!e._isDisabled(e.element)&&(e._mouseDown=!1,e.container.removeClass("has-focus"),e._stopSpinning(t),void e._input.attr("tabindex",0).focus())}),this._isDisabled(this.element)&&this.disable()},e.prototype._stopSpinning=function(t){this._spinning=!1,!this.options.quickTrigger&&this._hasValidValue&&(isNaN(parseFloat(this.options.value))&&(this.options.value=parseFloat(this.element.val())),this._triggerEvent(this._EVENTS.ONCHANGE),this._triggerEvent(this._EVENTS.ONSTOP))},e.prototype._setSpinning=function(t,e){this._triggerEvent(this._EVENTS.ONSTART),this._spinning=!0,this._startSpinning(t?"up":"down",e)},e.prototype._startSpinning=function(t,e){if(this._spinning){var i=isNaN(this.options.value)?this.options.min:this.options.value,s=0;(i===this.options.nullValue||isNaN(i))&&(i="up"===t?this.options.min-1:this.options.max+1),i=parseFloat(i);var o=parseFloat(this.options[e?"quickstep":"step"]),n=this.options.min%o;switch(t){case"up":if(s=i%o,s===n)i+=o;else{var a=parseInt((i-this.options.min)/o);i=(a+1)*o+this.options.min}if(void 0==this.options.max||isNaN(this.options.max))this._spinValue(i);else{if(i>this.options.max&&this.options.rotate&&(i=this.options.nullValue?this.options.nullValue:this.options.min),i>this.options.max||i<this.options.min){var r=parseFloat(this.options.max).toFixed(this.options.floatLength);this._input[this.options.editable?"val":"text"](r+this.options.unit)}(i<=this.options.max||isNaN(i))&&this._spinValue(i)}break;case"down":if(s=i%o,s===n)i-=o;else{var a=parseInt((i-this.options.min)/o);i=a*o+this.options.min}if(void 0==this.options.min||isNaN(this.options.min))this._spinValue(i);else{if(i<this.options.min&&this.options.rotate&&(i=this.options.nullValue?this.options.nullValue:this.options.max),i<this.options.min||i>this.options.max){var r=parseFloat(this.options.min).toFixed(this.options.floatLength);this._input[this.options.editable?"val":"text"](r+this.options.unit)}(i>=this.options.min||isNaN(i))&&this._spinValue(i)}}isNaN(i)?this.options.value=this.options.nullValue:this.options.value=this.options._lastValue=this._checkMinimumAndMaximum(i),this._handleValueChanged()}},e.prototype._spinValue=function(t){this.options.floatLength=this.options.floatLength?this.options.floatLength:this._getDecimalPointLength(this.options.step);var e=isNaN(t)||t===this.options.nullValue?this.options.nullValue:t.toFixed(this.options.floatLength)+this.options.unit;this._input[this.options.editable?"val":"text"](e).focus()},e.prototype._handleMousedownOnControls=function(t){return!(this._isDisabled(this.element)||t.which>1)&&(this._mouseDown=!0,this.container.addClass("has-focus"),this._hideCursor(!0),!0)},e.prototype._checkEditable=function(t){if(this.options.editable){var e=this._input[this.options.editable?"val":"text"]();return e==this.options.nullValue?(this.options.value=this.options.nullValue,!1):(this._handleKeydown(t),!0)}return!1},e.prototype._handleKeydown=function(e){if(this._checkPatternKeys(e)){var i=t(e.target)[this.options.editable?"val":"text"]();i=this.options.unit?parseFloat(i.toString().split(this.options.unit)[0]):parseFloat(i);var s=this;window.setTimeout(function(){var o=s._input[s.options.editable?"val":"text"]();o=parseFloat(s.options.unit?o.toString().split(s.options.unit)[0]:o),o>s.options.max&&(o=i,t(e.target)[s.options.editable?"val":"text"](o)),isNaN(o)&&(o=s.options._lastValue),s.options.value=s.options.unit?o.toString().split(s.options.unit)[0]:o,s._hasValidValue=!0,s._callOnChange()},1)}else this._handleShortcutKeys(e)},e.prototype._checkPatternKeys=function(e){var i=void 0,s=void 0;if(i=e.keyCode>=48&&e.keyCode<=57||8===e.keyCode||e.keyCode>=96&&e.keyCode<=105,this.options.min.toString().indexOf("-")!=-1&&(i=i||189===e.keyCode||173===e.keyCode),this.options.unit){var o=ZComponents.getPressedKey(e);i=i||o===this.options.unit}this.options.floatLength=this.options.floatLength?this.options.floatLength:this._getDecimalPointLength(this.options.step);var n=t(e.target)[this.options.editable?"val":"text"]();return(this.options.decimalAllowed&&(190===e.keyCode||110===e.keyCode)&&n.indexOf(".")===-1||188===e.keyCode||59===e.keyCode)&&(s=!0),i||s},e.prototype._handleShortcutKeys=function(t){t.ctrlKey||t.metaKey&&!ZComponents.Browser.isSafari()?(89===t.keyCode?this._mac&&this._stopEvent(t):65!=t.keyCode&&67!=t.keyCode&&86!=t.keyCode&&88!=t.keyCode&&90!=t.keyCode&&89!=t.keyCode&&this._stopEvent(t),86===t.keyCode&&this._handlePasteOption()):40!=t.keyCode&&38!=t.keyCode&&46!=t.keyCode&&8!=t.keyCode?(37!=t.keyCode&&39!=t.keyCode&&9!=t.keyCode&&this._stopEvent(t),this._hasValidValue=!1):(this._hasValidValue=!0,this._callOnChange())},e.prototype._handlePasteOption=function(){var t=this,e=window.setTimeout(function(){var i=parseFloat(t._input.val());t.options.value=t._checkMinimumAndMaximum(i),clearTimeout(e)},1)},e.prototype._getDecimalPointLength=function(t){var e=t.toString().indexOf(".")!==-1,i=0;return e&&(i=t.toString().split(".")[1],i=i&&i.length>=2?2:i.length),i},e.prototype._triggerEvent=function(t){var e=this._input[this.options.editable?"val":"text"](),i={spinner:this.element,value:parseFloat(e)},s={type:t};return ZComponents._trigger(this.element,this.options,t,s,i)},e.prototype._checkMinimumAndMaximum=function(t){return t<this.options.min?this.options.min:t>this.options.max?this.options.max:t},e.prototype._callOnChange=function(){this.options.onchange&&(isNaN(parseFloat(this.options.value))&&(this.options.value=parseFloat(this.element.val())),this.options.onchange(this.options.value))},e.prototype._handleValueChanged=function(){this._callOnChange(),this.options.onchangeEvent&&t(this.element).trigger(this.options.onchangeEvent,{value:this.options.value}),this.options.quickTrigger?this._triggerEvent(this._EVENTS.ONCHANGE):this._triggerEvent(this._EVENTS.ONSPIN)},e.prototype._stopEvent=function(t){t.preventDefault(),t.stopPropagation()},e.prototype._isMac=function(){return this._userAgent.indexOf("mac")!==-1},e.prototype._isDisabled=function(e){return!!t(e).attr("disabled")},e.prototype._hideCursor=function(t){this._input[t&&!ZComponents.Browser.isIE()?"addClass":"removeClass"]("h-hidecursor")},e.prototype.enable=function(){this._isDisabled(this.element)&&(t(this.element).removeAttr("disabled"),this.container.removeClass("is-disabled"),this.container.find(".zspinner__textbox").removeAttr("disabled"))},e.prototype.disable=function(){t(this.element).attr("disabled","true"),this.container.addClass("is-disabled"),this._input.attr("disabled","true")},e.prototype.setMinValue=function(e){t(this.element).attr("min",e),this.options.min=e,this.refresh()},e.prototype.setMaxValue=function(e){t(this.element).attr("max",e);var i=(e-this.options.min)%this.options.step;e-=i,this.options.max=e,this.refresh()},e.prototype.setStepValue=function(e){t(this.element).attr("step",e),this.options.step=e},e.prototype.setUnit=function(t){this.options.unit=t.toString(),this.refresh()},e.prototype.setValue=function(t){this._isDisabled(this.element)||(isNaN(parseFloat(t))?this.options.nullValue?this.options.value=t=this.options.nullValue:null===t?(t="",this.options.value=this.options.hiddenValue?this.options.hiddenValue:void 0!==this._getDefaultValue()?this._getDefaultValue():this.options.min):t=this.options.value=void 0!==this._getDefaultValue()?this._getDefaultValue():this.options.min:(t=this._checkMinimumAndMaximum(t),this.options.value=this.options._lastValue=t),this._setFieldValue(t))},e.prototype.refresh=function(){this.setValue(this.options.value)},e.prototype._setFieldValue=function(t){this._input[this.options.editable?"val":"text"](this.options.unit&&""!==t?t+this.options.unit:t)},e.prototype._getDefaultValue=function(){var t=void 0;return isNaN(this.options.defaultValue)&&isNaN(this.options.value)||(t=void 0!=this.options.value?this.options.value:this.options.defaultValue),t},e.prototype.getValue=function(){return isNaN(parseFloat(this.options.value))?this.options.min?this.options.min:0:this.options.value},e.prototype.widget=function(){return this.container},e.prototype.destroy=function(){this.container.off("."+this.widgetName).remove(),t(this.element).show().removeData("zspinner")},e.prototype.option=function(e,i){if("object"==typeof e){var s=this;t.each(e,function(t,e){s.option(t,e)})}else{if(void 0===e||void 0===i)return ZComponents._changeOptions(this.options,e,i);"editable"===e&&this.options.editable!==i?(this.destroy(),this.options.editable=i,this.element.zspinner(this.options)):"value"===e&&this.options.value!==i?this.setValue(i):"min"===e&&this.options.min!==i?this.setMinValue(i):"max"===e&&this.options.max!==i?this.setMaxValue(i):"unit"===e&&this.options.unit!==i&&this.setUnit(i),ZComponents._changeOptions(this.options,e,i)}},t.fn.zspinner=function(){var i=ZComponents.createComponent({element:t(this),component:e,componentName:"zspinner",parameters:arguments});return i},t.fn.zspinner.Constructor=e,ZComponents._asciiCodes={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",187:"61",186:"59",189:"45"},ZComponents._shiftKeys={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"},ZComponents.getPressedKey=function(t){var e=t.which;return ZComponents._asciiCodes.hasOwnProperty(t.which)&&(e=ZComponents._asciiCodes[e]),e=!t.shiftKey&&e>=65&&e<=90?String.fromCharCode(e+32):t.shiftKey&&ZComponents._shiftKeys.hasOwnProperty(e)?ZComponents._shiftKeys[e]:String.fromCharCode(e)}}(jQuery),function(t){var e={options:{min:0,max:100,step:1,disabled:!1,showSpinButtons:!1},_EVENTS:{ONCHANGE:"change",ONSTART:"start",ONSTOP:"stop",ONSPIN:"spin"},_create:function(t,e){this._createSpinnerSlider(),this.options.disabled=!!t.attr("disabled")||e.disabled,this.options.disabled&&this.setAttribute("disabled",!0)},_onSliderChange:function(t,e,i){e&&e.originalEvent&&(this._spinnerElement.znumberfield("setValue",i.value),this._triggerChange(t,e,i.value))},_onNumberFieldChange:function(t,e,i){var s=i.value;s.toString().indexOf(this.options.unit)!==-1&&(s=s.toString().split(this.options.unit)[0]),this._sliderElement.zslider("setValue",s),this._triggerChange(t,e,s)},_triggerChange:function(t,e,i){this._dispatchEvent(t,{},{value:i})},_createSpinnerSlider:function(){var e=document.createElement("div");this.element[0].parentNode.insertBefore(e,this.element.nextSibling);var i=this.element.width(),s=.7*i,o=i-s,n=this;o<50&&(o=50,s=i-o),this.container=t(e).width(i);var a=document.createElement("input");e.appendChild(a),this._sliderElement=t(a).width(s-10),this._sliderElement.css({float:"left","margin-top":"14px","margin-right":"10px"}),this._sliderElement.zslider({min:this.options.min,max:this.options.max,slidestart:function(t,e){n._onSliderChange.call(n,"ONSTART",t,e)},slide:function(t,e){n._onSliderChange.call(n,"ONSPIN",t,e)},slideend:function(t,e){n._onSliderChange.call(n,"ONSTOP",t,e)},change:function(t,e){n._onSliderChange.call(n,"ONCHANGE",t,e)},value:isNaN(n.options.value)?n.options.min:n.options.value});var r=document.createElement("input");e.appendChild(r),t(r).attr({min:this.options.min,max:this.options.max,step:this.options.step}),this._spinnerElement=t(r).width(o);var l=this.options.valueDisplayFormat||{};this._spinnerElement.znumberfield({spinstart:function(t,e){n._onNumberFieldChange.call(n,"ONSTART",t,e)},spin:function(t,e){n._onNumberFieldChange.call(n,"ONSPIN",t,e)},spinend:function(t,e){n._onNumberFieldChange.call(n,"ONSTOP",t,e)},blur:function(t,e){n._onNumberFieldChange.call(n,"ONCHANGE",t,e)},suffix:l.suffix||"",unit:this.options.unit,showSpinButtons:this.options.showSpinButtons,value:isNaN(n.options.value)?n.options.min:n.options.value,clearButton:"none"}),this._spinnerValue=parseFloat(this._spinnerElement.znumberfield("getValue")),this.element.hide()},setAttribute:function(t,e){"value"===t?this.setValue(e):"disabled"===t&&(e?(this._spinnerElement.znumberfield("disable"),this._sliderElement.zslider("setAttribute","disabled",!0)):(this._spinnerElement.znumberfield("enable"),this._sliderElement.zslider("setAttribute","disabled",!1))),this.options[t]=e},setValue:function(t){isNaN(t)&&(t=isNaN(this.options.value)?this.options.min:this.options.value),this._spinnerElement.znumberfield("setValue",t),this._sliderElement.zslider("setValue",t)},getValue:function(){return this._spinnerElement.znumberfield("getValue")},getElement:function(){return this.container},destroy:function(){this._spinnerElement.znumberfield("destroy"),this._sliderElement.zslider("destroy"),this.container.remove(),this.container=this._spinnerElement=this._sliderElement=void 0,this.element.show().removeData("zspinnerslider")}};ZComponents.registerComponent("zspinnerslider",e)}(jQuery),function(t){var e=t.DOMUtil,i=t.keyCode,s={options:{min:void 0,max:void 0,step:1,value:void 0,spinButtons:"always",spinValues:!0,wrapAround:!1,disabled:!1,thousandSeparator:",",allowNegativeValue:!1,spinButtonsType:"together",showThousandSeparator:!1,readonly:!1,decimalPlaces:void 0,prefix:"",suffix:"",longStep:void 0,nullValue:0,decimalSeparator:".",locale:void 0,useLocale:!0,stepBehavior:"default",suppressThousandSeparatorKey:!1,spinEventTriggerDelay:0,clearButton:"focus",clearButtonSVGIconId:void 0,clearButtonIconClassName:void 0,className:"",bindedSpinAndChange:!1,blurEventDelay:500,decimalsForWholeNumber:!0},styleProperties:["font-size","font-style","font-weight","font-family","line-height"],escapeSequence:/[[\]{}()*+?\\^$|#]/g,_EVENTS:{FOCUS:"focus",BLUR:"blur",CHANGE:"change",INPUT:"input",SPIN:"spin",SPINSTART:"spinstart",SPINEND:"spinend",OPTIONSCHANGED:"optionschanged"},_factor:1,_blurEventTimer:void 0,_userAgent:navigator.userAgent.toLowerCase(),_create:function(){this._normalizeOptions(),this._createNumberField(),this._bindEvents(),this._setInitialValue()},_normalizeOptions:function(){if(this._mac=t.Browser.isMac(),this.options.max=void 0!=this.element.attr("max")?parseFloat(this.element.attr("max")):this.options.max?parseFloat(this.options.max):this.options.max,this.options.min=void 0!=this.element.attr("min")?parseFloat(this.element.attr("min")):this.options.min?parseFloat(this.options.min):this.options.min,this.options.step=void 0!=this.element.attr("step")?parseFloat(this.element.attr("step")):this.options.step?parseFloat(this.options.step):this.options.step,this.options.value=void 0!=this.element.attr("value")?parseFloat(this.element.attr("value")):this.options.value?parseFloat(this.options.value):this.options.value,this.options.disabled=!!this.element.attr("disabled")||this.options.disabled,this.options.readonly=!!this.element.attr("readonly")||this.options.readonly,this._validateOptions(),"w3"===this.options.stepBehavior&&(this._factor=Math.pow(10,this.options.decimalPlaces)||1,void 0!==this.options.min)){var e=(this.options.max-this.options.min)*this._factor%(this.options.step*this._factor)/this._factor;this.options.max=Math.round((this.options.max-e)*this._factor)/this._factor}this._hasValidValue=!0,this.options.locale||(this.options.locale=t.locale?t.locale:window.navigator.language),this.options.useLocale&&this.options.showThousandSeparator&&this._setSeparatorFromLocale("thousandSeparator"),this.options.decimalPlaces&&this._setSeparatorFromLocale("decimalSeparator")},_validateOptions:function(){void 0!==this.options.min&&""!==this.options.min||(this.options.min=this.options.allowNegativeValue?void 0:0),""===this.options.max&&(this.options.max=void 0),this.options.max&&this.options.max<this.options.min&&(this.options.max=void 0),!this.options.step||this.options.step<=0?this.options.step=1:this.options.step>this.options.max-this.options.min&&(this.options.step=this.options.max-this.options.min);var t=Number(this.options.min)===this.options.min&&this.options.min%1!==0,e=Number(this.options.max)===this.options.max&&this.options.max%1!==0,i=Number(this.options.step)===this.options.step&&this.options.step%1!==0;(t||e||i)&&(this._hasFloatingNumber=!0),(this.options.decimalPlaces<0||this.options.decimalPlaces>20)&&(this.options.decimalPlaces=0),this.options.longStep||void 0===this.options.max||void 0===this.options.min||(this.options.longStep=2*this.options.step>this.options.max?2*this.options.step/(this.options.max-this.options.min):2*this.options.step),this._dispatchEvent("OPTIONSCHANGED",{})},_setSeparatorFromLocale:function(e){if(t.localeInfo){var i=t.localeInfo[this.options.locale]&&t.localeInfo[this.options.locale].numberFormat||{},s=i[e]||this.options[e];this.options[e]=s}},_createNumberField:function(){this.container=e("<div>").css({display:"inline-block"}).attr({class:"zinputfield "+this.options.className,title:this.element.attr("title")}),this._input=e("<input>").attr({class:"zinputfield__textbox","aria-valuemin":this.options.min,"aria-valuemax":this.options.max,role:"spinbutton",tabindex:this.element.attr("tabindex")}),this.container.append(this._input.attr("class","zinputfield__textbox")),this.options.readonly&&this._input.attr({tabindex:0,readonly:!0}),"always"!==this.options.spinButtons&&"focus"!==this.options.spinButtons||this._createSpinButtons(),"focus"!==this.options.spinButtons&&"none"!=this.options.spinButtons||"split"===this.options.spinButtonsType||this._input.width("100%"),this.container.insertAfter(this.element.hide()),this.options.disabled&&(this.container.addClass("is-disabled"),this._input.attr({disabled:!0,"aria-disabled":!0})),this.options.readonly&&(this.container.addClass("is-disabled is-readonly"),this._input.attr({readonly:!0,"aria-readonly":!0})),this.options.maxLength&&this._input.attr("maxlength",this.options.maxLength),"none"!==this.options.spinButtons&&"split"===this.options.spinButtonsType&&this.container.addClass("zinputfield--split"),this.container.outerWidth(this.options.width?this.options.width:this.element.width()),("focus"===this.options.clearButton||"always"===this.options.clearButton)&&this._createClearButton()},_createClearButton:function(){if(!this.container.find(".zinputfield__clearbutton").length){var t=e("<div class='zinputfield__clearbutton'></div>"),i=e("<i>");t.append(i),this._clearButton=t,this._changeClearButtonIcon(),this.container.append(t),this._bindClearButtonEvents()}"focus"===this.options.clearButton&&this._clearButton.hide(),"always"===this.options.clearButton&&("focus"!==this.options.spinButtons&&this._input.outerWidth(this._input.outerWidth()-this._clearButton.width()),this._clearButton.show(),"focus"===this.options.spinButtons&&"split"!==this.options.spinButtonsType&&this._clearButton.addClass("h-right"))},_changeClearButtonIcon:function(){var t=this._clearButton.find("i");t.empty().removeAttr("class").addClass("zinputfield__icon");var e={props:{class:"zinputfield__svg",viewBox:"0 0 21.9 21.9"},nodes:[{path:{d:"M14.1,11.3c-0.2-0.2-0.2-0.5,0-0.7l7.5-7.5c0.2-0.2,0.3-0.5,0.3-0.7s-0.1-0.5-0.3-0.7l-1.4-1.4C20,0.1,19.7,0,19.5,0  c-0.3,0-0.5,0.1-0.7,0.3l-7.5,7.5c-0.2,0.2-0.5,0.2-0.7,0L3.1,0.3C2.9,0.1,2.6,0,2.4,0S1.9,0.1,1.7,0.3L0.3,1.7C0.1,1.9,0,2.2,0,2.4  s0.1,0.5,0.3,0.7l7.5,7.5c0.2,0.2,0.2,0.5,0,0.7l-7.5,7.5C0.1,19,0,19.3,0,19.5s0.1,0.5,0.3,0.7l1.4,1.4c0.2,0.2,0.5,0.3,0.7,0.3  s0.5-0.1,0.7-0.3l7.5-7.5c0.2-0.2,0.5-0.2,0.7,0l7.5,7.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l1.4-1.4c0.2-0.2,0.3-0.5,0.3-0.7  s-0.1-0.5-0.3-0.7L14.1,11.3z"}}]};this._handleIcon(t,e,"clear",this.options.clearButtonIconClassName,this.options.clearButtonSVGIconId)},_bindClearButtonEvents:function(){var t=this,i=this.componentName;this._clearButton.off("click."+i).on("click."+i,function(i){t._input.val("").focus(),e(i.target).closest(".zinputfield__clearbutton").hide()}).off("mousedown."+i).on("mousedown."+i,function(){t._mouseDown=!0}).off("mouseup."+i).on("mouseup."+i,function(){t._mouseDown=!1})},_createSpinButtons:function(){if(!this.container.find(".zinputfield__spinbutton").length){var t=e("<button>").attr({type:"button",class:"zinputfield__spinbutton h-up",tabindex:-1}),i=e("<i>").attr("class","zinputfield__icon"),s=e("<button>").attr({type:"button",class:"zinputfield__spinbutton h-down",tabindex:-1}),o=e("<i>").attr("class","zinputfield__icon");if(i.appendTo(t),o.appendTo(s),this._updateIcons(i,o),"together"===this.options.spinButtonsType){var n=e("<div>").attr("class","zinputfield__spinbuttonpane").append(t).append(s);n.insertAfter(this._input)}else this.container.empty().append(s,this._input,t);this._bindSpinButtonEvents()}"together"===this.options.spinButtonsType&&("focus"===this.options.spinButtons&&this.container.find(".zinputfield__spinbutton").addClass("h-dnone"),"always"===this.options.spinButtons&&this.container.find(".zinputfield__spinbutton").removeClass("h-dnone"))},_updateIcons:function(t,e){var i,s,o;t.removeAttr("class").empty().attr("class","zinputfield__icon"),e.removeAttr("class").empty().attr("class","zinputfield__icon"),"together"===this.options.spinButtonsType?(i={props:{class:"zinputfield__svg",viewBox:"0 0 48 48",width:"100%",height:"100%"},nodes:[{path:{class:"cls-1",d:"M6,32l5,4L24,22,38,36l4-4L24,13Z"}}]},s={props:{class:"zinputfield__svg",viewBox:"0 0 48 48",width:"100%",height:"100%"},nodes:[{path:{class:"cls-1",d:"M11.76,13L24,26.521,37.147,13,41,16.9,24,35,7,16.9Z"}}]},o="arrow"):(i={props:{class:"zinputfield__svg",viewBox:"0 0 12 12",width:"100%",height:"100%"},nodes:[{polygon:{points:"11,6 7,6 7,2 6,2 6,6 2,6 2,7 6,7 6,11 7,11 7,7 11,7 "}}]},s={props:{class:"zinputfield__svg",viewBox:"0 0 12 10",width:"100%",height:"100%"},nodes:[{rect:{x:"2",y:"5",width:"9",height:"1"}}]},o="signs"),this._handleIcon(t,i,"increment"+o,this.options.incrementButtonIconClassName,this.options.incrementButtonSVGIconId),this._handleIcon(e,s,"decrement"+o,this.options.decrementButtonIconClassName,this.options.decrementButtonSVGIconId)},_bindSpinButtonEvents:function(){var i=this,s=this.componentName;this.container.find(".h-up,.h-down").off("mousedown."+s).on("mousedown."+s,function(s){i._handleMousedownOnControls(s)&&(t.currentNumberField=i.container,i._hasValidValue=!0,(!i._prevMouseupTime||!i._currentMouseupTime||i._currentMouseupTime-i._prevMouseupTime>600)&&i._triggerEvent("SPINSTART",s),i._spinValue(e(s.target).closest(".h-up").length,s.shiftKey,void 0,!1),i._blurEventTimer&&clearTimeout(i._blurEventTimer),i._mousedownTimer=setInterval(function(){e(s.target).closest(".zinputfield__spinbutton").is(".is-disabled")&&(i._triggerSpinEndEvent(s),clearInterval(i._mousedownTimer)),i._mouseDown?(i._hasValidValue=!0,i._spinValue(e(s.target).closest(".h-up").length,s.shiftKey,void 0,!0)):clearInterval(i._mousedownTimer)},200))}).off("mouseup."+s).on("mouseup."+s,function(t){i._spinbuttonsMouseUpHandler(t)}).off("blur."+s).on("blur."+s,function(t){var s=t.relatedTarget,o=!1;s&&(e(s).closest(".zinputfield__textbox").length||e(s).closest(".zinputfield__spinbutton").length)&&(o=e(s).closest(".zinputfield")[0]===i.container[0]),s&&o||(i._spinbuttonsMouseUpHandler(t,!0),i.options.triggerBlurOnSpinButtonClick?i._updateValue(i._input.val()):i._input.trigger("blur"))}).on("keydown."+s,function(e){e.keyCode!==t.keyCode.UP&&e.keyCode!==t.keyCode.DOWN||(i._input.focus(),i._spinValue(e.keyCode===t.keyCode.UP,e.shiftKey,void 0,!0))})},_spinbuttonsMouseUpHandler:function(t,i){clearInterval(this._mousedownTimer),this._mousedownTimer=void 0,window.clearTimeout(this._mousewheelTimer);var s=e(t.target).closest(".zinputfield__spinbutton").hasClass("is-disabled");if(this.options.disabled||this.options.readonly||!i&&!this._mouseDown&&s)return!1;this._prevMouseupTime=this._currentMouseupTime||void 0,this._currentMouseupTime=(new Date).getTime();var o=this;void 0!==this._prevMouseupTime&&this._currentMouseupTime-this._prevMouseupTime<600&&(window.clearInterval(this._mouseupTimer),this._mouseupTimer=window.setInterval(function(){o._currentMouseupTime=(new Date).getTime(),o._currentMouseupTime-o._prevMouseupTime>600&&(window.clearInterval(o._mouseupTimer),(!o.options.bindedSpinAndChange||void 0===o._lastChangedValue||parseFloat(o._lastChangedValue)!==parseFloat(o.options.value))&&o._triggerSpinEndEvent(t),o._prevMouseupTime=o._currentMouseupTime=void 0,o._mouseupTimer=o._mouseDown=void 0)},200)),this.options.bindedSpinAndChange&&void 0!==this._lastChangedValue&&parseFloat(this._lastChangedValue)===parseFloat(this.options.value)||this._mouseDown&&this._triggerSpinEndEvent(t),!i&&this.options.triggerBlurOnSpinButtonClick&&this._triggerBlurEvent(),i&&!this._input.is(":focus")?this.container.removeClass("has-focus"):this._hasFocus&&this._input.attr("tabindex",0).focus(),this._mouseDown=!1},_setInitialValue:function(){var t=this.options.value;t&&!t+"".match("[0-9]")&&(t=isNaN(this.options.value)?this.options.min:this._checkMinimumAndMaximum(void 0!=this.options.value?this.options.value:this.options.min)),this._updateValue(t),this._toggleSpinButtonsStates(),this._lastChangedValue=this.options.value},_attachAffixes:function(t){return this.options.prefix&&(t=this.options.prefix+" "+t),this.options.suffix&&(t=t+" "+this.options.suffix),t},_checkMinimumAndMaximum:function(t){return void 0===t||isNaN(t)?this.options.min?this.options.min:0:(t=parseFloat(t),t=t<this.options.min?this.options.min:t>this.options.max?this.options.max:t,"w3"===this.options.stepBehavior&&(t=t*this._factor/this._factor),t)},_toggleSpinButtonsStates:function(){if(!this.options.wrapAround){var t=this.options.value>=this.options.max,e=this.options.value<=this.options.min;this.container.find(".zinputfield__spinbutton").removeClass("is-disabled"),t&&this.container.find(".h-up").addClass("is-disabled"),e&&this.container.find(".h-down").addClass("is-disabled")}},_addEffect:function(){this._hideCursor(!0),this._input.stop().removeClass("zeffects--skew").addClass("zeffects--skew");var t=this;window.setTimeout(function(){t._hideCursor(!1),t._input.removeClass("zeffects--skew"),t._hasFocus&&t._input.focus()},1e3)},_bindSpinEvents:function(){var e=this,s=this.componentName;this._valueChangeNotTriggered=!1,this._input.off("keydown.run."+s).on("keydown.run."+s,function(t){if(t.keyCode!==i.ESCAPE){window.clearTimeout(e._mousewheelTimer),e._prevKeydownTime=e._currentKeyDownTime||void 0,e._currentKeyDownTime=(new Date).getTime();var s=(new Date).getTime(),o=!1;if(o=void 0!=e._prevKeydownTime&&void 0!=e._currentKeyDownTime&&(e._currentKeyDownTime-e._prevKeydownTime<600||s-e._currentKeyDownTime<600),e.options.disabled)return!1;if(e._valueChangeNotTriggered=!0,!e.options.readonly)switch(t.keyCode){case i.UP:case i.DOWN:t.preventDefault(),t.stopPropagation(),("none"!==e.options.spinButtons||e.options.spinValues)&&(!o&&(!e._currentKeyupTime||!e._prevKeyupTime||e._currentKeyupTime-e._prevKeyupTime>600)&&e._triggerEvent("SPINSTART",t),e._spinValue(t.keyCode===i.UP,t.shiftKey,void 0,o));break;case i.ENTER:clearTimeout(e._spinTimer),e._lastChangedValue=e.options.value,e._updateValue(e._input.val()),e._triggerEvent("CHANGE",{}),e._valueChangeNotTriggered=!1,e.options.triggerBlurOnSpinButtonClick&&e._triggerBlurEvent(t);break;case i.PAGE_UP:(e.options.spinValues||"none"!==e.options.spinButtons)&&e._updateValue(e.options.max);break;case i.PAGE_DOWN:(e.options.spinValues||"none"!==e.options.spinButtons)&&e._updateValue(e.options.min);break;case i.TAB:e._selectionDone=!1}return(t.ctrlKey||t.metaKey)&&(e._shortcutOperation=!0),e._handleKeyDown(t)}}).off("keyup."+s).on("keyup."+s,function(s){if(e.options.disabled||e.options.readonly)return!1;if(s.keyCode===t.keyCode.UP||s.keyCode===t.keyCode.DOWN){if(e._prevKeyupTime=e._currentKeyupTime||void 0,e._currentKeyupTime=(new Date).getTime(),void 0!==e._prevKeyupTime&&e._currentKeyupTime-e._prevKeyupTime<600)return window.clearInterval(e._keyupTimer),void(e._keyupTimer=window.setInterval(function(){e._currentKeyupTime=(new Date).getTime(),e._currentKeyupTime-e._prevKeyupTime>600&&((!e.options.bindedSpinAndChange||void 0===e._lastChangedValue||parseFloat(e._lastChangedValue)!==parseFloat(e.options.value))&&e._triggerSpinEndEvent(s),e._prevKeydownTime=e._prevKeyupTime=e._currentKeyupTime=e._currentKeyDownTime=void 0,window.clearInterval(e._keyupTimer),e._keyupTimer=void 0)},200))}else e._prevKeyupTime=e._currentKeyupTime=e._prevKeydownTime=e._currentKeyDownTime=void 0;s.keyCode!==i.UP&&s.keyCode!==i.DOWN||e.options.bindedSpinAndChange&&void 0!==e._lastChangedValue&&parseFloat(e._lastChangedValue)===parseFloat(e.options.value)||e._triggerSpinEndEvent(s),e._prevKeydownTime=e._currentKeyDownTime=void 0,e._handleKeyUp(s),s.keyCode!==i.UP&&s.keyCode!==i.DOWN||(e._input[0].selectionStart=e._input[0].selectionEnd=e._input.val().length)}).off("mousewheel."+s+" DOMMouseScroll."+s+"  MozMousePixelScroll."+s).on("mousewheel."+s+" DOMMouseScroll."+s+"  MozMousePixelScroll"+s,function(t){e._mouseWheelHandler(t),clearTimeout(e._mousewheelTimer),e._mousewheelTimer=setTimeout(function(){e._triggerSpinEndEvent(t),clearTimeout(e._mousewheelTimer)},600)})},_unbindSpinEvents:function(){var t=this.componentName;this._input.off(" mousewheel."+t+" DOMMouseScroll."+t+" MozMousePixelScroll."+t)},_bindDocumentEvents:function(){var t=this,i=this.componentName;e(document).off("mousedown.all"+i).on("mousedown.all."+i,function(i){t._clearButtonClicked=e(i.target).closest(".zinputfield__clearbutton").length}).off("mouseup.all"+i).on("mouseup.all."+i,function(){t._clearButtonClicked=null})},_bindEvents:function(){var s=this,o=this.componentName;("none"!==this.options.spinButtons||this.options.spinValues)&&this._bindSpinEvents(),this._input.on("focus."+o,function(n){if(s._focusedValue=s.options.value,s.options.disabled||s.options.readonly)return!1;if(s.options.prefix&&""!==s.options.prefix.trim()||s.options.suffix&&""!==s.options.suffix.trim()){e(window).on("keyup."+o,function(t){t.keyCode===i.TAB&&(e(t.target).closest(".zinputfield__textbox").removeClass("h-hidecursor").select(),e(window).off("keyup."+o))});var a=s._input[0].selectionStart,r=s._input[0].selectionEnd,l=s._input.val();a!==r&&0===a&&r==l.length&&s._input.addClass("h-hidecursor"),l=s._extractNumericValue(l,!0),s._input.val(l)}t.currentNumberField&&t.currentNumberField[0]!==s.container[0]&&t.currentNumberField.removeClass("has-focus"),e(document).find(".zinputfield").removeClass("has-focus"),s.container.addClass("has-focus"),s._bindDocumentEvents(),"focus"===s.options.clearButton&&s._clearButton[s._input.val().length?"show":"hide"](),s._mouseDown||s._triggerEvent("FOCUS",n),"focus"===s.options.clearButton&&s._input.val().length&&s._clearButton.show(),"split"!==s.options.spinButtonsType&&"focus"===s.options.spinButtons&&(s.container.find(".zinputfield__spinbutton").removeClass("h-dnone"),"always"===s.options.clearButton&&s._clearButton.removeClass("h-right")),!s._mouseDown&&s._setInputWidth(!0)}).on("blur."+o,function(t){if(!s._mouseDown){s.container.removeClass("has-focus");var e=s._input.val(),i=/^[- . 0-9 e]+$/,o=!1;if(e=s._extractNumericValue(e),isNaN(parseFloat(e))||!i.test(e))o=!0,e=s.options._lastValue;else{var n=s._checkMinimumAndMaximum(e);n!==parseFloat(e)&&(o=!0,s.options._lastValue=e=n)}s.options.value!==parseFloat(e)&&(o=!0),o?(s._updateValue(e),s._hasValidValue=!0):s._clearButtonClicked||s._updateValue(s.options.value),void 0!==s._lastChangedValue&&parseFloat(s._lastChangedValue)===parseFloat(s.options.value)||(s._triggerEvent("CHANGE",t),s._lastChangedValue=s.options.value),s._valueChangeNotTriggered&&!s._mouseDown&&(s.options.triggerBlurOnSpinButtonClick?s._triggerBlurEvent(t):s._triggerEvent("BLUR",t)),s._toggleSpinButtonsStates(),window.setTimeout(function(){s._input.is(":focus")||"focus"!==s.options.clearButton||s._clearButton.hide()},200),"split"!==s.options.spinButtonsType&&"focus"===s.options.spinButtons&&(s.container.find(".zinputfield__spinbutton").addClass("h-dnone"),"always"===s.options.clearButton&&s._clearButton.addClass("h-right")),"focus"!==s.options.clearButton||s.container.hasClass("has-focus")||s._clearButton.hide(),s._setInputWidth(),s._clearTimers()}}).on("click."+o,function(t){s.options.readonly||s.options.disabled||!s.options.prefix&&!s.options.suffix||s._input.select()}).on("select."+o,function(){s._selectionDone=!0}),this.container.on("mouseenter."+o,function(){s.options.readonly||s.options.disabled||("focus"===s.options.clearButton&&s._input.val().length&&s._clearButton.show(),"focus"===s.options.spinButtons&&"split"!==s.options.spinButtonsType&&(s.container.find(".zinputfield__spinbutton").removeClass("h-dnone"),"always"===s.options.clearButton&&s._clearButton.removeClass("h-right"),s._input.outerWidth(s.container.outerWidth()-s.container.find(".zinputfield__spinbutton").outerWidth())))}).on("mouseleave."+o,function(){s.options.readonly||s.options.disabled||("focus"!==s.options.spinButtons||"split"===s.options.spinButtonsType||s.container.hasClass("has-focus")||(s.container.find(".zinputfield__spinbutton").addClass("h-dnone"),"always"===s.options.clearButton&&s._clearButton.addClass("h-right"),s._input.outerWidth("100%")),"focus"!==s.options.clearButton||s.container.hasClass("has-focus")||s._clearButton.hide())})},_setInputWidth:function(t){if("focus"===this.options.clearButton||"focus"===this.options.spinButtons&&"split"!==this.options.spinButtonsType){var e="split"===this.options.spinButtonsType?2*parseInt(this.container.find(".zinputfield__spinbutton").outerWidth(!0)):this.container.find(".zinputfield__spinbuttonpane").width();t?this._clearButton&&this._clearButton.is(":visible")&&this._input.outerWidth(this.container.width()-e-this._clearButton.width()):(this._clearButton&&(this._clearButton.is(":visible")?this._input.outerWidth(this.container.width()-e+this._clearButton.width()):this._input.outerWidth(this.container.width()-e)),"focus"===this.options.spinButtons&&"split"!==this.options.spinButtonsType&&this._input.outerWidth("100%"))}},_extractNumericValue:function(t,e){if(t+="",this.options.prefix&&""!==this.options.prefix.trim()){var i=this.options.prefix.replace(this.escapeSequence,"");t=t.replace(this.escapeSequence,"").replace(new RegExp(i,"g"),"")}if(this.options.suffix&&""!==this.options.suffix.trim()){var s=this.options.suffix.replace(this.escapeSequence,"");t=t.replace(this.escapeSequence,"").replace(new RegExp(s,"g"),"")}return!e&&this.options.thousandSeparator&&this.options.showThousandSeparator?t=t.replace(new RegExp("\\"+this.options.thousandSeparator,"g"),""):this.options.showThousandSeparator||","===this.options.decimalSeparator||(t=t.replace(/,/g,"")),!e&&this.options.decimalPlaces&&"."!==this.options.decimalSeparator&&(t=t.replace(new RegExp("\\"+this.options.decimalSeparator,"g"),".")),t.trim()},_mouseWheelHandler:function(t){if(this.options.disabled||this.options.readonly||!this.container.hasClass("has-focus"))return!1;t.stopPropagation(),t.preventDefault();var e=0!==t.originalEvent.detail?t.originalEvent.detail>0:t.originalEvent.wheelDelta<0;e?this._spinValue(!0,t.shiftKey):this._spinValue(!1,t.shiftKey)},_handleKeyDown:function(t){if(this._checkPatternKeys(t)&&!this.options.readonly){var i=e(t.target).val();i=this._extractNumericValue(i);var s=this._input.val();s=this._extractNumericValue(s),s=s.substr(0,this._input[0].selectionEnd)+String.fromCharCode(t.keyCode)+s.substr(this._input[0].selectionEnd,this._input.val().length),!isNaN(s)&&parseFloat(s)>this.options.max&&this._input[0].selectionStart===this._input[0].selectionEnd?t.preventDefault():this.options.value=s,this._toggleSpinButtonsStates()}else this._handleShortcutKeys(t)},_handleKeyUp:function(t){this._checkPatternKeys(t)?this._triggerEvent("INPUT",t):(this._handleShortcutKeys(t),t.ctrlKey||t.metaKey||(this._shortcutOperation=!1)),this.options.clearButton&&"none"!==this.options.clearButton&&this._clearButton[this._input.val().length?"show":"hide"](),t.keyCode===i.SPACE&&""===this._input.val().trim()&&this._input.val("")},_triggerSpinEndEvent:function(t){this.options.bindedSpinAndChange&&(this._lastChangedValue=this.options.value),this._triggerEvent("SPINEND",t)},_triggerEvent:function(t,e){e=e?e:{};var i=this._input.val(),s={value:""!==i?parseFloat(this._extractNumericValue(i)):void 0!==this.options.min?this.options.min:null,event:e};return s[this.componentName.replace("z","")]=this.container,this._dispatchEvent(t,e,s)},_clearTimers:function(){clearTimeout(this._spinTimer),clearTimeout(this._mousedownTimer),clearInterval(this._mouseupTimer),clearInterval(this._keyupTimer),this._prevMouseupTime=this._currentMouseupTime=this._prevKeyupTime=this._prevKeydownTime=this._currentKeyupTime=this._currentKeyDownTime=this._mouseupTimer=this._keyupTimer=this._mousedownTimer=void 0},_stopEvent:function(t){t.preventDefault(),t.stopPropagation()},_checkPatternKeys:function(t){var e=void 0,s=void 0,o=void 0;return e=!t.shiftKey&&(t.keyCode>=48&&t.keyCode<=57||8===t.keyCode||t.keyCode>=96&&t.keyCode<=105||69===t.keyCode),t.keyCode===i.SPACE&&" "!==this.options.thousandSeparator&&(0!==this._input[0].selectionStart||this._input[0].selectionEnd!==this._input.val().length?this._stopEvent(t):e=!0),(this.options.allowNegativeValue&&!this.options.min||void 0!==this.options.min&&this.options.min.toString().indexOf("-")!==-1)&&(e=e||189===t.keyCode||173===t.keyCode),this.options.decimalPlaces&&(s="."===this.options.decimalSeparator?110===t.keyCode||190===t.keyCode:188===t.keyCode),!this.options.suppressThousandSeparatorKey&&this.options.showThousandSeparator&&("."===this.options.thousandSeparator?o=110===t.keyCode||190===t.keyCode:","===this.options.thousandSeparator?o=188===t.keyCode:" "===this.options.thousandSeparator?o=t.keyCode===i.SPACE:"'"===this.options.thousandSeparator&&(o=222===t.keyCode)),e||s||o},_handleShortcutKeys:function(t){this._shortcutOperation?(89===t.keyCode?this._mac&&this._stopEvent(t):65!=t.keyCode&&67!=t.keyCode&&86!=t.keyCode&&88!=t.keyCode&&90!=t.keyCode&&89!=t.keyCode&&t.keyCode!==i.LEFT&&t.keyCode!==i.RIGHT&&82!==t.keyCode&&this._stopEvent(t),86!==t.keyCode&&91!==t.keyCode||this._handlePasteOption(t)):t.keyCode!==i.DOWN&&t.keyCode!==i.UP&&t.keyCode!==i.DELETE&&t.keyCode!==i.BACKSPACE?(t.keyCode!==i.LEFT&&t.keyCode!==i.RIGHT&&t.keyCode!==i.TAB&&t.keyCode!==i.ENTER&&this._stopEvent(t),this._hasValidValue=!1):this._hasValidValue=!0},_handlePasteOption:function(t){var e=this._input.val();e=this._extractNumericValue(e),this.options.value=this._checkMinimumAndMaximum(e),this._hasValidValue=!0},_handleMousedownOnControls:function(i){var s=e(i.target).closest(".zinputfield__spinbutton").hasClass("is-disabled");return!(this.options.disabled||i.which>1||this.options.readonly||s)&&(this._mouseDown=!0,this._hasFocus=!!this._input.is(":focus"),t.currentNumberField&&t.currentNumberField[0]!==this.container[0]&&t.currentNumberField.removeClass("has-focus"),this.container.addClass("has-focus"),!0)},_hideCursor:function(e){this._input[e&&!t.Browser.isIE()?"addClass":"removeClass"]("h-hidecursor")},_spinValue:function(t,e,i,s){var o=this._input.val(),n=0;o=this._extractNumericValue(o),(isNaN(o)||""==o.trim())&&(o=t?void 0!==this.options.min?this.options.min-this.options.step:0:void 0!==this.options.max?this.options.max+this.options.step:0),o=parseFloat(o);var a,r=i?parseFloat(i):parseFloat(this.options[e?"longStep":"step"]);if(a=this.options.min<0?(this.options.min*this._factor%(r*this._factor)+r*this._factor)%(r*this._factor)/this._factor:Math.round(this.options.min*this._factor%(r*this._factor))/this._factor,t){if(n=o<0?Math.round((o*this._factor%(r*this._factor)+r*this._factor)%(r*this._factor))/this._factor:Math.round(o*this._factor%(r*this._factor))/this._factor,n=Math.abs(n),"w3"===this.options.stepBehavior&&n!=a){var l=parseInt((o-this.options.min)/r);o=(l+1)*r+this.options.min}else this._hasFloatingNumber?o=parseFloat((o+r).toFixed(12)):o+=r;if(void 0==this.options.max||isNaN(this.options.max))this._updateValue(o);else{if(o>this.options.max&&this.options.wrapAround&&(o=this.options.min?this.options.min:this.options.nullValue),o>this.options.max||o<this.options.min){var h=parseFloat(parseFloat(this.options.max).toFixed(this.options.decimalPlaces));this._updateValue(h)}o<=this.options.max&&!isNaN(o)&&this._updateValue(o)}}else{if(n=o<0?Math.round((o*this._factor%(r*this._factor)+r*this._factor)%(r*this._factor))/this._factor:Math.round(o*this._factor%(r*this._factor))/this._factor,n=Math.abs(n),"w3"===this.options.stepBehavior&&n!==a){var l=parseInt((o-this.options.min)/r);o=l*r+this.options.min}else this._hasFloatingNumber?o=parseFloat((o-r).toFixed(12)):o-=r;if(void 0==this.options.min||isNaN(this.options.min))this._updateValue(o);else{if(o<this.options.min&&this.options.wrapAround&&(o=this.options.max?this.options.max:this.options.nullValue),o<this.options.min||o>this.options.max){var h=parseFloat(parseFloat(this.options.min).toFixed(this.options.decimalPlaces));this._updateValue(h)}o>=this.options.min&&!isNaN(o)&&this._updateValue(o)}}this._selectionDone=!1,this._toggleSpinButtonsStates(),this._hasValidValue=!0,this._triggerSpinEvent({},s)},_triggerBlurEvent:function(t){if(t)void 0!==this._focusedValue&&parseFloat(this._focusedValue)===parseFloat(this.options.value)||(this._triggerEvent("BLUR",t),this._focusedValue=this.options.value);else{var e=this;this._blurEventTimer=setTimeout(function(){e._triggerEvent("BLUR",t)},e.options.blurEventDelay)}},_triggerSpinEvent:function(t,e){if(clearTimeout(this._spinTimer),this._hasValidValue&&(void 0===this.options._lastValue||this.options._lastValue!==this.options.value)){if(this.options.spinEventTriggerDelay){var i=this;void 0===this._completedSpinTimer&&(this._startedSpinTimer=(new Date).getTime()),this._completedSpinTimer=(new Date).getTime()-this._startedSpinTimer;var s=parseInt(this.options.spinEventTriggerDelay)-this._completedSpinTimer;if(s)return void(this._spinTimer=setTimeout(function(){i._triggerEvent("SPIN",t),i._completedSpinTimer=void 0},s))}this._triggerEvent("SPIN",t)}},_updateValue:function(t){this.options._lastValue=this.options.value,this.options.value=this._checkMinimumAndMaximum(t);var e=parseFloat(this.options.value);if(!isNaN(e))return this.options.decimalPlaces?((this.options.decimalsForWholeNumber||e.toString().indexOf(".")!==-1)&&(e=e.toFixed(this.options.decimalPlaces)),e=e.toString().replace(".",this.options.decimalSeparator)):this._hasFloatingNumber||(e=Math.ceil(e)),this.options.showThousandSeparator&&(e=this._insertSeparators(e)),this.container.hasClass("has-focus")||(e=this._attachAffixes(e)),this._input.val(e),this._input.attr("aria-valuenow",parseFloat(this._extractNumericValue(e))),this.element.val(e),e},_insertSeparators:function(t){t+="";for(var e=t.split(this.options.decimalSeparator),i=e[0],s=e.length>1?this.options.decimalSeparator+e[1]:"",o=/(\d+)(\d{3})/,n=[];o.test(i);)n=i.split(o),i=i.replace(o,n[1]+this.options.thousandSeparator+n[2]);return i+s},setAttribute:function(t,i){var s=["min","max","value","showThousandSeparator","allowNegativeValue","thousandSeparator","decimalSeparator","decimalPlaces","prefix","suffix","locale"],o=["min","max","step","decimalPlaces"];if(this.options[t]=i,"spinButtons"===t)"focus"===i||"always"===i?(this._createSpinButtons(),this.options.clearButton&&!this._clearButton&&this._createClearButton(),"split"===this.options.spinButtonsType&&this.container.addClass("zinputfield--split"),this._toggleSpinButtonsStates(),this._input.css("width",""),this._setInputWidth(),"always"===this.options.clearButton&&"focus"===i&&this._clearButton.addClass("h-right")):"none"===i&&(this.container.find(".h-up,.h-down").off("mousedown."+this.componentName+", mouseup."+this.componentName),"together"===this.options.spinButtonsType&&this.container.find(".zinputfield__spinbuttonpane").remove(),this.container.find(".h-up,.h-down").remove(),this.container.removeClass("zinputfield--split"),this._input.css("width","100%")),this._bindEvents();else if("spinValues"===t&&"none"===this.options.spinButtons)i?this._bindSpinEvents():this._unbindSpinEvents(),i?this._input.attr("role","spinbutton"):this._input.removeAttr("role");else if("disabled"===t)this.container[i||this.options.readonly?"addClass":"removeClass"]("is-disabled"),i?this.options.readonly?this.container.removeClass("is-readonly"):e.noop:this.options.readonly?this.container.addClass("is-readonly"):e.noop,i?this._input.attr({disabled:!0,"aria-disabled":!0}):this.options.readonly?e.noop:this._input.removeAttr("disabled aria-disabled");else if("className"===t)this.container.removeClass(this.options.className).addClass(i);else if("readonly"===t)this.container[i&&!this.options.disabled?"addClass":"removeClass"]("is-readonly"),this.container[i||this.options.disabled?"addClass":"removeClass"]("is-disabled"),i?this._input.attr({readonly:!0,"aria-readonly":!0}):this.options.disabled?this._input.removeAttr("readonly aria-readonly"):this._input.removeAttr("readonly disabled aria-readonly aria-disabled");else if("spinButtonsType"===t&&this.options.spinButtons){var n=this.container.find(".h-up"),a=this.container.find(".h-down");if(this.container.empty(),"together"===i){var r=e("<div>").attr("class","zinputfield__spinbuttonpane");r.append(n,a),"focus"===this.options.spinButtons?(n.addClass("h-dnone"),a.addClass("h-dnone"),this._input.css("width","100%")):this._input.css("width",""),this.container.append(this._input,r).removeClass("zinputfield--split")}else this.container.append(a,this._input,n).addClass("zinputfield--split"),this._input.css("width","");this._updateIcons(n.find(".zinputfield__icon"),a.find(".zinputfield__icon")),this._bindEvents(),this._bindSpinButtonEvents(),"none"!==this.options.clearButton&&this._createClearButton()}else"decrementButtonSVGIconId"===t||"incrementButtonSVGIconId"===t||"incrementButtonIconClassName"===t||"decrementButtonIconClassName"===t?this._updateIcons(this.container.find(".h-up .zinputfield__icon"),this.container.find(".h-down .zinputfield__icon")):"locale"===t?(this._setSeparatorFromLocale("thousandSeparator"),this._setSeparatorFromLocale("decimalSeparator")):"showThousandSeparator"===t?this.options.useLocale?this._setSeparatorFromLocale("thousandSeparator"):this.options.thousandSeparator=this.options.thousandSeparator?this.options.thousandSeparator:",":"allowNegativeValue"===t?i?this.options.min=this.options.min>=0?void 0:this.options.min:this.options.min=void 0===this.options.min||this.options.min<0?0:this.options.min:"wrapAround"===t?i?this.container.find(".zinputfield__spinbutton").removeClass("is-disabled"):this._toggleSpinButtonsStates():"decimalPlaces"===t?this.options.useLocale?this._setSeparatorFromLocale("decimalSeparator"):this.options.decimalSeparator=".":"title"===t?this.container[0].setAttribute("title",i):"width"===t?this.container.outerWidth(i):"clearButton"===t?"focus"===i||"always"===i?this._createClearButton():"none"===i&&(this._input.outerWidth(this._input.width()+this._clearButton.width()),this._clearButton.hide().remove(),this._clearButton=void 0):"clearButtonIconClassName"===t||"clearButtonSVGIconId"===t?this._changeClearButtonIcon():"maxLength"===t&&this._input[i?"attr":"removeAttr"]("maxlength",i);o.indexOf(t)!==-1&&(this.options[t]=parseFloat(i),this._validateOptions()),s.indexOf(t)!==-1&&(this._updateValue(this.options.value),this._toggleSpinButtonsStates()),"min"!==t&&"max"!==t||this._input.attr({"aria-valuemax":this.options.max,"aria-valuemin":this.options.min})},getElement:function(){return this.container},getValue:function(){return isNaN(parseFloat(this.options.value))?this.options.min?this.options.min:0:this.options.value},setValue:function(t){this._mouseupTimer||this._keyupTimer||(t=this._extractNumericValue(t),this._updateValue(t),this._lastChangedValue=this.options.value,this._toggleSpinButtonsStates())},increment:function(t){this._spinValue(!0,void 0,t)},decrement:function(t){this._spinValue(!1,void 0,t)},destroy:function(){this.container.off("."+this.componentName).remove(),e(this.element).show().removeData("znumberfield"),t.currentNumberField&&t.currentNumberField[0]===this.container&&(t.currentNumberField=void 0),this.container=this._tempDiv=this._input=this._mouseDown=this.options._lastValue=this._mac=this._clearButton=void 0}};t.registerComponent("znumberfield",s),t.createNumberField=function(t){var i=document.createElement("input");return t.id&&i.setAttribute("id",t.id),t.customAttributes&&e(i).attr(t.customAttributes),t.appendTo&&e(t.appendTo)[0].appendChild(i),e(i).znumberfield(t)}}(ZComponents),function(t,e){var i={eventPrefix:"zcollaborator",_STATUS:{ONLINE:"online",OFFLINE:"offline"},_NUMERIC_STATUS:["offline","online","active"],_EVENTS:{ONUSERNAMECLICKED:"usernameclicked",ONCHATENTERED:"chatentered",ONNAMECHANGE:"namechanged",ONUSERCOLORCLICKED:"usercolorclicked",ONADD:"add",ONREMOVE:"remove",ONSTATUSUPDATE:"statusupdate",ONOPEN:"open",ONCLOSE:"close"},options:{type:"panel"},_create:function(){this.options.dockable="pane"==this.options.type,this._customKeys={},this.options.keys&&(this._customKeys=t.extend({},t.fn.zcollaborator.DEFAULTS.keys,this.options.keys)),this.options=t.extend({},t.fn.zcollaborator.DEFAULTS,this.options),this._initComponents(),this._bindEvents()},_bindEvents:function(){var e=this;this.element.on("click."+this.widgetName,function(t){if(e._checkAndTrigger(t))return!1}),this._groupText.on("keydown."+this.widgetName,function(t){e._checkAndTrigger(t)}).on("blur."+this.widgetName,function(t){return e._checkAndTrigger(t),!1}).on("focus."+this.widgetName,function(t){return e._checkAndTrigger(t),!1}),e.options.dockable||t(window).on("resize."+e.widgetName,t.debounce(500,function(t){e._onDocumentResized(!0),e.element.zdialog("option","position","right"),e._dialogBase.css({bottom:"28px",top:""})}))},_onDocumentResized:function(e){if(this.options.dockable){var i=this._mainHeader.is(":visible")?this._mainHeader.outerHeight(!0):0,s=this.options.chat?this._groupTextBase.outerHeight(!0)+i:i;this._baseHeight=this.element.height()-s,this.element.width(this.element.width()),this._mainHeader.width(this.element.width()-30)}else this._dialogHeight=2*(t(window).innerHeight()-t(".ui-ztab-menutab").outerHeight(!0))/3,this._dialogBase.height(this._dialogHeight),this._baseHeight=this._dialogHeight-95;this.options.chat?(this._eleHeight=Math.round((this._baseHeight-9)/2),this._listBase.height(Math.ceil(this._eleHeight)),this._groupChats.height(Math.ceil(this._eleHeight)),this._groupBase.height(Math.floor(this._eleHeight))):(this._eleHeight=Math.round(this._baseHeight),this._listBase.height(Math.ceil(this._eleHeight))),this._baseContainer.height(this._baseHeight)},destroy:function(){this.element.off(this.widgetName),this._groupText.off(this.widgetName),this._tabs&&(this._tabs.off(this.widgetName),this._tabs.ztab("destroy"))},_checkAndTrigger:function(i){var s=t(i.target);if("click"==i.type){if(s.parent(".ui-zcollaborator-list").length||s.is(".ui-zcollaborator-img")||s.is(".ui-zcollaborator-name")){var o=s.closest(".ui-zcollaborator-user"),n={user:o,uid:o.attr("uid")};return this._triggerEvent(this._EVENTS.ONUSERNAMECLICKED,i,n),!0}}else if("focus"==i.type)s.is("textarea")&&s.val()==this._getString("customchatmessage.label")&&(s.val(""),s.addClass("ui-zcollaborator-textarea-focus").removeClass("ui-zcollaborator-textarea-blur"));else if("blur"==i.type)s.is("textarea")&&""==s.val()&&(s.val(this._getString("customchatmessage.label")),s.removeClass("ui-zcollaborator-textarea-focus").addClass("ui-zcollaborator-textarea-blur"));else if(i.keyCode===e.keyCode.ENTER&&!i.shiftKey){var a=s.val();i.preventDefault(),a.trim().length&&(s.val(""),this._triggerEvent(this._EVENTS.ONCHATENTERED,i,a))}},_triggerEvent:function(t,e,i){this._trigger(t,e,i)},_initComponents:function(){this.element.addClass("ui-zcollaborator"),this._initBase(),this._fillUsers()},_initBase:function(){var e=this;if(this._initGroupChat(),this._initListBase(),this._initTextChatBase(),this._initList(),this._baseContainer=t("<div>").addClass("ui-zcollaborator-base"),this.options.dockable?(this._initHeader(),this.element.append(this._mainHeader),this.element.addClass("ui-zcollaborator-frame")):(this.element.zdialog({type:"modeless",autoOpen:!1,hideOnClose:!1,minimizable:!0,resizable:!1,width:300,position:"right",className:"zcollaborator-dialog",title:this._getString("collaborators.label"),open:function(t,i){e._triggerEvent(e._EVENTS.ONOPEN,i)},restore:function(){e._restoreDialog()},maximize:function(){e._restoreDialog()},beforeminimize:function(){e._isMinimized=!0,e._scrollTopOnMinimize=e._groupChats.scrollTop()},minimize:function(t,i){e.element.zdialog("close")},close:function(t,i){e._triggerEvent(e._EVENTS.ONCLOSE,i)}}),this._dialogBase=this.element.parent(),this._dialogBase.css({bottom:"28px",top:"",left:"",right:"0",height:this._dialogHeight}),this._titlebar=this._dialogBase.find(".zdialog__header"),this._titlebar.find(".zbutton:last").hide()),this.element.append(this._baseContainer),this._collabHeader=this.options.dockable?this._mainHeader:this._titlebar,this.options.actionsMenu){actionsBtn=t("<a>").attr({title:this._getString("actions.label"),popup:this.options.actionsMenu}).addClass("ui-dialog-titlebar-close").appendTo(this._collabHeader);t("<span>").addClass("ui-components-icon ui-icon-zsettings-small").appendTo(actionsBtn);actionsBtn.hover(function(){t(this).addClass("ui-state-hover")},function(){t(this).removeClass("ui-state-hover")}).on("dblclick."+this.widgetName,function(t){t.stopPropagation()}),this.options.dockable&&actionsBtn.css("right","5px")}this._baseContainer.append(this._listBase),this._baseContainer.append(this._groupBase),this.element.append(this._groupTextBase),this._onDocumentResized(!1);var i=function(i){e._groupChats.css({height:t(i).children(":last").height()})};this._baseContainer.zsplitpane({axis:"y",callback:i}),this._baseContainer.on("zsplitpaneresize",function(t,i){e._groupChats.css({height:e._baseContainer.height()-e._listBase.height()-9})}),this._groupBase.height(this._eleHeight),this.options.chat||(this._groupTextBase.hide(),this._groupBase.prev().hide(),this._baseContainer.zsplitpane("hideComponent","second"))},_restoreDialog:function(){this._isMinimized&&this._groupChats.scrollTop(this._scrollTopOnMinimize),this._isMinimized=!1},_initGroupChat:function(){this._groupBase=t("<div>").addClass("ui-zcollaborator-chatbase"),this._groupInner=t("<div>").addClass("ui-zcollaborator-chatinner"),this._groupChats=t("<div>").addClass("ui-zcollaborator-content"),this._groupInner.append(this._groupChats),this._groupBase.append(this._groupInner)},_initTextChatBase:function(){this._groupText=t("<textarea>").attr({autofocus:!1,class:"ui-zcollaborator-textarea",placeholder:this._getString("customchatmessage.label")}).text(this._getString("customchatmessage.label")),this._groupTextBase=t("<div>").addClass("ui-widget-content ui-zcollaborator-chat"),this._groupTextBase.append(this._groupText)},_initListBase:function(){this._listBase=t("<div>").addClass("ui-zcollaborator-content")},_initHeader:function(){this._mainHeader=t("<div>").addClass("ui-zcollaborator-header"),t("<span>").text(this._getString("collaborators.label")).attr("class","ui-zcollaborator-title").appendTo(this._mainHeader)},_initList:function(){this._list=t("<div>").addClass("ui-zcollaborator-list"),this._listBase.append(this._list)},_fillListArea:function(){if(this.options.tabs&&this.options.tabs.length){var e=t("<div>");this._tabs=e,e.append(t("<ul>")),this._baseContainer.append(e);var i=this;return e.ztab(),e.find(".ui-tabs-panel").css({padding:"0",border:"0"}),e.find(".ui-ztab-custom").hide(),t.each(this.options.tabs,function(t,s){var o=e.ztab("addTab",{label:s.label,selected:!t,id:s.id});t||o.relatedPane.append(i._listBase)}),e}return this._baseContainer.append(this._listBase),this._listBase},open:function(){this._dialogBase.is(".zdialog--minimized")&&this.element.zdialog("restore");var t=this._dialogBase.css("top");this.element.zdialog("open"),this._dialogBase.focus(),this._dialogBase.css({top:t,height:this._dialogHeight})},close:function(){this.element.zdialog("close")},_fillUsers:function(){var e=this;t.each(this.options.users,function(t,i){e.addUser(i)})},_getClassForStatus:function(t){var e=t?this._STATUS[t.toString().toUpperCase()]:void 0;return void 0==e&&(e="online"),"ui-zchat-"+e},_getUser:function(t){return this.element.find("[uid='"+t+"']")},_getCamelizedSetter:function(t){return"set"+t.charAt(0).toUpperCase()+t.substring(1,t.length)},replaceUser:function(e,i){i=i?i:e.zuid;var s=this._getUser(i),o=s.data("user"),n=this;t.each(e,function(t,e){var s=n[n._getCamelizedSetter(t)];s?s.call(n,i,e):n._setUserInfo(o,t,e)}),e.userEle=s,s.data("user",e)},_getAllUsers:function(){return this._list.children(".ui-zcollaborator-user")},_getAllUserObjects:function(){var e=[],i=this._getAllUsers();return t(i).each(function(i,s){e[i]=t(s).data("user")}),e},_getUsersOfStatus:function(e){if(e)return"object"==typeof e&&e.status?this._list.children().not(t("[status]")):this._list.find("[status="+("object"==typeof e?e.status:e)+"]")},_getFrom:function(e,i,s){var o=this._getUsersOfStatus(i);return 1==o.length||o[0]==e[0]?t(o[0]):t(e).nextAll("[status="+i+"]:"+(s?"last":"first"))},_getNextBestPosition:function(t){var e="object"==typeof t?t.status:t;e&&(e=e.toString().toLowerCase());var i=this._list.find(".ui-zcollaborator-user:first");if(i.length){var s=void 0,o=!0,n=this._STATUS;switch(e){case n.ONLINE:s=this._getFrom(i,n.BUSY),s.length||(s=this._getFrom(i,n.IDLE)),s.length||(s=this._getFrom(i,n.OFFLINE));break;case n.OFFLINE:s=this._getFrom(i,n.UNDEFINED),s.length||(o=!1,s=this._getFrom(i,n.IDLE,!0)),s.length||(o=!1,s=this._getFrom(i,n.BUSY,!0))}return{isPrev:o,item:s}}},_appendUser:function(e,i,s){i||(i=e.data("user"));var o=this._traverseAndFindPosition(i);if(o&&o.item&&t(o.item).length)this._checkAndRemoveEmptyGroup(i,s),e[o.isPrev?"insertBefore":"insertAfter"](o.item);else if(!this._getUsersOfStatus(i).length){if(this._checkAndRemoveEmptyGroup(i,s),"active"==i.status){var n=this._createGroup("activeusers");this._list.prepend(n),e.insertAfter(n)}else{var a=t.extend({},i),r="online"==a.status?"offline":"online";a.status=r,this._getUsersOfStatus(a).length||this._list.append(this._createGroup("otherusers")),this._list.append(e)}this.options.showGroupsTitle||this._hideGroupTitle(i.status)}},hideGroupTitle:function(t){this._hideGroupTitle(t)},showGroupTitle:function(t){this._hideGroupTitle(t,!0)},_hideGroupTitle:function(e,i){"active"==e?t(".ui-zcollaborator-group[group=activeusers]")[i?"show":"hide"]():t(".ui-zcollaborator-group[group=otherusers]")[i?"show":"hide"]()},_checkAndRemoveEmptyGroup:function(e,i){var s=t.extend({},e);if(i&&(s.status=i),!this._getUsersOfStatus(s).length)if("active"==s.status)this._removeGroup("activeusers");else{var o="online"==s.status?"offline":"online";s.status=o,this._getUsersOfStatus(s).length||this._removeGroup("otherusers")}},_createGroup:function(e){var i=e;if("otherusers"!=e||t("[group=activeusers]").length){var s=t("[group=otherusers]");s.length&&s.text(this._getString("otherusers.label"))}else i="sharedusers";return t("<div>").attr("group",e).addClass("ui-zcollaborator-group").text(this._getString(i+".label"))},_removeGroup:function(e){t(".ui-zcollaborator-group[group="+e+"]").remove()},_getString:function(e){return t.isEmptyObject(this._customKeys)?this._getI18N("zcollaborator",e):this._customKeys[e]},_traverseAndFindPosition:function(e){var i=this._getUsersOfStatus(e),s=void 0,o=!0;return i.length?(i.each(function(i,o){var n=t(o).data("user");if(n&&n.dname.toLowerCase()>e.dname.toLowerCase())return s=o,!1}),s||(s=i.last(),o=!1),{item:s,isPrev:o}):this._getNextBestPosition(e)},addUser:function(i){var s=this._getUser(i.zuid);if(s.length)return this.replaceUser(i);var o=t("<div>").addClass("ui-zcollaborator-user").attr("uid",i.zuid),n=t("<span>").addClass("ui-zcollaborator-imgcontainer"),a=t("<img>").addClass("ui-zcollaborator-img");if(n.append(a),i.image&&(a.attr("src",i.image),a.css({background:"none"})),void 0!=i.status){try{var r=parseInt(i.status);isNaN(r)||(i.status=r)}catch(t){}isNaN(i.status)||(i.status=this._NUMERIC_STATUS[i.status]),u=o.attr("status"),o.attr("status",i.status)}o.append(n);var l=t("<div>").attr("contenteditable",!1).addClass("ui-zcollaborator-name").text(i.dname);if(o.append(l),i.role){t("<span>").addClass("ui-zcollaborator-user-role").text("("+i.role+")").insertAfter(l)}if(i.editable){var h=this,d={user:o,uid:o.attr("uid")};l.addClass("ui-zcollaborator-user-editable");var c=l.val();l.on("click."+this.widgetName,function(t){return l.attr("contenteditable",!0).addClass("ui-zcollaborator-user-editing").focus(),c=l.text(),!1}).on("blur."+this.widgetName,function(t){if(l.hasClass("ui-zcollaborator-user-editing"))return l.removeClass("ui-zcollaborator-user-editing"),o.data("user").dname=""!=l.text()?l.text():c,d.dname=""!=l.text()?l.text():c,l.text(""!=l.text()?l.text():c).focusout().removeAttr("contenteditable"),l.text()!=c&&h._triggerEvent(h._EVENTS.ONNAMECHANGE,t,d),!1}).on("keydown."+this.widgetName,function(t){if(t.keyCode==e.keyCode.ENTER)return l.removeClass("ui-zcollaborator-user-editing"),o.data("user").dname=""!=l.text()?l.text():c,d.dname=""!=l.text()?l.text():c,l.text(""!=l.text()?l.text():c).focusout().removeAttr("contenteditable"),l.text()!=c&&h._triggerEvent(h._EVENTS.ONNAMECHANGE,t,d),!1})}var p=t("<div>").addClass("ui-zcollaborator-status-message"),u=void 0,m=void 0,_=i.box;_&&("active"==i.status?this._createColorBox(i,p,_):p.append(t("<span>").addClass("ui-zcollaborator-status").addClass(this._getClassForStatus(i.status)))),i.ustatus&&(m=o.attr("ustatus"),o.attr("ustatus",i.ustatus.toLowerCase())),i.button&&p.append(i.button),o.append(p),i.userEle=o,o.data("user",i),this._appendUser(o,i),i=this._updateUsersCount(i),this._triggerEvent(this._EVENTS.ONADD,void 0,i)},_updateUsersCount:function(t){var e=this._getUsersOfStatus("active").length,i=this._getUsersOfStatus("online").length+this._getUsersOfStatus("offline").length;return t.activeUsers=e,t.otherUsers=i,t},_createColorBox:function(e,i,s){var o=this,n=t("<span>").addClass("ui-zcollaborator-user-colorbox").on("click",function(t){o._triggerEvent(o._EVENTS.ONUSERCOLORCLICKED,t,s),t.stopPropagation()});i.append(n),s&&(n.css({"background-color":s.color,border:"1px solid "+s.color}),s.fill&&"none"==s.fill?(e.permission=0,n.css({background:"none"})):e.permission=1,s.title&&n.attr("title",s.title))},removeUser:function(t){var e=this._getUser(t),i=e.data("user");e.remove(),i=this._updateUsersCount(i),this._triggerEvent(this._EVENTS.ONREMOVE,void 0,i),this._checkAndRemoveEmptyGroup(i,i.status)},_getUserInfo:function(t,e){var i=this._getUser(t);if(i&&i.length)return i.data("user")[e]},_setUserInfo:function(t,e,i){var s="object"==typeof t?t:this._getUser(t);if(s&&s.length){var o=s.data("user"),n=o[e];return o[e]=i,{user:s,userObj:o,prevValue:n}}},setStatus:function(t,e){isNaN(e)||(e=this._NUMERIC_STATUS[e]),e=e?e.toString().toLowerCase():void 0;var i=this._setUserInfo(t,"status",e);if(i){var s=i.user.attr("status"),o=this._getClassForStatus(i.prevValue),n=i.user.find(".ui-zcollaborator-innerstatus");n.removeClass(o),n.addClass(this._getClassForStatus(e)),i.user.attr("status",i.userObj.status);var a=i.user.remove();a.data("user",i.userObj),this._appendUser(a,i.userObj,s),this._updateUserStatusItem(i);var r=i.userObj;r=this._updateUsersCount(r),this._triggerEvent(this._EVENTS.ONSTATUSUPDATE,void 0,r)}},_updateUserStatusItem:function(e){var i=e.user.find(".ui-zcollaborator-status-message"),s=e.userObj;"active"!=s.status?i.empty().append(t("<span>").addClass("ui-zcollaborator-status").addClass(this._getClassForStatus(s.status))):(i.empty(),this._createColorBox(s,i,s.box))},getStatus:function(t){return this._getUserInfo(t,"status")},setUserStatus:function(t,e){var i=this._setUserInfo(t,"ustatus",e);if(i){var s=i.user.attr("ustatus");i.user.attr("ustatus",e.toLowerCase()),i.user.find(".ui-zcollaborator-status-text").text(e);var o=this._list.find("[ustatus="+e.toLowerCase()+"]").length;this._updateMessageItem(e.toLowerCase(),o,s)}},setUserColor:function(t,e){var i=this._setUserInfo(t,"color",e),s=i.user.find(".ui-zcollaborator-user-colorbox");return void 0==e||"undefined"==e||""==e?void s.hide():void(i&&(0!=i.userObj.permission?s.css({"background-color":e,border:"1px solid "+e}):s.css({border:"1px solid "+e}),s.show()))},setUserPermission:function(t,e,i){var s=this._setUserInfo(t,"permission",e);if(s){var o=s.user.find(".ui-zcollaborator-user-colorbox");0!=s.userObj.permission?o.css({"background-color":s.userObj.box.color}):o.css({border:"1px solid "+s.userObj.box.color,background:"none"}),o.attr("title",i)}},getStatusMessage:function(t){return this._getUserInfo(t,"ustatus")},setName:function(t,e,i){return this.setUserName(t,e,i)},setUserName:function(t,e,i){var s=this._setUserInfo(t,"dname",e);if(s&&s.user.find(".ui-zcollaborator-name").text(e),i){var s=this._setUserInfo(t,"role",i);s&&s.user.find(".ui-zcollaborator-user-role").text("("+i+")")}},getUserName:function(t){return this._getUserInfo(t,"dname")},setColor:function(t,e){return this.setUserColor(t,e)},setImage:function(t,e){return this.setUserImage(t,e)},setUserImage:function(t,e){var i=this._setUserInfo(t,"image",e);i&&i.user.find(".ui-zcollaborator-img").attr("src",e)},addChatMessage:function(e,i,s,o){var n=t("<div>").attr({class:"ui-zcollaborator-chatblock",id:"ui-zc-user"+o});if(this._lastChatEnteredUser!=e){var a=t("<span>").addClass("ui-zcollaborator-username").text(e+":");n.append(a)}var r=t("<span>").addClass("ui-zcollaborator-chatmsg")[s?"html":"text"](i);n.append(r),this._groupChats.append(n).scrollTop(this._groupChats[0].scrollHeight),this._lastChatEnteredUser=e},setCustomButton:function(t,e){this.removeCustomButton(t);var i=this._setUserInfo(t,"button",e);i&&e.insertAfter(i.user.find(".ui-zcollaborator-status-message"))},removeCustomButton:function(t){var e=this._getUserInfo(t,"button");e&&this._getUser(t).find("#"+e.attr("id")).remove()},_fillStatusBarItems:function(){var e=t("<div>").addClass("ui-statusbar").css({float:"right"});this._listStatus.append(e),this.options.statusBarKeys&&(this.options.statusBarKeys.messageKeys&&this._fillMessageKeyItems(),this.options.statusBarKeys.statusKeys&&this._fillStatusKeyItems())},_fillMessageKeyItems:function(){var e=this,i=this.options.statusBarKeys.messageKeys;t.each(i,function(t,i){e._addStatusItem(t,0,i)})},_fillStatusKeyItems:function(){var e=this,i=this.options.statusBarKeys.statusKeys;t.each(i,function(t,i){e._addStatusItem(i,e._list.find("[status="+i+"]").length)})},_addStatusItem:function(e,i,s){var o=t("<span>").attr({stype:e,title:e}),n=t("<span>").addClass("ui-statusbar-icon");n.addClass(s?s:"ui-zcollaborator-colorbox ui-zchat-"+e);var a=t("<span>").addClass("ui-statusbar-text").text(i);n.appendTo(o),a.appendTo(o),o.appendTo(this._listStatus.children(".ui-statusbar"))},_setStatusItem:function(t,e){if(this.options.showStatusBar){var i=this._listStatus.find("[stype='"+t+"']");i.children(".ui-statusbar-text").text(e.toString())}},setStatusItem:function(t,e){this._setStatusItem(t,e)},_updateStatusItem:function(t,e,i){(this.options.statusBarKeys.statusKeys.length&&this.options.statusBarKeys.statusKeys.toString().indexOf(t)!=-1||i)&&(e||(e=this._list.find("[status="+t+"]").length),this.options.statusBarKeys.statusKeys.toString().indexOf(i)!=-1&&this._setStatusItem(i,this._list.find("[status="+i+"]").length),this._setStatusItem(t,e))},_updateMessageItem:function(t,e,i){(this.options.statusBarKeys.messageKeys&&this.options.statusBarKeys.messageKeys[t]||i)&&(e||(e=this._list.find("[ustatus="+t+"]").length),this.options.statusBarKeys.messageKeys[i]&&this._setStatusItem(i,this._list.find("[ustatus="+i+"]").length),this._setStatusItem(t,e))},fitToWindow:function(e){var i=e?e:this.element.height();if(this.element.height(i),this._onDocumentResized(!0),this.options.chat){var s=t(this.element).find(".ui-zsplitpane-divider").offset();this._baseContainer.zsplitpane("refresh",{position:{top:i/2},originalPosition:s})}}};e.registerComponent("zcollaborator",i),t.fn.zcollaborator.DEFAULTS={users:[],chat:!0,keys:{"customchatmessage.label":"Type your message for collaborators...","activeusers.label":"Active Users","otherusers.label":"Others","sharedusers.label":"Shared Users","collaborators.label":"Collaborators","actions.label":"Actions"},showGroupsTitle:!0}}(jQuery,ZComponents),function(t,e){var i={eventPrefix:"zsplitpane",_EVENTS:{ONRESIZE:"resize"},_create:function(){this.windowSize=this._getWindowSize(),this._initDefaults(),this._initComponents(),this._bindEvents()},_initDefaults:function(){this.options=t.extend({},t.fn.zsplitpane.DEFAULTS,this.options),this.isX="x"==this.options.axis,this.gpos=this.isX?"left":"top",this.gsize=this.isX?"width":"height",this.tsize="outer"+(this.isX?"Width":"Height"),this.isize="inner"+(this.isX?"Width":"Height")},_initComponents:function(){this.element.addClass("ui-zsplitpane ui-widget ui-widget-content"),this._leftComponent=this.element.children(":first"),this._rightComponent=this._leftComponent.next(),this._initComponent(this._leftComponent),this._initComponent(this._rightComponent),this.options.callback&&this.options.callback(this.element),this._addDivider(this._leftComponent),this._fixSizeAndDraggable()},_initComponent:function(t){t.data("visible",!0),t.addClass("ui-zsplitpane-components ui-zsplitpane-components-"+this.options.axis)},_uninitComponent:function(t){t.removeClass("ui-zsplitpane-components ui-zsplitpane-components-"+this.options.axis)},_addDivider:function(e){var i=t("<div>"),s=this.options.axis;i.addClass("ui-state-active ui-zsplitpane-divider ui-zsplitpane-divider-"+s);var o=t("<span>").addClass("ui-components-icon ui-icon ui-zsplitpane-icon");o.appendTo(i),i.insertAfter(e);var n=this.options.oneTouchExpandable;n&&this._addExpandableArrow(i,s,n),i.attr("id",s),this._divider=i},_addExpandableArrow:function(e,i,s){var o=t("<div>").addClass("ui-icon ui-icon-layout ui-zsplitpane-arrowDiv"),n="ui-icon-triangle-1-"+("x"==i?"second"==s?"e":"w":"second"==s?"s":"n");if("x"==i){var a=parseInt((e.height()/2-8)/e.height()*100);o.css({top:a+"%",left:e.width()*-1})}else{var r=parseInt((e.width()/2-8)/e.width()*100);o.css({left:r+"%",top:e.height()*-1})}o.addClass(n),e.append(o);var l=this;o.on("click",function(t){l._oneTouchExpandable(t,s)})},_oneTouchExpandable:function(e,i){var s=e.target,o="second"===i?i:"first";this.toggleComponent(o,!0),t(s).hasClass("ui-icon-triangle-1-w")||t(s).hasClass("ui-icon-triangle-1-e")?t(s).hasClass("ui-icon-triangle-1-w")?t(s).removeClass("ui-icon-triangle-1-w").addClass("ui-icon-triangle-1-e"):t(s).removeClass("ui-icon-triangle-1-e").addClass("ui-icon-triangle-1-w"):t(s).hasClass("ui-icon-triangle-1-s")?t(s).removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-n"):t(s).removeClass("ui-icon-triangle-1-n").addClass("ui-icon-triangle-1-s")},_fixSizeAndDraggable:function(e){var i=this._leftComponent,s=this._rightComponent,o=i.metadata(),n=s.metadata(),a=i[this.tsize](),r=s[this.tsize](),l=this.element[this.gsize](),h=this._divider[this.tsize](),d=0,c=0,p=void 0,u=void 0;if(o.max&&n.max){if(d=a,c=l-d-h,c>n.max){var m=c-n.max;d+=m,c=n.max}else if(void 0!=n.min&&n.min>c){var m=n.min-c;c=n.min,d-=m}p=o.max,u=l-n.max-h}else if(o.max){if(d=a,(!a||d>o.max)&&(d=o.max),c=l-d-h,c<n.min){var m=n.min-c;c=n.min,d+=m}p=o.max,u=o.min?o.min:0}else if(n.max){if(c=r,(!r||c>n.max)&&(c=n.max),d=l-c-h,d<o.min){var m=o.min-d;d=o.min,c+=m}p=o.max}else c=r,d=a,r?d=l-r-h:!r&&a?(d=a,c=l-d-h):r||a||(d=c=(l-h)/2);if(void 0!=u){u*=1,p*=1;var _=this.element.position();u+=_[this.gpos],p+=_[this.gpos]}var f=void 0==u?this.element:[u,u,p,p],v=this._divider;if(this._isVisible(i)||(d=0,c=r),this._isVisible(s)||(c=0,d=a),i[this.gsize](Math.floor(d)),s[this.gsize](Math.floor(c)-8),e)v.draggable("option","containment",f);else{var g=this,b=v.clone();t(v).draggable({addClasses:!0,opacity:.5,helper:function(t){return b.css(g.isX?"height":"width",g.element["outer"+(g.isX?"Height":"Width")]()-2+"px").empty(),b},containment:f,axis:g.options.axis,start:function(t,e){if(g.options.freeze)return!1},stop:function(t,e){g._updatePosition(e)}})}},_fixComponentsSize:function(t,e,i,s){var o=this._leftComponent,n=this._rightComponent;e||(t*=-1);var a=o[this.gsize]()+t,r=n[this.gsize]()-(i?-1*t:t);o.css(this.gsize,a>0?a:0),n.css(this.gsize,r>0?r:0);var l={showOrHideComponent:s};this._triggerEvent(this._EVENTS.ONRESIZE,void 0,l)},_isVisible:function(e){return t(e).data("visible")},isVisible:function(t){return this._isVisible(t)},_updatePosition:function(t){var e=t.position[this.gpos];this._fixComponentsSize(e-t.originalPosition[this.gpos],!0,!1)},_bindEvents:function(){var e=this;this.options.refreshOnWindowResize&&t(window).on("resize."+this.widgetName,t.debounce(250,function(t){var i=e._getWindowSize(),s=e.windowSize;i.height==s.height&&i.width==s.width||(e.windowSize=i,setTimeout(function(){e._fixSizeAndDraggable(!0),e._triggerEvent(e._EVENTS.ONRESIZE,t)},100))}))},_getWindowSize:function(){var e=t(window);return{height:e.height(),width:e.width()}},destroy:function(){t(window).off(this.widgetName),this._uninitComponent(this._leftComponent),this._uninitComponent(this._rightComponent),this.element.removeClass("ui-zsplitpane ui-widget ui-widget-container"),this._divider.draggable("destroy"),this._divider.remove(),t.Widget.prototype.destroy.apply(this,arguments)},_triggerEvent:function(e,i,s){var o=this,n=!(!i||"resize"!==i.type),a=t.extend(!0,{axis:o.options.axis,windowResized:n},s);this._trigger(e,e,a)},COMPONENT_INDEX_STRING:{first:"left",second:"right"},_getComponent:function(t){var e=this.COMPONENT_INDEX_STRING[t.toLowerCase()];return this["_"+e+"Component"]},hideComponent:function(t,e,i){var s=this._getComponent(t),o=this._isVisible(s);if(o){var n=s[this.tsize](!0)+(i?this._divider[this.tsize](!0):0);s.data("lastSize",n),s.data("visible",!1),this.options.freeze=!e&&o,s.hide(),i&&this._divider.hide();var a="first"===t.toLowerCase();this._fixComponentsSize(n,!a,void 0,"hide")}},showComponent:function(t,e){var i=0;this._divider.is(":visible")||(this._divider.show(),i=this._divider[this.tsize](!0));var s=this._getComponent(t),o=this._isVisible(s);if(!o){s.data("visible",!0),this.options.freeze=!1,s.show();var n=s.data("lastSize")-i,a="first"===t.toLowerCase(),r=this._getComponent(a?"second":"first");this._fixComponentsSize(-1*n,!a,void 0,"show");var l=r[this.tsize]()-i;r[this.tsize](l)}},toggleComponent:function(t,e){var i=this._getComponent(t),s=this._isVisible(i);this[(s?"hide":"show")+"Component"](t,e)},getComponent:function(t){return this._getComponent(t)},refresh:function(t){var e=t.position[this.gpos];this._fixComponentsSize(e-t.originalPosition[this.gpos],!0,!0)}};e.registerComponent("zsplitpane",i),t.fn.zsplitpane.DEFAULTS={axis:"x",freeze:!1,oneTouchExpandable:void 0,refreshOnWindowResize:!1}}(jQuery,ZComponents),function(t,e){var i={options:{initComponents:!0,bindEvents:!0,eventNameMapping:{ztabpanel:"ztabpanelswitch",znumberfield:"znumberfieldchange znumberfieldspinend",zbuttonset:"zbuttonsetchange",zslider:"zsliderchange",zcolorpalette:"zcolorpalettecolorselected",zselectbox:"zselectboxchange",zcombobox:"zcomboboxchange",zstatebutton:"zstatebuttonchange",zspinnerslider:"zspinnersliderchange zspinnersliderstop",zcolorfield:"zcolorfieldcolorselected",zmenu:"zmenuitemclick",zlinearprogress:"zlinearprogresschange",zcircularprogress:"zcircularprogresschange",zsuggestfield:"change",ztokenfield:"ztokenfieldchange",zcolorselectbox:"zcolorselectboxchange",zcolorsplitbutton:"zcolorsplitbuttonchange",zcolorpicker:"zcolorpickerchange",zadvancedcolorpicker:"zadvancedcolorpickerchange"},callbacks:{}},_create:function(){if(this.element=this.element[0],this.events=this.options.eventNameMapping,this._namespace=".ztrackobjects","object"!=typeof this.options.callbacks&&(this.options.callbacks={}),this.options.attrSelector=this.options.attrSelector||"ctype",this.options.initComponents){var t=this;this._call("beforeInit"),ZComponents.init(this.element,function(){t._call("afterInit"),t._fillValues()},this.options.attrSelector)}else this._fillValues()},_fillValues:function(e,i,s){i=void 0===i||i;var o=t(e||this.element);e=o[0],i&&(this._zohoComponents&&this._zohoComponents.length&&t(this._zohoComponents).off(this._namespace),this._nonZohoComponents&&this._nonZohoComponents.length&&t(this._nonZohoComponents).off(this._namespace));var n=Array.prototype.slice.call(e.querySelectorAll("["+this.options.attrSelector+"]:not([data-ignoretrack=true])")),a=Array.prototype.slice.call(e.querySelectorAll("[data]:not(["+this.options.attrSelector+"]):not([data-ignoretrack=true])"));o.is("["+this.options.attrSelector+"]:not([data-ignoretrack=true])")?n.push(e):o.is("[data]:not([data-ignoretrack=true])")&&a.push(e),i?(this._zohoComponents=n,this._nonZohoComponents=a):(this._zohoComponents=t(this._zohoComponents).add(n).toArray(),this._nonZohoComponents=t(this._nonZohoComponents).add(a).toArray()),!s&&this._call("init"),!s&&this._call("beforeFillValues"),this._fillAndBindZohoComponents(n,!0),this._fillAndBindNonZohoComponents(a),!s&&this._call("afterFillValues")},_fillAndBindZohoComponents:function(e,i){var s=this,o=this.options;e.forEach(function(e){var n=s._getCtype(e),a=t(e),r=s._getAppData(e),l=a.data("zbuttongroup"),h=a.data("componentName");if(l&&i){var d=a.find(a[h]("getAttribute","selectors"));d.each(function(e,i){i=t(i);var a=s._getAppData(i);n&&"function"==typeof o.callbacks.get&&a&&s._handleGet("zbutton",a,i)})}if((r||l)&&(i&&n&&"function"==typeof o.callbacks.get&&!l&&s._handleGet(n,r,e),"function"==typeof o.callbacks.set&&s.events[n])){var c,p=s.events[n].replace(/$|\s+/g,s._namespace+" ");a.is("[colorpalette]")&&(c=!0,p+=" zcolorpalettecolorselected"),a.is("[data-colorpicker]")&&(p+=" zcolorpickerchange"),a.on(p,function(i,o){var a=o?o.value:this.value;if(/^(zselectbox|zcombobox)$/.test(n))a=o.selectedValue;else if("zmenu"===n)a=t(o.menuitem)[0];else if("zstatebutton"===n)a=o.checked;else if("zcolorpalette"===n||c)a=o.selectedColor;else if(n===h&&l)e=t(o.button),a=e[0].value,r=s._getAppData(e[0]);else if("ztokenfield"===n)a=o.value.currentTokenList;else if("ztabpanel"===n)a=o.activeTab;else if(/^(zcolorpicker|zadvancedcolorpicker|zcolorselectbox|zcolorsplitbutton|zslider|zdoubleslider)$/.test(n)&&!o.fromUI)return;s._call("set",[r,a,e,n,o,i])})}})},_handleGet:function(e,i,s){var o=this._call("get",[i,s]);if(void 0!==o){var n=t(s);if("zstatebutton"===e)o="boolean"==typeof o?o:s.value===o,n[e]("checked",o);else if("zcolorpalette"===e)n[e]("setColor",o);else if("ztabpanel"===e)n[e]("openTab",o);else if("zsuggestfield"===e)s.value=o;else if("ztokenfield"===e)n[e]("addToken",o);else if("zbutton"===e){var s=n[0];"radio"===s.type&&""!==s.name?n.parent().find("[value='"+o+"']").zbutton("option","checked",!0):n.zbutton("option","checked",o)}else n[e]("setValue",o)}},_fillAndBindNonZohoComponents:function(){var e=this,i=this.options;this._nonZohoComponents.forEach(function(s){var o=e._getAppData(s),n=t(s);if(o){if("function"==typeof i.callbacks.get){var a=e._call("get",[o,s]);void 0!==a&&(/^(checkbox|radio)$/.test(s.getAttribute("type"))?s.checked=a:/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(s.tagName)?s.value=a:n.text(a))}if(i.bindEvents&&"function"==typeof i.callbacks.set){var r="change"+e._namespace;(n.is("input[type=text]")||n.is("textarea"))&&(r="blur"+e._namespace+" keydown"+e._namespace),n.off(r).on(r,function(t){if("keydown"!==t.type||t.keyCode===ZComponents.keyCode.ENTER){var i=this.value;/^(checkbox|radio)$/.test(s.getAttribute("type"))&&(i=s.checked),e._call("set",[o,i,s,void 0,void 0,t])}})}}})},_getAppData:function(t){return e.getOptions(t).appData},_isHidden:function(e,i){return t(t(e)[i]("getElement")).is(":hidden")},_getCtype:function(t){return t.getAttribute(this.options.attrSelector)},_call:function(t,e){var i=this.options.callbacks;if(this.element&&i&&"function"==typeof i[t])return e||(e=[this.element]),i[t].apply(i,e)},initEvents:function(t,e,i){this._fillValues(t,!1,!0)},refreshValues:function(){this._fillValues()},destroy:function(){var e=this;this._zohoComponents.forEach(function(i){i=t(i),i[e._getCtype(i)]("destroy"),i.off(e._namespace)}),t(this._nonZohoComponents).off(this._namespace),t(this.element).removeData("ZCtrackObjects")}};e.registerComponent("ZCtrackObjects",i)}(jQuery,ZComponents),function(t,e){var i={options:{maxSize:400,ellipsisText:!1,widgetEventPrefix:"ellipsis"},_EVENTS:{ONCLICK:"click"},originalText:void 0,_create:function(){var t=this,e=this.getEllipsisText(this.options.maxSize);this.element.attr("class","ui-zellipsis").text(e).on("click",function(e,i){t._triggerEvent(t._EVENTS.ONCLICK)})},getEllipsisText:function(e){var i=0,s=this.element.text();this.originalText=s;var o=t("<div>").attr("class","ui-zellipsis").text(s);t("body").append(o);for(this.options.ellipsisText;o.width()>e;)i++,o.text(s.substring(0,s.length-i));return s=o.text(),s.length<this.originalText.length?this.element.width(e-6):this.element.width("auto"),o.remove(),this.element.attr("title",s),s},setTitle:function(t){this.element.text(t),this.getEllipsisText(this.options.maxSize)},_triggerEvent:function(t){var e={text:this.originalText,ellipsisText:this.element.text(),target:this.element};this._trigger(t,t,e)}};e.registerComponent("zellipsis",i),e.createEllipsis=function(e){return element=t("<input>").attr("id",e.id),e.customAttributes&&element.attr(e.customAttributes),e.appendTo&&element.appendTo(t(e.appendTo)),element.zellipsis(e)},t.fn.zellipsis.defaults={type:void 0}}(jQuery,ZComponents),function(t){var e=t.DOMUtil,i={options:{type:"modal",title:!1,icon:!1,content:void 0,autoOpen:!1,closeOnEscKey:!0,width:void 0,height:void 0,closeButton:!0,buttons:void 0,className:"",overlayClassName:"",minimizable:!1,maximizable:!1,resizable:{minHeight:300,minWidth:300,maxHeight:!1,maxWidth:!1,container:"window",direction:"s,e,se"},draggable:!0,position:"center",footer:"",isTitleHTMLEncoded:!1,isContentHTMLEncoded:!1,isFooterHTMLEncoded:!1,animation:!1,defaultActionButton:".zbutton--primary",labels:{minimize:"Minimize",maximize:"Maximize",minimizeRestore:"Restore",maximizeRestore:"Restore",close:"Close"},minimizeButtonLabel:void 0,maximizeButtonLabel:void 0,minimizeRestoreButtonLabel:void 0,maximizeRestoreButtonLabel:void 0,restoreButtonLabel:void 0,closeButtonLabel:void 0,buttonsAlignment:"right",icons:{minimize:void 0,maximize:void 0,restore:void 0,minimizeRestore:void 0,maximizeRestore:void 0,close:void 0},excludeFocus:void 0,submitOnEnter:!0},_ALIGNMENTS:{right:"",left:"zdialogfooter--invert",center:"h-center"},_EVENTS:{ONDRAG:"drag",DRAGSTART:"dragstart",DRAGEND:"dragend",ONRESIZE:"resize",RESIZESTART:"resizestart",RESIZEEND:"resizeend",ONMINIMIZE:"minimize",ONMAXIMIZE:"maximize",ONCLOSE:"close",ONOPEN:"open",BEFORECLOSE:"beforeclose",RESTORE:"restore",ACTIONBUTTONCLICK:"actionbuttonclick"},_EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},ANIMATION_EVENTS:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",_create:function(t,e){var i=".zbutton--action";this.options.excludeFocus=this.options.excludeFocus?this.options.excludeFocus+" ,"+i:""+i,this._isComponentInited=!1,this._construct(),this._bindEvents()},_construct:function(){if(this.container=e("<div>").attr({class:"zdialog "+this.options.className,tabIndex:-1,role:"dialog"}),this.container.attr("aria-modal","modal"===this.options.type),this.options.icon&&(this._iconSpan=e("<span class='zc-icon-primary zc-icon "+this.options.icon+"'></span>"),this.element.prepend(this._iconSpan)),this._createTitleBar(),this.container.append(this._titleBar),this.options.closeButton&&this._createTitleBarButtons(),"object"==typeof this.options.content){var t=this;e.ajax(this.options.content).success(function(e){t._setContent(e)})}else this._setContent()},_setContent:function(i){i?this.element.append(i):this.options.content&&this.element.html(this.options.isHTMLEncoded||this.options.isContentHTMLEncoded?this.options.content:t.encodeHTML(this.options.content)),this.container.append(this.element.show().addClass("zdialog__content").removeAttr("title")),void 0!==this.options.buttons&&this.container.append(this._createButtonPane()),this.options.footer&&""!==this.options.footer&&""!==this.options.footer.trim()&&this.container.append(this._createFooterMessage(this.options.footer)),e("body").append(this.container),this.options.resizable&&e.fn.zresizable&&(this.options.resizable="object"==typeof this.options.resizable?this.options.resizable:{},this._makeResizable()),(this.options.title||this.options.closeButton)&&this.options.draggable&&e.fn.zdraggable&&this._makeDraggable(),this.options.autoOpen&&this.open()},_makeResizable:function(){var t=this,e=this.options.resizable;this.container.zresizable({minHeight:e.minHeight,maxHeight:e.maxHeight,minWidth:e.minWidth,maxWidth:e.maxWidth,container:"modal"===this.options.type?"parent":e.container,alsoResize:this.element,handle:e.direction,start:function(e,i){t._triggerEvent("RESIZESTART",e,i)},stop:function(e,i){t.actualWidth=t.container.width(),t._triggerEvent("RESIZEEND",e,i)},resize:function(e,i){t.container.css("height","auto"),t._triggerEvent("ONRESIZE",e,i)}})},_makeDraggable:function(){var t=this;this.container.zdraggable({ignore:".zdialog__actiongroup",handle:".zdialog__header",container:"window",start:function(e,i){t._triggerEvent("DRAGSTART",e,i)},end:function(e,i){t._triggerEvent("DRAGEND",e,i)},drag:function(e,i){t._triggerEvent("ONDRAG",e,i)}})},_createTitleBar:function(){var i=this._titleBar=e("<div>").attr("class","zdialog__header");if(this.options.title){var s=e("<span></span>").attr("class","zdialog__title");s.html(this.options.isTitleHTMLEncoded||this.options.isHTMLEncoded?this.options.title:t.encodeHTML(this.options.title)),i.append(s)}var o=this;i.on("dblclick.zdialog",function(t){e(t.target).closest(".zdialog__actiongroup").length||(o.isMinimized()&&"modal"!==o.options.type?o._toggleMinimize(t,o._minimizeButton,!0):o.isMaximized()?o._toggleMaximize(t,o._maximizeButton,!0):o.options.maximizable?o._toggleMaximize(t,o._maximizeButton,!0):o.options.minimizable&&"modal"!==o.options.type&&o._toggleMinimize(t,o._minimizeButton,!0))})},_createTitleBarButtons:function(){this._titleBarButtonContainer=e("<div/>").attr("class","zdialog__actiongroup"),this.options.minimizable&&"modal"!==this.options.type&&(this._minimizeButton=this._createMinimizeButton(),this._titleBarButtonContainer.append(this._minimizeButton)),this.options.maximizable&&(this._maximizeButton=this._createMaximizeButton(),this._titleBarButtonContainer.append(this._maximizeButton)),this._closeButton=this._createCloseButton(),this._titleBarButtonContainer.append(this._closeButton),this._titleBar.append(this._titleBarButtonContainer)},_createCloseButton:function(){var i=e("<button>").attr({class:"zbutton zbutton--action",title:this.options.closeButtonLabel||this._localize("close")}),s=this,o=this.componentName;i.on("click."+o,function(t){s._closeDialog(t,{closeButton:!0})}).on("keydown."+o,function(e){e.keyCode===t.keyCode.ENTER&&s._closeDialog(e,{closeButton:!0})});var n=e("<i class='zbutton__icon'></i"),a={props:{class:"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)",class:"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)",class:"st0",width:"13",height:"1.1"}}]};return this._handleIcon(n,a,"close",this.options.closeIconClassName,this.options.closeSVGIconId),i.append(n),i},_createButtonPane:function(){var t=this,i=e("<div>").attr({class:"zdialog__footer"});return e.each(this.options.buttons,function(s,o){var n=e("<button>").attr({id:o.id?o.id:"dlgbutton"+s});if(o.name&&n.attr("name",o.name),o.customAttributes&&n.attr(o.customAttributes),"function"===e.type(o.action)||"CLOSE"!==o.action&&"CANCEL"!==o.action||(n.addClass("h--clickonescape"),o.action=function(e){t._closeDialog(e,{button:n})}),e.fn.zbutton)n.zbutton(o);else{var a=e("<span class='zbutton__text'>"+o.text+"</span>");n.append(a),n.addClass("zbutton"+("primary"===o.appearance?" zbutton--primary":"")),o.disabled&&n.attr("disabled",!0).addClass("is-disabled")}n.on("click."+t.componentName,function(i){n.hasClass("is-disabled")&&!n.find(".zbutton__loader").length||(o.action&&("function"!=typeof o.action?t._triggerFunction(o.action,n,[i,{button:n,options:o}]):o.action.apply(t,[i])),t._triggerEvent("ACTIONBUTTONCLICK",i,{button:e(i.target).closest(".zbutton")}))}),i.append(n)}),i.addClass(this._ALIGNMENTS[this.options.buttonsAlignment]),i},_createCommandBar:function(t){var i=this.options.commandBar,s=e("<div class='zdialog__commandbar zdialog__footer' ></div>");this.options.buttons;if(i.leftColumn){var o=e("<div class='zdialog__commandbaractionsleft'></div>"),n=i.leftColumn.commands;i.leftColumn.className&&o.addClass(i.leftColumn.className);for(var a=0;a<n.length;a++)o.append(t.find(".zbutton[name="+n[a]+"]"));s.append(o)}if(i.centerColumn){var r=e("<div class='zdialog__commandbaractionscenter'></div>"),l=i.centerColumn.commands;i.centerColumn.className&&r.addClass(i.centerColumn.className);for(var a=0;a<l.length;a++)r.append(t.find(".zbutton[name="+l[a]+"]"));s.append(r)}if(i.rightColumn){var h=e("<div class='zdialog__commandbaractionsright'></div>"),d=i.rightColumn.commands;i.rightColumn.className&&h.addClass(i.rightColumn.className);for(var a=0;a<d.length;a++)h.append(t.find(".zbutton[name="+d[a]+"]"));s.append(h)}return s},_createFooterMessage:function(i){return this._footer=e("<div class='zdialog__footnote'></div>"),this._footer.html(this.options.isHTMLEncoded||this.options.isFooterHTMLEncoded?i:t.encodeHTML(i)),this._footer},_createMinimizeButton:function(){var i=e("<button>").attr({class:"zbutton zbutton--action",title:this.options.minimizeButtonLabel||this._localize("minimize")}),s=this,o=this.componentName;i.off("click."+o+" keydown."+o).on("click."+o+" keydown."+o,function(i){("click"===i.type||"keydown"===i.type&&i.which===t.keyCode.ENTER||i.which===t.keyCode.SPACE)&&(s._toggleMinimize(i,e(this),!0),"keydown"===i.type&&(i.preventDefault(),i.stopPropagation()))});var n=e("<i class='zbutton__icon'></i"),a={props:{class:"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:2,y:12,width:12,height:1}}]};return this._handleIcon(n,a,"minimize",this.options.minimizeIconClassName,this.options.minimizeSVGIconId),i.append(n),i},_createMaximizeButton:function(){var i=e("<button>").attr({class:"zbutton zbutton--action",title:this.options.maximizeButtonLabel||this._localize("maximize")}),s=this,o=this.componentName;i.off("click."+o+" keydown."+o).on("click."+o+" keydown."+o,function(i){("click"===i.type||"keydown"===i.type&&i.which===t.keyCode.ENTER||i.which===t.keyCode.SPACE)&&(s._toggleMaximize(i,e(this),!0),"keydown"===i.type&&(i.preventDefault(),i.stopPropagation()))});var n=e("<i class='zbutton__icon'></i"),a={props:{class:"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{g:{props:{transform:"translate(0,-1036.3622)"},nodes:[{g:{nodes:[{path:{d:"M13,1040.4v8H3v-8H13 M14,1039.4H2v10h12V1039.4L14,1039.4z"}}]}}]}}]};return this._handleIcon(n,a,"maximize",this.options.maximizeIconClassName,this.options.maximizeSVGIconId),i.append(n),i},_animateAction:function(t,e,i,s){if(t[e]){var o,n,a=this,r=t[e].className;"object"==typeof t[e]&&(o=t[e].name,n=t[e].duration),r?(s&&this.container.show(),this.container.addClass(r).on(this.ANIMATION_EVENTS,function(){a.container.removeClass(r),i&&i(),i=void 0})):"object"==typeof o?(s&&this.container.show(),this.container.animate(o,n,i)):this.container[o](n,i)}},_changeIcon:function(t,i){var s=t.find(".zbutton__icon"),o=void 0,n=i.indexOf("Restore")!==-1?this.options[i+"IconClassName"]||this.options.restoreIconClassName:this.options[i+"IconClassName"],a=i.indexOf("Restore")!==-1?this.options[i+"SVGIconId"]||this.options.restoreSVGIconId:this.options[i+"SVGIconId"];s.remove(),s=e("<i class='zbutton__icon'>"),"minimize"===i?o={props:{class:"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:2,y:12,width:12,height:1}}]}:"maximize"===i?o={props:{class:"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{g:{props:{transform:"translate(0,-1036.3622)"},nodes:[{g:{nodes:[{path:{d:"M13,1040.4v8H3v-8H13 M14,1039.4H2v10h12V1039.4L14,1039.4z"}}]}}]}}]}:"minimizeRestore"!==i&&"maximizeRestore"!==i||(o={props:{class:"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{g:{props:{transform:"translate(0,-1036.3622)"},nodes:[{path:{d:"M2,1041.4v8h10v-8H2z M11,1048.4H3v-6h8V1048.4z"}}]}},{g:{props:{transform:"translate(0,-1036.3622)"},nodes:[{path:{d:"M4,1039.4v3h1v-2h8v6h-2v1h3v-8H4z"}}]}}]}),this._handleIcon(s,o,i,n,a),t.append(s)},_toggleMinimize:function(i,s,o){var n=this.isMinimized(),a=this;this.isMaximized()&&this._toggleMaximize(i,this._maximizeButton,o);var r=function(){a._triggerEvent("restore",i,{from:"minimize"}),n||(a.actualWidth=parseFloat(a.container.css("width")),a.actualHeight=a.element.height()),a.container.find(".zdialog__footnote")[n?"show":"hide"](),a.element[n?"show":"hide"](),a.container[n?"removeClass":"addClass"]("zdialog--minimized"),e.fn.zdraggable&&a.options.draggable?a.container.zdraggable("setAttribute","disabled",!n):e.noop;var r=a.options[n?"minimizeButtonLabel":"minimizeRestoreButtonLabel"]||a._localize(n?"minimize":"minimizeRestore");s.attr("title",r),a._changeIcon(s,n?"minimize":"minimizeRestore"),n?(a.container.css({width:a.actualWidth}).css(a.actualPosition),a.enableButton("maximize")):(a.container.css({width:"",height:""}),a.disableButton("maximize")),a._overlay&&a._overlay[n?"show":"hide"]();var l=a._overlay?a._overlay:e("body");a._overlay&&n&&(t.zIndex+=1,l.css("zIndex",t.zIndex)),a.container.appendTo(n?l:a._getMinimizablePane()),a._overlay&&a._hideDocumentScroll(!!n),o&&a._triggerEvent(n?"RESTORE":"ONMINIMIZE",i,{from:"minimize"})};n||(a.actualPosition=a.container.position()),this.container.css({top:"",left:""});var l=this.options.animation;!n&&l.minimize?this._animateAction(l,"minimize",r):n&&l.minimizeRestore?this._animateAction(l,"minimizeRestore",r):r()},_getMinimizablePane:function(){var t="zdialog--wrapper",i=e("."+t);return i.length||(i=e("<div>").attr("class",t),e("body").append(i)),i},_hideDocumentScroll:function(t){e("body")[t?"addClass":"removeClass"]("h-overflowhidden")},_toggleMaximize:function(i,s,o){var n=this.isMaximized(),a=this;this.isMinimized()&&this._toggleMinimize(i,this._minimizeButton,o);var r=function(){a._triggerEvent("restore",i,{from:"maximize"}),a.container[n?"removeClass":"addClass"]("zdialog--maximized"),e.fn.zdraggable&&a.options.draggable?a.container.zdraggable("setAttribute","disabled",!n):e.noop;var r=a.options[n?"maximizeButtonLabel":"maximizeRestoreButtonLabel"]||a._localize(n?"maximize":"maximizeRestore",a.options.labels);if(a._changeIcon(s,n?"maximize":"maximizeRestore"),s.attr("title",r),n)a.container.css(a.actualPosition).css({width:a.actualWidth}),a.element.height(a.actualHeight),a.element.css("width","");else{a.container.css({width:"auto",height:"auto",top:"0px",left:"0px"});var l=a.container.find(".zdialog__header").length?a.container.find(".zdialog__header").outerHeight(!0):0,h=a.container.find(".zdialog__footer").length?a.container.find(".zdialog__footer").outerHeight(!0):0,d=a.container.find(".zdialog__footnote").length?a.container.find(".zdialog__footnote").outerHeight(!0):0,c=Math.abs(t.windowObject.height-(l+h+d+parseInt(a.element.css("padding-top"))+parseInt(a.element.css("padding-bottom"))+parseInt(a.container.css("border-top-width"))+parseInt(a.container.css("border-bottom-width")))),p=t.windowObject.width-parseInt(a.element.css("padding-left"))-parseInt(a.element.css("padding-right"))-parseInt(a.element.css("margin-right"))-parseInt(a.element.css("margin-left"))-parseInt(a.container.css("border-left-width"))-parseInt(a.container.css("border-right-width"));a.element.width(p),a.element.height(c)}o&&a._triggerEvent(n?"RESTORE":"ONMAXIMIZE",i,{from:"maximize"})};n||(this.actualPosition=this.container.position(),this.actualHeight=this.element.height()),this.container.css({top:"",left:"",width:"",height:""});var l=this.options.animation;!n&&l.maximize?this._animateAction(l,"maximize",r):n&&l.maximizeRestore?this._animateAction(l,"maximizeRestore",r):r()},_bindEvents:function(){var i=this,s=this.componentName;this.container.on("keydown."+s,function(s){if(t.activeDialog&&t.activeDialog[0]!==i.container[0]&&(t.activeDialog=i.container),s.keyCode===t.keyCode.ESCAPE&&i.options.closeOnEscKey){var o=i.container.find(".zdialog__footer .h--clickonescape");o.length?(o.focus(),o.trigger("click")):i._closeDialog(s),s.stopPropagation()}else if(s.keyCode===t.keyCode.TAB)s.preventDefault();else if(s.keyCode===t.keyCode.ENTER&&i.options.submitOnEnter&&i.element.find("form").length){var n=".zbutton:not(.zbutton--menu), input:not(.ztokenfield__textbox):not(.zsuggestfield-element)";if(e(s.target).closest(n).length){var a=i.container.find(".zdialog__footer").find(i.options.defaultActionButton);a.length&&e(s.target).closest("button")[0]!==a[0]&&(e(a[0]).focus(),e(a[0]).trigger("click"))}}}).on("focus."+s,function(e){t.activeDialog&&t.activeDialog[0]!==i.container[0]&&(t.activeDialog=i.container)}),t.$window.off("resize."+s).on("resize."+s,function(t){!i.container.is(":visible")||"center"!==i.options.position||"resize"!==t.originalEvent.type||i.isMinimized()||i.isMaximized()||(i._positionDialog(),i.container.css(i._dialogPosition))})},open:function(e){if(this.isMinimized())return void this._toggleMinimize({},this._minimizeButton,!1);if(this.isMaximized())return void this._toggleMaximize({},this._maximizeButton,!1);(!this.container.attr("style")||this.container.attr("style")&&this.container.attr("style").indexOf("width")===-1)&&(this.container.css({width:"auto"}),this.options.width&&this.container.css({width:this.options.width}));var i=this.container.css("opacity");this.container.css("opacity",0),this.container.show(),this._isComponentInited||(this._isComponentInited=!0,t.init(this.element)),this.container.hide(),this.container.css("opacity",i),this._positionDialog(e),this.container.css(this._dialogPosition);var s=this._overlay;"modal"!==this.options.type||s||(this._createOverlay(),s=!0);var o=this.options.animation;if(o||e&&e.animation){var n=o?o:e.animation,a=this;s&&this._overlay.fadeIn(50),this._animateAction(n,"open",function(){a._handleDialogOpen()},!0)}else s&&this._overlay.show(),this.container.show(),this._handleDialogOpen()},_handleDialogOpen:function(){t.zIndex=this.options.zIndex?t.zIndex:t.zIndex+1,this.container.css({zIndex:this.options.zIndex?parseInt(this.options.zIndex):t.zIndex}),ZFocusHandler.init(this.container,this.options.excludeFocus),this.actualWidth=parseFloat(this.container.css("width")),this.actualHeight=this.element.height(),this.actualPosition=this.container.position(),this.container.attr("aria-expanded",!0),this._triggerEvent("ONOPEN",{},{position:this.actualPosition}),t.activeDialog=this.container},_createOverlay:function(){t.zIndex+=1,this._overlay=e("<div class='zdialog--overlay "+this.options.overlayClassName+"' ></div>").css("zIndex",t.zIndex),e("body").append(this._overlay.append(this.container)),this._hideDocumentScroll(!0);var i=this;this._overlay.attr("tabindex",1).on("keydown."+this.componentName,function(e){e.keyCode===t.keyCode.ESCAPE&&i.options.closeOnEscKey?i._closeDialog(e,{overlay:!0}):e.keyCode===t.keyCode.TAB&&e.preventDefault()})},_positionDialog:function(i){var s=0,o=0,n=this.container.is(":visible");if(n||(this.container.show(),this._overlay&&this._overlay.show()),this.options.height){this.container.height(this.options.height);var a=this.container.outerHeight(!0),r=parseInt(this.element.height()),l=parseInt(this.element.css("padding-top").split("px")[0]),h=parseInt(this.element.css("padding-bottom").split("px")[0]),d=void 0!==this._titleBar?parseInt(this._titleBar.outerHeight(!0)):0,c=this.container.find(".zdialog__footer").length?this.container.find(".zdialog__footer").outerHeight(!0):0,p=this.container.find(".zdialog__footnote").length?this.container.find(".zdialog__footnote").outerHeight(!0):0;r=a-(l+h+d+c+p+parseInt(this.container.css("border-top-width"))+parseInt(this.container.css("border-bottom-width"))+parseInt(this.element.css("margin-top"))+parseInt(this.element.css("margin-bottom"))),this.element.height(r),this.container.css("height","auto")}var u=this.container.outerWidth(!0),m=this.container.outerHeight(!0),_=t.windowObject.width,f=t.windowObject.height;if(i&&i.position&&(this.options.position=i.position),s=f/2-m/2-window.pageYOffset,o=_/2-u/2-window.pageXOffset,i&&i.target){var v=e(i.target).offset();s=v.top+e(i.target).outerHeight(!0),o=v.left}else if("string"==typeof this.options.position){if("golden-mean"===this.options.position){var g=1.618,b=f/2,y=b-b/g;s=y-parseFloat(m/2)+window.pageYOffset,o=_/2+window.pageXOffset-parseFloat(u/2)}else if("center"!==this.options.position){var C=this.options.position.split(",");s=C[1]?C[1]:s,o=C[0]?C[0]:o}}else"object"==typeof this.options.position&&(s=this.options.position.top?this.options.position.top:s,o=this.options.position.left?this.options.position.left:o);s<0?s=0:s>=t.documentObject.height&&(s=t.documentObject.height-this.container.outerHeight(!0)),o<0?o=0:o>t.documentObject.width&&(o=t.documentObject.width-this.container.outerWidth(!0)),n||(this.container.hide(),this._overlay&&this._overlay.hide()),this._dialogPosition={top:s,left:o}},close:function(t){this._closeDialog({},t,void 0)},_closeDialog:function(t,e,i){t=void 0===t?{}:t;var s=!!i||this._triggerEvent("BEFORECLOSE",t);if(s)if(!this.options.animation||e&&void 0!==e.animation&&e.animation===!1)this._handleDialogClose(t,e,i);else{var o=this;this._animateAction(this.options.animation,"close",function(){o._handleDialogClose(t,e,i)})}},_triggerCloseEvent:function(i,s,o){e("body").find(".zdialog--overlay").length||this._hideDocumentScroll(!1),t.zIndex=t.zIndex-1,o||this._triggerEvent("ONCLOSE",i,s)},_handleDialogClose:function(e,i,s){if(this.container.hide(),this.container.attr("aria-expanded",!1),"modal"===this.options.type&&this._overlay)if(!this._overlay.is(":visible")||i&&void 0!==i.animation&&i.animation===!1)this._overlay.is(":visible")&&this._overlay.hide(),this._triggerCloseEvent(e,i,s);else{var o=this;this._overlay.fadeOut(50,this._triggerCloseEvent.bind(o,e,i,s))}else t.zIndex=t.zIndex-1,s||this._triggerEvent("ONCLOSE",e,i);t.activeDialog&&t.activeDialog[0]===this.container[0]&&(t.activeDialog=void 0)},isMinimized:function(){return this.container.is(".zdialog--minimized")},isMaximized:function(){return this.container.is(".zdialog--maximized")},refreshContent:function(t){return ZFocusHandler.refresh(this.container,this.options.excludeFocus,t)},minimize:function(){!this.isMinimized()&&this.options.minimizable&&this._toggleMinimize({},this._minimizeButton,!1)},restore:function(t){this.isMinimized()&&this._toggleMinimize({},this._minimizeButton,t),this.isMaximized()&&this._toggleMaximize({},this._maximizeButton,t)},disableButton:function(t,e,i){this._toggleButton(t,"disabled",!0)},enableButton:function(t){this._toggleButton(t,"disabled",!1)},_toggleButton:function(t,e,i){var s="minimize"===t?this._minimizeButton:"maximize"===t?this._maximizeButton:this._closeButton;s&&(i?(s.attr("disabled",!0).removeAttr("title"),s.addClass("is-disabled")):(s.removeAttr("disabled").attr("title",this.options.maximizeButtonLabel||this._localize("maximize")),s.removeClass("is-disabled")))},_triggerEvent:function(t,i,s){return s=e.extend({},{dialog:this.container,wrapper:this.container},s),this._dispatchEvent(t,i,s)},maximize:function(){!this.isMaximized()&&this.options.maximizable&&this._toggleMaximize({},this._maximizeButton,!1)},getElement:function(){return this.container},setButtonAttributes:function(t,i,s){var o=this;return"string"!=typeof t?e.each(t,function(t,e){o.setButtonAttributes(e.id,e)}):"object"==typeof i?e.each(i,function(e,i){o.setButtonAttributes(t,e,i)}):(t=t.split(","),e.each(t,function(t,n){var a=o.container.find(".zdialog__footer").find("#"+n);switch(i){case"id":a.attr("id",s);break;case"text":a.find(".zbutton__text").text(s);break;case"appearance":"primary"===s?a.addClass("zbutton--primary"):a.removeClass("zbutton--primary");break;case"disabled":s?a.attr("disabled",!0).addClass("is-disabled"):a.removeAttr("disabled").removeClass("is-disabled");break;case"customAttributes":a.attr(s);break;case"actionInProgress":e.fn.zbutton&&a.zbutton("setAttribute","actionInProgress",s);break;case"progressIndicator":e.fn.zbutton&&a.zbutton("setAttribute","progressIndicator",s)}}),void this.refreshContent())},destroy:function(){ZFocusHandler.destroy(this.container),this.element.removeClass("zdialog__content").appendTo("body"),this._overlay&&this._overlay.length&&(this._overlay.remove(),this._overlay=void 0),this.options.title&&this.element.attr("title",this.options.title),this.element.off("."+this.componentName).removeData("zdialog").css("width","auto").hide(),this.container.removeAttr("role aria-modal aria-expanded").remove()},setAttribute:function(i,s){if("title"===i&&this.options.title!==s)if(this.options.title)if(s){var o=this._titleBar.find(".zdialog__title");o.html(this.options.isHTMLEncoded||this.options.isTitleHTMLEncoded?s:t.encodeHTML(s))}else this._titleBar.remove(),this._titleBar=void 0;else{this.options.title=s;var n=e("<span></span>").attr("class","zdialog__title");n.html(this.options.isTitleHTMLEncoded||this.options.isHTMLEncoded?s:t.encodeHTML(s)),this._titleBar.prepend(n),this.options.icon&&this.element.find(".zc-icon-primary").remove()}else if("icon"===i&&this.options.icon!==s)this.options.icon?s?this._iconSpan.removeClass(this.options.icon).addClass(s):(this._iconSpan.remove(),this._iconSpan=void 0):(this._iconSpan=e("<span class='zc-icon-primary zc-icon "+s+"'></span>"),void 0!==this._titleBar?this._titleBar.prepend(this._iconSpan):this.element.prepend(this._iconSpan));else if("content"===i&&this.options.content!==s)if(this.element.empty(),"object"==typeof s){var a=this;e.ajax(s).success(function(t){a.element.append(t)})}else this.element.html(this.options.isHTMLEncoded||this.options.isContentHTMLEncoded?s:t.encodeHTML(s));else if("closeOnEscKey"===i&&this.options.closeOnEscKey!==s)s?this._bindEvents():this.container.off("."+this.componentName);else if("width"===i&&this.options.width!==s)this.container.css({width:s}),this.actualWidth=parseInt(s);else if("height"===i&&this.options.height!==s)this.element.css("height",s),this.actualHeight=parseInt(s);else if("type"===i&&this.options.type!==s&&this.container.is(":visible"))"modal"===s?this._createOverlay():(e("body").append(this.container),this._overlay.remove(),this._overlay=void 0),this.container.attr("aria-modal","modal"===s);else if("closeButton"===i&&this.options.closeButton!==s)s?(this._createTitleBarButtons(),this.refreshContent()):(this._titleBarButtonContainer.remove(),this._closeButton=this._minimizeButton=this._maximizeButton=void 0);else if("closeSVGIconId"===i||"closeIconClassName"===i&&this._closeButton){this.options[i]=s;var r=this._closeButton.find(".zbutton__icon"),l={props:{class:"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)",class:"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)",class:"st0",width:"13",height:"1.1"}}]};this._handleIcon(r,l,"close",this.options.closeIconClassName,this.options.closeSVGIconId)}else"className"===i&&this.options.className!==s?this.container.removeClass(this.options.className).addClass(s):"overlayClassName"===i&&this.options.overlayClassName!==s?this._overlay&&this._overlay.removeClass(this.options.overlayClassName).addClass(s):"minimizable"===i&&this.options.minimizable!==s&&this.options.closeButton&&"modal"!==this.options.type?(s?(this.options.minimizable=s,this._minimizeButton=this._createMinimizeButton(),this._titleBarButtonContainer.prepend(this._minimizeButton)):(this._minimizeButton.remove(),this._minimizeButton=void 0),this.refreshContent()):"maximizable"===i&&this.options.maximizable!==s&&this.options.closeButton?(s?(this.options.maximizable=s,this._maximizeButton=this._createMaximizeButton(),this._minimizeButton?this._maximizeButton.insertAfter(this._minimizeButton):this._titleBarButtonContainer.prepend(this._maximizeButton)):(this._maximizeButton.remove(),this._maximizeButton=void 0),this.refreshContent()):"resizable"===i&&this.options.resizable!==s?"object"==typeof s?(this.container.zresizable("setAttribute","minHeight",s.minHeight?s.minHeight:this.options.resizable.minHeight),this.container.zresizable("setAttribute","maxHeight",s.maxHeight?s.maxHeight:this.options.resizable.maxHeight),this.container.zresizable("setAttribute","minWidth",s.minWidth?s.minWidth:this.options.resizable.minWidth),this.container.zresizable("setAttribute","maxWidth",s.maxWidth?s.maxWidth:this.options.resizable.maxWidth),this.container.zresizable("setAttribute","handle",s.direction?s.direction:this.options.resizable.direction),this.container.zresizable("setAttribute","container",s.container?s.container:this.options.resizable.container)):s&&e.fn.zresizable?this._makeResizable():this.container.zresizable("destroy"):"draggable"===i&&this.options.draggable!==s?e.fn.zdraggable&&(s?this._makeDraggable():this.container.zdraggable("destroy")):"buttons"===i?(this.options.buttons&&this.container.find(".zdialog__footer").remove(),void 0!==s&&(this.options.buttons=s,this.options.footer?this._createButtonPane().insertBefore(this._footer):this.container.append(this._createButtonPane())),this.refreshContent()):"position"===i?(this.options.position=s,this._positionDialog(),this.container.css(this._dialogPosition)):"footer"===i&&this.options.footer!==s?""!==s&&""!==s.trim()?this._createFooterMessage(s).insertAfter(this.container.find(".zdialog__footer").length?this.container.find(".zdialog__footer"):this.container.find(".zdialog__content")):this.container.find(".zdialog__footnote").remove():"buttonsAlignment"===i&&this.options.buttonsAlignment!==s&&this.container.find(".zdialog__footer").removeClass(this._ALIGNMENTS[this.options.buttonsAlignment]).addClass(this._ALIGNMENTS[s]);this.options[i]=s}};t.registerComponent("zdialog",i),t.createDialog=function(t){var i=e("<div>").attr("id",t.id);return i.appendTo("body"),i.zdialog(t)}}(ZComponents),function(t){t.dialogutil={dialogs:{},options:{},_lastStaticDialog:void 0,create:function(t,e,i,s,o){this.dialogs[t]||(this.dialogs[t]={},this._cacheDialog(t,{content:o})),this._initDialog(t,e,i,s,{})},open:function(t,e,i,s,o){o||(o={});var n=!0;return"object"==typeof o.ajax&&(n="boolean"!=typeof o.ajax.cache||o.ajax.cache),i&&(i.target=e),this.dialogs[t]||(this.dialogs[t]={}),!this.isDialogOpened(t)&&(this.dialogs[t].cacheStatus&&n?this._initDialog(t,e,i,s,o):this._fetchDialogContent(t,!1,e,i,s,o),this.isDialogOpen=!0,this.dialogDiv)},_checkAndCloseLastStaticDialog:function(t,e){t.staticDialog&&this._lastStaticDialog&&this._lastStaticDialog.zdialog("close"),this._lastStaticDialog=e},_initDialog:function(e,i,s,o,n){var a=this.dialogs[e];if(!a.widget){var r=t("<div>").prop("id",e+"zdialog").html(a.content),l=t(r).children("div:eq(0)").metadata();l=t.extend({name:e,target:i},l),o&&(l=t.extend({},l,o)),a.data=l,a.widget=r.zdialog(l)}var l=a.data;if(l.maintainPosition&&a.position&&(l.position=a.position),n.onLoad){var h=n.onLoad;h()}this._checkAndCloseLastStaticDialog(a.data,a.widget),o&&o.doNotOpen?a.widget.zdialog("close"):(s&&a.widget.one("zdialogopen.zctrackobjects",function(t,e){var i=s.afterFillValues;i&&(s.afterFillValues=function(){var t=arguments;setTimeout(function(){i.apply(a.widget,t)},2)}),a.widget.ZCtrackObjects({eventNameMapping:s.eventNameMapping,attrSelector:"ctype",initComponents:!0,callbacks:s}),a.widget.zdialog("refreshContent",!0)}),a.widget.zdialog("open",l.position)),this._changeRequestStatus(e,"close"),a.widget.one("zdialogclose",function(t,e){l.maintainPosition&&(a.position=a.widget.zdialog("getAttribute","position")),!l.hideOnClose&&a.widget&&a.widget.length&&(a.widget.parent().remove(),delete a.widget)})},_changeRequestStatus:function(t,e){this.dialogs[t].requestStatus=!1},_cacheDialog:function(t,e){var i=this.dialogs[t];i||(i={},this.dialogs[t]=i),this.dialogs[t].cacheStatus=!0,e.content&&(i.content=e.content),i.widget=e.widget},_getReplacedData:function(t){var e={},i=this.options.dataFormat;for(key in i)value=i[key],"TIME"==value?value=(new Date).getTime():"DIALOG_NAME"==value&&(value=t),e[key]=value;return e},_getURL:function(t,e){var i="";if(e&&"string"==typeof e.url)i=e.url;else{i=this.options.dialogFetchUrl;var s=this.options.paramsToReplaceInURL;for(key in s)value=s[key],value="DIALOG_NAME"===value?t:value,i=i.replace("{"+key+"}",value)}return i},_fetchDialogContent:function(e,i,s,o,n,a){if(this.dialogs[e].requestStatus)return!1;this.dialogs[e].requestStatus=!0;var r=this;a||(a={}),"boolean"!=typeof a.addDefaultData&&(a.addDefaultData=!0);var l="object"==typeof a.ajax?a.ajax:{},h="string"==typeof l.requestType?l.requestType:"GET",d=t.extend({},this._getReplacedData(e),l.data);a.addDefaultData||(d=l.data),t.ajax({type:h,url:this._getURL(e,l),data:d,error:function(){r._changeRequestStatus(e,"close")},success:function(t){var l=void 0;t&&r._cacheDialog(e,{content:t}),r.dialogs[e].cacheStatus=!0,i?(r._changeRequestStatus(e,"close"),i()):l=r._initDialog(e,s,o,n,a)}})},close:function(t,e,i){var s=this.dialogs[t];s&&s.widget&&s.widget.zdialog("close",i)},isDialogOpened:function(e){if(!e)return!!t(".zdialog:visible").length;var i=this.dialogs[e],s=!1;return i&&i.widget&&(s=i.widget.parent().is(":visible")),s},preLoadAllDialogs:function(){this._preloadDialog(0)},_preloadDialog:function(t){var e=this,i=this.options.dialogNames[t];i&&(this.dialogs[i]?e._preloadDialog(++t):(this.dialogs[i]={},this._fetchDialogContent(i,function(){setTimeout(function(){e._preloadDialog(++t)},300)})))},refreshValues:function(t,e,i,s){var o=this.dialogs[e];o&&o.widget&&o.widget.ZCtrackObjects("refreshValues",t,i,s)},_getElementType:function(e){if(t(e).is(".zbutton"))return"zbutton"},_getButtonObject:function(e){return t(e).parent().hasClass("zbuttonset")?t(e).parent().hasClass("zbutton-splitbutton")?t(e).parent().parent():t(e).parent():e},makeCenter:function(t){var e=this.dialogs[t];e&&e.widget&&e.widget.zdialog("setAttribute","position","center")},configure:function(t){this.options=t,t.preload&&this.preLoadAllDialogs()}}}(jQuery),function(t){var e=t.DOMUtil;ZAlertDialog={position:"golden-mean",ANIMATION_EVENTS:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},_ALIGNMENTS:{left:"zdialogfooter--invert",right:"",center:"h-center"},DEFAULTS:{type:"custom",buttonsAlignment:"right",isHTMLEncoded:!1,isTitleHTMLEncoded:!1,isMessageHTMLEncoded:!1,className:"",icon:void 0,draggable:!0,labels:{cancel:"Cancel",no:"No",ok:"OK",yes:"Yes",close:"Close",help:"Help",suppressionMessage:"Do not show this message again."},closeIcon:void 0,helpIcon:void 0,OKButtonLabel:void 0,cancelButtonLabel:void 0,yesButtonLabel:void 0,noButtonLabel:void 0,closeButtonLabel:void 0,helpButtonLabel:void 0,suppressionDecisionBoxLabel:void 0},widgetName:"zalertdialog",open:function(t){var e=this;this.close({},{},function(){e._openDialog(t)})},_openDialog:function(i){if(this.options=e.extend(!0,{},this.DEFAULTS,i),this.options.customAttributes&&window.sessionStorage.suppressAlertId&&window.sessionStorage.suppressAlertId.indexOf(this.options.customAttributes.id)!==-1||window.sessionStorage.suppressAlert&&"null"!==window.sessionStorage.suppressAlert)return void(i.suppressed&&i.suppressed());this._constructDialog(),this._bindEvents(),e("body").append(this.wrapper),this._positionDialog(),this._createOverlay(),this._openWithAnimation();var s=this;t.$window.off("resize.zalertdialog").on("resize.zalertdialog",function(t){s.wrapper&&s.wrapper.is(":visible")&&(s.options.position&&!s.options.position.length||"center"===s.options.position)&&"resize"===t.originalEvent.type&&s._positionDialog()})},_constructDialog:function(){this.wrapper=e("<div/>").attr({class:"zdialog zdialog--alert "+this.options.className,tabIndex:-1,role:"alertdialog","aria-modal":!0}),this.options.customAttributes&&this.wrapper.attr(this.options.customAttributes),(this.options.title||this.options.closeButton)&&(this._createTitleBar(),e.fn.zdraggable&&this.options.draggable&&this._makeDraggable()),(this.options.primaryMessage&&""!==this.options.primaryMessage.trim()||this.options.secondaryMessage&&""!==this.options.secondaryMessage.trim())&&this._createContent(),this._createFooter()},_makeDraggable:function(){this.wrapper.zdraggable({ignore:".zdialog__actiongroup",handle:".zdialog__header",container:"window"})},_createTitleBar:function(){var i=e("<div/>").attr("class","zdialog__header");if(this.options.title&&i.append(e("<span/>").attr("class","zdialog__title").html(this.options.isHTMLEncoded||this.options.isTitleHTMLEncoded?this.options.title:t.encodeHTML(this.options.title))),this.options.closeButton){var s=e("<div class='zdialog__actiongroup'></div>"),o=e("<button>").attr({class:"zbutton zbutton--action",title:this.options.closeButtonLabel||this._getString("close")}),n=this;o.on("click."+this.widgetName,function(t){n.close(t,{button:o,buttonType:"CLOSE",closeButton:!0})});var a=e("<i class='zbutton__icon'></i"),r={props:{class:"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)",class:"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)",class:"st0",width:"13",height:"1.1"}}]};t._handleIcon(a,r,"close",this.options.closeIconClassName,this.options.closeSVGIconId),o.append(a),i.append(s.append(o))}this.wrapper.append(i)},_createContent:function(){var i=e("<div class='zdialog__content'/>"),s=e("<div class='zdialog__description'></div>"),o=e("<i class='zdialog__icon'></i>"),n=this._getIcon(o);if(n&&void 0!==n&&""!==n){var a=e("<div class='zdialog__alerticon'></div>");i.append(a.append(o))}if(this.options.primaryMessage&&s.append(e("<div class='zdialog__primarytext'>").html(this.options.isHTMLEncoded||this.options.isMessageHTMLEncoded?this.options.primaryMessage:t.encodeHTML(this.options.primaryMessage))),this.options.secondaryMessage&&s.append(e("<div class='zdialog__secondarytext'>").html(this.options.isHTMLEncoded||this.options.isMessageHTMLEncoded?this.options.secondaryMessage:t.encodeHTML(this.options.secondaryMessage))),i.append(s),this.options.suppressionDecisionBox){var r=e("<div class='zdialog__suppression'></div>"),l=this,h=e("<div class='zcheckbox'><input id='zalert__suppression--box' type='checkbox' class='zcheckbox__helper'/><label for='zalert__suppression--box' class='zcheckbox__label'>"+(this.options.suppressionDecisionBoxLabel||this._getString("suppressionMessage"))+"</label></div>");i.append(r.append(h)),h.find("#zalert__suppression--box").on("change",function(t){var i=e("#zalert__suppression--box").prop("checked"),s=window.sessionStorage.getItem("suppressAlertId"),o=l.wrapper.attr("id");i?(i="true",o&&(i=null!=s?s+","+o:","+o)):(i=null,o&&(i=null!==s?s.replace(","+o,""):void 0)),window.sessionStorage.setItem("suppressAlertId",i)})}this.wrapper.append(i)},_clickHandler:function(t){var i=this,s=e(t.target).closest(".zbutton"),o=s.data("metadata"),n={button:s,properties:o,buttonOptions:o};o.action&&"string"!=typeof o.action?o.action(t,n):i.close(t,n),t.stopPropagation(),t.preventDefault()},_createFooter:function(){for(var i=e("<div/>").attr({class:"zdialog__footer "+this._ALIGNMENTS[this.options.buttonsAlignment],tabIndex:-1}),s=this._getButtonPanelElements(),o=this,n=0;n<s.length;n++){var a=e("<button>");s[n].customAttributes&&a.attr(s[n].customAttributes),s[n].id&&a.attr("id",s[n].id),s[n].name&&a.attr("name",s[n].name),a.data("metadata",s[n]).addClass("primary"===s[n].appearance?"zbutton zbutton--primary":"zbutton").append(e("<span/>").attr("class","zbutton__text").text(s[n].text)).attr("data-text",s[n].text.toLowerCase()),"CANCEL"===s[n].action&&a.addClass("h--clickonescape"),a.on("click."+this.widgetName,o._clickHandler.bind(this)),i.append(a)}if(this.options.helpButton){var r=e("<button class='zbutton zbutton--help' title='"+(this.options.helpButtonLabel||this._getString("help"))+"'></button>"),o=this,l=e("<i class='zdialog__icon'></i>"),h={props:{class:"zdialog__svg grayscale",viewBox:"0 0 48 48",width:"100%",height:"100%"},nodes:[{g:{nodes:[{path:{d:"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24C48,10.8,37.3,0,24,0z M24,44.1c-11,0-20-9-20-20s9-20,20-20s20,9,20,20C44,35.2,35,44.1,24,44.1z"}},{g:{nodes:[{path:{d:"M22.8,31.9c-1.7,0-2.6,0.9-2.6,2.7c0,0.9,0.2,1.5,0.7,2c0.4,0.5,1.1,0.7,1.9,0.7c0.8,0,1.5-0.2,1.9-0.7c0.5-0.5,0.7-1.1,0.7-2c0-0.8-0.2-1.5-0.7-2C24.3,32.2,23.6,31.9,22.8,31.9z"}},{path:{d:"M29.3,12.4c-1.3-1.1-3.2-1.7-5.5-1.7s-4.4,0.5-6.5,1.4c-1.1,0.5-0.6,1.7-0.6,1.7l0.5,1c0,0,0.5,0.9,1.7,0.5l0,0c0.5-0.2,1-0.4,1.5-0.6c0.9-0.3,2-0.5,3.1-0.5c1.2,0,2.2,0.3,2.8,0.8c0.7,0.5,1,1.3,1,2.3c0,0.8-0.2,1.6-0.6,2.2c-0.4,0.6-1.3,1.5-2.7,2.6c-1.2,0.9-2,1.8-2.5,2.7c-0.5,0.9-0.7,1.9-0.7,3.2c0,0.9,1.1,1.1,1.1,1.1h0.7c0,0,1.4,0,1.6-1.2l0,0c0-0.8,0.2-1.4,0.5-1.8c0.4-0.6,1.1-1.3,2.2-2.1c1.3-1,2.2-1.8,2.7-2.4s0.9-1.3,1.2-2s0.4-1.5,0.4-2.3C31.4,15.1,30.7,13.5,29.3,12.4z"}}]}}]}}]};t._handleIcon(l,h,"help",this.options.helpIconClassName,this.options.helpSVGIconId),r.append(l),this.options.helpButton.customAttributes&&r.attr(this.options.helpButton.customAttributes),r.on("click",function(){o.options.helpButton.action&&o.options.helpButton.action()}),i.prepend(r)}this.wrapper.append(i)},_createCommandBar:function(t,i){var s=this.options.commandBar,o=e("<div class='zalertdialog__commandbar zalertdialog__footer' ></div>");if(s.leftColumn){var n=e("<div class='zalertdialog__commandbaractionsleft'></div>"),a=s.leftColumn.commands;s.leftColumn.className&&n.addClass(s.leftColumn.className);for(var r=0;r<a.length;r++)n.append(t.find(".zbutton[name="+a[r]+"]"));o.append(n)}if(s.centerColumn){var l=e("<div class='zalertdialog__commandbaractionscenter'></div>"),h=s.centerColumn.commands;s.centerColumn.className&&l.addClass(s.centerColumn.className);for(var r=0;r<h.length;r++)l.append(t.find(".zbutton[name="+h[r]+"]"));o.append(l)}if(s.rightColumn){var d=e("<div class='zalertdialog__commandbaractionsright'></div>"),c=s.rightColumn.commands;s.rightColumn.className&&d.addClass(s.rightColumn.className);for(var r=0;r<c.length;r++)d.append(t.find(".zbutton[name="+c[r]+"]"));o.append(d)}return this.wrapper.find(".zdialog__footer").remove(),this.wrapper.append(o),o},_getString:function(e){return t.getI18NText("zalertdialog",e,this.options.labels,[])},_getButtonPanelElements:function(){var i={CANCEL:{actionType:"CANCEL",id:"zc-zdialog-cancel",text:this.options.cancelButtonLabel||this._getString("cancel"),action:"CANCEL",name:"cancel",isCancel:!0},OK:{actionType:"OK",id:"zc-zdialog-ok",text:this.options.OKButtonLabel||this._getString("ok"),appearance:"primary",name:"ok"},NO:{actionType:"NO",id:"zc-zdialog-no",text:this.options.noButtonLabel||this._getString("no"),action:"CANCEL",isCancel:!0,name:"no"},YES:{actionType:"YES",id:"zc-zdialog-yes",text:this.options.yesButtonLabel||this._getString("yes"),appearance:"primary",name:"yes"}},s={mac:{CANCEL:i.CANCEL,OK:i.OK,NO:i.NO,YES:i.YES},windows:{OK:i.OK,CANCEL:i.CANCEL,YES:i.YES,NO:i.NO}},o=this.options,n=this.options.buttonsOrder;switch(n||(n=t.Browser.isWindows()?"windows":"mac"),i=s[n],o.type){case"custom":case"confirm":if(!this.options.buttons)return[i.CANCEL,i.OK];default:if("string"==typeof o.buttons){var a=[],r=0,l=o.buttons.split("-");return e.each(i,function(t,e){l.indexOf(t.toLowerCase())!==-1&&(a[r]=i[t],r++)}),a}return"object"==typeof o.buttons?o.buttons:[i.OK]}},_getIcon:function(e){if(this.options.icon||this.options.iconClassName||this.options.SVGIconId)return t._handleIcon(e,void 0,void 0,this.options.iconClassName,this.options.SVGIconId,this.options.icon);var i={props:{viewBox:"0 0 48 48",width:"100%",height:"100%"}},s=this.options.type;if("success"===s)i.props.class="zdialog__svg successcolor",i.nodes=[{g:{nodes:[{path:{d:"M41.2,7.2C31.9-2.3,16.7-2.5,7.3,6.8c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.7,41.2,7.2z M37.9,38.2c-7.9,7.7-20.5,7.6-28.2-0.3S2.1,17.4,10,9.7S30.5,2.1,38.2,10C45.9,17.8,45.8,30.5,37.9,38.2z"}},{path:{d:"M36,19.3L23.1,32.2c-1.1,1.1-2.9,1.1-4,0l-1-1l-4.5-4.6c-0.2-0.2-1-1.1-0.1-2l1.1-1.1c0.8-0.8,1.6-0.3,1.9,0l4.6,4.7l12-11.8c0.2-0.2,1.1-1,2-0.1l1.1,1.1C36.8,18.2,36.3,18.9,36,19.3z"}}]}}];else if("info"===s)i.props.class="zdialog__svg infocolor",i.nodes=[{g:{nodes:[{g:{nodes:[{path:{d:"M23.9,17.4c1.5,0,2.5-1.1,2.4-2.3c0-1.3-0.9-2.4-2.3-2.4s-2.4,1.1-2.4,2.4C21.6,16.3,22.6,17.4,23.9,17.4z"}},{path:{d:"M26.2,35.5V21.8c0-1.2-1.4-1.3-1.8-1.3h-0.7c0,0-1.7,0-1.7,1.1v14.3c0,0.3,0.2,0.9,1.3,0.9h1.6C25.3,36.7,26.2,36.5,26.2,35.5z"}}]}},{path:{d:"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24S37.3,0,24,0z M24,44C13,44,4,35,4,24S13,4,24,4s20,9,20,20S35,44,24,44z"}}]}}];else if("error"===s)i.props.class="zdialog__svg errorcolor",i.nodes=[{path:{d:"M41.2,7.2C31.9-2.2,16.7-2.5,7.3,6.9c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.8,41.2,7.2z M37.9,38.2C30,46,17.4,45.9,9.7,38S2.1,17.5,10,9.8S30.5,2.1,38.2,10C45.9,17.9,45.8,30.5,37.9,38.2z"}},{path:{d:"M31.7,17.5l-1.1-1.1c-0.8-0.8-1.7-0.1-2,0.1L24,21l-4.6-4.7c-0.3-0.3-1.1-0.8-1.9,0l-1.1,1.1c-0.8,0.8-0.1,1.7,0.1,2L21,24l-4.7,4.6c-0.9,0.9-0.3,1.6-0.1,1.8l1.3,1.3c0.2,0.2,0.9,0.8,1.8-0.1L24,27l4.6,4.7c0.9,0.9,1.6,0.3,1.8,0.1l1.3-1.3c0.2-0.2,0.8-0.9-0.1-1.8L27,24l4.7-4.6C32,19.1,32.5,18.4,31.7,17.5z"}}];else if("warning"===s)i.props.class="zdialog__svg warningcolor",i.nodes=[{g:{nodes:[{path:{d:"M47.3,36.6L27.7,2.5c-0.9-1.4-2.4-2.2-3.9-2.1c-1.6,0-2.9,0.9-3.7,2.2L0.7,36.5c-0.9,1.3-1,3-0.2,4.4c0.8,1.5,2.3,2.4,4,2.4h39c1.6,0,3.1-0.8,3.9-2.2C48.2,39.7,48.2,38,47.3,36.6z M43.9,39.2c-0.1,0.1-0.2,0.2-0.4,0.2h-39c-0.3,0-0.4-0.2-0.5-0.3c-0.1-0.2,0-0.3,0-0.4L23.5,4.6c0,0,0.1-0.2,0.3-0.2c0,0,0,0,0,0c0.1,0,0.3,0,0.4,0.2l19.6,34C44,38.8,44,39,43.9,39.2z"}}]}},{path:{d:"M24.1,28.4L24.1,28.4c-0.8,0-1.3-0.4-1.4-1l-1-10c-0.1-1.1,1-2,2.4-2l0,0c1.4,0,2.5,0.9,2.4,2l-1,10C25.4,27.9,24.9,28.4,24.1,28.4z"}},{circle:{cx:"24",cy:"33.4",r:"2"}}];else{if("confirm"!==s)return!1;i.props.class="zdialog__svg helpcolor",i.nodes=[{g:{nodes:[{path:{d:"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24C48,10.8,37.3,0,24,0z M24,44.1c-11,0-20-9-20-20s9-20,20-20s20,9,20,20C44,35.2,35,44.1,24,44.1z"}},{g:{nodes:[{path:{d:"M22.8,31.9c-1.7,0-2.6,0.9-2.6,2.7c0,0.9,0.2,1.5,0.7,2c0.4,0.5,1.1,0.7,1.9,0.7c0.8,0,1.5-0.2,1.9-0.7c0.5-0.5,0.7-1.1,0.7-2c0-0.8-0.2-1.5-0.7-2C24.3,32.2,23.6,31.9,22.8,31.9z"}},{path:{d:"M29.3,12.4c-1.3-1.1-3.2-1.7-5.5-1.7s-4.4,0.5-6.5,1.4c-1.1,0.5-0.6,1.7-0.6,1.7l0.5,1c0,0,0.5,0.9,1.7,0.5l0,0c0.5-0.2,1-0.4,1.5-0.6c0.9-0.3,2-0.5,3.1-0.5c1.2,0,2.2,0.3,2.8,0.8c0.7,0.5,1,1.3,1,2.3c0,0.8-0.2,1.6-0.6,2.2c-0.4,0.6-1.3,1.5-2.7,2.6c-1.2,0.9-2,1.8-2.5,2.7c-0.5,0.9-0.7,1.9-0.7,3.2c0,0.9,1.1,1.1,1.1,1.1h0.7c0,0,1.4,0,1.6-1.2l0,0c0-0.8,0.2-1.4,0.5-1.8c0.4-0.6,1.1-1.3,2.2-2.1c1.3-1,2.2-1.8,2.7-2.4s0.9-1.3,1.2-2s0.4-1.5,0.4-2.3C31.4,15.1,30.7,13.5,29.3,12.4z"}}]}}]}}]}return t._handleIcon(e,i,s,this.options[s+"IconClassName"],this.options[s+"SVGIconId"]),!0},_openWithAnimation:function(){if(this.options.animation&&this.options.animation.open){var t=this,e=this.options.animation.open,i=e.className,s=e.name,o=e.duration?e.duration:0;i?this.wrapper.show().addClass(i).on(this.ANIMATION_EVENTS,function(){t.wrapper.removeClass(i),t._handleDialogOpen()}):"object"==typeof s?this.wrapper.show().animate(s,o,t._handleDialogOpen):this.wrapper[s](o,t._handleDialogOpen.bind(t))}else this.wrapper.show(),this._handleDialogOpen()},_handleDialogOpen:function(){if(this.options.open&&this.options.open({dialog:this.wrapper,options:this.options}),void 0!==this.options.closeTimeout&&""!==this.options.closeTimeout){var t=this;window.setTimeout(function(){t.close({},{})},parseInt(this.options.closeTimeout))}this.wrapper.attr("aria-expanded",!0),window.ZFocusHandler&&ZFocusHandler.init(this.wrapper,this.options.excludeFocus),this._focusActionButton()},_positionDialog:function(){var i=this.wrapper;this.options.width&&i.outerWidth(this.options.width),this.options.height&&i.outerHeight(this.options.height);var s=i.outerWidth(!0)+parseInt(i.css("border-left-width"))+parseInt(i.css("border-right-width")),o=i.outerHeight(!0)+parseInt(i.css("border-bottom-width"))+parseInt(i.css("border-top-width")),n=this._calculateGoldenMeanPosition(i);"object"==typeof this.options.position&&(this.options.position.left||this.options.position.top)?(n=e.extend({},n,this.options.position),n.left=parseInt(n.left)+window.pageXOffset,n.top=parseInt(n.top)+window.pageYOffset):"string"==typeof this.options.position&&"center"===this.options.position&&(n.top=t.windowObject.height/2-o/2+window.pageYOffset,n.left=t.windowObject.width/2-s/2+window.pageXOffset),i.css(n)},_focusActionButton:function(){var t=this.options.defaultActionButton;t=t&&0!==t.indexOf("#")?"button[data-text='"+t.toLowerCase()+"']":".zbutton--primary";var e=this.wrapper.find(t);e.length||(e=this.wrapper.find("button:last")),e.focus()},_calculateGoldenMeanPosition:function(e){var i=1.618,s=t.windowObject.height,o=t.windowObject.width,n=s/2,a=n-n/i,r=a-parseFloat(e.height()/2),l=o/2-parseFloat(e.width()/2);return r<0&&(r=0),l<0&&(l=0),r+=window.pageYOffset,l+=window.pageXOffset,{top:r,left:l}},_createOverlay:function(){this._overlay=e("<div class='zdialog--overlay'></div>").attr("tabindex",1),document.body.insertBefore(this._overlay[0],this.wrapper[0]),this._hideBodyScroll(!0),t.zIndex+=2,this._overlay.css("z-index",t.zIndex-1),this.wrapper.css("z-index",t.zIndex),this._overlay.on("keydown."+this.widgetName,function(t){t.stopPropagation(),t.preventDefault()})},_hideBodyScroll:function(t){e("body")[t?"addClass":"removeClass"]("h-overflowhidden")},close:function(t,e,i){e=e||{actionType:"CLOSE",isCancel:!0},this.wrapper?this.options.beforeclose?this.options.beforeclose(e)!==!1&&this._handleClose(t,e,i):this._handleClose(t,e,i):i&&i.apply(this)},_handleClose:function(t,e,i){if(this.options.animation){var s=this,o=this.options.animation.close,n=o.className,a=o.name,r=o.duration?o.duration:0;n?this.wrapper.addClass(n).on(this.ANIMATION_EVENTS,function(){s.wrapper.removeClass(n),s.wrapper.hide(),s._close(t,e,i)}):"object"==typeof a?this.wrapper.animate(a,r,function(){s._close(t,e,i)}):this.wrapper[a](r,function(){s._close(t,e,i)})}else this.wrapper.hide(),this._close(t,e,i)},_close:function(i,s,o){this.wrapper.remove(),this._overlay&&this._overlay.remove(),e("body").find(".zdialog--overlay").length||this._hideBodyScroll(!1),t.zIndex=t.zIndex-2,i=i?i:{},s.options=this.options,s.button=e(i.target),s.event=i,this.options.close&&this.options.close(i,s),this._overlay=this.wrapper=void 0,o&&o.apply(this)},_bindEvents:function(){var i=this;this.wrapper.on("keydown."+this.widgetName,function(s){if(s.keyCode===t.keyCode.ESCAPE){var o=i.wrapper.find(".h--clickonescape:first");o.length?(o.focus(),window.setTimeout(function(){o.trigger("click")},150)):i.options.closeButton?i.wrapper.find(".zdialog__actiongroup .zbutton").trigger("click"):i.close(s,{ESCAPE_PRESSED:!0})}else if(s.keyCode===t.keyCode.ENTER){var n=i.wrapper.find(i.options.defaultActionButton||".zbutton--primary"),a=".zbutton:not(.zbutton--menu), input:not(.ztokenfield):not(.zsuggestfield-element), div.zdialog__header";e(s.target).closest(a).length&&n.length&&e(s.target).closest("button")[0]!==n[0]&&n.trigger("click")}s.keyCode===t.keyCode.TAB&&s.preventDefault()}),this.wrapper.find(".zdialog__header").length&&this.wrapper.find(".zdialog__header").on("mouseup."+this.widgetName,function(t){i._focusActionButton()})}}}(ZComponents),function(t){var e=t.DOMUtil,i={_EVENTS:{START:"start",STOP:"stop",RESIZE:"resize"},options:{disabled:!1,minHeight:10,minWidth:10,maxWidth:!1,maxHeight:!1,container:"window",handle:"s,e,se",alsoResize:!1,zIndex:1e3},_create:function(){this.element.addClass("zresizable"),this._addHandlers(),this.options.disabled?this.element.addClass("is-disabled"):this._bindEvents()},_addHandlers:function(){for(var i=this.options.handle.split(","),s=0;s<i.length;s++){var o=e.trim(i[s]),n="zresizable__"+o,a=e("<div class='zresizable__handle "+n+"'></div>");if("se"===o){var r=e("<i class='zresizable__icon'></i>"),l=t.createSVGElement("svg",{class:"zresizable__svg resizablecolor",viewBox:"0 0 12 12",width:"100%",height:"100%"},[{line:{class:"st0",x1:"11",y1:"1",x2:"1",y2:"11"}},{line:{class:"st0",x1:"11",y1:"5",x2:"5",y2:"11"}},{line:{class:"st0",x1:"11",y1:"9",x2:"9",y2:"11"}}]);r[0].appendChild(l),a.append(r)}a.css("zIndex",this.options.zIndex),this.element.append(a)}},_bindEvents:function(){var i,s,o=this.element.find(".zresizable__handle"),n=this,a=this.componentName;o.on("mousedown."+a,function(t){t.preventDefault(),n._mousePressed=!0,n.originalSize={width:parseInt(n.element.outerWidth(!0)),height:parseInt(n.element.outerHeight(!0))},n.size={width:parseInt(n.element.outerWidth(!0)),height:parseInt(n.element.outerHeight(!0))},n.options.container&&n._saveContainerData(),s=parseInt(n.element.offset().top)||0,i=parseInt(n.element.offset().left)||0,n.offset=n.element.offset(),n.originalPosition={left:i,top:s},n.position={left:i,top:s},n.originalMousePosition={left:t.pageX,top:t.pageY},n.sizeDiff={width:n.element.outerWidth(!0)-n.element.width(),height:n.element.outerHeight(!0)-n.element.height()},n.options.alsoResize&&n._cacheProperties(n.options.alsoResize),n._target=t.target.closest(".zresizable__handle"),n._dispatchEvent("START",t,{originalPosition:n.originalPosition,originalSize:n.originalSize})}).on("mouseup."+a,function(t){n._mousePressed&&(n._dispatchEvent("STOP",t,{originalPosition:n.originalPosition,originalSize:n.originalSize}),e("body").css("cursor","default"),n._mousePressed=!1)}),t.$document.on("mousemove."+a,function(t){if(n._mousePressed){var i=t.pageX-n.originalMousePosition.left||0,s=t.pageY-n.originalMousePosition.top||0,o=e(n._target).attr("class").slice(31),a=n._computePosition(o,i,s);a=n._checkLimit(a,o),n.options.container&&(a=n._checkContainerLimit(a)),n.options.alsoResize&&n._resizeOthers(o,i,s),"n"!==o&&"ne"!==o&&"nw"!==o&&"w"!==o&&"sw"!==o||n.element.offset({top:n.position.top,left:n.position.left}),n.element.outerWidth(n.size.width),n.element.outerHeight(n.size.height),e("body").css("cursor",o+"-resize"),n._updateCache(a),n._dispatchEvent("RESIZE",t,{originalPosition:n.originalPosition,originalSize:n.originalSize})}}).on("mouseup."+a,function(t){n._mousePressed&&(n._dispatchEvent("STOP",t,{originalPosition:n.originalPosition,originalSize:n.originalSize}),e("body").css("cursor","default"),n._mousePressed=!1)})},_cacheProperties:function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.outerWidth(!0)),height:parseInt(t.outerHeight(!0)),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},_resizeOthers:function(t,i,s){var o={height:this.size.height-this.originalSize.height||0,width:this.size.width-this.originalSize.width||0,top:this.position.top-this.originalPosition.top||0,left:this.position.left-this.originalPosition.left||0};e(this.options.alsoResize).each(function(){var t=e(this),i=t.data("resizable-alsoresize"),s={},n=t.closest(this.element).length?["width","height"]:["width","height","top","left"];e.each(n,function(e,n){var a=(i[n]||0)+(o[n]||0);a&&a>=0&&("width"===n||"height"===n?t["outer"+n[0].toUpperCase()+n.substr(1)](a):s[n]=a||null)}),t.css(s)})},_updateCache:function(t){t.left&&(this.position.left=t.left),t.top&&(this.position.top=t.top),t.height&&(this.size.height=t.height),t.width&&(this.size.width=t.width)},_computePosition:function(t,i,s){var o=this.originalSize,n=this.originalPosition;switch(t){case"n":var a=n.top+s,r=o.height-s;return{top:a,height:r};case"s":return{height:o.height+s};case"e":return{width:o.width+i};case"w":return{left:n.left+i,width:o.width-i};case"se":return e.extend(this._computePosition("s",i,s),this._computePosition("e",i,s));case"sw":return e.extend(this._computePosition("s",i,s),this._computePosition("w",i,s));case"ne":return e.extend(this._computePosition("n",i,s),this._computePosition("e",i,s));case"nw":return e.extend(this._computePosition("n",i,s),this._computePosition("w",i,s))}},_saveContainerData:function(){var i="parent"===this.options.container?this.element.parent().get(0):this.options.container;if("document"===i)this.containerOffset={left:0,top:0},this.parentData={top:0,left:0,element:t.$document,width:t.$document.width(),height:t.$document.height()};else if("window"===i)this.containerOffset={left:0,top:0},this.parentData={top:0,left:0,element:t.$window,width:t.$window.width(),height:t.$window.height()};else{var s=e(i),o=[];e(["Top","Right","Left","Bottom"]).each(function(t,e){o[t]=parseInt(s.css("padding"+e))||0}),this.containerOffset=s.offset(),this.containerSize={height:s.innerHeight()-o[3]-(e(i).height()-e(i)[0].scrollHeight),width:s.innerWidth()-o[1]-(e(i).width()-e(i)[0].scrollWidth)},this.parentData={element:i,left:this.containerOffset.left,top:this.containerOffset.top,width:this.containerSize.width,height:this.containerSize.height}}},_checkContainerLimit:function(t){if(this.position.top+t.height-e(this.parentData.element).scrollTop()>=this.parentData.top+this.parentData.height){var i=this.position.top+t.height-e(this.parentData.element).scrollTop(),s=i-this.parentData.top-this.parentData.height+(this._target?parseInt(e(this._target).height())/2:0);t.height=t.height-s}if(this.position.left+t.width-e(this.parentData.element).scrollLeft()>=this.parentData.left+this.parentData.width){var o=this.position.left+t.width-e(this.parentData.element).scrollLeft(),s=o-this.parentData.left-this.parentData.width+(this._target?parseInt(e(this._target).width())/2:0);t.width=t.width-s}return t.top<this.parentData.top&&(t.top=this.parentData.top,t.height=this.size.height),t.left<this.parentData.left&&(t.left=this.parentData.left,t.width=this.size.width),t},_checkLimit:function(t,e){var i=this.options,s=t.width&&i.minWidth&&t.width<i.minWidth,o=t.height&&i.minHeight&&t.height<i.minHeight,n=t.width&&i.maxWidth&&t.width>i.maxWidth,a=t.height&&i.maxHeight&&t.height>i.maxHeight;s&&(t.width=i.minWidth),o&&(t.height=i.minHeight),n&&(t.width=i.maxWidth),a&&(t.height=i.maxHeight);var r=this.originalPosition.left+this.originalSize.width,l=this.element.position.top+this.originalSize.height,h=/sw|nw|w/.test(e),d=/nw|ne|n/.test(e);return s&&h&&(t.left=r-i.minWidth),n&&h&&(t.left=r-i.maxWidth),o&&d&&(t.top=l-i.minHeight),a&&d&&(t.top=l-i.maxHeight),t},destroy:function(){this.element.find(".zresizable__handle").remove(),t.$document.off("."+this.componentName),this.element.removeClass("zresizable").removeData("zresizable")},setAttribute:function(e,i){var s=this.componentName;return"container"===e&&this.options.container!==i?(this.options.container=i,void this._saveContainerData()):("handle"===e&&this.options.handle!==i?(this.element.find(".zresizable__handle").remove(),t.$document.off("."+s),this._addHandlers(),this.options.disabled||this._bindEvents()):"disabled"===e&&i!==this.options.disabled&&(this.element[i?"addClass":"removeClass"]("is-disabled"),i?(this.element.find(".zresizable__handle").off("."+s),t.$document.off("."+s)):this._bindEvents()),void(this.options[e]=i))}};t.registerComponent("zresizable",i)}(ZComponents),function(t){var e=t.DOMUtil,i={options:{headerContentType:"icon-heading",orientation:"vertical",iconPosition:"left",collapseIconClassName:void 0,collapseSVGIconId:void 0,expandIconClassName:void 0,expandSVGIconId:void 0,expandOn:"click",sortable:!1,activePanelIndex:0,activePanelId:void 0,height:"auto",className:"",animation:void 0,isContentHTMLEncoded:!1,isHeadingHTMLEncoded:!1,activeClass:"is-selected",lazyLoadContent:!0,cacheContent:!0,labels:{collapseIcon:"Expand",expandIcon:"Collapse"},mouseOverDelay:300},ANIMATION_EVENTS:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",_EVENTS:{BEFOREPANELEXPAND:"beforepanelexpand",BEFOREPANELCOLLAPSE:"beforepanelcollapse",PANELEXPAND:"panelexpand",PANELCOLLAPSE:"panelcollapse"},_attrNames:["icon","heading","content","isHeadingHTMLEncoded","isContentHTMLEncoded","isActive","disabled","display","headerContentType","contentHeight"],_create:function(t,i){this._createAccordion(),"click"===this.options.expandOn?this._bindEvents():this.element.addClass("zaccordion--expandonhover"),this.options.sortable&&e.fn.zsortable&&this._makeSortable()},_createAccordion:function(){this.element[0].className+=" zaccordion "+this.options.className;var t=this.element.children("div"),i=this;this.options.height&&this.element.css("height",this.options.height),e.each(t,function(t,s){e(s).addClass("zaccordionpanel"),i._buildItems(e(s),t)}),this.options.activePanelId?this.expandPanel(this.element.find("#"+this.options.activePanelId)):"undefined"!==this.options.activePanelIndex&&this.expandPanel(e(t).eq(this.options.activePanelIndex))},_buildItems:function(t,e){var i=this.getData(t);this._createContentPanel(t,i),this._createHeader(t,i),i.isActive&&!i.disabled?this.options.activePanelIndex=e:"heading"!==i.headerContentType&&(this.options.animation?t.find(".zaccordionpanel__content").hide():this.collapsePanel(t)),i.disabled&&t.addClass("is-disabled"),"none"===i.display&&t.addClass("h-dnone")},_createHeader:function(i,s){var o=i[0].querySelector("div");if(!o||e(o).hasClass("zaccordionpanel__content")){if(o=document.createElement("div"),o.className="zaccordionpanel__header","icon"!==s.headerContentType&&"icon"!==this.options.headerContentType){var n=document.createElement("span");n.className="zaccordionpanel__heading",n.innerHTML=s.isHeadingHTMLEncoded||this.options.isHeadingHTMLEncoded?s.heading:t.encodeHTML(s.heading),o.appendChild(n)}i.prepend(o)}else{o.className+=" zaccordionpanel__header";var a=o.innerHTML;o.innerHTML="",o.appendChild(e("<span class='zaccordionpanel__heading'></span>").html(a)[0])}o.setAttribute("tabindex",0),o.setAttribute("role","heading"),"heading"!==this.options.headerContentType&&"heading"!==s.headerContentType&&(this._createToggleButton(o),"right"===this.options.iconPosition?this.element.addClass("zaccordion--iconright"):e.noop),this.options.sortable&&this._createSortableElement(o),this._bindHeaderEvents(o)},_createSortableElement:function(t){var i=e("<span class='zaccordionpanel__grippy'></span>"),s={props:{viewBox:"0 0 5 10"},nodes:[{rect:{width:2,height:2}},{rect:{x:3,width:2,height:2}},{rect:{y:4,width:2,height:2}},{rect:{x:3,y:4,width:2,height:2}},{rect:{x:3,y:8,width:2,height:2}},{rect:{y:8,width:2,height:2}}]};this._handleIcon(i,s,"grippy",this.options.sortableIconClassName,this.options.sortableSVGIconId),e(t).prepend(i)},_createToggleButton:function(t){var i=document.createElement("i");return i.className="zaccordionpanel__icon",e(t).prepend(i),this._changeIcon(e(t)),i},_createContentPanel:function(i,s){var o=i.children("div").get(1);if(!o){if(o=document.createElement("div"),"object"==typeof s.content){if(!this.options.lazyLoadContent){s.content.sourceURL=s.content.url,t.AJAX.transport(s.content,function(t){o.innerHTML=t})}}else if(s.content&&0===s.content.indexOf("#"))o.innerHTML=s.isContentHTMLEncoded||this.options.isContentHTMLEncoded?e(s.content).html():t.encodeHTML(e(s.content).html());else{var n=s.content?s.content:i.html();o.innerHTML=s.isContentHTMLEncoded||this.options.isContentHTMLEncoded?n:t.encodeHTML(n)}i.empty().append(o)}o.className+=" zaccordionpanel__content",s.contentHeight&&(e(o)[0].style.height=s.contentHeight),this._contentElement=e(o),this._contentElement.on("scroll."+this.componentName,function(t){t.stopPropagation()})},_bindEvents:function(){var t=this;this.element.on(this.options.expandOn+"."+this.componentName,function(e){t._eventHandler(e)})},_bindHeaderEvents:function(t){var i=this,s=this.componentName;"mouseover"===this.options.expandOn&&(i._timer=i._positionX=i._positionY=0,e(t).off("mouseover."+s).on("mouseover."+s,function(t){window.clearTimeout(i._timer),i._timer=window.setTimeout(function(){window.clearTimeout(i._timer),i._positionX===t.clientX&&i._positionY===t.clientY&&i._eventHandler(t)},i.options.mouseOverDelay),i._positionX=t.clientX,i._positionY=t.clientY}),e(document).off("mousemove."+s).on("mousemove."+s,function(t){e(t.target).closest(".zaccordionpanel__header").length||(i._positionX=t.clientX,i._positionY=t.clientY)})),e(t).off("keydown.run."+s).on("keydown.run."+s,function(s){i._handleKeyDown(e(t),s)}).off("click."+s).on("click."+s,function(t){i._preventClick&&(t.preventDefault(),t.stopPropagation())}).off("mousedown."+s).on("mousedown."+s,function(){i._preventClick=!!i._sorting})},_handleKeyDown:function(i,s,o){var n=e(i).parent(".zaccordionpanel");if(s.keyCode===t.keyCode.ENTER||s.keyCode===t.keyCode.SPACE||s.keyCode===t.keyCode.RIGHT&&"Home"!==s.key&&"End"!==s.key)""===n.find(".zaccordionpanel__content").html().trim()&&"heading"===this.getData(n).headerContentType?n.find("a")[0].click():this.expandPanel(n);else if(s.keyCode===t.keyCode.DOWN||s.keyCode===t.keyCode.UP||o||s.keyCode===t.keyCode.HOME||s.keyCode===t.keyCode.END){var a=s.keyCode===t.keyCode.UP||s.keyCode===t.keyCode.HOME,r=n.index(),l=void 0,h=this.element.children(".zaccordionpanel").length;if(s.altKey||s.ctrlKey||s.metaKey||s.keyCode===t.keyCode.HOME||s.keyCode===t.keyCode.END)l=a?this.element.children(".zaccordionpanel:not(.zaccordionpanel.is-disabled):first").find(".zaccordionpanel__header"):this.element.children(".zaccordionpanel:not(.zaccordionpanel.is-disabled):last").find(".zaccordionpanel__header");else if(a){if(l=this.element.children(".zaccordionpanel:eq("+(r-1)+")").find(".zaccordionpanel__header"),l.length||(l=this.element.children(".zaccordionpanel:eq("+h+")").find(".zaccordionpanel__header")),l.parent().is(".is-disabled"))return s.keyCode=t.keyCode.UP,this._handleKeyDown(l,s)}else if(l=this.element.children(".zaccordionpanel:eq("+(r+1)+")").find(".zaccordionpanel__header"),l.length||(l=this.element.children(".zaccordionpanel:eq(0)").find(".zaccordionpanel__header")),l.parent().is(".is-disabled"))return s.keyCode=t.keyCode.DOWN,this._handleKeyDown(l,s);l.focus()}s.keyCode!==t.keyCode.TAB&&(s.stopPropagation(),s.preventDefault())},_eventHandler:function(t){var i=e(t.target).closest(".zaccordionpanel__header");if(i&&i.length){var s=i.closest(".zaccordionpanel");s.hasClass(this.options.activeClass)||this.expandPanel(s.index()),t.stopPropagation()}},_handleDisabledState:function(t,e){t[e?"addClass":"removeClass"]("is-disabled")},_changeIcon:function(t){var e=t.find(".zaccordionpanel__icon"),i=t.closest(".zaccordionpanel").hasClass(this.options.activeClass);if(e&&e.length){e.empty();var s={props:{class:"zaccordionpanel__toggleicon",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{polygon:{points:"6.5,12.5 5.5,11.5 9,8 5.5,4.5 6.5,3.5 11,8"}}]};e.removeClass(i?this.options.collapseIconClassName?this.options.collapseIconClassName:"":this.options.expandIconClassName?this.options.expandIconClassName:""),this._handleIcon(e,s,"toggleicon",i?this.options.expandIconClassName:this.options.collapseIconClassName,i?this.options.expandSVGIconId:this.options.collapseSVGIconId)}},_makeSortable:function(){var t=this;this.element.zsortable({sortWith:".zaccordionpanel__grippy",dragstop:function(i,s){t._sorting=!1,e(s.value).closest(".zaccordionpanel").css("cursor","initial")},drag:function(){t._sorting=!0},containment:"parent"})},expandPanel:function(i){if("number"==typeof i?i=this.element.children("div:eq("+i+")"):"string"==typeof i&&(i=this.element.find(i)),i.length&&!i.hasClass("is-disabled")){var s=this.getData(i),o=(i.index(),this);if(s&&"heading"!==s.headerContentType){var n=e(i).children(".zaccordionpanel__content");if(!e(i).hasClass("is-selected")&&(""===n.text()&&"object"==typeof s.content&&this.options.lazyLoadContent&&(s.content.cache=void 0!==s.content.cache?s.content.cache:this.options.cacheContent,s.content.sourceURL=s.content.url,t.AJAX.transport(s.content,function(t){n[(void 0!=t.isContentHTMLEncoded?t.isContentHTMLEncoded:o.options.isContentHTMLEncoded)?"html":"text"](t)})),o._dispatchEvent("BEFOREPANELEXPAND",{},{item:i,index:i.index(),data:s}))){var a=o.element.children("."+o.options.activeClass);a.length?e.each(a,function(t,a){if(e(a).index()!==e(i).index()){var r=e(a).find(".zaccordionpanel__content");r.finish?r.finish():r.stop(!0,!0),o.collapsePanel(e(a),function(){o._animateAction(n,o.options.animation,"panelexpand",i,s,function(){o.options.activePanelIndex=i.index(),o.options.activePanelId=i.attr("id")})})}}):o._animateAction(n,o.options.animation,"panelexpand",i,s,function(){o.options.activePanelIndex=i.index(),o.options.activePanelId=i.attr("id")})}}}},collapsePanel:function(t,i){if("number"==typeof t&&(t=this.element.children("div:eq("+t+")")),!t.hasClass("is-disabled")){var s=this.getData(t),o=e(t).children(".zaccordionpanel__content");return!!this._dispatchEvent("BEFOREPANELCOLLAPSE",{},{item:t,index:t.index(),data:this.getData(t)})&&(this._animateAction(o,this.options.animation,"panelcollapse",t,s,i),!0)}},_animateAction:function(t,i,s,o,n,a){var r=this,l=function(){r._dispatchEvent("panelexpand"==s?"PANELEXPAND":"PANELCOLLAPSE",{},{item:o,index:o.index(),data:r.getData(o)}),l=void 0,a&&a(),e(o).attr("aria-expanded","panelexpand"===s)};if(e(o)["panelexpand"===s?"addClass":"removeClass"](r.options.activeClass),r._changeIcon(e(o).find(".zaccordionpanel__header")),"auto"===this.options.height||"panelexpand"!==s||n.contentHeight||this._fixContentHeight(t,n),i&&i[s]){t.finish?t.finish():t.stop(!0,!0);var h=i[s].className,d=i[s].name,c=i[s].duration;h?("panelexpand"===s?t.show():e.noop,t.addClass(h).on(this.ANIMATION_EVENTS,function(){t.removeClass(h),"panelcollapse"===s?t.hide():t.show(),l&&l()})):"object"==typeof d?(t.show(),t.animate(d,c,l)):t[d](c,l)}else t["panelcollapse"===s?"slideUp":"slideDown"](300,function(){}),l&&l()},_fixContentHeight:function(t,e){var i=this.element.find(".zaccordionpanel .zaccordionpanel__header").outerHeight(!0),s=this.element.outerHeight()-3-i*this.element.find(".zaccordionpanel").length;t.height(s-parseInt(t.css("padding-top"))-parseInt(t.css("padding-bottom")))},collapseAllPanels:function(){for(var t=this.element.children("div:not(div.is-disabled)"),i=0;i<t.length;i++)this.collapsePanel(e(t[i]))},setPanelAttributes:function(i,s,o){if("number"==typeof i?i=this.element.children("div:eq("+i+")"):"string"==typeof i&&(i=this.element.find(i)),i.length){var n=this.getData(i);if("heading"===s){var a=i.find(".zaccordionpanel__header"),r=a.find(".zaccordionpanel__icon");n[s]=o,a.empty(),a.html((void 0!==n.isHeadingHTMLEncoded?n.isHeadingHTMLEncoded:this.options.isHeadingHTMLEncoded)?o:t.encodeHTML(o)),a.prepend(r)}else if("content"===s){var l=i.children(".zaccordionpanel__content")[0];if("object"==typeof o){if(!this.options.lazyLoadContent){o.sourceURL=o.url,t.AJAX.transport(o,function(t){l.innerHTML=t})}}else o&&0===o.indexOf("#")?l.innerHTML=n.isContentHTMLEncoded||this.options.isContentHTMLEncoded?e(o).html():t.encodeHTML(e(o).html()):l.innerHTML=n.isContentHTMLEncoded||this.options.isContentHTMLEncoded?o:t.encodeHTML(o)}else if("hideActionIcon"===s)if(o)i.find(".zaccordion__icon").hide();else if(i.find(".zaccordion__icon").length)i.find(".zaccordion__icon").show();else{var h=this._createArrowIcon(this.getData(i));i.find(".zaccordion__title")["left"===this.options.iconPosition?"prepend":"append"](h)}else if("isActive"===s&&o)this.expandPanel(i);else if("disabled"===s){if(i.hasClass(this.options.activeClass)){var d=i.nextAll(".zaccordionpanel:not(.zaccordionpanel.is-disabled)").length?i.nextAll(".zaccordionpanel:not(.zaccordionpanel.is-disabled)"):i.prevAll(".zaccordionpanel:not(.zaccordionpanel.is-disabled)");if(!d.length)return;this.collapsePanel(i),this.expandPanel(e(d.get(0)))}i[o?"addClass":"removeClass"]("is-disabled"),o?i.attr("aria-disabled",!0):i.removeAttr("aria-disabled")}else"display"===s?i["block"===o?"show":"hide"]():"contentHeight"===s&&(i.find(".zaccordionpanel__content")[0].style.height=o);n[s]=o}},setAttribute:function(t,i){if("expandOn"===t&&this.options.expandOn!==i){if(this.element.off("."+this.componentName),"click"!==this.options.expandOn){var s=this.element.children("div"),o=this;e.each(s,function(t,i){e(i).find(".zaccordionpanel__header").off("."+o.componentName)})}this.options[t]=i,"click"===i?(this.element.removeClass("zaccordion--expandonhover"),this._bindEvents()):this.element.addClass("zaccordion--expandonhover"),this.options[t]=i;var o=this,s=this.element.children("div"),o=this;e.each(s,function(t,i){o._bindHeaderEvents(e(i).find(".zaccordionpanel__header"))})}else if("className"===t)this.element.removeClass(this.options.className).addClass(i);else if("headerContentType"===t&&this.options.headerContentType!==i){var s=this.element.children("div"),o=this;"heading"===i?e.each(s,function(t,i){e(i).find(".zaccordionpanel__header .zaccordionpanel__icon").hide()}):"icon-heading"===i&&e.each(s,function(t,i){var s=e(i).find(".zaccordionpanel__header .zaccordionpanel__icon").length;s?e(i).find(".zaccordionpanel__header .zaccordionpanel__icon").show():this._createToggleButton(e(i).find(".zaccordionpanel__header"))})}else if("iconPosition"===t&&this.options.iconPosition!==i)this.element["right"===i?"addClass":"removeClass"]("zaccordion--iconright");else if("collapseIconClassName"===t||"expandIconClassName"===t||"collapseSVGIconId"===t||"expandSVGIconId"===t){this.options[t]=i;var s=this.element.children("div"),o=this;e.each(s,function(t,i){e(i).find(".zaccordionpanel__icon").empty(),o._changeIcon(e(i))})}else if("height"===t)if("auto"===i){this.element.css("height","auto");var s=this.element.children("div"),o=this;e.each(s,function(t,i){e(i).find(".zaccordionpanel__content").css("height","auto")})}else{this.element.outerHeight(i);var n=this.element.find(".is-selected");this._fixContentHeight(n.find(".zaccordionpanel__content"),this.getData(n))}else if("sortable"===t)if(i&&e.fn.zsortable){var s=this.element.children("div"),o=this;e.each(s,function(t,i){o._createSortableElement(e(i).find(".zaccordionpanel__header"))}),this._makeSortable()}else this.element.zsortable("destroy"),this.element.find(".zaccordionpanel__grippy").off("."+this.componentName).remove();else"activePanelId"===t?this.expandPanel(this.element.find("#"+i)):"activePanelIndex"===t&&this.expandPanel(this.element.children("div:eq("+i+")"));this.options[t]=i},destroy:function(){for(var t=this.element.children("div"),i=0;i<t.length;i++){var s=e(t[i]),o=s.children(".zaccordionpanel__header");contentEle=s.children(".zaccordionpanel__content"),contentEle.off("."+this.componentName).removeClass("zaccordionpanel__content").height("auto"),o.off("."+this.componentName).removeClass("zaccordionpanel__header"),o.find(".zaccordionpanel__icon").remove(),o.find(".zaccordionpanel__heading").length&&o.html(o.find(".zaccordionpanel__heading").html()),this.getData(s).heading&&o.remove(),s.removeClass("zaccordionpanel is-disabled "+this.options.activeClass),s.removeAttr("aria-expanded aria-disabled"),s.removeData("metadata")}this.options.sortable&&this.element.zsortable("destroy"),this.element.off("."+this.componentName).removeClass("zaccordion zc-sortable zaccordion--iconright").removeData("zaccordion")},addAccordionItems:function(t,e){for(var i=[],s=this,o=void 0,n=Object.create(t),a=0;a<n.length;a++)o=s.addAccordionItem(n[a],e),i.push(o);return i},addAccordionItem:function(t,i){var s=e("<div>");t.customAttributes&&s.attr(t.customAttributes),s.addClass("zaccordionpanel");var o=this.getData(s);for(var n in t)e.inArray(n,this._attrNames)!==-1&&(o[n]=t[n]);var a=this.element.children("div");if("undefined"!=typeof t.index&&a.length){var r=void 0,l=!1;t.index>=a.length&&(t.index=a.length-1,l=!0),t.index<0&&(t.index=0),r=e(a.eq(t.index)),s[l?"insertAfter":"insertBefore"](r)}else this.element.append(s);return this._buildItems(s,s.index()),o.isActive&&this.expandPanel(s),i&&i(s,t),s}};t.registerComponent("zaccordion",i),t.createAccordion=function(t,i,s){if("object"==typeof t&&(i=t.panels,s=t,t=t.id),e("#"+t).data("zaccordion"))return e("#"+t);var o=e(0!==e("#"+t).length?"#"+t:"<ul></ul>"),n=e(s&&s.appendTo?s.appendTo:"body");return s.customAttributes&&o.attr(s.customAttributes),t&&o.attr("id",t),n.append(o),o.zaccordion(s),i.length?o.zaccordion("addAccordionItems",i,s?s.addItemCallback:void 0):"",o};var s={options:{isContentHTMLEncoded:!0,activePanelId:void 0,activePanelIndex:"undefined"},_createAccordion:function(){this._super();var i=this.element.find(".zaccordionpanel .zaccordionpanel__content"),s=this;e.each(i,function(i,o){o=e(o),o.find("ul").addClass("zaccordion__menu");for(var n=o.find("ul").children("li"),a=0;a<n.length;a++){var r=e(n[a]),l=this.getData(r);r.addClass("zaccordion__menu__item"),l.label&&r.html(l.isLabelHTMLEncoded||s.options.isLabelHTMLEncoded?l.label:t.encodeHTML(l.label)),l.isActive&&(r.addClass("is-selected"),s.options.activePanelIndex=i),l.action&&"string"==typeof l.action&&0===l.action.indexOf("URL:")&&r.html(e("<a href='"+l.action.replace("URL:","")+"'>"+r.html()+"</a>")),l.disabled&&r.addClass("is-disabled").attr("aria-disabled",!0),s._bindItemEvents(r)}}),void 0!=this.options.width&&this.element.css("width",this.options.width),"undefined"===this.options.activePanelIndex&&(this.options.activePanelIndex=0),!this.options.activePanelId&&this.expandPanel(this.options.activePanelIndex)},_bindItemEvents:function(t){var e=this;t.on("click."+this.componentName,function(i){var s=this.getData(t);s.disabled||(s.action&&("function"!=typeof s.action&&s.action.indexOf("URL:")===-1?e._triggerFunction(s.action,t,[i,{item:t,options:s}]):s.action(t,s)),e._dispatchEvent("itemclick",i,{item:t,data:s}))})},setActiveItem:function(t){t=e(t),this.element.find(".is-selected:not(.zaccordionpanel)").removeClass("is-selected"),t.addClass("is-selected"),this.expandPanel(e(t).closest(".zaccordionpanel")),t.find("a")[0].click()},setItemAttribute:function(t,i,s){this.getData(t);t[i]=s,"disabled"===i?e(t)[s?"addClass":"removeClass"]("is-disabled"):"action"===i&&"string"==typeof s&&s.indexOf("URL:")!==-1?e(t).find("a").attr("href",s.replace("URL:","")):"isActive"===i&&(e(t)[s?"addClass":"removeClass"]("is-selected"),s&&(this.expandPanel(e(t).closest(".zaccordionpanel")),e(t).find("a")[0].click()))}};t.createAccordionMenu=function(i,s,o){if("object"==typeof i&&(s=i.items,o=i,i=i.id),e("#"+i).data("zaccordionmenu"))return e("#"+i);var n=e(0!==e("#"+i).length?"#"+i:"<div></div>"),a=e(o&&o.appendTo?o.appendTo:"body");a.append(n),o.customAttributes&&n.attr(o.customAttributes),i&&n.attr("id",i);for(var r,l,h,d,c,p,u=(s.length,0);u<s.length;u++){if(r=e("<div>"),l=e("<div>").html(s[u].isHeadingHTMLEncoded?s[u].heading:t.encodeHTML(s[u].heading)),h=e("<div>"),s[u].id&&r.attr("id",s[u].id),p=s[u].menuItems,p&&p.length){d=e("<ul>"),h.append(d);for(var m=0;m<p.length;m++)c=document.createElement("li"),p[m].id&&c.setAttribute("id",p[m].id),d[0].appendChild(c),e(c).data("metadata",p[m])}else s[u].headerContentType="heading",s[u].action&&"string"==typeof s[u].action&&0===s[u].action.indexOf("URL:")&&l.html("<a href='"+s[u].action.replace("URL:","")+"'>"+l.html()+"</a>");r.data("metadata",s[u]),r.append(l,h),n.append(r),d=r=l=h=void 0}n.zaccordionmenu(o)},t.registerComponent("zaccordionmenu",e.zaccordion,s)}(ZComponents),function(t){var e=t.DOMUtil,i={options:{toggleButton:!0,toggleButtonPosition:"left",toggleOn:"click",toggleOnHeaderClick:!1,showToggleButtonOnHover:!1,collapseIconClassName:void 0,collapseSVGIconId:void 0,collapseText:void 0,expandIconClassName:void 0,expandSVGIconId:void 0,expandText:void 0,isHeadingHTMLEncoded:!1,isContentHTMLEncoded:!1,expandedPanelsId:void 0,expandedPanelsIndex:void 0,collapsedPanelsId:void 0,collapsedPanelsIndex:void 0,animation:void 0,className:"",sortable:!1,activeClass:"is-selected",isActive:!0,mouseOverDelay:200,labels:{expandIcon:"Collapse",collapseIcon:"Expand"},expandIconLabel:void 0,collapseIconLabel:void 0},_EVENTS:{BEFOREPANELEXPAND:"beforepanelexpand",PANELEXPAND:"panelexpand",BEFOREPANELCOLLAPSE:"beforepanelcollapse",PANELCOLLAPSE:"panelcollapse"},_create:function(){this.options.toggleButton||(this.options.toggleOnHeaderClick=!0),this.options.showToggleButtonOnHover&&(this.options.toggleButtonPosition="right"),this._buildCollapsiblePanels(),"click"===this.options.toggleOn&&this._bindEvents()},_buildCollapsiblePanels:function(){this.element[0].className+=" zcollapsiblepanel--group "+this.options.className;var t=this.element.children("div:eq(0)").children("div").length;if(t){this.element.attr("aria-multiselectable",!0);for(var i=this._childElements=this.element.children("div"),s=0;s<i.length;s++)this._buildPanel(e(i[s]))}else this.element.children().length&&this._buildPanel(this.element),this._childElements=this.element,this.options.isActive?this.expandPanel():this.collapsePanel();this.options.sortable&&this._childElements&&1!==this._childElements.length&&this._makeSortable(),"right"===this.options.toggleButtonPosition?this.element.addClass("zcollapsiblepanel--buttonright"):e.noop},_bindEvents:function(){var i=this,s=this.componentName;this.element.on("click."+s+" keydown.run."+s,function(s){var o,n=!0,a=s.keyCode===t.keyCode.ENTER||s.keyCode===t.keyCode.SPACE||"keydown"!==s.type?"_toggle":s.keyCode===t.keyCode.RIGHT||s.keyCode===t.keyCode.DOWN?"expand":s.keyCode===t.keyCode.LEFT||s.keyCode===t.keyCode.UP?"collapse":void 0;o=e(s.target).closest(".zcollapsiblepanel--toggleableheader"),o=e(s.target).closest(o.length?".zcollapsiblepanel__header":".zcollapsiblepanel__togglebutton"),o&&o.length&&a&&!o.closest(".zcollapsiblepanel").hasClass("is-disabled")&&(n=i[a+"Panel"](o.closest(".zcollapsiblepanel"),s)),o&&o.length&&a&&n!==!1&&(s.stopPropagation(),s.preventDefault())})},_buildPanel:function(t){t[0].className+=" zcollapsiblepanel";var e=this.getData(t);this._createContent(t,e),this._createHeader(t,e),this.options.collapsedPanelsId&&this.options.collapsedPanelsId.indexOf(t.attr("id"))!==-1||this.options.collapsedPanelsIndex&&this.options.collapsedPanelsIndex.indexOf(t.index())!==-1||e.isActive&&e.disabled||e.isActive===!1?this.collapsePanel(t):this.expandPanel(t),e.disabled&&this._togglePanelStates(t,e.disabled),"none"===e.display&&t.hide(),this.options.sortable&&this._childElements&&1!==this._childElements.length&&this._createSortableElement(t.find(".zcollapsiblepanel__header"))},_createSortableElement:function(t){var i=e("<span class='zcollapsiblepanel__grippy'></span>"),s={props:{viewBox:"0 0 5 10"},nodes:[{rect:{width:2,height:2}},{rect:{x:3,width:2,height:2}},{rect:{y:4,width:2,height:2}},{rect:{x:3,y:4,width:2,height:2}},{rect:{x:3,y:8,width:2,height:2}},{rect:{y:8,width:2,height:2}}]};this._handleIcon(i,s,"grippy",this.options.sortableIconClassName,this.options.sortableSVGIconId),e(t).prepend(i),t.prepend(i)},_createHeader:function(i,s){var o,n=i[0].querySelector("div");if(!n||e(n).hasClass("zcollapsiblepanel__content")){n=document.createElement("div"),n.className="zcollapsiblepanel__header";var a=document.createElement("span");a.className="zcollapsiblepanel__heading",a.innerHTML=s.isHeadingHTMLEncoded||this.options.isHeadingHTMLEncoded?s.heading:t.encodeHTML(s.heading),n.appendChild(a),i.prepend(n)}else{n.className+=" zcollapsiblepanel__header";var r=n.innerHTML;n.innerHTML="",n.appendChild(e("<span class='zcollapsiblepanel__heading'></span>").html(r)[0])}e(n).attr("role","heading"),this.options.toggleButton&&s.toggleButton!==!1&&(o=this._createToggleButton(n,i)),(this.options.toggleOnHeaderClick||s.toggleButton===!1)&&(e(n).attr("tabindex",0),o&&e(o).attr("tabindex",-1),i.addClass("zcollapsiblepanel--toggleableheader")),"mouseover"===this.options.toggleOn&&this._bindHeaderElementEvents(n,i)},_createContent:function(i,s){var o=i.children("div")[1];if(!o){if(o=document.createElement("div"),"object"==typeof s.content){s.content.sourceURL=s.content.url,t.AJAX.transport(s.content,function(t){o.innerHTML=t})}else if(s.content&&0===s.content.indexOf("#"))o.innerHTML=s.isContentHTMLEncoded||this.options.isContentHTMLEncoded?e(s.content).html():t.encodeHTML(e(s.content).html());else{var n=s.content?s.content:i.html();o.innerHTML=s.isContentHTMLEncoded||this.options.isContentHTMLEncoded?n:t.encodeHTML(n)}i.empty().append(o)}o.className+=" zcollapsiblepanel__content",this._contentElement=e(o)},_makeSortable:function(){this.element.zsortable({cancel:".zcollapsiblepanel.is-disabled, .zcollapsiblepanel__content, .zcollapsiblepanel__togglebutton, .zcollapsiblepanel__heading",dragstop:function(t,i){e(i.value).closest(".zcollapsiblepanel").css("cursor","initial")},containment:"parent"})},_togglePanelStates:function(t,i){i?this.collapsePanel(t):e.noop,t[i?"addClass":"removeClass"]("is-disabled"),i?t.attr("aria-disabled",!0):t.removeAttr("aria-disabled"),t.find(".zcollapsiblepanel__togglebutton").length&&(i?t.find(".zcollapsiblepanel__togglebutton").attr("disabled",!0):t.find(".zcollapsiblepanel__togglebutton").removeAttr("disabled"))},_createToggleButton:function(t,i){var s=document.createElement("button");if(s.className="zcollapsiblepanel__togglebutton",s.setAttribute("role","button"),this.options.expandText||this.options.collapseText)e(s).addClass("zcollapsiblepanel__textbutton"),s.innerHTML=this.options.collapseText,this.options.toggleButtonPosition="right";else{var o=document.createElement("i");o.className="zcollapsiblepanel__icon",e(s).append(o),this._changeIcon(i,s)}return e(t).append(s),this.options.showToggleButtonOnHover&&this._bindHoverEvent(i,s),s},_changeIcon:function(t,i){i=i?e(i):t.find(".zcollapsiblepanel__togglebutton"),i.removeClass("zcollapsiblepanel__textbutton");var s=i.find(".zcollapsiblepanel__icon"),o=t.hasClass(this.options.activeClass);if(s.empty(),this.options.expandText&&this.options.collapseText)i.addClass("zcollapsiblepanel__textbutton"),i.text(o?this.options.expandText:this.options.collapseText);else{s.length||(s=e("<i class='zcollapsiblepanel__icon'></i>"),i.empty().append(s));var n={props:{class:"zcollapsiblepanel__toggleicon",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{polygon:{points:"6.5,12.5 5.5,11.5 9,8 5.5,4.5 6.5,3.5 11,8"}}]};s.removeClass(o?this.options.collapseIconClassName?this.options.collapseIconClassName:"":this.options.expandIconClassName?this.options.expandIconClassName:""),this._handleIcon(s,n,"toggleicon",o?this.options.expandIconClassName:this.options.collapseIconClassName,o?this.options.expandSVGIconId:this.options.collapseSVGIconId)}if(this.options.toggleOnHeaderClick)i.removeAttr("title");else{var a=this.options[o?"expandIconLabel":"collapseIconLabel"]||this._localize(o?"expandIcon":"collapseIcon");i.find(".zcollapsiblepanel__icon").length&&!this.options.toggleOnHeaderClick?i.attr("title",a):e.noop}},_bindHoverEvent:function(t,i){e(i).hide(),t.find(".zcollapsiblepanel__header").hover(function(){!t.hasClass("is-disabled")&&e(i).fadeIn(100)},function(){!t.hasClass("is-disabled")&&e(i).fadeOut(100)})},_bindHeaderElementEvents:function(t,i){var s=this,o=(this.getData(i),this.componentName);s._timer=s._positionX=s._positionY=0,e(t).off("mouseover."+o).on("mouseover."+o,function(t){var i=e(t.target).closest(s.options.toggleOnHeaderClick?".zcollapsiblepanel__header":".zcollapsiblepanel__togglebutton");i&&i.length&&!i.closest(".zcollapsiblepanel").hasClass("is-disabled")&&(window.clearTimeout(s._timer),s._timer=window.setTimeout(function(){window.clearTimeout(s._timer),s._positionX===t.clientX&&s._positionY===t.clientY&&s._togglePanel(i.closest(".zcollapsiblepanel"),t)},s.options.mouseOverDelay),s._positionX=t.clientX,s._positionY=t.clientY)}),e(document).off("mousemove."+o).on("mousemove."+o,function(t){e(t.target).closest(".zcollapsiblepanel__header").length||(s._positionX=t.clientX,s._positionY=t.clientY)})},expandPanel:function(t,i){t=t?"string"==typeof t?[t]:t:this.element;for(var s,o=this,n=t.length,a=function(t){t&&(t.attr("aria-expanded",!0),o._dispatchEvent("PANELEXPAND",i,{panel:t}))},r=0;r<n;r++)if(s=e(t[r]),!s.find(".zcollapsiblepanel__content").is(":visible"))if(this._dispatchEvent("BEFOREPANELEXPAND",i,{panel:s}))this._animateAction("panelexpand",s,a),s.addClass(o.options.activeClass),o.options.toggleButton&&o._changeIcon(s);else if(i)return!1},collapsePanel:function(t,i){t=t?"string"==typeof t?[t]:t:this.element;for(var s,o=this,n=t.length,a=function(t){t&&(o._dispatchEvent("PANELCOLLAPSE",i,{panel:t}),t.attr("aria-expanded",!1))},r=0;r<n;r++)if(s=e(t[r]),s.find(".zcollapsiblepanel__content")||isCollapsed)if(this._dispatchEvent("BEFOREPANELCOLLAPSE",i,{panel:s}))this._animateAction("panelcollapse",s,a),s.removeClass(o.options.activeClass),o.options.toggleButton&&o._changeIcon(s);else if(i)return!1},collapseAllPanels:function(){this.collapsePanel(this._childElements)},expandAllPanels:function(){this.expandPanel(this._childElements)},addPanel:function(t){if(t){if("array"===e.type(t))for(var i=t.length,s=0;s<i;s++)this._addPanelToSet(t[s]);else this._addPanelToSet(t);this._childElements=this.element.children("div")}},_addPanelToSet:function(t){var i=e("<div>");if(t.index){var s=void 0,o=this.element.children("div");if(o.length){var n=!1;t.index>=o.length&&(t.index=o.length-1,n=!0),t.index<0&&(t.index=0),s=e(o.eq(t.index)),i[n?"insertAfter":"insertBefore"](s)}}else this.element.append(i);t.id&&i[0].setAttribute("id",t.id),t.customAttributes&&i.attr(t.customAttributes),i.data("metadata",t),this._buildPanel(i)},removePanel:function(t){if("array"===e.type(t))for(var i=t.length,s=0;s<i;s++)this._removePanelFromSet(t[s]);else this._removePanelFromSet(t)},_removePanelFromSet:function(t){"number"==typeof t?t=this.element.find(".zcollapsiblepanel:eq("+(t-1)+")"):"string"==typeof t&&(t=this.element.find("#"+t.replace("#",""))),t.find(".zcollapsiblepanel__header").off("."+this.componentName),t.removeData("metadata"),t.remove()},getExpandedPanels:function(){return this.element.find(".zcollapsiblepanel.is-selected")},getExpandedPanelsIndex:function(){return this._findIndex(this.getExpandedPanels())},getCollapsedPanels:function(){return this.element.find(".zcollapsiblepanel").not(".zcollapsiblepanel.is-selected")},getCollapsedPanelsIndex:function(){return this._findIndex(this.getCollapsedPanels())},_findIndex:function(t){return t=t.map(function(t,i){return e(i).index()})},_getPanels:function(t){for(var e=[],i=0;i<t.length;i++)e[i]="string"==typeof t[i]?this.element.find("#"+t[i]):this.element.find(".zcollapsiblepanel:eq("+t[i]+")");return e},_togglePanel:function(t,e){return t.hasClass(this.options.activeClass)?this.collapsePanel(t,e):this.expandPanel(t,e);},_animateAction:function(t,e,i){var s=e.find(".zcollapsiblepanel__content:first");if(this.options.animation&&this.options.animation[t]){var o=this,n=this.options.animation,a=n[t].className,r=n[t].name,l=n[t].duration;a?(s.show(),s.addClass(a).on(this.ANIMATION_EVENTS,function(){o._contentElement.removeClass(a),i&&i(e),i=void 0})):"object"==typeof r?(s.show(),s.animate(r,l,i)):s[r](l,i)}else s["panelcollapse"===t?"slideUp":"slideDown"](300,function(){i(e)})},setAttribute:function(t,i){if("expandedPanelsIndex"===t||"expandedPanelsId"===t||"collapsedPanelsIndex"===t||"collapsedPanelsId"===t)this[t.indexOf("collapsed")!==-1?"collapsePanel":"expandPanel"](this._getPanels(i));else if("className"===t)this.element.removeClass(this.options.className).addClass(i);else if("collapseIconClassName"===t||"expandIconClassName"===t||"collapseSVGIconId"===t||"expandSVGIconId"===t||"expandText"===t||"collapseText"===t){this.options[t]=i;var s=this._childElements,o=this;e.each(s,function(t,i){e(i).find(".zcollapsiblepanel__icon").empty(),o._changeIcon(e(i))}),this.options.expandText&&this.options.collapseText&&o.setAttribute("toggleButtonPosition","right")}else if("toggleButtonPosition"===t)"right"===i?this.element.addClass("zcollapsiblepanel--buttonright"):this.element.removeClass("zcollapsiblepanel--buttonright");else if("toggleButton"===t&&this.options.toggleButton!==i)for(var n,a,r,l=this._childElements.length,h=0;h<l;h++)n=e(this._childElements[h]),a=n.find(".zcollapsiblepanel__header"),r=a.find(".zcollapsiblepanel__togglebutton"),i?(this._createToggleButton(a,n),this.options.toggleOnHeaderClick?a.find(".zcollapsiblepanel__togglebutton").attr("tabindex",-1):(a.off("."+this.componentName),a.removeAttr("tabindex"))):(r.remove(),a.attr("tabindex",0),a.off("mouseenter mouseleave"),this.options.toggleOnHeaderClick=!0,n.addClass("zcollapsiblepanel--toggleableheader"));else if("showToggleButtonOnHover"===t&&i!==this.options.showToggleButtonOnHover&&this.options.toggleButton){i&&this.setAttribute("toggleButtonPosition","right");for(var n,a,r,l=this._childElements.length,h=0;h<l;h++)n=e(this._childElements[h]),a=n.find(".zcollapsiblepanel__header"),r=n.find(".zcollapsiblepanel__togglebutton"),i?this._bindHoverEvent(n,r):(r.show(),a.off("mouseenter mouseleave"))}else if("toggleOnHeaderClick"===t&&this.options.toggleOnHeaderClick!==i){for(var n,a,r,d,l=this._childElements.length,h=0;h<l;h++)if(n=e(this._childElements[h]),d=this.getData(n),a=n.find(".zcollapsiblepanel__header"),r=a.find(".zcollapsiblepanel__togglebutton"),i)n.addClass("zcollapsiblepanel--toggleableheader"),a.attr("tabindex",0),r&&r.attr("tabindex",-1).removeAttr("title");else if(this.options.toggleButton&&d.toggleButton!==!1){n.removeClass("zcollapsiblepanel--toggleableheader"),a.off("."+this.componentName),a.removeAttr("tabindex");var c=this.element.hasClass("is-selected"),p=this.options[c?"expandIconLabel":"collapseIconLabel"]||this._localize(c?"expandIcon":"collapseIcon");r.removeAttr("tabindex").attr("title",p)}}else if("toggleOn"===t){if(this.element.off("."+this.componentName),"click"!==this.options.toggleOn){var s=this._childElements,o=this;e.each(s,function(t,i){e(i).find(".zcollapsiblepanel__header").off("."+o.componentName)})}if("click"===i)this._bindEvents();else{var o=this;e.each(this._childElements,function(t,i){o._bindHeaderElementEvents(e(i).find(".zcollapsiblepanel__header"),e(i))})}}else if("disabled"===t||"display"===t||"isActive"===t||"heading"===t||"content"===t)this.setPanelAttributes(this.element,t,i);else if("sortable"===t&&this._childElements&&1!==this._childElements.length)if(i&&e.fn.zsortable){var o=this;e.each(this._childElements,function(t,i){o._createSortableElement(e(i).find(".zcollapsiblepanel__header"))}),this._makeSortable()}else this.element.zsortable("destroy"),this.element.find(".zcollapsiblepanel__grippy").off("."+this.componentName).remove();this.options[t]=i},setPanelAttributes:function(i,s,o){i=e(i);var n=this.getData(i);if("disabled"===s)this._togglePanelStates(i,o);else if("display"===s)i["none"===o?"hide":"show"]();else if("isActive"===s)o?this.expandPanel(i):this.collapsePanel(i);else if("heading"===s){var a=i.find(".zcollapsiblepanel__header .zcollapsiblepanel__heading"),r=void 0;this.options.toggleButton&&(r=i.find(".zcollapsiblepanel__togglebutton")),a[0].innerHTML=n.isHeadingHTMLEncoded||this.options.isHeadingHTMLEncoded?o:t.encodeHTML(o),r&&a.append(r)}else if("content"===s){var l=i.find(".zcollapsiblepanel__content");if("object"==typeof o){o.sourceURL=o.url,t.AJAX.transport(o,function(t){l[0].innerHTML=t})}else 0===o.indexOf("#")?l[0].innerHTML=n.isContentHTMLEncoded||this.options.isContentHTMLEncoded?e(o).html():t.encodeHTML(e(o).html()):l[0].innerHTML=n.isContentHTMLEncoded||this.options.isContentHTMLEncoded?o:t.encodeHTML(o)}n[s]=o},destroy:function(){this.element.off("."+this.componentName).removeClass("zcollapsiblepanel--group zcollapsiblepanel--buttonright").removeClass(this.options.className).removeAttr("aria-multiselectable");for(var t,i=this._childElements.length,s=0;s<i;s++)t=e(this._childElements[s]),t.removeClass("zcollapsiblepanel zcollapsiblepanel--toggleableheader is-selected is-disabled"),t.removeAttr("aria-expanded aria-disabled"),t.find(".zcollapsiblepanel__content:first").removeClass("zcollapsiblepanel__content").css("display","none"),t.find(".zcollapsiblepanel__header:first").html(t.find(".zcollapsiblepanel__header .zcollapsiblepanel__heading:first").html()),t.find(".zcollapsiblepanel__header:first").removeClass("zcollapsiblepanel__header").removeAttr("role");this._childElements=void 0,this.element.removeData("zcollapsiblepanel")}};t.registerComponent("zcollapsiblepanel",i),t.createCollapsiblePanel=function(t,i,s){if("object"==typeof t&&(i=t.panels,s=t,t=t.id),e("#"+t).data("zaccordion"))return e("#"+t);var o=e(0!==e("#"+t).length?"#"+t:"<div></div>"),n=e(s&&s.appendTo?s.appendTo:"body");return s.customAttributes&&o.attr(s.customAttributes),t&&o.attr("id",t),n.append(o),o.zcollapsiblepanel(s),i.length?o.zcollapsiblepanel("addPanel",i):"",o}}(ZComponents),function(t,e){var i={_userInfo:{},widgetName:"zhovercard",options:{widgetEventPrefix:"zhovercard",direction:"left",source:void 0,target:void 0,type:"profile",delay:1e3},_defaults:{keys:{"notspecified.label":"Not specified","user.label":"User","guest.label":"Guest","owner.label":"Owner","coowner.label":"Co-Owner"}},_create:function(){this._initComponent(),this.options=t.extend({},this.options,t.fn.zhovercard.options),this.options.keys&&(this._defaults.keys=t.extend({},this._defaults.keys,this.options.keys))},_bindEvents:function(){var t,e=this;this.options.source.off("mouseenter."+this.widgetName).on("mouseenter."+this.widgetName,function(){t=setTimeout(function(){e._hoverCard.show()},e.options.delay)}).off("mouseleave."+this.widgetName).on("mouseleave."+this.widgetName,function(){e._hoverCard.off("mouseenter").on("mouseenter."+e.widgetName,function(t){e._hoverCard.show()}).off("mouseleave click dblclick").on("mouseleave click dblclick",function(i){clearTimeout(t),e._hoverCard.hide()}),clearTimeout(t),e._hoverCard.hide()})},destroy:function(){this.element.off("."+this.widgetName).removeClass("zhovercard").removeData("zhovercard")},_initComponent:function(){this._initHoverCard(),"userdefined"===this.options.type?(this._hoverCard.append(this.options.target.html()),this._setPosition()):(this._initHeader(),this._initTitle(),this._image="../images/group.png","profile"===this.options.type&&(this._initFooter(),this._image="../images/guest.8130e25cea53a31faaa111867bb25ea6.png"))},_initHoverCard:function(){var e=this.element.attr("id");this._hoverCard=t("<div class='ui-zhovercard-widgetelement' id='Hover_"+e+"'>").appendTo(t("body"))},_initHeader:function(){this._hoverHeader=t("<div class='ui-zhovercard-header'>").appendTo(this._hoverCard),this._imgContainer=t("<div class=ui-zhovercard-imgcontainer>"),this._hoverUimage=t('<img src="../images/guest.8130e25cea53a31faaa111867bb25ea6.png" class="ui-zhovercard-img" >').appendTo(this._imgContainer),this._hoverContent=t("<div class='ui-zhovercard-content'>").appendTo(this._hoverCard),this._hoverArrow=t('<div class="ui-zhovercard-arrow left">').appendTo(this._hoverCard)},_initTitle:function(){this._hoverTitle=t("<div class='ui-zhovercard-title'>").appendTo(this._hoverContent),this._hoverUname=t('<div class="ui-zhovercard-name">').append(t("<span>")).appendTo(this._hoverTitle),this._statusmsg=t('<div class="ui-zhovercard-statusmsg">').append(t("<span>")).appendTo(this._hoverTitle)},_initFooter:function(){this._hoverFooter=t("<div class='ui-zhovercard-footer'>").appendTo(this._hoverCard),this._hoverUmobile=t('<div class="ui-zhovercard-ellipsis">'),t("<span>").attr("class","ui-zfc-icon zfc-icon-mobile ui-zhovercard-image").appendTo(this._hoverUmobile),t("<span>").attr("class","ui-zhovercard-image-text").appendTo(this._hoverUmobile),this._hoverUlocation=t('<div class="ui-zhovercard-ellipsis">'),t("<span>").attr("class","ui-zfc-icon zfc-icon-location ui-zhovercard-image").appendTo(this._hoverUlocation),t("<span>").attr("class","ui-zhovercard-image-text").appendTo(this._hoverUlocation),this._hoverUphone=t('<div class="ui-zhovercard-ellipsis">'),t("<span>").attr("class","ui-zfc-icon zfc-icon-phone ui-zhovercard-image").appendTo(this._hoverUphone),t("<span>").attr("class","ui-zhovercard-image-text").appendTo(this._hoverUphone),this._hoverUseat=t('<div class="ui-zhovercard-ellipsis">'),t("<span>").attr("class","ui-zfc-icon zfc-icon-seat ui-zhovercard-image").appendTo(this._hoverUseat),t("<span>").attr("class","ui-zhovercard-image-text").appendTo(this._hoverUseat)},_triggerEvent:function(t,e,i){this._trigger(t,e,i)},addInfo:function(t,e,i){this.options.source=e,this.options.target=i,this._bindEvents(),this._addInfo(t)},_addInfo:function(t){if(this._bindEvents(),this._setPosition(),this._hoverCard.show(),this._fillUserData(t),"profile"===this.options.type){this._hoverFooter.children()?this._hoverFooter.children().remove():"",this._hoverHeader.children()?this._hoverHeader.children().remove():"",this._hoverFooter.append('<table><tr><td class="ui-zhovercard-lefttd">'+this._hoverUmobile.html()+'</td><td class="ui-zhovercard-righttd">'+this._hoverUlocation.html()+'</td></tr><tr><td class="ui-zhovercard-lefttd">'+this._hoverUphone.html()+'</td><td class="ui-zhovercard-righttd" >'+this._hoverUseat.html()+"</td></tr></table>"),this._hoverFooter.find("table").attr("class","ui-zhovercard-footer-table");this._hoverFooter.find("table").outerHeight()}this._hoverHeader.append(this._imgContainer).append(this._hoverContent)},_fillUserData:function(e){var i=this,s=this._getString("notspecified.label"),o=e.name?e.name:"";if(this._hoverUname.find("span").text(o).css("color",e.color?e.color:"#111"),e.utype.toLowerCase()===this._getString("owner.label").toLowerCase()||e.utype.toLowerCase()===this._getString("coowner.label").toLowerCase()){var n=this._getString(e.utype.toLowerCase()+".label");this._statusmsg.find("span").text(n).append(")").prepend("(")}else this._statusmsg.find("span").text("");this._hoverUimage.attr("src",e.image?e.image:this._image),"profile"===this.options.type&&(this._hoverUphone.find(".ui-zhovercard-image-text").text(e.extn?e.extn:s),this._hoverUmobile.find(".ui-zhovercard-image-text").text(e.mob?e.mob:s),this._hoverUseat.find(".ui-zhovercard-image-text").text(e.seat?e.seat:s),this._hoverUlocation.find(".ui-zhovercard-image-text").text(e.loc?e.loc:s)),t(".ui-zhovercard-teaminfo").remove(),t.each(e,function(e,s){if("name"!=e&&"extn"!=e&&"mob"!=e&&"seat"!=e&&"loc"!=e&&"userId"!=e&&"image"!=e&&"utype"!=e&&"color"!=e&&"team"!=e){t('<div class="ui-zhovercard-teaminfo" id=ui-zhovercard'+e+">").append(t("<span>").text(s)).appendTo(i._hoverContent)}}),e.extn||e.mob||e.seat||e.loc||this._hoverFooter.hide()},_getString:function(t,e){return this._getI18N("zhovercard",t,this._defaults.keys,[])},hideHoverCard:function(){this._hoverCard.closest(".ui-zhovercard-widgetelement")&&this._hoverCard.hide()},showHoverCard:function(e,i){if(e){var s=t("#"+e).clone();this._hoverCard.children().remove(),this._hoverCard.append(s),this.options.source=i,this._bindEvents()}this._hoverCard.closest(".ui-zhovercard-widgetelement")&&(this._hoverCard.appendTo(t("body")).show(),this._setPosition())},_setPosition:function(){var t=(void 0!=this._hoverArrow.outerWidth(!0)?this._hoverArrow.outerWidth(!0):10,ZPosition.get(this.options.source,this._hoverCard,{direction:this.options.direction,bufferSpace:16,positionAlterable:"flip"}));this._hoverArrow.attr("class","ui-zhovercard-arrow "+t.arrowDirection),this._hoverCard.css({top:t.elementPosition.top,left:t.elementPosition.left}).attr("class","ui-zhovercard-widgetelement ui-zhovercard-widgetelement-left")}};e.registerComponent("zhovercard",i),e.initValidation=function(e){return element=t("<input>").attr("id",e.id),e.customAttributes&&element.attr(e.customAttributes),e.appendTo&&element.appendTo(t(e.appendTo)),element.zhovercard(e)}}(jQuery,ZComponents);var ZSign=function(t){var e={title:"Insert Signature",signatureColor:"Signature Color",clear:"Clear",clearAll:"Clear All",nopreview:"Preview not available",editIn:"Edit in {0}",setup:"Setup {0}",insert:"Insert",preview:"Preview",signature:"Signature",initial:"Initial",cancel:"Cancel",startCamera:"Start Camera",takeSnap:"Take Snap",drawSign:"Draw Signature",drawsignature:"Draw your signature here",drawinitial:"Draw your initial here",textsignature:"Type your signature here",textinitial:"Type your initial here",capturesignature:"Click here to capture a photo for signature",captureinitial:"Click here to capture a photo for initial",typeSign:"Type Text",captureSign:"Capture as Photo",uploadSign:"Upload as Photo",chooseImage:"Choose Image",choose:"Choose"},i={drawTab:!0,captureTab:!0,uploadTab:!0,typeSignTab:!1};return zsign={widgetEventPrefix:"zsign",_EVENTS:{ONOPEN:"open",ONCLOSE:"close"},_fontPath:location.protocol+"//webfonts.zohostatic.com/",_create:function(s){this.options=t.extend({},i,s),this.options.keys=t.extend({},e,this.options.keys),zsign._layout(),this._triggerEvent(this._EVENTS.ONOPEN)},_layout:function(){var e=this;this._streams={},this._files={};var i=this.options;this._selectedFont=0,this._cont=t("<div>").attr({id:"zsign__container",class:"zsign__container"});var s=this.options.title?i.title:this._getString("title"),o=i.actionButtonLabel;o=o?o:this._getString("insert");var n={className:"zsign__dialog",title:s,buttons:[{id:"zsign__clearbtn",className:"zsign__clearbtn",name:"zsign__clearbtn",text:this._getString("clearAll"),action:function(){e._clearAll()}},{id:"zsign__insert",name:"zsign__insert",text:o,appearance:"primary",action:function(){e._done()}},{id:"zsign__cancel",name:"zsign__cancel",text:this._getString("cancel"),action:"CANCEL"}],close:function(){e._close()}};i.dialogHeight&&(n.dialogHeight=i.dialogHeight),this._cont.zdialog(n);var a=[{id:"typeSign",type:"text"},{id:"drawSign",type:"draw"},{id:"captureSign",type:"capture"},{id:"uploadSign",type:"upload"}],r="<div id='zsign__tab' class='zsign__tab' style='height:auto;'><ul>",l="";this._services={};var h=i.services;h&&(a=a.concat(h));for(var d=a.length,c=0;c<d;c++){var p=a[c],u=p.id,m=p.type||u,_=p.type||"custom",f=p.name,v=!1;"custom"===_&&(p.isCustom=!0,v=p.isAuthenticated||v,this._services[u]=p),r+="<li data-panel-id='zsign__tabcontent--"+u+"'  id='zsign__tab--"+u+"' data-tab-name='"+u+"'   data-tabtype='"+_+"' data-signtype='"+m+"' data-authentication='"+v+"'><a>"+(f||this._getString(u))+"</a></li>",l+="<div id='zsign__tabcontent--"+u+"'><div class='zsign__container'><div class='zsign__content'><div class='zsign__previewcontainer'>",l+='<div class="zsign__preview">'+this._getPreview("signature",m,p)+this._getPreview("initial",m,p)+"</div>","draw"===a[c].type?l+='<div class="zsign__palletcontainer"><span class="zsign__label">'+this._getString("signatureColor")+'</span><div class="zsign__palletes" id="zsign__palletes"><ul><li data-color="#000000" class="zsign__pancontainer is-selected"><div class="zsign__pan zsign__panblack"></div></li><li data-color="#428ff2" class="zsign__pancontainer"><div class="zsign__pan zsign__panblue"></div></li><li data-color="#fb7175" class="zsign__pancontainer"><div class="zsign__pan zsign__panred"></div></li></ul></div></div>':"text"===a[c].type&&(l+="</div>"+this._getFontsList(),l+='<div class="zsign__previewcontainer">'),l+="</div></div></div></div>"}r+="</ul>"+l+"</div>",this._cont.append(r),t("#zsign__tab").ztabpanel({switch:function(t,i){e._updBtnState(i)},tabPosition:"left",tabAlignment:"top"}),this._cont.find(".ztabpanel__content").height(""),this._cont.find(".ztabpanel__contentscroll").height(""),this._mediaDevicesSupport="mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices,this._mediaDevicesSupport||t("#zsign__tab--captureSign").hide(),this._cont.zdialog("open"),t("#zsign__tab .zsign__upload").zuploadbutton({change:function(i,s){var o=t(this),n=o.parent(),a=n.find("img"),r=o.data().uploadtype;if(a.length||(a=t('<img id="zsign__img'+r+'" alt="'+e._getString(r)+'"/>'),n.append(a)),s.files&&s.files[0]){var l=new FileReader;l.onload=function(t){e._files[r]=t.target.result,e._clearPreview(o),a.attr("src",t.target.result)},l.readAsDataURL(s.files[0])}}}),this._initCanvas("signature",244,162),this._initCanvas("initial",162,162),t("#zsign__tab .zsign__iconbutton").on("click",function(){e._clearPreview(this,!0)}),t("#zsign__tab .zsign__textbox").on("keyup",function(){zsign._updateText(t(this))}),this._mediaDevicesSupport&&t("#zsign__tab .zsign__capturepreviewbox").on("click",function(){e._processCapture(this)});var g=t("#zsign__fontlist li");t("#zsign__signaturetext"),t("#zsign__initialtext");g.on("click",function(){var i=t(this);i.hasClass("is-selected")||(g.removeClass("is-selected"),i.addClass("is-selected"),e._selectedFont=i.index(),e._fontFamily=i.data("family"))}),this._selectedColor="#000000";var b=t("#zsign__palletes li");b.on("click",function(){var i=t(this);i.hasClass("is-selected")||(b.removeClass("is-selected"),i.addClass("is-selected"),e._selectedColor=i.data("color"),e._reDrawCanvas("signature"),e._reDrawCanvas("initial"))})},_clearAll:function(){var e=this,i=t(t("#zsign__tab").ztabpanel("getActiveTab"));if(i.data("tabtype").indexOf("custom")===-1){for(var s=t("#"+i.data("panel-id")).find(".zsign__iconbutton"),o=0;o<s.length;o++)e._clearPreview(s[o],!0);i.data("signtype").indexOf("capture")>-1&&t("#zsign__tab .zsign__capturepreviewbox").click()}else{var n=this._services[i.data("tabName")];this.options.onEdit&&this.options.onEdit(n),n.editAction&&n.editAction(n)}},_clearPreview:function(e,i,s){var o=t(e).data().signtype;s=s||"";var n=t("#zsign-"+o+"-preview");i?(n.closest(".zsign__previewbox").removeClass("zsign--hidevideo zsign--haspreview "+s),n.find("img").remove(),o.indexOf("upload")>-1&&delete this._files[o.replace("upload","")],this._clearCanvas(o)):n.closest(".zsign__previewbox").addClass("zsign--haspreview "+s),this._updBtnState()},_updateService:function(e,i){var s=this._services[e];if(s){var o=s.id,n=s.type||o;i.hasOwnProperty("isAuthenticated")&&(s.isAuthenticated=i.isAuthenticated,t("#zsign__tab--"+o).data("authentication",i.isAuthenticated));var a=t("#zsign__tabcontent--"+o).find(".zsign__preview");(i.signatureURL||i.initialURL)&&(i.hasOwnProperty("signatureURL")&&(s.signatureURL=i.signatureURL),i.hasOwnProperty("initialURL")&&(s.initialURL=i.initialURL)),a.html("");var r=this._getPreview("signature",n,s);r+=this._getPreview("initial",n,s),a.html(r),this._services[o]=s,this._updBtnState()}},_getPreview:function(t,e,i){var s="",o='data-signtype="'+e+t+'"',n="";if("text"===e)n='<input id="zsign__'+t+'text" data-signtype="'+t+'" type="text" class="zsign__textbox ztextbox" placeholder="'+this._getString("text"+t)+'">';else{if("draw"===e)s+='<label class="zsign__previewlabel zsign__drawarea" '+o+" >"+this._getString("draw"+t)+"</label>";else if("capture"===e)s+='<label class="zsign__previewlabel zsign__capturearea" '+o+" >"+this._getString("capture"+t)+"</label>";else if(i.isCustom){var a=i[t+"URL"]||"";s+=i.isAuthenticated&&a.length?'<img  alt="'+this._getString(o)+'" src="'+a+'" />':'<label class="zsign__previewlabel zsign__capturearea" '+o+" >"+this._getString("nopreview")+"</label>"}else if("upload"===e)s+='<input id="zsign__upload'+t+'" '+o+' data-uploadtype="'+t+'" data-text="'+this._getString("chooseImage")+'" data-appearance="primary" type="file" class="zsign__upload" accept="image/jpg,image/png,image/jpeg" style="display: none;" role="fileupload">';else{var r="240";"initial"===t&&(r="150"),n+='<canvas id="zsign__'+e+t+'canvas" width="'+r+'" height="80"></canvas>'}n='<div class="zsign__previewtext"><div class="zsign__previewimage" id="zsign-'+e+t+'-preview">'+s+'</div><div class="zsign__iconcontainer"><button class="zsign__iconbutton" '+o+'><i class="zsign__icon" title="'+this._getString("clear")+'"><svg width="16px" height="16px" viewBox="0 0 16 16" id="zsign__clearsvg"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M1.38388348,11.3838835 C0.895728112,10.8957281 0.895728112,10.1042719 1.38388348,9.61611652 L5.64644661,5.35355339 C5.84170876,5.15829124 6.15829124,5.15829124 6.35355339,5.35355339 L10.6464466,9.64644661 C10.8417088,9.84170876 10.8417088,10.1582912 10.6464466,10.3535534 L7,14 L4,14 L1.38388348,11.3838835 Z" id="Path-78" fill="#428ef2"></path><path d="M11.3838835,1.38388348 L14.6161165,4.61611652 C15.1042719,5.10427189 15.1042719,5.89572811 14.6161165,6.38388348 L12.0994556,8.90054442 C11.9258892,9.07411077 11.6564648,9.09339592 11.4615967,8.95839987 L11.3918584,8.90005333 L7.10492391,4.60120137 C6.91012434,4.40586027 6.91034379,4.08965621 7.10541432,3.89458568 L9.61611652,1.38388348 C10.1042719,0.895728112 10.8957281,0.895728112 11.3838835,1.38388348 Z" id="Path" fill="#428ef2" fill-rule="nonzero"></path><path d="M10.6767767,2.09099026 C10.5954175,2.00963103 10.4719331,1.99607116 10.3765322,2.05031064 L10.3232233,2.09099026 L8.165,4.248 L11.743,7.842 L13.9090097,5.6767767 C13.990369,5.59541747 14.0039288,5.47193312 13.9496894,5.37653219 L13.9090097,5.3232233 L10.6767767,2.09099026 Z" fill="#FFFFFF" fill-rule="nonzero"></path><line x1="13.5" y1="13.5" x2="4.5" y2="13.5" stroke="#428ef2" stroke-linecap="round" stroke-linejoin="round"></line></g></svg></i></button></div></div>'}var l=this._getString(t);return l&&(l='<span class="zsign__label">'+l+"</span>"),'<div class="zsign__'+t+'">'+l+'<div class="zsign__previewbox zsign__preview'+t+" zsign__"+e+'previewbox" '+o+" >"+n+"</div></div>"},_getRatio:function(){var t=document.createElement("canvas").getContext("2d");window.devicePixelRatio||1,t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return 1},_initCanvas:function(e,i,s){var o=t("#zsign-draw"+e+"-preview");canvasName="zsign__draw"+e+"canvas";var n=t("<canvas>").attr({id:canvasName,class:"zsign__canvas "+canvasName,"data-signtype":"draw"+e});n.appendTo(o),i||(i=o.width(),s=o.height()),t(n).attr({width:i,height:s}).css({width:i,height:s}),n=document.getElementById(canvasName),n.setAttribute.width=i,n.setAttribute.height=s,n._drawnPath={},n._lineCount=0,this._drawCanvas(n),this._touchInit(n);var a=this.options[e+"Text"];if(a){var r=t("#zsign__"+e+"text");this._updateText(r,a),r.val(a)}},_touchInit:function(t){t.addEventListener("touchstart",this._handleTouch,!0),t.addEventListener("touchmove",this._handleTouch,!0),t.addEventListener("touchend",this._handleTouch,!0),t.addEventListener("touchcancel",this._handleTouch,!0)},_handleTouch:function(t){var e=t.changedTouches,i=e[0],s="";switch(t.type){case"touchstart":s="mousedown";break;case"touchmove":s="mousemove";break;case"touchend":s="mouseup";break;default:return}var o=document.createEvent("MouseEvent");o.initMouseEvent(s,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(o),t.preventDefault()},_setCropPosition:function(t,e,i){t._lowerTop>i&&(t._lowerTop=i),t._higherTop<i&&(t._higherTop=i),t._lowerLeft>e&&(t._lowerLeft=e),t._higherRight<e&&(t._higherRight=e)},_resetDrawPosition:function(t){t._lowerLeft=230,t._higherTop=0,t._lowerTop=140,t._higherRight=0},_reDrawCanvas:function(t){var e=this._selectedColor,i=document.getElementById("zsign__draw"+t+"canvas"),s=i._drawnPath;s.length;ctx=i.getContext("2d");var o,n,a,r;ctx.clearRect(0,0,i.width,i.height);for(var l in s){var h=s[l],d=h.length;if(o=null,n=null,a=null,r=null,d>1)for(var c=0;c<d;c++){var p=h[c];ctx.beginPath(),o=a,n=r,o&&ctx.moveTo(o,n),a=p.x,r=p.y,ctx.lineTo(a,r),ctx.strokeStyle=e,ctx.lineWidth=2,ctx.stroke(),ctx.closePath()}else{var p=h[0];ctx.beginPath(),ctx.fillStyle=e,ctx.fillRect(p.x,p.y,2,2),ctx.closePath()}}},_drawStart:function(t,e,i,s){e.beginPath(),e.fillStyle=this._selectedColor,e.fillRect(i,s,2,2),t._drawnPath[t._lineCount]=[],t._drawnPath[t._lineCount].push({x:i,y:s}),e.closePath(),this._setCropPosition(t,i,s)},_drawCanvas:function(e){var i=this,s=!1,o=0,n=0,a=0,r=0,l=e.getContext("2d"),h=t(e);this._resetDrawPosition(e),e.addEventListener("mousedown",function(t){s=!0,o=a,n=r,a=t.clientX-h.offset().left,r=t.clientY-h.offset().top,i._drawStart(e,l,a,r),dot_flag=!1}),e.parentNode.addEventListener("mousedown",function(t){e._signUpdated||(e._signUpdated=!0,s=!0,o=a,n=r,a=t.clientX-h.offset().left,r=t.clientY-h.offset().top,i._drawStart(e,l,a,r),dot_flag=!1,i._clearPreview(e))},!1),e.addEventListener("mousemove",function(t){s&&(o=a,n=r,a=t.clientX-h.offset().left,r=t.clientY-h.offset().top,l.beginPath(),l.moveTo(o,n),l.lineTo(a,r),e._drawnPath[e._lineCount].push({x:a,y:r}),l.strokeStyle=i._selectedColor,l.lineWidth=2,l.stroke(),i._setCropPosition(e,a,r),l.closePath())},!1),e.addEventListener("mouseup",function(t){s=!1,e._lineCount+=1},!1)},_clearCanvas:function(t){var e=document.getElementById("zsign__"+t+"canvas");if(e){var i=e.getContext("2d");e._signUpdated=!1,e._drawnPath={},e._lineCount=0,i.clearRect(0,0,e.width,e.height)}},_drawText:function(t,e,i,s){i=i||this.options.textSize||18;for(var o=0;o<t.length;o++){var n=t[o],a=this._getRatio(),r=n.getContext("2d");n.width=n.height*(n.clientWidth/n.clientHeight),r.clearRect(0,0,n.width,n.height),r.beginPath(),r=n.getContext("2d"),r.textBaseline="middle",r.textAlign="left",r.fillStyle="black",r.font=i+"px "+n.getAttribute("data-family")+", Arial ",n._signUpdated=e.length>0,n._typedText=e;var l=r.measureText(e),h=Math.abs(l.actualBoundingBoxAscent)+Math.abs(l.actualBoundingBoxDescent)+0;if(r.fillText(e,0,l.actualBoundingBoxAscent),s){l=r.measureText(e);var d=Math.abs(l.actualBoundingBoxLeft)+Math.abs(l.actualBoundingBoxRight)+0;n.height=h,n.style.height=h+"px",n.width=d*a,n.style.width=d+"px",r.clearRect(0,0,n.width,n.height),r.beginPath(),r.textBaseline="middle",r.font=i+"px "+n.getAttribute("data-family")+", Arial ",r.fillText(e,l.actualBoundingBoxLeft,l.actualBoundingBoxAscent)}}},_updateText:function(t,e){e=e||t.val();var i=document.getElementsByClassName("zsign__text"+t.data("signtype")+"canvas");this._drawText(i,e),this._updBtnState()},_getFontsList:function(t){for(var e="",i=this.options.fontsList||[],s=0;s<i.length;s++){var o=i[s],n=(o.label||o.name,o.name),a="";""===e&&(a=" is-selected ",zsign._fontFamily=n);var r=' data-family="'+n+'" ';e+='<li class="zsign__fontlistitem'+a+'" data-family="'+n+'" style="font-family:'+n+'"><canvas id="zsign__textsignaturecanvas_'+s+'" '+r+' class="zsign__textsignaturecanvas" data-width = 230 height="50"></canvas><canvas id="zsign__textinitialcanvas_'+s+'" '+r+' class="zsign__textinitialcanvas" data-width = 80 height="50"></canvas></li>'}return'<div class="zsign__fontcontainer"><span class="zsign__label">'+this._getString("choose")+'</span><div class="zsign__font"><ul class="zsign__fontlist" id="zsign__fontlist">'+e+"</ul></div></div>"},_processCapture:function(e){var i=t(e).data().signtype,s=this;window.navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(o){var n=t("#zsign-"+i+"-preview"),a=n.find("video")[0];i=i.replace("capture",""),a||(a=t("<video class='zsign__capture zsign__capture"+i+"' style='height: 110px;' autoplay playsinline></video><button data-signtype='"+i+"' id='zsign__capture"+i+"' data-type='start' class='zbutton zbutton--capture snap--video'>"+s._getString("takeSnap")+"</button><canvas id='zsign__capture"+i+"canvas' ></canvas>"),a.appendTo(n),a=a[0],t("#zsign__capture"+i).off("click").on("click",function(t){s._takeSnap(i,a),s._clearPreview(e,null,"zsign--hidevideo")})),s._clearPreview(e,null),a.srcObject=o,s._streams[i]=o,a.play()}).catch(function(t){})},_takeSnap:function(e,i){var s=document.getElementById("zsign__capture"+e+"canvas");context=s.getContext("2d"),s.width=i.offsetWidth,s.height=i.offsetHeight,context.drawImage(i,0,0,i.offsetWidth,i.offsetHeight);var o=s.toDataURL("image/png"),n=t("#zsign__imgcapture"+e);n.length||(n=t('<img id="zsign__imgcapture'+e+'" alt="'+this._getString(e)+'"/>'),n.appendTo(t("#zsign-capture"+e+"-preview"))),s._signUpdated=!0,n.attr("src",o),this._closeWebcam(e)},_closeStream:function(t,e){t&&(t.getTracks().forEach(function(t){t.stop()}),delete this._streams[e])},_closeWebcam:function(t){var e=this._streams;if(e[t])this._closeStream(e[t],t);else for(t in e)e.hasOwnProperty(t)&&this._closeStream(e[t],t)},_updBtnState:function(e){var i=t(e?e.activeTab:t("#zsign__tab").ztabpanel("getActiveTab")),s=i.data("signtype"),o=i.data("tabtype"),n=!1;if("draw"===s||"text"===s||"capture"===s){var a="zsign__"+s+"signaturecanvas",r="zsign__"+s+"initialcanvas";"text"===s&&(a+="_"+this._selectedFont,r+="_"+this._selectedFont);var l=document.getElementById(a),h=document.getElementById(r);h&&h._signUpdated&&(n=!0),l&&l._signUpdated&&(n=!0)}else{var d=this._files;(d.initial||d.signature)&&(n=!0)}var c="clearAll",p="custom"===o;if(p){c="editIn";var u=i.data("authentication");u||(c="setup"),n=u}var m=t("#zsign__clearbtn");"text"!==s?(m.zbutton("option","text",this._getString(c,[i.text()])),m.show(),m[p||n?"removeClass":"addClass"]("is-disabled")):m.hide(),t("#zsign__insert")[n?"removeClass":"addClass"]("is-disabled")},_getString:function(t,e){return FCUtil.getI18NString("zsign",t,e,this.options.keys)},_triggerEvent:function(t,e,i){this._cont.trigger(zsign.widgetEventPrefix+t)},_close:function(){this._triggerEvent(this._EVENTS.ONCLOSE),this._closeWebcam(),this._cont.zdialog("destroy"),this._cont.remove(),this.options.close&&this.options.close()},_done:function(){var e,i,s=t(t("#zsign__tab").ztabpanel("getActiveTab")),o=s.data("signtype"),n=s.data("tabtype"),a=this;if(this._finalData={},"draw"===o||"text"===o||"capture"===o){var r="zsign__"+o+"signaturecanvas",l="zsign__"+o+"initialcanvas";"text"===o&&(r+="_"+this._selectedFont,l+="_"+this._selectedFont);var h=document.getElementById(r),d=document.getElementById(l);if("draw"===o||"text"===o)if("text"===o){var c=this._getRatio(),p=null,u={};d&&(t(d).appendTo("body"),this._drawText([d],t("#zsign__initialtext").val(),this.options.initialTextSize,!0),p=d.getContext("2d"),u=p.measureText(d._typedText),d._lowerLeft=0,d._higherTop=(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)*c+5,d._lowerTop=0,d._higherRight=u.width*c,e=d.toDataURL("image/png",1),t(d).remove()),h&&(t(h).appendTo("body"),this._drawText([h],t("#zsign__signaturetext").val(),this.options.signatureTextSize,!0),p=h.getContext("2d"),u=p.measureText(h._typedText),h._lowerLeft=0,h._higherTop=(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)*c+5,h._lowerTop=0,h._higherRight=u.width*c,i=h.toDataURL("image/png",1),t(h).remove())}else this._cropImage(d,"initial",function(){a._cropImage(h,"signature",function(){a._handleDone(a._finalData)})});else d&&d._signUpdated&&(e=d.toDataURL()),h&&h._signUpdated&&(i=h.toDataURL())}else if("upload"===o){var m=this._files;e=m.initial,i=m.signature}if("custom"===n){var _=this._services[s.data("tabName")];_&&(_.initial=_.initialURL,_.signature=_.signatureURL,this._handleDone(_))}else if("draw"!==o){var f={initial:e,signature:i};this._handleDone(f)}},_handleDone:function(t){this._cont.zdialog("close"),this.options.done&&this.options.done(t)},_cropImage:function(e,i,s){if(e&&e._signUpdated){var o=document.createElement("img"),n=t("<canvas>").attr({id:"zsign--dummy"});n.appendTo("body");var a=e._higherRight-e._lowerLeft+10,r=e._higherTop-e._lowerTop+10,l=this._getRatio();n=document.getElementById("zsign--dummy"),n.width=a*l,n.height=r*l,n.style.width=a+"px",n.style.height=r+"px";var h=n.getContext("2d"),d=this;o.onload=function(){h.drawImage(o,e._lowerLeft-5,e._lowerTop-5,a,r,0,0,a,r);var t=n.toDataURL("image/png",1);n.remove(),d._finalData[i]=t,s()},o.src=e.toDataURL("image/png",1)}else s()}},{init:function(t){zsign._create(t)},updateService:function(t,e){zsign._updateService(t,e)},close:function(){zsign._close()}}}(window.jQuery);!function(t){buttonPrototype={_create:function(){this._super();var e=t("<div>").attr("class","ui-fl ui-zlblbtn-info"),i=t("<div>").attr("class","ui-zlblbtn-lbl").text(this.options.labelName),s=t("<div>").attr("class","ui-zlblbtn-desc").text(this.options.desc);t(this.container).append(e),t(e).append(i),t(e).append(s)}},ZComponents.registerComponent("zlabeledbutton",t.zbutton,buttonPrototype)}(jQuery),function(t){menubuttonPrototype={_construct:function(){this._super();var e=t("<div>").attr("class","ui-fl ui-zlblbtn-info"),i=t("<div>").attr("class","ui-zlblbtn-lbl").text(this.options.labelName),s=t("<div>").attr("class","ui-zlblbtn-desc").text(this.options.desc);t(this.container).append(e),t(e).append(i),t(e).append(s)}},ZComponents.registerComponent("zlabeledmenubutton",t.zmenubutton,menubuttonPrototype)}(jQuery),function(t,e){menubuttonPrototype={_bindEvents:function(){var e=this,i=this.componentName;this.element.on("mousedown."+i,function(i){e.element.hasClass("is-disabled")||e.options.popoverId&&t.fn.zpopover&&(e.options.delay?window.setTimeout(function(){e._showHideMenu()},e.options.delay):e._showHideMenu())}).on("click."+i,function(t){e._dispatchEvent("CLICK",t,{button:e.element}),t.stopPropagation()}),window.ZShortCut&&ZShortCut.register(this.element)},_showHideMenu:function(){var i=this,s=t("#"+this.options.popoverId);s.is(":visible")?(i.element.removeClass(i.options.activeClass),s.zpopover("close")):(s.zpopover("close"),s.on("zpopoverclose",function(t,s){t.originalEvent&&("mouseup"===t.originalEvent.type&&i.element.focus(),i.element.removeClass("has-focus")),i.element.removeClass(i.options.activeClass),e.$window.off("resize."+this.componentName)}),s.zpopover({forElement:i.element,popOn:"none",content:s}),s.zpopover("open"),i.element.addClass(i.options.activeClass),e.$window.on("resize."+this.componentName,function(){s.zpopover("close")}))}},ZComponents.registerComponent("zpopoverbutton",t.zmenubutton,menubuttonPrototype)}(jQuery,ZComponents),function(t){menubuttonPrototype={_construct:function(){this._super();var e=t("<div>").attr("class","ui-fl ui-zlblbtn-info"),i=t("<div>").attr("class","ui-zlblbtn-lbl").text(this.options.labelName),s=t("<div>").attr("class","ui-zlblbtn-desc").text(this.options.desc);t(this.container).append(e),t(e).append(i),t(e).append(s)},setAttribute:function(t,e){"label"===t?this.container.find(".ui-zlblbtn-lbl").html(this.options.isHeaderHTMLEncoded?e:ZComponents.encodeHTML(e)):"desc"===t?this.container.find(".ui-zlblbtn-desc").html(this.options.isDescriptionHTMLEncoded?e:ZComponents.encodeHTML(e)):this._super(t,e)}},ZComponents.registerComponent("zlabeledpopoverbutton",t.zpopoverbutton,menubuttonPrototype)}(jQuery),function(t){ZButtonSetHeaderPrototype={_initItems:function(){var e=this.options.label;this.options.label="",this._super(),(!this.options.description||this.options.description&&""===this.options.description.trim())&&this.element.find(".is-selected").length&&(this.options.description=this.element.find(".is-selected").attr("title"));var i=t("<div class='zlabeledbutton--group'></div>"),s=t("<div class='zcomp__grouplabel ui-colon'></div>").html(this.options.isHeaderHTMLEncoded?e:ZComponents.encodeHTML(e)),o=t("<div class='zbuttonset__groupdesc'></div>").html(this.options.isDescriptionHTMLEncoded?this.options.description:ZComponents.encodeHTML(this.options.description));i.insertBefore(this.element),i.append(s,o,this.element),this.container=i},_bindEvents:function(){this._super(),this.element.on("zbuttonstatechange.zbuttonset",function(e,i){var s=i.button.attr("title");t(this.parentElement).find(".zbuttonset__groupdesc").text(s)})},setAttribute:function(t,e){"label"===t?this.container.find(".zbuttonset__grouplabel").html(this.options.isHeaderHTMLEncoded?e:ZComponents.encodeHTML(e)):"description"===t?this.container.find(".zbuttonset__groupdesc").html(this.options.isDescriptionHTMLEncoded?e:ZComponents.encodeHTML(e)):this._super(t,e)},destroy:function(){this._super(),this.container.find(".zbuttonset__groupdesc,.zbuttonset__grouplabel").remove(),this.element.unwrap(),this.container=void 0,this.element.removeData("zlabeledbuttonset")}},ZComponents.registerComponent("zlabeledbuttonset",t.zbuttonset,ZButtonSetHeaderPrototype)}(jQuery),function(t){ZComponents.registerComponent("zlabeledselectbox",t.zselectbox,{_constructComponent:function(){this._super();var e=t("<div>").attr("class","zcomp__grouplabel ui-colon").append(this.options.label);t(this.container).addClass("zlabeledselectbox"),t(this.container).prepend(e)},_setAttribute:function(e,i){this._super(e,i),"label"==e&&t(this.container).find(".zcomp__grouplabel").text(i)}})}(jQuery),function(t){ZComponents.registerComponent("zlabeledcombobox",t.zcombobox,{_constructComponent:function(){this._super();var e=t("<div>").attr("class","zcomp__grouplabel ui-colon").text(this.options.label);t(this.container).addClass("zlabeledcombobox"),t(this.container).prepend(e)}})}(jQuery),function(t){ZComponents.zlabelednumberfield={},ZComponents.registerComponent("zlabelednumberfield",t.znumberfield,{_create:function(e,i){this.options.clearButton=!1,this._super(e,i);var s=t("<div>").attr("class","zcomp__grouplabel ui-colon").text(this.options.label);t(this.container).prepend(s)}})}(jQuery),function(t){ZComponents.registerComponent("znotificationbutton",t.zbutton,{_create:function(){this._super();var e=this,i=t("<span>").attr("class","zbutton__badge").text(this.options.badgeText);if(t(this.container).append(i),this.options.badgeText||t(i).hide(),this.options.badgeIcon){var s=t("<i class='zbutton__icon zbutton__badgeicon "+this.options.badgeIcon+"'></i>");t(this.container).append(s)}t(i).on("click",function(t){if(e.options.badgeEvent.action){var i=Utils.getAsFunction(e.options.badgeEvent.action);i.callable(void 0!==e.options.badgeEvent.params?e.options.badgeEvent.params:"")}}),t(s).on("click",function(t){if(e.options.badgeEvent.action){var i=Utils.getAsFunction(e.options.badgeEvent.action);i.callable(t,void 0!==e.options.badgeEvent.params?e.options.badgeEvent.params:"")}})},setAttribute:function(t,e){"badgeText"===t?this.container.find(".zbutton__badge").show().html(this.options.isHeaderHTMLEncoded?e:ZComponents.encodeHTML(e)):this._super(t,e)},hideBadge:function(){this.container.find(".zbutton__badge").hide()},showBadge:function(){this.container.find(".zbutton__badge").show()},hideBadgeIcon:function(){this.container.find(".zbutton__badgeicon").hide()},showBadgeIcon:function(){this.container.find(".zbutton__badgeicon").show()}})}(jQuery),function(t){ZComponents.registerComponent("znotificationmenubutton",t.zmenubutton,{_create:function(){this._super();var e=this,i=t("<span>").attr("class","zbutton__badge").text(this.options.badgeText);if(t(this.container).append(i),this.options.badgeText||t(i).hide(),this.options.badgeIcon){var s=t("<i class='zbutton__icon zbutton__badgeicon "+this.options.badgeIcon+"'></i>");t(this.container).append(s)}t(i).on("click",function(t){if(e.options.badgeEvent.action){var i=Utils.getAsFunction(e.options.badgeEvent.action);i.callable(void 0!==e.options.badgeEvent.params?e.options.badgeEvent.params:"")}}),t(s).on("click",function(t){if(e.options.badgeEvent.action){var i=Utils.getAsFunction(e.options.badgeEvent.action);i.callable(t,void 0!==e.options.badgeEvent.params?e.options.badgeEvent.params:"")}})},setAttribute:function(t,e){"badgeText"===t?this.container.find(".zbutton__badge").show().html(this.options.isHeaderHTMLEncoded?e:ZComponents.encodeHTML(e)):this._super(t,e)},hideBadge:function(){this.container.find(".zbutton__badge").hide()},showBadge:function(){this.container.find(".zbutton__badge").show()},hideBadgeIcon:function(){this.container.find(".zbutton__badgeicon").hide()},showBadgeIcon:function(){this.container.find(".zbutton__badgeicon").show()}})}(jQuery);